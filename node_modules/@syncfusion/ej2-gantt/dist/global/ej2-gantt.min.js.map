{"version":3,"file":"ej2-gantt.min.js","sources":["../../src/gantt/base/utils.js","../../src/gantt/base/date-processor.js","../../src/gantt/base/task-processor.js","../../src/gantt/base/css-constants.js","../../src/gantt/actions/chart-scroll.js","../../src/gantt/renderer/virtual-content-render.js","../../src/gantt/base/gantt-chart.js","../../src/gantt/renderer/timeline.js","../../src/gantt/models/column.js","../../src/gantt/base/tree-grid.js","../../src/gantt/models/day-working-time.js","../../src/gantt/models/add-dialog-field-settings.js","../../src/gantt/models/edit-dialog-field-settings.js","../../src/gantt/models/edit-settings.js","../../src/gantt/models/event-marker.js","../../src/gantt/models/filter-settings.js","../../src/gantt/models/search-settings.js","../../src/gantt/models/holiday.js","../../src/gantt/models/label-settings.js","../../src/gantt/models/selection-settings.js","../../src/gantt/models/splitter-settings.js","../../src/gantt/models/task-fields.js","../../src/gantt/models/timeline-settings.js","../../src/gantt/models/tooltip-settings.js","../../src/gantt/models/sort-settings.js","../../src/gantt/models/resource-fields.js","../../src/gantt/renderer/chart-rows.js","../../src/gantt/actions/dependency.js","../../src/gantt/renderer/connector-line.js","../../src/gantt/base/splitter.js","../../src/gantt/renderer/tooltip.js","../../src/gantt/actions/keyboard.js","../../src/gantt/base/gantt.js","../../src/gantt/base/interface.js","../../src/gantt/base/constant.js","../../src/gantt/actions/cell-edit.js","../../src/gantt/renderer/edit-tooltip.js","../../src/gantt/actions/taskbar-edit.js","../../src/gantt/actions/dialog-edit.js","../../src/gantt/actions/connector-line-edit.js","../../src/gantt/actions/edit.js","../../src/gantt/actions/column-reorder.js","../../src/gantt/actions/column-resize.js","../../src/gantt/actions/filter.js","../../src/gantt/actions/sort.js","../../src/gantt/actions/selection.js","../../src/gantt/actions/toolbar.js","../../src/gantt/renderer/nonworking-day.js","../../src/gantt/renderer/event-marker.js","../../src/gantt/actions/day-markers.js","../../src/gantt/actions/context-menu.js","../../src/gantt/actions/excel-export.js","../../src/gantt/actions/column-menu.js","../../src/gantt/actions/rowdragdrop.js","../../src/gantt/export/pdf-base/pdf-style/gantt-theme.js","../../src/gantt/export/pdf-base/dictionary.js","../../src/gantt/export/pdf-base/pdf-borders.js","../../src/gantt/export/pdf-base/pdf-style/style.js","../../src/gantt/export/pdf-base/treegrid-layouter.js","../../src/gantt/export/pdf-treegrid.js","../../src/gantt/export/pdf-base/pdf-grid-table.js","../../src/gantt/export/export-helper.js","../../src/gantt/export/pdf-taskbar.js","../../src/gantt/export/pdf-timeline.js","../../src/gantt/export/pdf-connector-line.js","../../src/gantt/export/pdf-gantt.js","../../src/gantt/actions/pdf-export.js","../../src/gantt/actions/virtual-scroll.js","../../src/global.js"],"sourcesContent":["/**\n * Common methods used in Gantt\n */\nimport { isNullOrUndefined, extend, getValue } from '@syncfusion/ej2-base';\nimport { DataManager, UrlAdaptor, WebApiAdaptor, ODataAdaptor } from '@syncfusion/ej2-data';\nimport { WebMethodAdaptor, CacheAdaptor, RemoteSaveAdaptor, ODataV4Adaptor, JsonAdaptor } from '@syncfusion/ej2-data';\n/**\n * @param {Element} elem .\n * @param {string} selector .\n * @param {boolean} isID .\n * @returns {Element} .\n * @hidden\n */\nexport function parentsUntil(elem, selector, isID) {\n    var parent = elem;\n    while (parent) {\n        if (isID ? parent.id === selector : parent.classList.contains(selector)) {\n            break;\n        }\n        parent = parent.parentElement;\n    }\n    return parent;\n}\n/**\n * @param {ITaskData} ganttProp .\n * @returns {boolean} .\n * @hidden\n */\nexport function isScheduledTask(ganttProp) {\n    if (isNullOrUndefined(ganttProp.startDate) && isNullOrUndefined(ganttProp.endDate) &&\n        isNullOrUndefined(ganttProp.duration)) {\n        return null;\n    }\n    else if (isNullOrUndefined(ganttProp.startDate) || isNullOrUndefined(ganttProp.endDate) ||\n        isNullOrUndefined(ganttProp.duration)) {\n        return false;\n    }\n    else {\n        return true;\n    }\n}\n/**\n * @param {Gantt} parent .\n * @returns {boolean} .\n * @hidden\n */\nexport function isCountRequired(parent) {\n    if (parent.dataSource && !(parent.dataSource instanceof DataManager) &&\n        'result' in parent.dataSource) {\n        return true;\n    }\n    return false;\n}\n/**\n * @param {object} obj .\n * @returns {object} .\n * @hidden\n */\n// eslint-disable-next-line\nexport function getSwapKey(obj) {\n    // eslint-disable-next-line\n    var temp = {};\n    for (var _i = 0, _a = Object.keys(obj); _i < _a.length; _i++) {\n        var key = _a[_i];\n        temp[obj[key]] = key;\n    }\n    return temp;\n}\n/**\n * @param {object} dataSource .\n * @returns {boolean} .\n * @hidden\n */\n// eslint-disable-next-line\nexport function isRemoteData(dataSource) {\n    if (dataSource instanceof DataManager) {\n        var adaptor = dataSource.adaptor;\n        return (adaptor instanceof ODataAdaptor || (adaptor instanceof ODataV4Adaptor) ||\n            (adaptor instanceof WebApiAdaptor) || (adaptor instanceof WebMethodAdaptor) ||\n            (adaptor instanceof CacheAdaptor) || (adaptor instanceof RemoteSaveAdaptor) ||\n            (adaptor instanceof JsonAdaptor) || adaptor instanceof UrlAdaptor);\n    }\n    return false;\n}\n/**\n * @param {IGanttData[]} records .\n * @param {boolean} isNotExtend .\n * @returns {object[]} .\n * @hidden\n */\n// eslint-disable-next-line\nexport function getTaskData(records, isNotExtend) {\n    // eslint-disable-next-line\n    var result = [];\n    for (var i = 0; i < records.length; i++) {\n        // eslint-disable-next-line\n        var data = isNotExtend ? (records[i].taskData) : extend({}, records[i].taskData, {}, true);\n        result.push(data);\n    }\n    return result;\n}\n/**\n * @param {string} str .\n * @param {string[]} args .\n * @returns {string} .\n * @hidden\n */\nexport function formatString(str, args) {\n    var regx;\n    for (var i = 0; i < args.length; i++) {\n        regx = new RegExp('\\\\{' + (i) + '\\\\}', 'gm');\n        str = str.replace(regx, args[i].toString());\n    }\n    return str;\n}\n/**\n * @param {any} value .\n * @param {string} key1 .\n * @param {any} collection .\n * @param {string} key2\n * @returns {number} .\n * @hidden\n */\n/* eslint-disable-next-line */\nexport function getIndex(value, key1, collection, key2) {\n    var index = -1;\n    for (var i = 0; i < collection.length; i++) {\n        if (getValue(key1, collection[i]) === getValue(key1, value) && isNullOrUndefined(key2)\n            || (!isNullOrUndefined(key2) && getValue(key1, collection[i]) === getValue(key1, value)\n                && getValue(key2, collection[i]) === getValue(key2, value))) {\n            index = i;\n            break;\n        }\n    }\n    return index;\n}\n/**\n * @param {number} value .\n * @returns {number} .\n * @hidden\n */\nexport function pixelToPoint(value) {\n    return (value * 76) / 92;\n}\n/**\n * @param {number} value .\n * @returns {number} .\n * @hidden\n */\nexport function pointToPixel(value) {\n    return (value * 92) / 76;\n}\nvar uid = 0;\n/**\n * @returns {number} .\n * @hidden\n */\nexport function getUid() {\n    return uid++;\n}\n","import { isNullOrUndefined, getValue, setValue } from '@syncfusion/ej2-base';\n/**\n *  Date processor is used to handle date of task data.\n */\nvar DateProcessor = /** @class */ (function () {\n    function DateProcessor(parent) {\n        this.parent = parent;\n    }\n    /**\n     * @param {ITaskData} ganttProp .\n     * @returns {boolean} .\n     */\n    DateProcessor.prototype.isValidateNonWorkDays = function (ganttProp) {\n        return (!isNullOrUndefined(ganttProp) && ganttProp.isAutoSchedule &&\n            (!this.parent.includeWeekend || this.parent.totalHolidayDates.length > 0)) ||\n            (isNullOrUndefined(ganttProp) && (!this.parent.includeWeekend || this.parent.totalHolidayDates.length > 0));\n    };\n    /**\n     * Method to convert given date value as valid start date\n     *\n     * @param {Date} date .\n     * @param {ITaskData} ganttProp .\n     * @param {boolean} validateAsMilestone .\n     * @param {boolean} isLoad .\n     * @returns {Date} .\n     * @private\n     */\n    DateProcessor.prototype.checkStartDate = function (date, ganttProp, validateAsMilestone, isLoad) {\n        if (isNullOrUndefined(date)) {\n            return null;\n        }\n        var cloneStartDate = new Date(date.getTime());\n        var hour = this.getSecondsInDecimal(cloneStartDate);\n        validateAsMilestone = isNullOrUndefined(validateAsMilestone) ? !isNullOrUndefined(ganttProp) ?\n            ganttProp.isMilestone : false : validateAsMilestone;\n        if (hour < this.parent.defaultStartTime && (!validateAsMilestone || isLoad)) {\n            this.setTime(this.parent.defaultStartTime, cloneStartDate);\n        }\n        else if (hour < this.parent.defaultStartTime && validateAsMilestone) {\n            this.setTime(this.parent.defaultEndTime, cloneStartDate);\n        }\n        else if ((hour === this.parent.defaultEndTime && (!ganttProp || !validateAsMilestone)) || hour > this.parent.defaultEndTime) {\n            cloneStartDate.setDate(cloneStartDate.getDate() + 1);\n            this.setTime(this.parent.defaultStartTime, cloneStartDate);\n        }\n        else if (hour > this.parent.defaultStartTime && hour < this.parent.defaultEndTime) {\n            for (var index = 0; index < this.parent.workingTimeRanges.length; index++) {\n                var value = this.parent.workingTimeRanges[index];\n                if (hour >= value.to && (this.parent.workingTimeRanges[index + 1] &&\n                    hour < this.parent.workingTimeRanges[index + 1].from)) {\n                    // milestone can fall at end any interval time\n                    if ((hour === value.to && (!ganttProp || !validateAsMilestone)) || hour !== value.to) {\n                        this.setTime(this.parent.workingTimeRanges[index + 1].from, cloneStartDate);\n                    }\n                    break;\n                }\n            }\n        }\n        var tStartDate;\n        do {\n            tStartDate = new Date(cloneStartDate.getTime());\n            var holidayLength = this.parent.totalHolidayDates.length;\n            // check holidays and weekends\n            if (this.isValidateNonWorkDays(ganttProp)) {\n                var startTime = (!validateAsMilestone || isLoad) ? this.parent.defaultStartTime : this.parent.defaultEndTime;\n                if (!this.parent.includeWeekend) {\n                    var tempDate = new Date(cloneStartDate.getTime());\n                    cloneStartDate = this.getNextWorkingDay(cloneStartDate);\n                    if (tempDate.getTime() !== cloneStartDate.getTime()) {\n                        this.setTime(startTime, cloneStartDate);\n                    }\n                }\n                for (var count = 0; count < holidayLength; count++) {\n                    var holidayFrom = this.getDateFromFormat(new Date(this.parent.totalHolidayDates[count]));\n                    var holidayTo = new Date(holidayFrom.getTime());\n                    holidayFrom.setHours(0, 0, 0, 0);\n                    holidayTo.setHours(23, 59, 59, 59);\n                    if (cloneStartDate.getTime() >= holidayFrom.getTime() && cloneStartDate.getTime() < holidayTo.getTime()) {\n                        cloneStartDate.setDate(cloneStartDate.getDate() + 1);\n                        this.setTime(startTime, cloneStartDate);\n                    }\n                }\n            }\n        } while (tStartDate.getTime() !== cloneStartDate.getTime());\n        return new Date(cloneStartDate.getTime());\n    };\n    /**\n     * To update given date value to valid end date\n     *\n     * @param {Date} date .\n     * @param {ITaskData} ganttProp .\n     * @param {boolean} validateAsMilestone .\n     * @returns {Date} .\n     * @private\n     */\n    DateProcessor.prototype.checkEndDate = function (date, ganttProp, validateAsMilestone) {\n        if (isNullOrUndefined(date)) {\n            return null;\n        }\n        var cloneEndDate = new Date(date.getTime());\n        var hour = this.getSecondsInDecimal(cloneEndDate);\n        if (hour > this.parent.defaultEndTime) {\n            this.setTime(this.parent.defaultEndTime, cloneEndDate);\n        }\n        else if (hour <= this.parent.defaultStartTime && !validateAsMilestone) {\n            cloneEndDate.setDate(cloneEndDate.getDate() - 1);\n            this.setTime(this.parent.defaultEndTime, cloneEndDate);\n        }\n        else if (hour > this.parent.defaultStartTime && hour < this.parent.defaultEndTime) {\n            for (var index = 0; index < this.parent.workingTimeRanges.length; index++) {\n                var value = this.parent.workingTimeRanges[index];\n                if (hour > value.to && (this.parent.workingTimeRanges[index + 1] &&\n                    hour <= this.parent.workingTimeRanges[index + 1].from)) {\n                    this.setTime(this.parent.workingTimeRanges[index].to, cloneEndDate);\n                    break;\n                }\n            }\n        }\n        var tempCheckDate;\n        do {\n            tempCheckDate = new Date(cloneEndDate.getTime());\n            var holidayLength = this.parent.totalHolidayDates.length;\n            if (this.isValidateNonWorkDays(ganttProp)) {\n                if (!this.parent.includeWeekend) {\n                    var tempDate = new Date(cloneEndDate.getTime());\n                    cloneEndDate = this.getPreviousWorkingDay(cloneEndDate);\n                    if (tempDate.getTime() !== cloneEndDate.getTime()) {\n                        this.setTime(this.parent.defaultEndTime, cloneEndDate);\n                    }\n                }\n                for (var count = 0; count < holidayLength; count++) {\n                    var holidayFrom = this.getDateFromFormat(new Date(this.parent.totalHolidayDates[count]));\n                    var holidayTo = new Date(holidayFrom.getTime());\n                    var tempHoliday = new Date(cloneEndDate.getTime());\n                    tempHoliday.setMinutes(cloneEndDate.getMilliseconds() - 2);\n                    holidayFrom.setHours(0, 0, 0, 0);\n                    holidayTo.setHours(23, 59, 59, 59);\n                    if (cloneEndDate.getTime() >= holidayFrom.getTime() && cloneEndDate.getTime() < holidayTo.getTime() ||\n                        tempHoliday.getTime() >= holidayFrom.getTime() && tempHoliday.getTime() < holidayTo.getTime()) {\n                        cloneEndDate.setDate(cloneEndDate.getDate() - 1);\n                        if (!(cloneEndDate.getTime() === holidayFrom.getTime() && this.parent.defaultEndTime === 86400 &&\n                            this.getSecondsInDecimal(cloneEndDate) === 0)) {\n                            this.setTime(this.parent.defaultEndTime, cloneEndDate);\n                        }\n                    }\n                }\n            }\n        } while (tempCheckDate.getTime() !== cloneEndDate.getTime());\n        return new Date(cloneEndDate.getTime());\n    };\n    /**\n     * To validate the baseline start date\n     *\n     * @param {Date} date .\n     * @returns {Date} .\n     * @private\n     */\n    DateProcessor.prototype.checkBaselineStartDate = function (date) {\n        if (isNullOrUndefined(date)) {\n            return null;\n        }\n        else {\n            var cloneDate = new Date(date.getTime());\n            var hour = this.getSecondsInDecimal(cloneDate);\n            if (hour < this.parent.defaultStartTime) {\n                this.setTime(this.parent.defaultStartTime, cloneDate);\n            }\n            else if (hour >= this.parent.defaultEndTime) {\n                cloneDate.setDate(cloneDate.getDate() + 1);\n                this.setTime(this.parent.defaultStartTime, cloneDate);\n            }\n            else if (hour > this.parent.defaultStartTime && hour < this.parent.defaultEndTime) {\n                for (var i = 0; i < this.parent.workingTimeRanges.length; i++) {\n                    var value = this.parent.workingTimeRanges[i];\n                    if (hour >= value.to && (this.parent.workingTimeRanges[i + 1] &&\n                        hour < this.parent.workingTimeRanges[i + 1].from)) {\n                        this.setTime(this.parent.workingTimeRanges[i + 1].from, cloneDate);\n                        break;\n                    }\n                }\n            }\n            return cloneDate;\n        }\n    };\n    /**\n     * To validate baseline end date\n     *\n     * @param {Date} date .\n     * @returns {Date} .\n     * @private\n     */\n    DateProcessor.prototype.checkBaselineEndDate = function (date) {\n        if (isNullOrUndefined(date)) {\n            return null;\n        }\n        else {\n            var cloneDate = new Date(date.getTime());\n            var hour = this.getSecondsInDecimal(cloneDate);\n            if (hour > this.parent.defaultEndTime) {\n                this.setTime(this.parent.defaultEndTime, cloneDate);\n            }\n            else if (hour <= this.parent.defaultStartTime) {\n                cloneDate.setDate(cloneDate.getDate() - 1);\n                this.setTime(this.parent.defaultEndTime, cloneDate);\n            }\n            else if (hour > this.parent.defaultStartTime && hour < this.parent.defaultEndTime) {\n                for (var i = 0; i < this.parent.workingTimeRanges.length; i++) {\n                    var value = this.parent.workingTimeRanges[i];\n                    if (hour > value.to && (this.parent.workingTimeRanges[i + 1] && hour <= this.parent.workingTimeRanges[i + 1].from)) {\n                        this.setTime(this.parent.workingTimeRanges[i].to, cloneDate);\n                        break;\n                    }\n                }\n            }\n            return cloneDate;\n        }\n    };\n    /**\n     * To calculate start date value from duration and end date\n     *\n     * @param {IGanttData} ganttData - Defines the gantt data.\n     * @returns {void} .\n     * @private\n     */\n    DateProcessor.prototype.calculateStartDate = function (ganttData) {\n        var ganttProp = ganttData.ganttProperties;\n        var tempStartDate = null;\n        if (!isNullOrUndefined(ganttProp.endDate) && !isNullOrUndefined(ganttProp.duration)) {\n            tempStartDate = this.getStartDate(ganttProp.endDate, ganttProp.duration, ganttProp.durationUnit, ganttProp);\n        }\n        this.parent.setRecordValue('startDate', tempStartDate, ganttProp, true);\n        if (this.parent.taskFields.startDate) {\n            this.parent.dataOperation.updateMappingData(ganttData, 'startDate');\n        }\n    };\n    /**\n     *\n     * @param {IGanttData} ganttData - Defines the gantt data.\n     * @returns {void} .\n     * @private\n     */\n    DateProcessor.prototype.calculateEndDate = function (ganttData) {\n        var ganttProp = ganttData.ganttProperties;\n        var tempEndDate = null;\n        if (!isNullOrUndefined(ganttProp.startDate)) {\n            if (!isNullOrUndefined(ganttProp.endDate) && isNullOrUndefined(ganttProp.duration)) {\n                if (this.compareDates(ganttProp.startDate, ganttProp.endDate) === 1) {\n                    this.parent.setRecordValue('startDate', new Date(ganttProp.endDate.getTime()), ganttProp, true);\n                    this.setTime(this.parent.defaultStartTime, ganttProp.startDate);\n                }\n                this.calculateDuration(ganttData);\n            }\n            if (!isNullOrUndefined(ganttProp.duration)) {\n                var duration = !isNullOrUndefined(ganttProp.segments) && ganttProp.segments.length > 0 ?\n                    this.totalDuration(ganttProp.segments) : ganttProp.duration;\n                tempEndDate = this.getEndDate(ganttProp.startDate, duration, ganttProp.durationUnit, ganttProp, false);\n            }\n            this.parent.setRecordValue('endDate', tempEndDate, ganttProp, true);\n        }\n        if (this.parent.taskFields.endDate) {\n            this.parent.dataOperation.updateMappingData(ganttData, 'endDate');\n        }\n    };\n    DateProcessor.prototype.totalDuration = function (segments) {\n        var duration = 0;\n        for (var i = 0; i < segments.length; i++) {\n            duration += segments[i].duration + segments[i].offsetDuration;\n        }\n        return duration;\n    };\n    /**\n     * To calculate duration from start date and end date\n     *\n     * @param {IGanttData} ganttData - Defines the gantt data.\n     * @returns {void} .\n     */\n    DateProcessor.prototype.calculateDuration = function (ganttData) {\n        var ganttProperties = ganttData.ganttProperties;\n        var tDuration;\n        if (!isNullOrUndefined(ganttProperties.segments) && ganttProperties.segments.length > 0) {\n            tDuration = this.parent.editModule.taskbarEditModule.sumOfDuration(ganttProperties.segments);\n        }\n        else {\n            tDuration = this.getDuration(ganttProperties.startDate, ganttProperties.endDate, ganttProperties.durationUnit, ganttProperties.isAutoSchedule, ganttProperties.isMilestone);\n        }\n        this.parent.setRecordValue('duration', tDuration, ganttProperties, true);\n        var col = this.parent.columnByField[this.parent.columnMapping.duration];\n        if (!isNullOrUndefined(this.parent.editModule) && !isNullOrUndefined(this.parent.editModule.cellEditModule) &&\n            !this.parent.editModule.cellEditModule.isCellEdit && !isNullOrUndefined(col)) {\n            if (!isNullOrUndefined(col.edit) && !isNullOrUndefined(col.edit.read)) {\n                var dialog = this.parent.editModule.dialogModule.dialog;\n                if (!isNullOrUndefined(dialog)) {\n                    var textBox = dialog.querySelector('#' + this.parent.element.id + 'Duration')\n                        .ej2_instances[0];\n                    if (!isNullOrUndefined(textBox) && textBox.value !== tDuration.toString()) {\n                        textBox.value = tDuration.toString();\n                        textBox.dataBind();\n                    }\n                }\n            }\n            if (this.parent.taskFields.duration) {\n                this.parent.dataOperation.updateMappingData(ganttData, 'duration');\n                if (this.parent.taskFields.durationUnit) {\n                    this.parent.dataOperation.updateMappingData(ganttData, 'durationUnit');\n                }\n            }\n        }\n    };\n    /**\n     *\n     * @param {Date} sDate Method to get total nonworking time between two date values\n     * @param {Date} eDate .\n     * @param {boolean} isAutoSchedule .\n     * @param {boolean} isCheckTimeZone .\n     * @returns {number} .\n     */\n    DateProcessor.prototype.getNonworkingTime = function (sDate, eDate, isAutoSchedule, isCheckTimeZone) {\n        isCheckTimeZone = isNullOrUndefined(isCheckTimeZone) ? true : isCheckTimeZone;\n        var weekendCount = !this.parent.includeWeekend && isAutoSchedule ? this.getWeekendCount(sDate, eDate) : 0;\n        var totalHours = this.getNumberOfSeconds(sDate, eDate, isCheckTimeZone);\n        var holidaysCount = isAutoSchedule ? this.getHolidaysCount(sDate, eDate) : 0;\n        var totWorkDays = (totalHours - (weekendCount * 86400) - (holidaysCount * 86400)) / 86400; // working days between two dates\n        var nonWorkHours = this.getNonWorkingSecondsOnDate(sDate, eDate, isAutoSchedule);\n        var totalNonWorkTime = (totWorkDays * (86400 - this.parent.secondsPerDay)) +\n            (weekendCount * 86400) + (holidaysCount * 86400) + nonWorkHours;\n        return totalNonWorkTime;\n    };\n    /**\n     *\n     * @param {Date} startDate .\n     * @param {Date} endDate .\n     * @param {string} durationUnit .\n     * @param {boolean} isAutoSchedule .\n     * @param {boolean} isMilestone .\n     * @param {boolean} isCheckTimeZone .\n     * @returns {number} .\n     * @private\n     */\n    DateProcessor.prototype.getDuration = function (startDate, endDate, durationUnit, isAutoSchedule, isMilestone, isCheckTimeZone) {\n        if (isNullOrUndefined(startDate) || isNullOrUndefined(endDate)) {\n            return null;\n        }\n        isCheckTimeZone = isNullOrUndefined(isCheckTimeZone) ? true : isCheckTimeZone;\n        var durationValue = 0;\n        var timeDiff = this.getTimeDifference(startDate, endDate, isCheckTimeZone) / 1000;\n        var nonWorkHours = this.getNonworkingTime(startDate, endDate, isAutoSchedule, isCheckTimeZone);\n        var durationHours = timeDiff - nonWorkHours;\n        if (isMilestone && this.parent.getFormatedDate(startDate) === this.parent.getFormatedDate(endDate)) {\n            durationValue = 0;\n        }\n        else {\n            if (!durationUnit || durationUnit === 'day') {\n                durationValue = durationHours / this.parent.secondsPerDay;\n            }\n            else if (durationUnit === 'minute') {\n                durationValue = durationHours / 60;\n            }\n            else {\n                durationValue = durationHours / 3600;\n            }\n        }\n        return parseFloat(durationValue.toString());\n    };\n    /**\n     *\n     * @param {number} duration .\n     * @param {string} durationUnit .\n     * @returns {number} .\n     */\n    DateProcessor.prototype.getDurationAsSeconds = function (duration, durationUnit) {\n        var value = 0;\n        if (!durationUnit || durationUnit === 'day') {\n            value = this.parent.secondsPerDay * duration;\n        }\n        else if (durationUnit === 'hour') {\n            value = duration * 3600;\n        }\n        else {\n            value = duration * 60;\n        }\n        return value;\n    };\n    /**\n     * To get date from start date and duration\n     *\n     * @param {Date} startDate .\n     * @param {number} duration .\n     * @param {string} durationUnit .\n     * @param {ITaskData} ganttProp .\n     * @param {boolean} validateAsMilestone .\n     * @returns {Date} .\n     * @private\n     */\n    DateProcessor.prototype.getEndDate = function (startDate, duration, durationUnit, ganttProp, validateAsMilestone) {\n        var tempStart = new Date(startDate.getTime());\n        var endDate = new Date(startDate.getTime());\n        var secondDuration = this.getDurationAsSeconds(duration, durationUnit);\n        var nonWork = 0;\n        var workHours = 0;\n        while (secondDuration > 0) {\n            endDate.setSeconds(endDate.getSeconds() + secondDuration);\n            nonWork = this.getNonworkingTime(tempStart, endDate, ganttProp.isAutoSchedule, true);\n            workHours = secondDuration - nonWork;\n            secondDuration = secondDuration - workHours;\n            if (secondDuration > 0) {\n                endDate = this.checkStartDate(endDate, ganttProp, validateAsMilestone);\n            }\n            tempStart = new Date(endDate.getTime());\n        }\n        return endDate;\n    };\n    /**\n     *\n     * @param {Date} endDate To calculate start date vale from end date and duration\n     * @param {number} duration .\n     * @param {string} durationUnit .\n     * @param {ITaskData} ganttProp .\n     * @returns {Date} .\n     * @private\n     */\n    DateProcessor.prototype.getStartDate = function (endDate, duration, durationUnit, ganttProp) {\n        var tempEnd = new Date(endDate.getTime());\n        var startDate = new Date(endDate.getTime());\n        var secondDuration = this.getDurationAsSeconds(duration, durationUnit);\n        var nonWork = 0;\n        var workHours = 0;\n        while (secondDuration > 0) {\n            startDate.setSeconds(startDate.getSeconds() - secondDuration);\n            nonWork = this.getNonworkingTime(startDate, tempEnd, ganttProp.isAutoSchedule, true);\n            workHours = secondDuration - nonWork;\n            secondDuration = secondDuration - workHours;\n            if (secondDuration > 0) {\n                tempEnd = this.checkEndDate(startDate, ganttProp);\n            }\n            tempEnd = new Date(startDate.getTime());\n        }\n        return startDate;\n    };\n    /**\n     * @param {ITaskData} ganttProp .\n     * @param {boolean} isLoad .\n     * @returns {Date} .\n     * @private\n     */\n    DateProcessor.prototype.getProjectStartDate = function (ganttProp, isLoad) {\n        if (!isNullOrUndefined(this.parent.cloneProjectStartDate)) {\n            var cloneStartDate = this.checkStartDate(this.parent.cloneProjectStartDate);\n            this.parent.cloneProjectStartDate = cloneStartDate;\n            return new Date(cloneStartDate.getTime());\n        }\n        else if (!isNullOrUndefined(this.parent.projectStartDate)) {\n            var cloneStartDate = this.getDateFromFormat(this.parent.projectStartDate);\n            this.parent.cloneProjectStartDate = this.checkStartDate(cloneStartDate);\n        }\n        else if (!isNullOrUndefined(isLoad)) {\n            var flatData = this.parent.flatData;\n            var minStartDate = void 0;\n            if (flatData.length > 0) {\n                minStartDate = flatData[0].ganttProperties.startDate;\n            }\n            else {\n                minStartDate = new Date();\n                minStartDate.setHours(0, 0, 0, 0);\n            }\n            for (var index = 1; index < flatData.length; index++) {\n                var startDate = flatData[index].ganttProperties.startDate;\n                if (!isNullOrUndefined(startDate) && this.compareDates(startDate, minStartDate) === -1) {\n                    minStartDate = startDate;\n                }\n            }\n            this.parent.cloneProjectStartDate = this.checkStartDate(minStartDate, ganttProp);\n        }\n        else {\n            return null;\n        }\n        return new Date(this.parent.cloneProjectStartDate.getTime());\n    };\n    /**\n     * @param {ITaskData} ganttProp .\n     * @param {boolean} isAuto .\n     * @returns {Date} .\n     * @private\n     */\n    DateProcessor.prototype.getValidStartDate = function (ganttProp, isAuto) {\n        var sDate = null;\n        var startDate = isAuto ? ganttProp.autoStartDate : ganttProp.startDate;\n        var endDate = isAuto ? ganttProp.autoEndDate : ganttProp.endDate;\n        var duration = !ganttProp.isAutoSchedule && ganttProp.autoDuration ? ganttProp.autoDuration : ganttProp.duration;\n        if (isNullOrUndefined(startDate)) {\n            if (!isNullOrUndefined(endDate)) {\n                sDate = new Date(endDate.getTime());\n                this.setTime(this.parent.defaultStartTime, sDate);\n            }\n            else if (!isNullOrUndefined(duration)) {\n                sDate = this.getProjectStartDate(ganttProp);\n            }\n        }\n        else {\n            sDate = new Date(startDate.getTime());\n        }\n        return sDate;\n    };\n    /**\n     *\n     * @param {ITaskData} ganttProp .\n     * @param {boolean} isAuto .\n     * @returns {Date} .\n     * @private\n     */\n    DateProcessor.prototype.getValidEndDate = function (ganttProp, isAuto) {\n        var eDate = null;\n        var startDate = isAuto ? ganttProp.autoStartDate : ganttProp.startDate;\n        var endDate = isAuto ? ganttProp.autoEndDate : ganttProp.endDate;\n        var duration = isAuto ? ganttProp.autoDuration : ganttProp.duration;\n        if (isNullOrUndefined(endDate)) {\n            if (!isNullOrUndefined(startDate)) {\n                if (ganttProp.isMilestone) {\n                    eDate = this.checkStartDate(startDate);\n                }\n                else {\n                    eDate = new Date(startDate.getTime());\n                    this.setTime(this.parent.defaultEndTime, eDate);\n                }\n            }\n            else if (!isNullOrUndefined(duration)) {\n                var sDate = this.getValidStartDate(ganttProp);\n                if (sDate) {\n                    eDate = this.getEndDate(sDate, duration, ganttProp.durationUnit, ganttProp, false);\n                }\n            }\n        }\n        else {\n            eDate = new Date(endDate.getTime());\n        }\n        return eDate;\n    };\n    /**\n     * @returns {number} .\n     * @private\n     */\n    DateProcessor.prototype.getSecondsPerDay = function () {\n        var dayWorkingTime = this.parent.dayWorkingTime;\n        var length = dayWorkingTime.length;\n        var totalSeconds = 0;\n        var startDate = new Date('10/11/2018');\n        this.parent.nonWorkingHours = [];\n        var nonWorkingHours = this.parent.nonWorkingHours;\n        this.parent.workingTimeRanges = [];\n        var workingTimeRanges = this.parent.workingTimeRanges;\n        this.parent.nonWorkingTimeRanges = [];\n        var nonWorkingTimeRanges = this.parent.nonWorkingTimeRanges;\n        for (var count = 0; count < length; count++) {\n            var currentRange = dayWorkingTime[count];\n            if (!isNullOrUndefined(currentRange.from) && !isNullOrUndefined(currentRange.to)) {\n                startDate.setHours(0, 0, 0, 0);\n                var tempDate = new Date(startDate.getTime());\n                startDate.setTime(startDate.getTime() + (currentRange.from * 3600000));\n                var startHour = new Date(startDate.getTime());\n                tempDate.setTime(tempDate.getTime() + (currentRange.to * 3600000));\n                var endHour = new Date(tempDate.getTime());\n                var timeDiff = endHour.getTime() - startHour.getTime();\n                var sdSeconds = this.getSecondsInDecimal(startHour);\n                var edSeconds = this.getSecondsInDecimal(endHour);\n                if (edSeconds === 0) {\n                    edSeconds = 86400;\n                }\n                totalSeconds += timeDiff / 1000;\n                if (count === 0) {\n                    this.parent.defaultStartTime = sdSeconds;\n                }\n                if (count === length - 1) {\n                    this.parent.defaultEndTime = edSeconds;\n                }\n                if (count > 0) {\n                    nonWorkingHours.push(nonWorkingHours[nonWorkingHours.length - 1] +\n                        sdSeconds - workingTimeRanges[count - 1].to);\n                    if (workingTimeRanges[count - 1].to < sdSeconds) {\n                        nonWorkingTimeRanges.push({\n                            from: workingTimeRanges[count - 1].to, to: sdSeconds, isWorking: false,\n                            interval: (sdSeconds - workingTimeRanges[count - 1].to)\n                        });\n                    }\n                }\n                else {\n                    nonWorkingHours.push(0);\n                    nonWorkingTimeRanges.push({ from: 0, to: sdSeconds, isWorking: false, interval: sdSeconds });\n                }\n                workingTimeRanges.push({ from: sdSeconds, to: edSeconds });\n                nonWorkingTimeRanges.push({\n                    from: sdSeconds, to: edSeconds, isWorking: true, interval: (edSeconds - sdSeconds)\n                });\n            }\n        }\n        if (this.parent.defaultEndTime / 3600 !== 24) {\n            nonWorkingTimeRanges.push({\n                from: this.parent.defaultEndTime, to: 86400,\n                isWorking: false, interval: 86400 - this.parent.defaultEndTime\n            });\n        }\n        return totalSeconds;\n    };\n    /**\n     *\n     * @param {string} value .\n     * @param {boolean} isFromDialog .\n     * @returns {object} .\n     * @private\n     */\n    // eslint-disable-next-line\n    DateProcessor.prototype.getDurationValue = function (value, isFromDialog) {\n        var durationUnit = null;\n        var duration = null;\n        if (typeof value === 'string') {\n            // eslint-disable-next-line\n            var values = value.match(/(\\d*\\.*\\d+|.+$)/g);\n            if (values && values.length <= 2) {\n                duration = parseFloat(values[0].toString().trim());\n                var unit = values[1] ? values[1].toString().trim().toLowerCase() : null;\n                if (getValue('minute', this.parent.durationUnitEditText).indexOf(unit) !== -1) {\n                    durationUnit = 'minute';\n                }\n                else if (getValue('hour', this.parent.durationUnitEditText).indexOf(unit) !== -1) {\n                    durationUnit = 'hour';\n                }\n                else if (getValue('day', this.parent.durationUnitEditText).indexOf(unit) !== -1) {\n                    durationUnit = 'day';\n                }\n            }\n        }\n        else {\n            duration = value;\n            durationUnit = null;\n        }\n        // eslint-disable-next-line\n        var output = {\n            duration: duration,\n            durationUnit: durationUnit\n        };\n        return output;\n    };\n    /**\n     *\n     * @param {Date} date .\n     * @returns {Date} .\n     */\n    DateProcessor.prototype.getNextWorkingDay = function (date) {\n        var dayIndex = date.getDay();\n        if (this.parent.nonWorkingDayIndex.indexOf(dayIndex) !== -1) {\n            date.setDate(date.getDate() + 1);\n            date = this.getNextWorkingDay(date);\n            return date;\n        }\n        else {\n            return date;\n        }\n    };\n    /**\n     * get weekend days between two dates without including args dates\n     *\n     * @param {Date} startDate .\n     * @param {Date} endDate .\n     * @returns {number} .\n     */\n    DateProcessor.prototype.getWeekendCount = function (startDate, endDate) {\n        var weekendCount = 0;\n        var sDate = new Date(startDate.getTime());\n        var eDate = new Date(endDate.getTime());\n        sDate.setHours(0, 0, 0, 0);\n        sDate.setDate(sDate.getDate() + 1);\n        eDate.setHours(0, 0, 0, 0);\n        while (sDate.getTime() < eDate.getTime()) {\n            if (this.parent.nonWorkingDayIndex.indexOf(sDate.getDay()) !== -1) {\n                weekendCount += 1;\n            }\n            sDate.setDate(sDate.getDate() + 1);\n        }\n        return weekendCount;\n    };\n    /**\n     *\n     * @param {Date} startDate .\n     * @param {Date} endDate .\n     * @param {boolean} isCheckTimeZone .\n     * @returns {number} .\n     */\n    DateProcessor.prototype.getNumberOfSeconds = function (startDate, endDate, isCheckTimeZone) {\n        var sDate = new Date(startDate.getTime());\n        var eDate = new Date(endDate.getTime());\n        var timeDiff = 0;\n        sDate.setDate(sDate.getDate() + 1);\n        sDate.setHours(0, 0, 0, 0);\n        eDate.setHours(0, 0, 0, 0);\n        if (sDate.getTime() < eDate.getTime()) {\n            timeDiff = (this.getTimeDifference(sDate, eDate, isCheckTimeZone)) / 1000;\n        }\n        if (timeDiff % 86400 !== 0) {\n            timeDiff = timeDiff - (timeDiff % 86400) + 86400;\n        }\n        return timeDiff;\n    };\n    /**\n     *\n     * @param {Date} startDate .\n     * @param {Date} endDate .\n     * @returns {number} .\n     */\n    DateProcessor.prototype.getHolidaysCount = function (startDate, endDate) {\n        var holidaysCount = 0;\n        var holidays = this.parent.totalHolidayDates;\n        var sDate = new Date(startDate.getTime());\n        var eDate = new Date(endDate.getTime());\n        sDate.setDate(sDate.getDate() + 1);\n        sDate.setHours(0, 0, 0, 0);\n        eDate.setHours(0, 0, 0, 0);\n        if (sDate.getTime() < eDate.getTime()) {\n            for (var i = 0; i < holidays.length; i++) {\n                var currentHoliday = this.getDateFromFormat(new Date(holidays[i]));\n                if (sDate.getTime() <= currentHoliday.getTime() && eDate.getTime() > currentHoliday.getTime()) {\n                    if ((!this.parent.includeWeekend && this.parent.nonWorkingDayIndex.indexOf(currentHoliday.getDay()) === -1) ||\n                        this.parent.includeWeekend) {\n                        holidaysCount += 1;\n                    }\n                }\n            }\n        }\n        return holidaysCount;\n    };\n    /**\n     * @returns {number[]} .\n     * @private\n     */\n    DateProcessor.prototype.getHolidayDates = function () {\n        var holidays = this.parent.holidays;\n        var holidayDates = [];\n        for (var i = 0; i < holidays.length; i++) {\n            var from = this.getDateFromFormat(holidays[i].from);\n            var to = this.getDateFromFormat(holidays[i].to);\n            if (isNullOrUndefined(from) && isNullOrUndefined(to)) {\n                continue;\n            }\n            else if (isNullOrUndefined(from) || isNullOrUndefined(to)) {\n                var tempDate = from ? from : to;\n                tempDate.setHours(0, 0, 0, 0);\n                if (holidayDates.indexOf(tempDate.getTime()) === -1) {\n                    holidayDates.push(tempDate.getTime());\n                }\n            }\n            else {\n                while (from <= to) {\n                    from.setHours(0, 0, 0, 0);\n                    if (holidayDates.indexOf(from.getTime()) === -1) {\n                        holidayDates.push(from.getTime());\n                    }\n                    from.setDate(from.getDate() + 1);\n                }\n            }\n        }\n        return holidayDates;\n    };\n    /**\n     * @param {Date} date .\n     * @param {boolean} checkWeekEnd .\n     * @returns {boolean} .\n     * @private\n     */\n    /*Check given date is on holidays*/\n    DateProcessor.prototype.isOnHolidayOrWeekEnd = function (date, checkWeekEnd) {\n        checkWeekEnd = !isNullOrUndefined(checkWeekEnd) ? checkWeekEnd : this.parent.includeWeekend;\n        if (!checkWeekEnd && this.parent.nonWorkingDayIndex.indexOf(date.getDay()) !== -1) {\n            return true;\n        }\n        var holidays = this.parent.totalHolidayDates;\n        for (var count = 0; count < holidays.length; count++) {\n            var holidayFrom = this.getDateFromFormat(new Date(holidays[count]));\n            var holidayTo = new Date(holidayFrom.getTime());\n            holidayFrom.setHours(0, 0, 0, 0);\n            holidayTo.setHours(23, 59, 59, 59);\n            if (date.getTime() >= holidayFrom.getTime() && date.getTime() < holidayTo.getTime()) {\n                return true;\n            }\n        }\n        return false;\n    };\n    /**\n     * To calculate non working times in given date\n     *\n     * @param {Date} startDate .\n     * @param {Date} endDate .\n     * @param {boolean} isAutoSchedule .\n     * @returns {number} .\n     */\n    DateProcessor.prototype.getNonWorkingSecondsOnDate = function (startDate, endDate, isAutoSchedule) {\n        var sHour = this.getSecondsInDecimal(startDate);\n        var eHour = this.getSecondsInDecimal(endDate);\n        var startRangeIndex = -1;\n        var endRangeIndex = -1;\n        var totNonWrkSecs = 0;\n        var startOnHoliday = isAutoSchedule ? this.isOnHolidayOrWeekEnd(startDate, null) : false;\n        var endOnHoliday = isAutoSchedule ? this.isOnHolidayOrWeekEnd(endDate, null) : false;\n        for (var i = 0; i < this.parent.nonWorkingTimeRanges.length; i++) {\n            var val = this.parent.nonWorkingTimeRanges[i];\n            if (sHour >= val.from && sHour <= val.to) {\n                startRangeIndex = i;\n            }\n            if (eHour >= val.from && eHour <= val.to) {\n                endRangeIndex = i;\n            }\n        }\n        if (startDate.getDate() !== endDate.getDate() || startDate.getMonth() !== endDate.getMonth() ||\n            startDate.getFullYear() !== endDate.getFullYear()) {\n            if (!startOnHoliday) {\n                for (var i = startRangeIndex; i < this.parent.nonWorkingTimeRanges.length; i++) {\n                    if (!this.parent.nonWorkingTimeRanges[i].isWorking) {\n                        if (i === startRangeIndex) {\n                            totNonWrkSecs += (this.parent.nonWorkingTimeRanges[i].to - sHour);\n                        }\n                        else {\n                            totNonWrkSecs += (this.parent.nonWorkingTimeRanges[i].interval);\n                        }\n                    }\n                }\n            }\n            else {\n                totNonWrkSecs += (86400 - sHour);\n            }\n            if (!endOnHoliday) {\n                for (var i = 0; i <= endRangeIndex; i++) {\n                    if (!this.parent.nonWorkingTimeRanges[i].isWorking) {\n                        if (i === endRangeIndex) {\n                            totNonWrkSecs += (eHour - this.parent.nonWorkingTimeRanges[i].from);\n                        }\n                        else {\n                            totNonWrkSecs += this.parent.nonWorkingTimeRanges[i].interval;\n                        }\n                    }\n                }\n            }\n            else {\n                totNonWrkSecs += eHour;\n            }\n        }\n        else {\n            if (startRangeIndex !== endRangeIndex) {\n                if (!endOnHoliday) {\n                    for (var i = startRangeIndex; i <= endRangeIndex; i++) {\n                        if (!this.parent.nonWorkingTimeRanges[i].isWorking) {\n                            if (i === startRangeIndex) {\n                                totNonWrkSecs += (this.parent.nonWorkingTimeRanges[i].to - sHour);\n                            }\n                            else if (i === endRangeIndex) {\n                                totNonWrkSecs += (eHour - this.parent.nonWorkingTimeRanges[i].from);\n                            }\n                            else {\n                                totNonWrkSecs += this.parent.nonWorkingTimeRanges[i].interval;\n                            }\n                        }\n                    }\n                }\n                else {\n                    totNonWrkSecs += (eHour - sHour);\n                }\n            }\n            else {\n                if (!endOnHoliday) {\n                    var range = this.parent.nonWorkingTimeRanges[startRangeIndex];\n                    if (!range.isWorking) {\n                        totNonWrkSecs = eHour - sHour;\n                    }\n                }\n                else {\n                    totNonWrkSecs += (eHour - sHour);\n                }\n            }\n        }\n        return totNonWrkSecs;\n    };\n    /**\n     *\n     * @param {Date} date .\n     * @returns {Date} .\n     */\n    DateProcessor.prototype.getPreviousWorkingDay = function (date) {\n        var dayIndex = date.getDay();\n        var previousIndex = (dayIndex === 0) ? 6 : dayIndex - 1;\n        if (this.parent.nonWorkingDayIndex.indexOf(dayIndex) !== -1 || (this.parent.nonWorkingDayIndex.indexOf(previousIndex) !== -1\n            && this.parent.defaultEndTime === 86400 && this.getSecondsInDecimal(date) === 0)) {\n            date.setDate(date.getDate() - 1);\n            if (this.parent.nonWorkingDayIndex.indexOf(date.getDay()) !== -1) {\n                date = this.getPreviousWorkingDay(date);\n            }\n            return date;\n        }\n        else {\n            return date;\n        }\n    };\n    /**\n     * To get non-working day indexes.\n     *\n     * @returns {void} .\n     * @private\n     */\n    DateProcessor.prototype.getNonWorkingDayIndex = function () {\n        var weekDay = ['sunday', 'monday', 'tuesday', 'wednesday', 'thursday', 'friday', 'saturday'];\n        var weekDayLength = weekDay.length;\n        if (this.parent.workWeek.length === 0) {\n            this.parent.workWeek = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday'];\n        }\n        var workWeek = this.parent.workWeek.slice();\n        var length = workWeek.length;\n        for (var i = 0; i < length; i++) {\n            workWeek[i] = workWeek[i].toLowerCase();\n        }\n        this.parent.nonWorkingDayIndex = [];\n        for (var i = 0; i < weekDayLength; i++) {\n            if (workWeek.indexOf(weekDay[i]) === -1) {\n                this.parent.nonWorkingDayIndex.push(i);\n            }\n        }\n    };\n    /**\n     *\n     * @param {number} seconds .\n     * @param {Date} date .\n     * @returns {void} .\n     * @private\n     */\n    DateProcessor.prototype.setTime = function (seconds, date) {\n        /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n        var hour = seconds / 3600;\n        hour = parseInt(hour, 10);\n        /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n        var min = (seconds - (hour * 3600)) / 60;\n        min = parseInt(min, 10);\n        var sec = seconds - (hour * 3600) - (min * 60);\n        date.setHours(hour, min, sec);\n    };\n    /**\n     * @param {Date} startDate .\n     * @param {Date} endDate .\n     * @param {boolean} isCheckTimeZone .\n     * @returns {number} .\n     */\n    DateProcessor.prototype.getTimeDifference = function (startDate, endDate, isCheckTimeZone) {\n        var sDate = new Date(startDate.getTime());\n        var eDate = new Date(endDate.getTime());\n        if (isCheckTimeZone) {\n            this.updateDateWithTimeZone(sDate, eDate);\n        }\n        return eDate.getTime() - sDate.getTime();\n    };\n    /**\n     * @param {Date} sDate .\n     * @param {Date} eDate .\n     * @returns {void} .\n     */\n    DateProcessor.prototype.updateDateWithTimeZone = function (sDate, eDate) {\n        var sTZ = sDate.getTimezoneOffset();\n        var eTZ = eDate.getTimezoneOffset();\n        var uTZ;\n        var uDate;\n        if (sTZ !== eTZ) {\n            var standardTZ = new Date(new Date().getFullYear(), 0, 1).getTimezoneOffset();\n            if (standardTZ !== sTZ) {\n                uDate = sDate;\n                uTZ = sTZ;\n            }\n            else if (standardTZ !== eTZ) {\n                uDate = eDate;\n                uTZ = eTZ;\n            }\n            if (standardTZ < 0) {\n                var tzDiff = standardTZ - uTZ;\n                uDate.setTime(uDate.getTime() + (tzDiff * 60 * 1000));\n            }\n            else if (standardTZ > 0) {\n                var tzDiff = uTZ - standardTZ;\n                uDate.setTime(uDate.getTime() - (tzDiff * 60 * 1000));\n            }\n        }\n    };\n    /**\n     *\n     * @param {Date} date .\n     * @returns {number} .\n     */\n    DateProcessor.prototype.getSecondsInDecimal = function (date) {\n        return (date.getHours() * 60 * 60) + (date.getMinutes() * 60) + date.getSeconds() + (date.getMilliseconds() / 1000);\n    };\n    /**\n     * @param {Date} date .\n     * @param {number} localOffset .\n     * @param {string} timezone .\n     * @returns {number} .\n     * @private\n     */\n    DateProcessor.prototype.offset = function (date, localOffset, timezone) {\n        var convertedDate = new Date(date.toLocaleString('en-US', { timeZone: timezone }));\n        if (!isNaN(convertedDate.getTime())) {\n            return ((date.getTime() - convertedDate.getTime()) / 60000) + localOffset;\n        }\n        return 0;\n    };\n    /**\n     * @param {Date} date .\n     * @param {string} timezone .\n     * @returns {Date} .\n     * @private\n     */\n    DateProcessor.prototype.convert = function (date, timezone) {\n        var fromOffset = date.getTimezoneOffset();\n        var toOffset = this.offset(date, fromOffset, timezone);\n        date = new Date(date.getTime() + (fromOffset - toOffset) * 60000);\n        var toLocalOffset = date.getTimezoneOffset();\n        return new Date(date.getTime() + (toLocalOffset - fromOffset) * 60000);\n    };\n    /**\n     * @param {string | Date} date .\n     * @param {boolean} toConvert .\n     * @returns {Date} .\n     * @private\n     */\n    DateProcessor.prototype.getDateFromFormat = function (date, toConvert) {\n        var updatedDate;\n        if (isNullOrUndefined(date)) {\n            return null;\n        }\n        else if (date instanceof Date) {\n            updatedDate = new Date(date.getTime());\n        }\n        else {\n            var dateObject = this.parent.globalize.parseDate(date, { format: this.parent.getDateFormat(), type: 'dateTime' });\n            updatedDate = isNullOrUndefined(dateObject) && !isNaN(new Date(date).getTime()) ? new Date(date) : dateObject;\n        }\n        if (!isNullOrUndefined(this.parent.timezone) && toConvert) {\n            var convertedDate = this.convert(updatedDate, this.parent.timezone);\n            return convertedDate;\n        }\n        else {\n            return updatedDate;\n        }\n    };\n    /**\n     * @param {Date} date1 .\n     * @param {Date} date2 .\n     * @returns {number} .\n     * @private\n     */\n    DateProcessor.prototype.compareDates = function (date1, date2) {\n        if (!isNullOrUndefined(date1) && !isNullOrUndefined(date2)) {\n            return (date1.getTime() > date2.getTime()) ? 1 : (date1.getTime() < date2.getTime()) ? -1 : 0;\n        }\n        else if (!isNullOrUndefined(date1) && isNullOrUndefined(date2)) {\n            return 1;\n        }\n        else if (isNullOrUndefined(date1) && !isNullOrUndefined(date2)) {\n            return -1;\n        }\n        else {\n            return null;\n        }\n    };\n    /**\n     *\n     * @param {number} duration .\n     * @param {string} durationUnit .\n     * @returns {string} .\n     * @private\n     */\n    DateProcessor.prototype.getDurationString = function (duration, durationUnit) {\n        var value = '';\n        if (!isNullOrUndefined(duration)) {\n            value += parseFloat(duration.toFixed(2)) + ' ';\n            if (!isNullOrUndefined(durationUnit)) {\n                var plural = duration !== 1;\n                if (durationUnit === 'day') {\n                    value += plural ? this.parent.localeObj.getConstant('days') : this.parent.localeObj.getConstant('day');\n                }\n                else if (durationUnit === 'hour') {\n                    value += plural ? this.parent.localeObj.getConstant('hours') : this.parent.localeObj.getConstant('hour');\n                }\n                else if (durationUnit === 'minute') {\n                    value += plural ? this.parent.localeObj.getConstant('minutes') :\n                        this.parent.localeObj.getConstant('minute');\n                }\n            }\n        }\n        return value;\n    };\n    /**\n     * Method to get work with value and unit.\n     *\n     * @param {number} work .\n     * @param {string} workUnit .\n     * @returns {string} .\n     * @private\n     */\n    DateProcessor.prototype.getWorkString = function (work, workUnit) {\n        var value = '';\n        if (!isNullOrUndefined(work)) {\n            value += parseFloat(work).toFixed(2) + ' ';\n            if (!isNullOrUndefined(workUnit)) {\n                var plural = work !== 1;\n                if (workUnit === 'day') {\n                    value += plural ? this.parent.localeObj.getConstant('days') : this.parent.localeObj.getConstant('day');\n                }\n                else if (workUnit === 'hour') {\n                    value += plural ? this.parent.localeObj.getConstant('hours') : this.parent.localeObj.getConstant('hour');\n                }\n                else if (workUnit === 'minute') {\n                    value += plural ? this.parent.localeObj.getConstant('minutes') :\n                        this.parent.localeObj.getConstant('minute');\n                }\n            }\n        }\n        return value;\n    };\n    /**\n     *\n     * @param {object} editArgs .\n     * @returns {void} .\n     * @private\n     */\n    // eslint-disable-next-line\n    DateProcessor.prototype.calculateProjectDatesForValidatedTasks = function (editArgs) {\n        var _this = this;\n        var projectStartDate = typeof this.parent.projectStartDate === 'string' ?\n            new Date(this.parent.projectStartDate) : this.parent.projectStartDate;\n        var projectEndDate = typeof this.parent.projectEndDate === 'string' ?\n            new Date(this.parent.projectEndDate) : this.parent.projectEndDate;\n        var minStartDate = null;\n        var maxEndDate = null;\n        // eslint-disable-next-line\n        var flatData = (getValue('dataOperation.dataArray', this.parent));\n        if ((!projectStartDate || !projectEndDate) && (flatData && flatData.length === 0)) {\n            minStartDate = this.getDateFromFormat(new Date());\n            maxEndDate = this.getDateFromFormat(new Date(minStartDate.getTime()));\n        }\n        else if (flatData.length > 0) {\n            // eslint-disable-next-line\n            var sortedStartDate = flatData.slice().sort(function (a, b) {\n                return ((new Date(a[_this.parent.taskFields.startDate])).getTime() -\n                    (new Date(b[_this.parent.taskFields.startDate])).getTime());\n            });\n            // eslint-disable-next-line\n            var sortedEndDate = flatData.slice().sort(function (a, b) {\n                return ((new Date(b[_this.parent.taskFields.endDate])).getTime() - (new Date(a[_this.parent.taskFields.endDate])).getTime());\n            });\n            minStartDate = sortedStartDate[0][this.parent.taskFields.startDate];\n            maxEndDate = sortedEndDate[sortedEndDate.length - 1][this.parent.taskFields.endDate];\n        }\n        this.parent.cloneProjectStartDate = projectStartDate ? new Date(projectStartDate.getTime()) :\n            typeof minStartDate === 'string' ? new Date(minStartDate) : minStartDate;\n        this.parent.cloneProjectEndDate = projectEndDate ? new Date(projectEndDate.getTime()) :\n            typeof maxEndDate === 'string' ? new Date(maxEndDate) : maxEndDate;\n    };\n    /**\n     *\n     * @param {object} editArgs .\n     * @returns {void} .\n     * @private\n     */\n    // eslint-disable-next-line\n    DateProcessor.prototype.calculateProjectDates = function (editArgs) {\n        var _this = this;\n        var sDate = typeof this.parent.projectStartDate === 'string' ?\n            new Date(this.parent.projectStartDate) : this.parent.projectStartDate;\n        var eDate = typeof this.parent.projectEndDate === 'string' ?\n            new Date(this.parent.projectEndDate) : this.parent.projectEndDate;\n        var projectStartDate = this.parent.timelineModule.isZooming && this.parent.cloneProjectStartDate\n            ? this.getDateFromFormat(this.parent.cloneProjectStartDate) : this.getDateFromFormat(sDate);\n        var projectEndDate = this.parent.timelineModule.isZooming && this.parent.cloneProjectEndDate\n            ? this.getDateFromFormat(this.parent.cloneProjectEndDate) : this.getDateFromFormat(eDate);\n        var minStartDate = null;\n        var maxEndDate = null;\n        var flatData = this.parent.flatData;\n        var currentViewData = this.parent.currentViewData;\n        var taskRange = [];\n        // eslint-disable-next-line\n        var addDateToList = function (date) {\n            if (!isNullOrUndefined(date)) {\n                taskRange.push(date);\n            }\n        };\n        // eslint-disable-next-line\n        var sortDates = function (dates) {\n            if (dates.length > 0) {\n                dates.sort(function (a, b) {\n                    return a.getTime() - b.getTime();\n                });\n                minStartDate = new Date(dates[0].getTime());\n                maxEndDate = dates.length > 1 ? new Date(dates[dates.length - 1].getTime()) : null;\n            }\n        };\n        if (((!projectStartDate || !projectEndDate) && flatData.length > 0) || editArgs || this.parent.timelineModule.isZoomToFit) {\n            var viewData = void 0;\n            if (currentViewData.length > 0 && this.parent.timelineModule.isZoomToFit &&\n                this.parent.treeGrid.filterModule &&\n                this.parent.treeGrid.filterModule.filteredResult.length > 0) {\n                viewData = currentViewData;\n            }\n            else {\n                viewData = flatData;\n            }\n            viewData.forEach(function (data) {\n                taskRange = [];\n                var task = data.ganttProperties;\n                var tempStartDate = _this.getValidStartDate(task);\n                var tempEndDate = _this.getValidEndDate(task);\n                addDateToList(minStartDate);\n                addDateToList(maxEndDate);\n                addDateToList(tempStartDate);\n                addDateToList(tempEndDate);\n                if (_this.parent.renderBaseline && !_this.parent.timelineModule.isZoomToFit) {\n                    addDateToList(task.baselineStartDate);\n                    addDateToList(task.baselineEndDate);\n                }\n                if (task.indicators && task.indicators.length > 0 && !_this.parent.timelineModule.isZoomToFit) {\n                    task.indicators.forEach(function (item) {\n                        addDateToList(_this.getDateFromFormat(item.date));\n                    });\n                }\n                sortDates(taskRange);\n            });\n            taskRange = [];\n            addDateToList(minStartDate);\n            addDateToList(maxEndDate);\n            //update schedule dates as per holiday and strip line collection\n            if (this.parent.eventMarkers.length > 0 && !this.parent.timelineModule.isZoomToFit) {\n                var eventMarkers = this.parent.eventMarkers;\n                // eslint-disable-next-line\n                eventMarkers.forEach(function (marker, index) {\n                    addDateToList(_this.getDateFromFormat(marker.day));\n                });\n            }\n            if (this.parent.totalHolidayDates.length > 0 && !this.parent.timelineModule.isZoomToFit) {\n                var holidays = this.parent.totalHolidayDates;\n                // eslint-disable-next-line\n                holidays.forEach(function (holiday, index) {\n                    addDateToList(new Date(holiday));\n                });\n            }\n            sortDates(taskRange);\n            if (!minStartDate || !maxEndDate) {\n                minStartDate = isNullOrUndefined(minStartDate) ? this.getDateFromFormat(new Date()) : minStartDate;\n                maxEndDate = this.getDateFromFormat(new Date(minStartDate.getTime()));\n                maxEndDate.setDate(maxEndDate.getDate() + 20);\n            }\n        }\n        else if ((!projectStartDate || !projectEndDate) && flatData.length === 0) {\n            minStartDate = this.getDateFromFormat(new Date());\n            maxEndDate = this.getDateFromFormat(new Date(minStartDate.getTime()));\n        }\n        if (!editArgs) {\n            this.parent.cloneProjectStartDate = minStartDate ? minStartDate : new Date(projectStartDate.getTime());\n            this.parent.cloneProjectEndDate = maxEndDate ? maxEndDate : new Date(projectEndDate.getTime());\n        }\n        else {\n            setValue('minStartDate', minStartDate, editArgs);\n            setValue('maxEndDate', maxEndDate, editArgs);\n        }\n    };\n    /**\n     *\n     * @param {ITaskSegment} segments .\n     * @returns {number} .\n     * @private\n     */\n    DateProcessor.prototype.splitTasksDuration = function (segments) {\n        var duration = 0;\n        for (var i = 0; i < segments.length; i++) {\n            var segment = segments[i];\n            var sDate = segment.startDate;\n            var eDate = segment.endDate;\n            duration += Math.ceil(this.getTimeDifference(sDate, eDate) / (1000 * 60 * 60 * 24));\n        }\n        return duration;\n    };\n    return DateProcessor;\n}());\nexport { DateProcessor };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { isNullOrUndefined, getValue, isBlazor, extend, setValue } from '@syncfusion/ej2-base';\nimport { getUid } from '@syncfusion/ej2-grids';\nimport { DataManager, Query } from '@syncfusion/ej2-data';\nimport { isCountRequired, isScheduledTask } from './utils';\nimport { DateProcessor } from './date-processor';\n/**\n * To calculate and update task related values\n */\nvar TaskProcessor = /** @class */ (function (_super) {\n    __extends(TaskProcessor, _super);\n    function TaskProcessor(parent) {\n        var _this = _super.call(this, parent) || this;\n        _this.recordIndex = 0;\n        _this.taskIds = [];\n        _this.hierarchyData = [];\n        _this.addEventListener();\n        return _this;\n    }\n    TaskProcessor.prototype.addEventListener = function () {\n        this.parent.on('beforeDataManipulate', this.checkDataBinding.bind(this));\n    };\n    /**\n     * @param {boolean} isChange .\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.checkDataBinding = function (isChange) {\n        if (isChange) {\n            this.parent.flatData = [];\n            this.parent.currentViewData = [];\n            this.parent.updatedRecords = [];\n            this.dataArray = [];\n            this.taskIds = [];\n            this.parent.ids = [];\n            this.recordIndex = 0;\n            this.hierarchyData = [];\n            this.parent.predecessorsCollection = [];\n            this.parent.treeGrid.parentData = [];\n            this.parent.taskIds = [];\n        }\n        if (isNullOrUndefined(this.parent.dataSource)) {\n            this.parent.dataSource = [];\n            this.parent.processTimeline();\n            this.parent.renderGantt(isChange);\n        }\n        else if (this.parent.dataSource instanceof DataManager) {\n            this.initDataSource(isChange);\n        }\n        else {\n            if (this.parent.dataSource instanceof Object && isCountRequired(this.parent)) {\n                var ganttdata = getValue('result', this.parent.dataSource); // eslint-disable-line\n                this.dataArray = ganttdata;\n            }\n            else {\n                this.dataArray = this.parent.dataSource; // eslint-disable-line\n            }\n            this.processTimeline();\n            this.cloneDataSource();\n            this.parent.renderGantt(isChange);\n        }\n    };\n    TaskProcessor.prototype.processTimeline = function () {\n        this.parent.processTimeline();\n        if (!this.parent.enableValidation) {\n            this.parent.dataOperation.calculateProjectDatesForValidatedTasks();\n            this.parent.timelineModule.validateTimelineProp();\n        }\n    };\n    TaskProcessor.prototype.initDataSource = function (isChange) {\n        var _this = this;\n        var queryManager = this.parent.query instanceof Query ? this.parent.query : new Query();\n        queryManager.requiresCount();\n        var dataManager = this.parent.dataSource;\n        dataManager.executeQuery(queryManager).then(function (e) {\n            // eslint-disable-next-line\n            _this.dataArray = e.result;\n            _this.processTimeline();\n            _this.cloneDataSource();\n            _this.parent.renderGantt(isChange);\n        }).catch(function (e) {\n            // Trigger action failure event\n            _this.parent.processTimeline();\n            _this.parent.renderGantt(isChange);\n            _this.parent.trigger('actionFailure', { error: e });\n        });\n    };\n    // eslint-disable-next-line\n    TaskProcessor.prototype.constructDataSource = function (dataSource) {\n        // eslint-disable-next-line\n        var mappingData = new DataManager(dataSource).executeLocal(new Query()\n            .group(this.parent.taskFields.parentID));\n        // eslint-disable-next-line\n        var rootData = [];\n        for (var i = 0; i < mappingData.length; i++) {\n            var groupData = mappingData[i];\n            if (!isNullOrUndefined(groupData.key)) {\n                var index = this.taskIds.indexOf(groupData.key.toString());\n                if (index > -1) {\n                    if (!isNullOrUndefined(groupData.key)) {\n                        dataSource[index][this.parent.taskFields.child] = groupData.items;\n                        continue;\n                    }\n                }\n            }\n            rootData.push.apply(rootData, groupData.items); // eslint-disable-line\n        }\n        this.hierarchyData = this.dataReorder(dataSource, rootData);\n    };\n    TaskProcessor.prototype.cloneDataSource = function () {\n        var taskIdMapping = this.parent.taskFields.id;\n        var parentIdMapping = this.parent.taskFields.parentID;\n        // eslint-disable-next-line\n        var hierarchicalData = [];\n        if (!isNullOrUndefined(taskIdMapping) && !isNullOrUndefined(parentIdMapping)) {\n            // eslint-disable-next-line\n            var data = [];\n            for (var i = 0; i < this.dataArray.length; i++) {\n                // eslint-disable-next-line\n                var tempData = this.dataArray[i];\n                data.push(extend({}, {}, tempData, true));\n                if (!isNullOrUndefined(tempData[taskIdMapping])) {\n                    this.taskIds.push(tempData[taskIdMapping].toString());\n                }\n            }\n            if (!this.parent.taskFields.child) {\n                this.parent.taskFields.child = 'Children';\n            }\n            this.constructDataSource(data);\n            hierarchicalData = this.hierarchyData;\n        }\n        else {\n            hierarchicalData = this.dataArray;\n        }\n        if (this.parent.taskFields.segmentId) {\n            this.segmentCollection = new DataManager(this.parent.segmentData).executeLocal(new Query()\n                .group(this.parent.taskFields.segmentId));\n            if (!this.parent.taskFields.segments) {\n                this.parent.taskFields.segments = 'Segments';\n            }\n        }\n        if (this.parent.viewType !== 'ProjectView') {\n            // eslint-disable-next-line\n            var resources = extend([], [], this.parent.resources, true);\n            // eslint-disable-next-line\n            var unassignedTasks = [];\n            this.constructResourceViewDataSource(resources, hierarchicalData, unassignedTasks);\n            if (unassignedTasks.length > 0) {\n                // eslint-disable-next-line\n                var record = {};\n                record[this.parent.resourceFields.id] = 0;\n                record[this.parent.resourceFields.name] = this.parent.localeObj.getConstant('unassignedTask');\n                record[this.parent.taskFields.child] = unassignedTasks;\n                resources.push(record);\n            }\n            hierarchicalData = resources;\n        }\n        this.prepareDataSource(hierarchicalData);\n    };\n    /**\n     * @param {object[]} resources .\n     * @param {object[]} data .\n     * @param {object[]} unassignedTasks .\n     * @returns {void} .\n     *\n     */\n    // eslint-disable-next-line\n    TaskProcessor.prototype.constructResourceViewDataSource = function (resources, data, unassignedTasks) {\n        var _loop_1 = function (i) {\n            // eslint-disable-next-line\n            var tempData = data[i];\n            var child = this_1.parent.taskFields.child;\n            var resourceData = tempData && tempData[this_1.parent.taskFields.resourceInfo];\n            var resourceIdMapping = this_1.parent.resourceFields.id;\n            if (!tempData[child] && resourceData && resourceData.length) {\n                // eslint-disable-next-line\n                resourceData.forEach(function (resource) {\n                    var id = (typeof resource === 'object') ? resource[resourceIdMapping] :\n                        resource;\n                    for (var j = 0; j < resources.length; j++) {\n                        if (resources[j][resourceIdMapping].toString() === id.toString()) {\n                            if (resources[j][child]) {\n                                resources[j][child].push(tempData);\n                            }\n                            else {\n                                resources[j][child] = [tempData];\n                            }\n                            break;\n                        }\n                    }\n                });\n            }\n            else if (!tempData[child]) {\n                unassignedTasks.push(tempData);\n            }\n            if (tempData[this_1.parent.taskFields.child] && tempData[this_1.parent.taskFields.child].length) {\n                this_1.constructResourceViewDataSource(resources, tempData[this_1.parent.taskFields.child], unassignedTasks);\n            }\n        };\n        var this_1 = this;\n        for (var i = 0; i < data.length; i++) {\n            _loop_1(i);\n        }\n    };\n    /**\n     * Function to manipulate data-source\n     *\n     * @param {object[]} data .\n     * @returns {void} .\n     * @hidden\n     */\n    // eslint-disable-next-line\n    TaskProcessor.prototype.prepareDataSource = function (data) {\n        this.prepareRecordCollection(data, 0);\n        // Method to maintain the shared task uniqueIds\n        if (this.parent.viewType === 'ResourceView') {\n            this.calculateSharedTaskUniqueIds();\n        }\n        if (this.parent.taskFields.dependency && this.parent.predecessorModule) {\n            this.parent.predecessorModule.ensurePredecessorCollection();\n        }\n    };\n    TaskProcessor.prototype.calculateSharedTaskUniqueIds = function () {\n        var _loop_2 = function (i) {\n            var value = this_2.parent.getTaskIds()[i].match(/(\\d+|[A-z]+)/g);\n            if (value[0] !== 'R') {\n                var sharedRecords_1 = [];\n                var ids_1 = [];\n                this_2.parent.flatData.filter(function (data) {\n                    if (data.ganttProperties.taskId.toString() === value[1] && data.level !== 0) {\n                        ids_1.push(data.ganttProperties.rowUniqueID);\n                        sharedRecords_1.push(data);\n                    }\n                });\n                for (var j = 0; j < sharedRecords_1.length; j++) {\n                    sharedRecords_1[j].ganttProperties.sharedTaskUniqueIds = ids_1;\n                }\n            }\n        };\n        var this_2 = this;\n        for (var i = 0; i < this.parent.getTaskIds().length; i++) {\n            _loop_2(i);\n        }\n    };\n    // eslint-disable-next-line\n    TaskProcessor.prototype.prepareRecordCollection = function (data, level, parentItem) {\n        var _this = this;\n        var length = data.length;\n        var _loop_3 = function (i) {\n            // eslint-disable-next-line\n            var tempData = data[i];\n            if (!isNullOrUndefined(this_3.parent.taskFields.segmentId)) {\n                // eslint-disable-next-line\n                var segmentData = this_3.segmentCollection.\n                    filter(function (x) { return x.key === tempData[_this.parent.taskFields.id]; });\n                if (segmentData.length > 0) {\n                    tempData[this_3.parent.taskFields.segments] = segmentData[0].items;\n                }\n            }\n            var ganttData = this_3.createRecord(tempData, level, parentItem, true);\n            if (!this_3.parent.enableValidation) {\n                this_3.updateTaskLeftWidth(ganttData);\n            }\n            ganttData.index = this_3.recordIndex++;\n            this_3.parent.ids[ganttData.index] = ganttData.ganttProperties.rowUniqueID;\n            this_3.parent.flatData.push(ganttData);\n            this_3.parent.setTaskIds(ganttData);\n            // eslint-disable-next-line\n            var childData = tempData[this_3.parent.taskFields.child];\n            if (this_3.parent.viewType === 'ResourceView' && isNullOrUndefined(childData)\n                && isNullOrUndefined(ganttData.parentItem) && ganttData.level === 0) {\n                var ganttProp = ganttData.ganttProperties;\n                var parentData = ganttData;\n                this_3.parent.setRecordValue(ganttProp.isAutoSchedule ? 'startDate' : 'autoStartDate', null, parentData.ganttProperties, true);\n                this_3.parent.setRecordValue(ganttProp.isAutoSchedule ? 'endDate' : 'autoEndDate', null, parentData.ganttProperties, true);\n                var parentProgress = 0;\n                var parentProp = parentData.ganttProperties;\n                this_3.parent.setRecordValue('isMilestone', false, parentProp, true);\n                if (parentProp.isAutoSchedule) {\n                    this_3.calculateDuration(parentData);\n                }\n                this_3.updateWorkWithDuration(parentData);\n                var parentWork = parentProp.work;\n                this_3.parent.setRecordValue('work', parentWork, parentProp, true);\n                this_3.parent.setRecordValue('taskType', 'FixedDuration', parentProp, true);\n                if (!isNullOrUndefined(this_3.parent.taskFields.type)) {\n                    this_3.updateMappingData(parentData, 'type');\n                }\n                this_3.parent.setRecordValue('progress', Math.floor(parentProgress), parentProp, true);\n                this_3.parent.setRecordValue('totalProgress', 0, parentProp, true);\n                this_3.parent.setRecordValue('totalDuration', 0, parentProp, true);\n                if (!parentProp.isAutoSchedule) {\n                    this_3.parent.setRecordValue('autoDuration', this_3.calculateAutoDuration(parentProp), parentProp, true);\n                    this_3.updateAutoWidthLeft(parentData);\n                }\n                this_3.resetDependency(parentData);\n                this_3.updateWidthLeft(parentData);\n                this_3.updateTaskData(parentData);\n            }\n            if (!isNullOrUndefined(childData) && childData.length > 0) {\n                this_3.prepareRecordCollection(childData, ganttData.level + 1, ganttData);\n            }\n        };\n        var this_3 = this;\n        for (var i = 0; i < length; i++) {\n            _loop_3(i);\n        }\n    };\n    /**\n     * Method to update custom field values in gantt record\n     *\n     * @param {object} data .\n     * @param {IGanttData} ganttRecord .\n     * @returns {void} .\n     */\n    // eslint-disable-next-line\n    TaskProcessor.prototype.addCustomFieldValue = function (data, ganttRecord) {\n        var columns = this.parent.ganttColumns;\n        var length = columns.length;\n        if (length) {\n            for (var i = 0; i < length; i++) {\n                if (ganttRecord[columns[i].field] === undefined) {\n                    this.parent.setRecordValue(columns[i].field, data[columns[i].field], ganttRecord);\n                }\n            }\n        }\n    };\n    /**\n     * To populate Gantt record\n     *\n     * @param {object} data .\n     * @param {number} level .\n     * @param {IGanttData} parentItem .\n     * @param {boolean} isLoad .\n     * @returns {IGanttData} .\n     * @private\n     */\n    // eslint-disable-next-line\n    TaskProcessor.prototype.createRecord = function (data, level, parentItem, isLoad) {\n        var taskSettings = this.parent.taskFields;\n        var resourceFields = this.parent.resourceFields;\n        var progress = data[taskSettings.progress];\n        var id = null;\n        var name = null;\n        progress = progress ? parseFloat(progress.toString()) ? parseFloat(progress.toString()) : 0 : 0;\n        // eslint-disable-next-line\n        var predecessors = data[taskSettings.dependency];\n        var baselineStartDate = this.getDateFromFormat(data[taskSettings.baselineStartDate], true);\n        var baselineEndDate = this.getDateFromFormat(data[taskSettings.baselineEndDate], true);\n        var ganttData = {};\n        var ganttProperties = {};\n        var autoSchedule = (this.parent.taskMode === 'Auto') ? true :\n            (this.parent.taskMode === 'Manual') ? false :\n                data[taskSettings.manual] === true ? false : true;\n        this.parent.setRecordValue('ganttProperties', ganttProperties, ganttData);\n        if (!isNullOrUndefined(data[taskSettings.id])) {\n            id = data[taskSettings.id];\n            name = data[taskSettings.name];\n            this.addTaskData(ganttData, data, isLoad);\n        }\n        else if (!isNullOrUndefined(data[resourceFields.id])) {\n            id = data[resourceFields.id];\n            name = data[resourceFields.name];\n            this.addTaskData(ganttData, data, false);\n        }\n        this.parent.setRecordValue('taskId', id, ganttProperties, true);\n        this.parent.setRecordValue('taskName', name, ganttProperties, true);\n        if (taskSettings.parentID) {\n            this.parent.setRecordValue('parentId', data[taskSettings.parentID], ganttProperties, true);\n        }\n        this.addCustomFieldValue(data, ganttData);\n        this.parent.setRecordValue('isAutoSchedule', autoSchedule, ganttProperties, true);\n        this.parent.setRecordValue('resourceInfo', this.setResourceInfo(data), ganttProperties, true);\n        this.parent.setRecordValue('isMilestone', false, ganttProperties, true);\n        this.updateResourceName(ganttData);\n        this.calculateScheduledValues(ganttData, data, isLoad);\n        this.parent.setRecordValue('baselineStartDate', this.checkBaselineStartDate(baselineStartDate), ganttProperties, true);\n        // set default end time, if hour is 0\n        if (baselineEndDate && baselineEndDate.getHours() === 0 && this.parent.defaultEndTime !== 86400) {\n            this.setTime(this.parent.defaultEndTime, baselineEndDate);\n        }\n        this.parent.setRecordValue('baselineEndDate', this.checkBaselineEndDate(baselineEndDate), ganttProperties, true);\n        this.parent.setRecordValue('progress', progress, ganttProperties, true);\n        this.parent.setRecordValue('totalProgress', progress, ganttProperties, true);\n        this.parent.setRecordValue('predecessorsName', predecessors, ganttProperties, true);\n        this.parent.setRecordValue('indicators', data[taskSettings.indicators], ganttProperties, true);\n        this.parent.setRecordValue('notes', data[taskSettings.notes], ganttProperties, true);\n        this.parent.setRecordValue('cssClass', data[taskSettings.cssClass], ganttProperties, true);\n        this.parent.setRecordValue('parentItem', this.getCloneParent(parentItem), ganttData);\n        var parentUniqId = ganttData.parentItem ? ganttData.parentItem.uniqueID : null;\n        this.parent.setRecordValue('parentUniqueID', parentUniqId, ganttData);\n        if (this.parent.viewType === 'ResourceView' && !isNullOrUndefined(taskSettings.parentID)\n            && !isNullOrUndefined(ganttData.parentItem)) {\n            this.parent.setRecordValue('parentId', ganttData.parentItem.taskId, ganttProperties, true);\n        }\n        this.parent.setRecordValue('level', level, ganttData);\n        this.parent.setRecordValue('uniqueID', getUid(this.parent.element.id + '_data_'), ganttData);\n        this.parent.setRecordValue('uniqueID', ganttData.uniqueID, ganttProperties, true);\n        this.parent.setRecordValue('childRecords', [], ganttData);\n        if (this.parent.dataSource instanceof Object && isCountRequired(this.parent) &&\n            !isNullOrUndefined(taskSettings.child)) {\n            this.parent.setRecordValue(taskSettings.child, [], ganttData);\n        }\n        this.parent.setRecordValue('baselineEndDate', this.checkBaselineEndDate(baselineEndDate), ganttProperties, true);\n        if (!isNullOrUndefined(data[taskSettings.child]) && data[taskSettings.child].length > 0) {\n            this.parent.setRecordValue('hasChildRecords', true, ganttData);\n            this.parent.setRecordValue('isMilestone', false, ganttProperties, true);\n            this.resetDependency(ganttData);\n        }\n        else {\n            this.parent.setRecordValue('hasChildRecords', false, ganttData);\n        }\n        if (ganttData.hasChildRecords) {\n            this.parent.setRecordValue('autoStartDate', ganttData.ganttProperties.startDate, ganttProperties);\n            this.parent.setRecordValue('autoEndDate', ganttData.ganttProperties.endDate, ganttProperties);\n            this.parent.setRecordValue('autoDuration', ganttData.ganttProperties.duration, ganttProperties);\n        }\n        this.parent.setRecordValue('expanded', (ganttData.hasChildRecords && this.parent.collapseAllParentTasks) ? false : true, ganttData);\n        this.updateExpandStateMappingValue(ganttData, data);\n        if (!isLoad) {\n            this.parent.setRecordValue('width', this.calculateWidth(ganttData), ganttProperties, true);\n            this.parent.setRecordValue('left', this.calculateLeft(ganttProperties), ganttProperties, true);\n            this.parent.setRecordValue('progressWidth', this.getProgressWidth(ganttProperties.width, progress), ganttProperties, true);\n            if (ganttProperties.baselineEndDate && ganttProperties.baselineStartDate) {\n                this.parent.setRecordValue('baselineLeft', this.calculateBaselineLeft(ganttProperties), ganttProperties, true);\n                this.parent.setRecordValue('baselineWidth', this.calculateBaselineWidth(ganttProperties), ganttProperties, true);\n            }\n        }\n        if (isNullOrUndefined(taskSettings.work)) {\n            this.updateWorkWithDuration(ganttData);\n        }\n        if (!isNullOrUndefined(taskSettings.manual)) {\n            this.parent.dataOperation.updateMappingData(ganttData, 'manual');\n        }\n        this.updateTaskData(ganttData);\n        if (predecessors) {\n            this.parent.predecessorsCollection.push(ganttData);\n        }\n        if (!isNullOrUndefined(parentItem)) {\n            parentItem.childRecords.push(ganttData);\n            if (this.parent.dataSource instanceof Object && isCountRequired(this.parent) &&\n                !isNullOrUndefined(this.parent.taskFields.child)) {\n                parentItem[this.parent.taskFields.child].push(ganttData.taskData);\n            }\n        }\n        if (this.parent.viewType === 'ProjectView') {\n            this.parent.setRecordValue('rowUniqueID', ganttProperties.taskId.toString(), ganttProperties, true);\n        }\n        else {\n            var uniqueId = ganttData.uniqueID.replace(this.parent.element.id + '_data_', '');\n            this.parent.setRecordValue('rowUniqueID', uniqueId, ganttData);\n            this.parent.setRecordValue('rowUniqueID', uniqueId, ganttProperties, true);\n            this.parent.setRecordValue('sharedTaskUniqueIds', [], ganttProperties, true);\n        }\n        if (this.parent.allowUnscheduledTasks && ganttData.ganttProperties.startDate\n            && (ganttData.ganttProperties.endDate || ganttData.ganttProperties.duration)) {\n            this.parent.setRecordValue('segments', this.setSegmentsInfo(ganttData, true), ganttProperties, true);\n            this.parent.dataOperation.updateMappingData(ganttData, 'segments');\n            if (!isLoad) {\n                this.updateWidthLeft(ganttData);\n            }\n        }\n        return ganttData;\n    };\n    // eslint-disable-next-line\n    TaskProcessor.prototype.sortSegmentsData = function (segments, onLoad, ganttProp) {\n        var _this = this;\n        if (onLoad) {\n            segments.sort(function (a, b) {\n                var startDate = _this.parent.taskFields.startDate;\n                return _this.getDateFromFormat(a[startDate]).getTime() - _this.getDateFromFormat(b[startDate]).getTime();\n            });\n        }\n        else {\n            segments.sort(function (a, b) {\n                return a.startDate.getTime() - b.startDate.getTime();\n            });\n        }\n        return segments;\n    };\n    TaskProcessor.prototype.setSegmentsInfo = function (data, onLoad) {\n        var taskSettings = this.parent.taskFields;\n        var ganttSegments = [];\n        var segments;\n        var sumOfDuration = 0;\n        var remainingDuration = 0;\n        // eslint-disable-next-line\n        var taskData = [];\n        if (!isNullOrUndefined(this.parent.taskFields.segments)) {\n            segments = onLoad ? data.taskData[this.parent.taskFields.segments] : data.ganttProperties.segments;\n            if (!isNullOrUndefined(segments) && segments.length > 1) {\n                this.sortSegmentsData(segments, onLoad, data.ganttProperties);\n                for (var i = 0; i < segments.length; i++) {\n                    var segment = segments[i];\n                    var startDate = onLoad ? segment[taskSettings.startDate] : segment.startDate;\n                    var endDate = onLoad ? segment[taskSettings.endDate] : segment.endDate;\n                    var duration = onLoad ? segment[taskSettings.duration] : segment.duration;\n                    startDate = this.getDateFromFormat(startDate);\n                    startDate = this.checkStartDate(startDate, data.ganttProperties, false);\n                    if (!isNullOrUndefined(duration)) {\n                        endDate = this.getEndDate(startDate, duration, data.ganttProperties.durationUnit, data.ganttProperties, false);\n                    }\n                    else {\n                        endDate = this.getDateFromFormat(endDate);\n                        endDate = this.checkEndDate(endDate, data.ganttProperties, false);\n                        duration = this.getDuration(startDate, endDate, data.ganttProperties.durationUnit, data.ganttProperties.isAutoSchedule, data.ganttProperties.isMilestone);\n                    }\n                    if (taskSettings.duration) {\n                        remainingDuration = data.ganttProperties.duration - sumOfDuration;\n                        if (remainingDuration <= 0) {\n                            continue;\n                        }\n                        duration = i === segments.length - 1 ? remainingDuration : remainingDuration > 0 &&\n                            duration > remainingDuration ? remainingDuration : duration;\n                        endDate = this.getEndDate(startDate, duration, data.ganttProperties.durationUnit, data.ganttProperties, false);\n                    }\n                    else if (!taskSettings.duration && taskSettings.endDate) {\n                        endDate = (!isNullOrUndefined(data.ganttProperties.endDate)) && endDate.getTime() >\n                            data.ganttProperties.endDate.getTime() && i !== segments.length - 1 ? endDate : data.ganttProperties.endDate;\n                        duration = this.getDuration(startDate, endDate, data.ganttProperties.durationUnit, data.ganttProperties.isAutoSchedule, data.ganttProperties.isMilestone);\n                        if (ganttSegments.length > 0 && endDate.getTime() < startDate.getTime()\n                            && endDate.getTime() <= data.ganttProperties.endDate.getTime()) {\n                            ganttSegments[i - 1].duration = this.getDuration(ganttSegments[i - 1].startDate, data.ganttProperties.endDate, data.ganttProperties.durationUnit, data.ganttProperties.isAutoSchedule, data.ganttProperties.isMilestone);\n                            continue;\n                        }\n                    }\n                    segment = {};\n                    if (!(startDate && endDate) || !(startDate && duration)) {\n                        break;\n                    }\n                    sumOfDuration += duration;\n                    segment.startDate = startDate;\n                    segment.endDate = endDate;\n                    segment.duration = duration;\n                    segment.width = 0;\n                    segment.left = 0;\n                    segment.segmentIndex = i;\n                    ganttSegments.push(segment);\n                    if (!isNullOrUndefined(ganttSegments[i - 1])) {\n                        var offsetDuration = this.getDuration(ganttSegments[i - 1].endDate, ganttSegments[i].startDate, data.ganttProperties.durationUnit, data.ganttProperties.isAutoSchedule, data.ganttProperties.isMilestone);\n                        segment.offsetDuration = offsetDuration;\n                        if (offsetDuration < 1) {\n                            segment.startDate = this.getEndDate(ganttSegments[i - 1].endDate, 1, data.ganttProperties.durationUnit, data.ganttProperties, false);\n                            segment.startDate = this.checkStartDate(segment.startDate, data.ganttProperties, false);\n                            segment.endDate = this.getEndDate(segment.startDate, segment.duration, data.ganttProperties.durationUnit, data.ganttProperties, false);\n                            segment.endDate = segment.endDate > data.ganttProperties.endDate ? data.ganttProperties.endDate\n                                : segment.endDate;\n                            segment.offsetDuration = 1;\n                        }\n                    }\n                    else {\n                        segment.offsetDuration = 0;\n                    }\n                    taskData.push(this.setSegmentTaskData(segment, segments[i]));\n                }\n                this.parent.setRecordValue('duration', sumOfDuration, data.ganttProperties, true);\n                this.parent.setRecordValue('endDate', ganttSegments[ganttSegments.length - 1].endDate, data.ganttProperties, true);\n                if (!isNullOrUndefined(taskSettings.endDate)) {\n                    this.parent.setRecordValue(this.parent.taskFields.endDate, ganttSegments[ganttSegments.length - 1].endDate, data, true);\n                }\n                this.parent.setRecordValue('taskData.' + this.parent.taskFields.segments, taskData, data);\n            }\n        }\n        if (ganttSegments.length > 1) {\n            this.parent.setRecordValue('segments', ganttSegments, data.ganttProperties, true);\n        }\n        else {\n            ganttSegments = null;\n        }\n        return ganttSegments;\n    };\n    TaskProcessor.prototype.setSegmentTaskData = function (segments, segmenttaskData) {\n        var taskSettings = this.parent.taskFields;\n        // eslint-disable-next-line\n        var taskData = extend({}, {}, segmenttaskData, true);\n        if (!isNullOrUndefined(taskSettings.startDate)) {\n            taskData[this.parent.taskFields.startDate] = segments.startDate;\n        }\n        if (!isNullOrUndefined(taskSettings.endDate)) {\n            taskData[this.parent.taskFields.endDate] = segments.endDate;\n        }\n        if (!isNullOrUndefined(taskSettings.duration)) {\n            taskData[this.parent.taskFields.duration] = Number(segments.duration);\n        }\n        return taskData;\n    };\n    /**\n     * Method to calculate work based on resource unit and duration.\n     *\n     * @param {IGanttData} ganttData .\n     * @returns {void} .\n     */\n    TaskProcessor.prototype.updateWorkWithDuration = function (ganttData) {\n        // eslint-disable-next-line\n        var resources = ganttData.ganttProperties.resourceInfo;\n        var work = 0;\n        if (!isNullOrUndefined(resources)) {\n            var resourcesLength = resources.length;\n            var index = void 0;\n            var resourceUnit = void 0;\n            var resourceOneDayWork = void 0;\n            var actualOneDayWork = (this.parent.secondsPerDay) / 3600;\n            var durationInDay = this.getDurationInDay(ganttData.ganttProperties.duration, ganttData.ganttProperties.durationUnit);\n            for (index = 0; index < resourcesLength; index++) {\n                resourceUnit = resources[index][this.parent.resourceFields.unit]; //in percentage\n                resourceOneDayWork = resourceUnit > 0 ? (actualOneDayWork * resourceUnit) / 100 : actualOneDayWork; //in hours\n                work += (resourceOneDayWork * durationInDay);\n            }\n            //Update work as per defined unit.\n            if (ganttData.ganttProperties.workUnit === 'minute') {\n                work = work * 60;\n            }\n            if (ganttData.ganttProperties.workUnit === 'day') {\n                work = work / actualOneDayWork;\n            }\n            //To check the decimal places.\n            if (work % 1 !== 0) {\n                work = parseFloat(work.toFixed(2));\n            }\n        }\n        this.parent.setRecordValue('work', work, ganttData.ganttProperties, true);\n        if (!isNullOrUndefined(this.parent.taskFields.work)) {\n            this.parent.dataOperation.updateMappingData(ganttData, 'work');\n        }\n    };\n    /**\n     *\n     * @param {IGanttData} parent .\n     * @returns {IParent} .\n     * @private\n     */\n    TaskProcessor.prototype.getCloneParent = function (parent) {\n        if (!isNullOrUndefined(parent)) {\n            var cloneParent = {};\n            cloneParent.uniqueID = parent.uniqueID;\n            cloneParent.expanded = parent.expanded;\n            cloneParent.level = parent.level;\n            cloneParent.index = parent.index;\n            cloneParent.taskId = parent.ganttProperties.rowUniqueID;\n            return cloneParent;\n        }\n        else {\n            return null;\n        }\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.reUpdateResources = function () {\n        if (this.parent.flatData.length > 0) {\n            var data = void 0;\n            var ganttProperties = void 0;\n            var ganttData = void 0;\n            for (var index = 0; index < this.parent.flatData.length; index++) {\n                data = this.parent.flatData[index].taskData;\n                ganttProperties = this.parent.flatData[index].ganttProperties;\n                ganttData = this.parent.flatData[index];\n                this.parent.setRecordValue('resourceInfo', this.setResourceInfo(data), ganttProperties, true);\n                this.updateResourceName(ganttData);\n            }\n        }\n    };\n    // eslint-disable-next-line\n    TaskProcessor.prototype.addTaskData = function (ganttData, data, isLoad) {\n        var taskSettings = this.parent.taskFields;\n        // eslint-disable-next-line\n        var dataManager = this.parent.dataSource;\n        if (isLoad) {\n            if (taskSettings.parentID || (dataManager instanceof DataManager &&\n                dataManager.dataSource.json && dataManager.dataSource.offline)) {\n                if (taskSettings.parentID) {\n                    var id = data[taskSettings.id];\n                    var index = this.taskIds.indexOf(id.toString());\n                    // eslint-disable-next-line\n                    var tempData = (index > -1) ? this.dataArray[index] : {};\n                    this.parent.setRecordValue('taskData', tempData, ganttData);\n                }\n                else {\n                    this.parent.setRecordValue('taskData', data, ganttData);\n                }\n            }\n            else {\n                this.parent.setRecordValue('taskData', data, ganttData);\n            }\n        }\n        else {\n            this.parent.setRecordValue('taskData', data, ganttData);\n        }\n    };\n    // eslint-disable-next-line\n    TaskProcessor.prototype.updateExpandStateMappingValue = function (ganttData, data) {\n        var expandStateMapping = this.parent.taskFields.expandState;\n        var mappingValue = data[expandStateMapping];\n        var updatableValue;\n        if (expandStateMapping && ganttData.hasChildRecords) {\n            if (!isNullOrUndefined(mappingValue)) {\n                updatableValue = mappingValue.toString() === 'true' ? true : false;\n            }\n            else if (isNullOrUndefined(mappingValue) && !this.parent.collapseAllParentTasks) {\n                updatableValue = true;\n            }\n            else if (isNullOrUndefined(mappingValue) && this.parent.collapseAllParentTasks) {\n                updatableValue = false;\n            }\n            this.parent.setRecordValue('taskData.' + expandStateMapping, updatableValue, ganttData);\n            this.parent.setRecordValue(expandStateMapping, updatableValue, ganttData);\n            this.parent.setRecordValue('expanded', updatableValue, ganttData);\n        }\n    };\n    /**\n     * @param {IGanttData} ganttData .\n     * @param {object} data .\n     * @returns {void} .\n     */\n    // eslint-disable-next-line\n    TaskProcessor.prototype.setValidatedDates = function (ganttData, data) {\n        var ganttProperties = ganttData.ganttProperties;\n        var taskSettings = this.parent.taskFields;\n        var duration = data[taskSettings.duration];\n        var startDate = this.getDateFromFormat(data[taskSettings.startDate], true);\n        var endDate = this.getDateFromFormat(data[taskSettings.endDate], true);\n        duration = isNullOrUndefined(duration) || duration === '' ? null : duration;\n        this.parent.setRecordValue('startDate', new Date(startDate.getTime()), ganttProperties, true);\n        if (!isNullOrUndefined(duration) && duration !== '') {\n            this.updateDurationValue(duration, ganttProperties);\n        }\n        else {\n            this.calculateDuration(ganttData);\n        }\n        this.parent.setRecordValue('endDate', new Date((endDate.getTime())), ganttProperties, true);\n    };\n    /**\n     *\n     * @param {IGanttData} ganttData .\n     * @param {object} data .\n     * @param {boolean} isLoad .\n     * @returns {void} .\n     * @private\n     */\n    // eslint-disable-next-line\n    TaskProcessor.prototype.calculateScheduledValues = function (ganttData, data, isLoad) {\n        var taskSettings = this.parent.taskFields;\n        var ganttProperties = ganttData.ganttProperties;\n        var duration = data[taskSettings.duration];\n        duration = isNullOrUndefined(duration) || duration === '' ? null : duration;\n        var startDate = this.getDateFromFormat(data[taskSettings.startDate], true);\n        var endDate = this.getDateFromFormat(data[taskSettings.endDate], true);\n        var segments = taskSettings.segments ? (data[taskSettings.segments] ||\n            ganttData.taskData[taskSettings.segments]) : null;\n        var isMileStone = taskSettings.milestone ? data[taskSettings.milestone] ? true : false : false;\n        var durationMapping = data[taskSettings.durationUnit] ? data[taskSettings.durationUnit] : '';\n        this.parent.setRecordValue('durationUnit', this.validateDurationUnitMapping(durationMapping), ganttProperties, true);\n        var work = !isNullOrUndefined(data[taskSettings.work]) ? parseFloat(data[taskSettings.work]) : 0;\n        this.parent.setRecordValue('workUnit', this.validateWorkUnitMapping(this.parent.workUnit), ganttProperties, true);\n        var taskTypeMapping = data[taskSettings.type] ? data[taskSettings.type] : '';\n        var tType = this.validateTaskTypeMapping(taskTypeMapping);\n        this.parent.setRecordValue('taskType', tType, ganttProperties, true);\n        if (isLoad && !this.parent.enableValidation && startDate && endDate) {\n            this.setValidatedDates(ganttData, data);\n        }\n        else {\n            if (!endDate && !startDate && (isNullOrUndefined(duration) || duration === '')) {\n                if (this.parent.allowUnscheduledTasks) {\n                    return;\n                }\n                else {\n                    this.parent.setRecordValue('duration', 1, ganttProperties, true);\n                    this.parent.setRecordValue('startDate', this.getProjectStartDate(ganttProperties, isLoad), ganttProperties, true);\n                    this.calculateEndDate(ganttData);\n                }\n            }\n            else if (startDate) {\n                this.calculateDateFromStartDate(startDate, endDate, duration, ganttData, isLoad);\n            }\n            else if (endDate) {\n                this.calculateDateFromEndDate(endDate, duration, ganttData);\n            }\n            else if (!isNullOrUndefined(duration) && duration !== '') {\n                this.updateDurationValue(duration, ganttProperties);\n                if (this.parent.allowUnscheduledTasks) {\n                    this.parent.setRecordValue('startDate', null, ganttProperties, true);\n                    this.parent.setRecordValue('endDate', null, ganttProperties, true);\n                }\n                else {\n                    this.parent.setRecordValue('startDate', this.getProjectStartDate(ganttProperties, isLoad), ganttProperties, true);\n                    this.calculateEndDate(ganttData);\n                }\n            }\n        }\n        if (!isNullOrUndefined(segments)) {\n            this.parent.setRecordValue('segments', this.setSegmentsInfo(ganttData, true), ganttProperties, true);\n        }\n        if (ganttProperties.duration === 0) {\n            this.parent.setRecordValue('isMilestone', true, ganttProperties, true);\n            this.parent.setRecordValue('endDate', ganttProperties.startDate, ganttProperties, true);\n        }\n        if (!isNullOrUndefined(isMileStone) && isMileStone) {\n            this.parent.setRecordValue('duration', 0, ganttProperties, true);\n            this.parent.setRecordValue('isMilestone', true, ganttProperties, true);\n            this.parent.setRecordValue('endDate', ganttProperties.startDate, ganttProperties, true);\n        }\n        if (!isNullOrUndefined(taskSettings.work)) {\n            this.parent.setRecordValue('durationUnit', this.parent.durationUnit, ganttProperties, true);\n            if (isNaN(work) || isNullOrUndefined(work)) {\n                this.parent.setRecordValue('work', 0, ganttProperties, true);\n                this.parent.setRecordValue('duration', 0, ganttProperties, true);\n                this.parent.setRecordValue('isMilestone', true, ganttProperties, true);\n                this.parent.setRecordValue('endDate', ganttProperties.startDate, ganttProperties, true);\n            }\n            else {\n                this.parent.setRecordValue('work', work, ganttProperties, true);\n                switch (tType) {\n                    case 'FixedDuration':\n                        this.updateUnitWithWork(ganttData);\n                        break;\n                    case 'FixedWork':\n                        this.updateUnitWithWork(ganttData);\n                        break;\n                    case 'FixedUnit':\n                        this.updateDurationWithWork(ganttData);\n                        break;\n                }\n                if (!isNullOrUndefined(taskSettings.type)) {\n                    this.parent.dataOperation.updateMappingData(ganttData, 'type');\n                }\n                if (ganttProperties.duration === 0) {\n                    this.parent.setRecordValue('isMilestone', true, ganttProperties, true);\n                    this.parent.setRecordValue('endDate', ganttProperties.startDate, ganttProperties, true);\n                }\n                else if (!isNullOrUndefined(ganttProperties.startDate) && !isNullOrUndefined(ganttProperties.duration)) {\n                    this.parent.setRecordValue('isMilestone', false, ganttProperties, true);\n                    this.calculateEndDate(ganttData);\n                }\n            }\n            this.parent.dataOperation.updateMappingData(ganttData, 'work');\n        }\n        else if (taskSettings.type && ganttProperties.taskType) {\n            this.parent.dataOperation.updateMappingData(ganttData, 'type');\n        }\n    };\n    /**\n     * Method to update duration with work value.\n     *\n     * @param {IGanttData} ganttData .\n     * @returns {void} .\n     */\n    TaskProcessor.prototype.updateDurationWithWork = function (ganttData) {\n        var ganttProperties = ganttData.ganttProperties;\n        // eslint-disable-next-line\n        var resources = ganttProperties.resourceInfo;\n        if (!isNullOrUndefined(resources)) {\n            var resourcesLength = !isNullOrUndefined(resources) ? resources.length : 0;\n            var totalResourceOneDayWork = 0;\n            var actualOneDayWork = (this.parent.secondsPerDay) / 3600;\n            var updatedDuration = 0;\n            var resourceUnit = void 0;\n            var index = void 0;\n            for (index = 0; index < resourcesLength; index++) {\n                resourceUnit = resources[index][this.parent.resourceFields.unit]; //in percentage\n                totalResourceOneDayWork += (resourceUnit > 0 ? (actualOneDayWork * resourceUnit) / 100 : actualOneDayWork); //in hours\n            }\n            var totalHours = this.getWorkInHour(ganttProperties.work, ganttProperties.workUnit);\n            if (resourcesLength > 0) {\n                updatedDuration += (totalHours / totalResourceOneDayWork);\n            }\n            //Update duration as per defined unit.\n            if (ganttProperties.durationUnit === 'minute') {\n                updatedDuration = updatedDuration * actualOneDayWork * 60;\n            }\n            if (ganttProperties.durationUnit === 'hour') {\n                updatedDuration = updatedDuration * actualOneDayWork;\n            }\n            //To check the decimal places.\n            if (updatedDuration % 1 !== 0) {\n                updatedDuration = parseFloat(updatedDuration.toFixed(2));\n            }\n            if (!isNullOrUndefined(ganttProperties.duration)) {\n                this.parent.setRecordValue('duration', updatedDuration, ganttProperties, true);\n            }\n        }\n    };\n    /**\n     * Update units of resources with respect to duration and work of a task.\n     *\n     * @param {IGanttData} ganttData .\n     * @returns {void} .\n     */\n    TaskProcessor.prototype.updateUnitWithWork = function (ganttData) {\n        var ganttProperties = ganttData.ganttProperties;\n        // eslint-disable-next-line\n        var resources = ganttProperties.resourceInfo;\n        var resourcesLength = !isNullOrUndefined(resources) ? resources.length : 0;\n        var actualOneDayWork = (this.parent.secondsPerDay) / 3600;\n        if (resourcesLength === 0) {\n            return;\n        }\n        var durationInDay = this.getDurationInDay(ganttData.ganttProperties.duration, ganttData.ganttProperties.durationUnit);\n        var totalHours = this.getWorkInHour(ganttProperties.work, ganttProperties.workUnit);\n        var totalUnitInPercentage = durationInDay > 0 ? (totalHours / (durationInDay * actualOneDayWork)) * 100 : 0;\n        var individualUnit = totalUnitInPercentage > 0 ? totalUnitInPercentage / resourcesLength : 100;\n        //To check the decimal places.\n        if (individualUnit % 1 !== 0) {\n            individualUnit = parseFloat(individualUnit.toFixed(2));\n        }\n        for (var index = 0; index < resourcesLength; index++) {\n            resources[index][this.parent.resourceFields.unit] = individualUnit;\n        }\n        //To update the unit value in data source\n        this.updateResourceName(ganttData);\n    };\n    TaskProcessor.prototype.calculateDateFromEndDate = function (endDate, duration, ganttData) {\n        var ganttProperties = ganttData.ganttProperties;\n        if (endDate.getHours() === 0 && this.parent.defaultEndTime !== 86400) {\n            this.setTime(this.parent.defaultEndTime, endDate);\n        }\n        var validateAsMilestone = (parseInt(duration, 10) === 0) ? true : null;\n        this.parent.setRecordValue('endDate', this.checkEndDate(endDate, ganttData.ganttProperties, validateAsMilestone), ganttProperties, true);\n        if (isNullOrUndefined(duration) || duration === '') {\n            if (this.parent.allowUnscheduledTasks) {\n                this.parent.setRecordValue('startDate', null, ganttProperties, true);\n                this.parent.setRecordValue('duration', null, ganttProperties, true);\n            }\n            else {\n                this.parent.setRecordValue('duration', 1, ganttProperties, true);\n                this.parent.setRecordValue('startDate', this.getStartDate(ganttProperties.endDate, ganttProperties.duration, ganttProperties.durationUnit, ganttProperties), ganttProperties, true);\n            }\n        }\n        else if (!isNullOrUndefined(duration) && duration !== '') {\n            this.updateDurationValue(duration, ganttProperties);\n            this.parent.setRecordValue('startDate', this.getStartDate(ganttProperties.endDate, ganttProperties.duration, ganttProperties.durationUnit, ganttProperties), ganttProperties, true);\n        }\n    };\n    TaskProcessor.prototype.calculateDateFromStartDate = function (startDate, endDate, duration, ganttData, isLoad) {\n        var ganttProperties = ganttData.ganttProperties;\n        var validateAsMilestone = (parseInt(duration, 10) === 0 || ((startDate && endDate) &&\n            (new Date(startDate.getTime()) === new Date(endDate.getTime())))) ? true : null;\n        this.parent.setRecordValue('startDate', this.checkStartDate(startDate, ganttProperties, validateAsMilestone, isLoad), ganttProperties, true);\n        if (!endDate && (isNullOrUndefined(duration) || duration === '')) {\n            if (this.parent.allowUnscheduledTasks) {\n                this.parent.setRecordValue('endDate', null, ganttProperties, true);\n                this.parent.setRecordValue('duration', null, ganttProperties, true);\n            }\n            else {\n                this.parent.setRecordValue('duration', 1, ganttProperties, true);\n                this.calculateEndDate(ganttData);\n            }\n        }\n        else if (!isNullOrUndefined(duration) && !endDate) {\n            this.updateDurationValue(duration, ganttProperties);\n            this.calculateEndDate(ganttData);\n        }\n        else if (endDate && (isNullOrUndefined(duration) || duration === '')) {\n            if (endDate.getHours() === 0 && this.parent.defaultEndTime !== 86400) {\n                this.setTime(this.parent.defaultEndTime, endDate);\n            }\n            this.parent.setRecordValue('endDate', this.checkEndDate(endDate, ganttData.ganttProperties), ganttProperties, true);\n            if (this.compareDates(ganttProperties.startDate, ganttProperties.endDate) === 1) {\n                this.parent.setRecordValue('endDate', ganttProperties.startDate, ganttProperties, true);\n                this.parent.setRecordValue('isMilestone', true, ganttProperties, true);\n                this.parent.setRecordValue('duration', 0, ganttProperties, true);\n            }\n            else {\n                this.calculateDuration(ganttData);\n            }\n        }\n        else {\n            this.updateDurationValue(duration, ganttProperties);\n            this.calculateEndDate(ganttData);\n        }\n    };\n    /**\n     *\n     * @param {number} parentWidth .\n     * @param {number} percent .\n     * @returns {number} .\n     * @private\n     */\n    TaskProcessor.prototype.getProgressWidth = function (parentWidth, percent) {\n        return (parentWidth * percent) / 100;\n    };\n    /**\n     *\n     * @param {IGanttData} ganttData .\n     * @param {boolean} isAuto .\n     * @returns {number} .\n     * @private\n     */\n    TaskProcessor.prototype.calculateWidth = function (ganttData, isAuto) {\n        var ganttProp = ganttData.ganttProperties;\n        var sDate = isAuto ? ganttProp.autoStartDate : ganttProp.startDate;\n        var eDate = isAuto ? ganttProp.autoEndDate : ganttProp.endDate;\n        var unscheduledTaskWidth = 3;\n        if (isNullOrUndefined(sDate) && isNullOrUndefined(eDate)) {\n            sDate = this.getValidStartDate(ganttProp, isAuto);\n            eDate = this.getValidEndDate(ganttProp, isAuto);\n        }\n        if (isNullOrUndefined(sDate) || isNullOrUndefined(eDate)) {\n            return unscheduledTaskWidth;\n        }\n        else if (ganttProp.isMilestone && (!ganttData.hasChildRecords || ganttProp.isAutoSchedule)) {\n            //let taskBarHeight: number = this.getTaskbarHeight();\n            return 0;\n        }\n        else {\n            return this.getTaskWidth(sDate, eDate);\n        }\n    };\n    TaskProcessor.prototype.getTaskbarHeight = function () {\n        var rowHeight = this.parent.rowHeight;\n        var taskBarHeight = this.parent.taskbarHeight;\n        if (taskBarHeight < rowHeight) {\n            return taskBarHeight;\n        }\n        else {\n            return rowHeight;\n        }\n    };\n    /**\n     * Method to calculate left\n     *\n     * @param {ITaskData} ganttProp .\n     * @param {boolean} isAuto .\n     * @returns {number} .\n     * @private\n     */\n    TaskProcessor.prototype.calculateLeft = function (ganttProp, isAuto) {\n        var sDate = null;\n        var left = -300;\n        var startDate = isAuto ? ganttProp.autoStartDate : ganttProp.startDate;\n        var endDate = isAuto ? ganttProp.autoEndDate : ganttProp.endDate;\n        // eslint-disable-next-line\n        var duration = isAuto ? ganttProp.autoDuration : ganttProp.duration;\n        var milestone = ganttProp.isMilestone;\n        if (startDate) {\n            sDate = new Date(startDate.getTime());\n        }\n        else if (endDate) {\n            sDate = new Date(endDate.getTime());\n            milestone = true;\n        }\n        else {\n            sDate = this.getValidStartDate(ganttProp);\n        }\n        if (!isNullOrUndefined(sDate)) {\n            left = this.getTaskLeft(sDate, milestone);\n        }\n        return left;\n    };\n    /**\n     * calculate the left position of the auto scheduled taskbar\n     *\n     * @param {ITaskData} ganttProperties - Defines the gantt data.\n     * @returns {number} .\n     * @private\n     */\n    TaskProcessor.prototype.calculateAutoLeft = function (ganttProperties) {\n        return this.getTaskLeft(ganttProperties.autoStartDate, ganttProperties.isMilestone);\n    };\n    /**\n     * To calculate duration of Gantt record with auto scheduled start date and auto scheduled end date\n     *\n     * @param {ITaskData} ganttProperties - Defines the gantt data.\n     * @returns {number} .\n     */\n    TaskProcessor.prototype.calculateAutoDuration = function (ganttProperties) {\n        return this.getDuration(ganttProperties.autoStartDate, ganttProperties.autoEndDate, ganttProperties.durationUnit, false, ganttProperties.isMilestone);\n    };\n    /**\n     * calculate the with between auto scheduled start date and auto scheduled end date\n     *\n     * @param {ITaskData} ganttProperties - Defines the gantt data.\n     * @returns {number} .\n     * @private\n     */\n    TaskProcessor.prototype.calculateAutoWidth = function (ganttProperties) {\n        return this.getTaskWidth(ganttProperties.autoStartDate, ganttProperties.autoEndDate);\n    };\n    /**\n     * calculate the left margin of the baseline element\n     *\n     * @param {ITaskData} ganttProperties .\n     * @returns {number} .\n     * @private\n     */\n    TaskProcessor.prototype.calculateBaselineLeft = function (ganttProperties) {\n        var baselineStartDate = this.getDateFromFormat(ganttProperties.baselineStartDate);\n        var baselineEndDate = this.getDateFromFormat(ganttProperties.baselineEndDate);\n        if (baselineStartDate && baselineEndDate) {\n            return (this.getTaskLeft(baselineStartDate, ganttProperties.isMilestone));\n        }\n        else {\n            return 0;\n        }\n    };\n    /**\n     * calculate the width between baseline start date and baseline end date.\n     *\n     * @param {ITaskData} ganttProperties .\n     * @returns {number} .\n     * @private\n     */\n    TaskProcessor.prototype.calculateBaselineWidth = function (ganttProperties) {\n        var baselineStartDate = this.getDateFromFormat(ganttProperties.baselineStartDate);\n        var baselineEndDate = this.getDateFromFormat(ganttProperties.baselineEndDate);\n        if (baselineStartDate && baselineEndDate) {\n            return (this.getTaskWidth(baselineStartDate, baselineEndDate));\n        }\n        else {\n            return 0;\n        }\n    };\n    /**\n     * To get tasks width value\n     *\n     * @param {Date} startDate .\n     * @param {Date} endDate .\n     * @returns {number} .\n     * @private\n     */\n    TaskProcessor.prototype.getTaskWidth = function (startDate, endDate) {\n        var sDate = new Date(startDate.getTime());\n        var eDate = new Date(endDate.getTime());\n        var tierMode = this.parent.timelineModule.bottomTier !== 'None' ? this.parent.timelineModule.bottomTier :\n            this.parent.timelineModule.topTier;\n        if (tierMode === 'Day') {\n            if (this.getSecondsInDecimal(sDate) === this.parent.defaultStartTime) {\n                sDate.setHours(0, 0, 0, 0);\n            }\n            if (this.getSecondsInDecimal(eDate) === this.parent.defaultEndTime) {\n                eDate.setHours(24);\n            }\n            if (this.getSecondsInDecimal(eDate) === this.parent.defaultStartTime) {\n                eDate.setHours(0, 0, 0, 0);\n            }\n        }\n        return ((this.getTimeDifference(sDate, eDate) / (1000 * 60 * 60 * 24)) * this.parent.perDayWidth);\n    };\n    /**\n     * Get task left value\n     *\n     * @param {Date} startDate .\n     * @param {boolean} isMilestone .\n     * @returns {number} .\n     * @private\n     */\n    TaskProcessor.prototype.getTaskLeft = function (startDate, isMilestone) {\n        var date = new Date(startDate.getTime());\n        var tierMode = this.parent.timelineModule.bottomTier !== 'None' ? this.parent.timelineModule.bottomTier :\n            this.parent.timelineModule.topTier;\n        if (tierMode === 'Day') {\n            if (this.getSecondsInDecimal(date) === this.parent.defaultStartTime) {\n                date.setHours(0, 0, 0, 0);\n            }\n            else if (isMilestone && this.getSecondsInDecimal(date) === this.parent.defaultEndTime) {\n                date.setHours(24);\n            }\n        }\n        var timelineStartDate = this.parent.timelineModule.timelineStartDate;\n        if (timelineStartDate) {\n            return (date.getTime() - timelineStartDate.getTime()) / (1000 * 60 * 60 * 24) * this.parent.perDayWidth;\n        }\n        else {\n            return 0;\n        }\n    };\n    TaskProcessor.prototype.getSplitTaskWidth = function (sDate, duration, data) {\n        var startDate = new Date(sDate.getTime());\n        var endDate = new Date((this.getEndDate(startDate, duration, data.ganttProperties.durationUnit, data.ganttProperties, false).getTime()));\n        var tierViewMode = this.parent.timelineModule.bottomTier !== 'None' ? this.parent.timelineModule.bottomTier :\n            this.parent.timelineModule.topTier;\n        if (tierViewMode === 'Day') {\n            if (this.getSecondsInDecimal(startDate) === this.parent.defaultStartTime) {\n                startDate.setHours(0, 0, 0, 0);\n            }\n            if (this.getSecondsInDecimal(endDate) === this.parent.defaultEndTime) {\n                endDate.setHours(24);\n            }\n            if (this.getSecondsInDecimal(endDate) === this.parent.defaultStartTime) {\n                endDate.setHours(0, 0, 0, 0);\n            }\n        }\n        return ((this.getTimeDifference(startDate, endDate) / (1000 * 60 * 60 * 24)) * this.parent.perDayWidth);\n    };\n    TaskProcessor.prototype.getSplitTaskLeft = function (sDate, segmentTaskStartDate) {\n        var stDate = new Date(sDate.getTime());\n        var tierViewMode = this.parent.timelineModule.bottomTier !== 'None' ? this.parent.timelineModule.bottomTier :\n            this.parent.timelineModule.topTier;\n        if (tierViewMode === 'Day') {\n            if (this.getSecondsInDecimal(stDate) === this.parent.defaultStartTime) {\n                stDate.setHours(0, 0, 0, 0);\n            }\n            if (this.getSecondsInDecimal(segmentTaskStartDate) === this.parent.defaultStartTime) {\n                segmentTaskStartDate.setHours(0, 0, 0, 0);\n            }\n        }\n        if (segmentTaskStartDate) {\n            return (stDate.getTime() - segmentTaskStartDate.getTime()) / (1000 * 60 * 60 * 24) * this.parent.perDayWidth;\n        }\n        else {\n            return 0;\n        }\n    };\n    /**\n     *\n     * @param {IGanttData} ganttData .\n     * @param {string} fieldName .\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.updateMappingData = function (ganttData, fieldName) {\n        // eslint-disable-next-line\n        var columnMapping = this.parent.columnMapping;\n        var ganttProp = ganttData.ganttProperties;\n        if (isNullOrUndefined(columnMapping[fieldName]) && fieldName !== 'taskType' && fieldName !== 'segments') {\n            return;\n        }\n        if (fieldName === 'predecessorName') {\n            //\n        }\n        else if (fieldName === 'resourceInfo') {\n            // eslint-disable-next-line\n            var resourceData = ganttProp.resourceInfo;\n            var resourceSettings = this.parent.resourceFields;\n            // eslint-disable-next-line\n            var resourcesId = [];\n            var resourcesName = [];\n            for (var i = 0; i < resourceData.length; i++) {\n                resourcesId.push(resourceData[i][resourceSettings.id]);\n                var resName = resourceData[i][resourceSettings.name];\n                var resourceUnit = resourceData[i][resourceSettings.unit];\n                if (resourceUnit !== 100) {\n                    resName += '[' + resourceUnit + '%' + ']';\n                }\n                resourcesName.push(resName);\n            }\n            this.parent.setRecordValue('resourceNames', resourcesName.join(','), ganttProp, true);\n            this.updateTaskDataResource(ganttData);\n            this.parent.setRecordValue(columnMapping[fieldName], resourcesName.join(','), ganttData);\n        }\n        else if (fieldName === 'startDate' || fieldName === 'endDate') {\n            this.setRecordDate(ganttData, ganttProp[fieldName], columnMapping[fieldName]);\n        }\n        else if (fieldName === 'duration') {\n            this.setRecordDuration(ganttData, columnMapping[fieldName]);\n        }\n        else if (fieldName === 'work') {\n            this.parent.setRecordValue('taskData.' + columnMapping[fieldName], this.getWorkString(ganttProp.work, ganttProp.workUnit), ganttData);\n            this.parent.setRecordValue(columnMapping[fieldName], ganttProp[fieldName], ganttData);\n        }\n        else if (fieldName === 'type') {\n            this.parent.setRecordValue('taskData.' + columnMapping[fieldName], ganttProp[fieldName], ganttData);\n            this.parent.setRecordValue(columnMapping[fieldName], ganttProp[fieldName], ganttData);\n        }\n        else if (fieldName === 'manual') {\n            this.parent.setRecordValue('taskData.' + columnMapping[fieldName], !ganttProp.isAutoSchedule, ganttData);\n            this.parent.setRecordValue(columnMapping[fieldName], !ganttProp.isAutoSchedule, ganttData);\n        }\n        else if (fieldName === 'segments') {\n            this.parent.setRecordValue('taskData.' + this.parent.taskFields.segments, this.segmentTaskData(ganttData), ganttData);\n        }\n        else {\n            this.parent.setRecordValue('taskData.' + columnMapping[fieldName], ganttProp[fieldName], ganttData);\n            this.parent.setRecordValue(columnMapping[fieldName], ganttProp[fieldName], ganttData);\n        }\n    };\n    // eslint-disable-next-line\n    TaskProcessor.prototype.segmentTaskData = function (data) {\n        var segments = data.ganttProperties.segments;\n        var taskSettings = this.parent.taskFields;\n        if (isNullOrUndefined(segments)) {\n            return null;\n        }\n        // eslint-disable-next-line\n        var taskData = extend([], [], data.taskData[taskSettings.segments], true);\n        for (var i = 0; i < segments.length; i++) {\n            if ((this.parent.editModule && this.parent.editModule.dialogModule &&\n                getValue('isEdit', this.parent.editModule.dialogModule)) || (this.parent.contextMenuModule && getValue('isEdit', this.parent.contextMenuModule))) {\n                taskData[i] = {};\n            }\n            if (!isNullOrUndefined(taskSettings.startDate)) {\n                taskData[i][this.parent.taskFields.startDate] = segments[i].startDate;\n            }\n            if (!isNullOrUndefined(taskSettings.endDate)) {\n                taskData[i][this.parent.taskFields.endDate] = segments[i].endDate;\n            }\n            if (!isNullOrUndefined(taskSettings.duration)) {\n                taskData[i][this.parent.taskFields.duration] = Number(segments[i].duration);\n            }\n        }\n        return taskData;\n    };\n    /**\n     * Method to update the task data resource values\n     *\n     * @param {IGanttData} ganttData .\n     * @returns {void} .\n     */\n    TaskProcessor.prototype.updateTaskDataResource = function (ganttData) {\n        // eslint-disable-next-line\n        var resourceData = ganttData.ganttProperties.resourceInfo;\n        // eslint-disable-next-line\n        var preTaskResources = ganttData.taskData[this.parent.taskFields.resourceInfo];\n        var resourceSettings = this.parent.resourceFields;\n        if (isNullOrUndefined(preTaskResources)) {\n            ganttData.taskData[this.parent.taskFields.resourceInfo] = resourceData;\n        }\n        else if (resourceData.length) {\n            for (var i = 0; i < resourceData.length; i++) {\n                var isAdded = false;\n                for (var j = 0; j < preTaskResources.length; j++) {\n                    if (typeof preTaskResources[j] === 'number' || typeof preTaskResources[j] === 'string') {\n                        if (parseInt(preTaskResources[j], 10) === parseInt(resourceData[i][resourceSettings.id], 10)) {\n                            preTaskResources[j] = resourceData[i];\n                            isAdded = true;\n                            break;\n                        }\n                    }\n                    else if (preTaskResources[j][resourceSettings.id] === resourceData[i][resourceSettings.id] && typeof preTaskResources[j] !== 'number') {\n                        preTaskResources[j] = extend({}, preTaskResources[j], resourceData[i], true);\n                        isAdded = true;\n                        break;\n                    }\n                }\n                if (!isAdded) {\n                    preTaskResources.push(resourceData[i]);\n                }\n            }\n            var data_1 = [];\n            var _loop_4 = function (k) {\n                // eslint-disable-next-line\n                resourceData.filter(function (resourceInfo) {\n                    if (resourceInfo[resourceSettings.id] === preTaskResources[k][resourceSettings.id]) {\n                        data_1.push(preTaskResources[k]);\n                    }\n                });\n            };\n            for (var k = 0; k < preTaskResources.length; k++) {\n                _loop_4(k);\n            }\n            this.parent.setRecordValue('taskData.' + this.parent.taskFields.resourceInfo, data_1, ganttData);\n        }\n        else {\n            this.parent.setRecordValue('taskData.' + this.parent.taskFields.resourceInfo, [], ganttData);\n        }\n    };\n    TaskProcessor.prototype.setRecordDate = function (task, value, mapping) {\n        var tempDate = typeof value === 'string' ? new Date(value) : value;\n        if (!isNullOrUndefined(value)) {\n            value = new Date(tempDate.getTime());\n        }\n        this.parent.setRecordValue(mapping, value, task);\n        if (!isNullOrUndefined(value)) {\n            value = new Date(tempDate.getTime());\n        }\n        this.parent.setRecordValue('taskData.' + mapping, value, task);\n    };\n    TaskProcessor.prototype.getDurationInDay = function (duration, durationUnit) {\n        if (durationUnit === 'day') {\n            return duration;\n        }\n        else if (durationUnit === 'hour') {\n            return duration / (this.parent.secondsPerDay / 3600);\n        }\n        else {\n            return duration / (this.parent.secondsPerDay / 60);\n        }\n    };\n    TaskProcessor.prototype.setRecordDuration = function (task, mapping) {\n        var duration = task.ganttProperties.duration;\n        var durationUnit = task.ganttProperties.durationUnit;\n        if (!isNullOrUndefined(duration)) {\n            this.parent.setRecordValue(mapping, task.ganttProperties.duration, task);\n            /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n            var durationValue = (getValue(mapping, task.taskData));\n            if (isNaN(durationValue) && isNullOrUndefined(this.parent.taskFields.durationUnit) && !isNullOrUndefined(durationValue)) {\n                this.parent.setRecordValue('taskData.' + mapping, this.getDurationString(duration, durationUnit), task);\n            }\n            else {\n                if (typeof durationValue === 'string') {\n                    this.parent.setRecordValue('taskData.' + mapping, duration.toString(), task);\n                }\n                else {\n                    this.parent.setRecordValue('taskData.' + mapping, duration, task);\n                }\n            }\n        }\n        else {\n            this.parent.setRecordValue(mapping, duration, task);\n            this.parent.setRecordValue('taskData.' + mapping, duration, task);\n        }\n        if (this.parent.taskFields.durationUnit) {\n            task.taskData[this.parent.taskFields.durationUnit] = task.ganttProperties.durationUnit;\n        }\n    };\n    TaskProcessor.prototype.getWorkInHour = function (work, workUnit) {\n        if (workUnit === 'day') {\n            return work * (this.parent.secondsPerDay / 3600);\n        }\n        else if (workUnit === 'minute') {\n            return work / 60;\n        }\n        else {\n            return work;\n        }\n    };\n    /**\n     *\n     * @param {IGanttData} ganttData .\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.updateTaskData = function (ganttData) {\n        var dataMapping = this.parent.taskFields;\n        var ganttProperties = ganttData.ganttProperties;\n        if (!isNullOrUndefined(ganttData.taskData)) {\n            // eslint-disable-next-line\n            var data = ganttData.taskData;\n            if (dataMapping.id) {\n                this.parent.setRecordValue('taskData.' + dataMapping.id, ganttProperties.taskId, ganttData);\n                this.parent.setRecordValue(dataMapping.id, ganttProperties.taskId, ganttData);\n            }\n            if (dataMapping.name) {\n                this.parent.setRecordValue('taskData.' + dataMapping.name, ganttProperties.taskName, ganttData);\n                this.parent.setRecordValue(dataMapping.name, ganttProperties.taskName, ganttData);\n            }\n            if (dataMapping.startDate) {\n                this.setRecordDate(ganttData, ganttProperties.startDate, dataMapping.startDate);\n            }\n            if (dataMapping.endDate) {\n                this.setRecordDate(ganttData, ganttProperties.endDate, dataMapping.endDate);\n            }\n            if (dataMapping.duration) {\n                this.setRecordDuration(ganttData, dataMapping.duration);\n            }\n            if (dataMapping.durationUnit) {\n                data[dataMapping.durationUnit] = ganttProperties.durationUnit;\n            }\n            if (dataMapping.progress) {\n                this.parent.setRecordValue('taskData.' + dataMapping.progress, ganttProperties.progress, ganttData);\n                this.parent.setRecordValue(dataMapping.progress, ganttProperties.progress, ganttData);\n            }\n            if (dataMapping.baselineStartDate) {\n                this.setRecordDate(ganttData, ganttProperties.baselineStartDate, dataMapping.baselineStartDate);\n            }\n            if (dataMapping.baselineEndDate) {\n                this.setRecordDate(ganttData, ganttProperties.baselineEndDate, dataMapping.baselineEndDate);\n            }\n            if (dataMapping.notes) {\n                this.parent.setRecordValue('taskData.' + dataMapping.notes, ganttProperties.notes, ganttData);\n                this.parent.setRecordValue(dataMapping.notes, ganttProperties.notes, ganttData);\n            }\n            if (dataMapping.cssClass) {\n                this.parent.setRecordValue('taskData.' + dataMapping.cssClass, ganttProperties.cssClass, ganttData);\n                this.parent.setRecordValue(dataMapping.cssClass, ganttProperties.cssClass, ganttData);\n            }\n            if (dataMapping.indicators) {\n                this.parent.setRecordValue('taskData.' + dataMapping.indicators, ganttProperties.indicators, ganttData);\n                this.parent.setRecordValue(dataMapping.indicators, ganttProperties.indicators, ganttData);\n            }\n            if (dataMapping.parentID) {\n                this.parent.setRecordValue('taskData.' + dataMapping.parentID, ganttProperties.parentId, ganttData);\n                this.parent.setRecordValue(dataMapping.parentID, ganttProperties.parentId, ganttData);\n            }\n            if (dataMapping.work) {\n                this.parent.setRecordValue('taskData.' + dataMapping.work, this.getWorkString(ganttProperties.work, ganttProperties.workUnit), ganttData);\n                this.parent.setRecordValue(dataMapping.work, ganttProperties.work, ganttData);\n            }\n            if (dataMapping.type) {\n                this.parent.setRecordValue('taskData.' + dataMapping.type, ganttProperties.taskType, ganttData);\n                this.parent.setRecordValue(dataMapping.type, ganttProperties.taskType, ganttData);\n            }\n        }\n    };\n    /**\n     * To set resource value in Gantt record\n     *\n     * @param {object} data .\n     * @returns {object[]} .\n     * @private\n     */\n    // eslint-disable-next-line\n    TaskProcessor.prototype.setResourceInfo = function (data) {\n        // eslint-disable-next-line\n        var resourceIdCollection;\n        if (isNullOrUndefined(data[this.parent.taskFields.resourceInfo])) {\n            return resourceIdCollection;\n        }\n        resourceIdCollection = data[this.parent.taskFields.resourceInfo];\n        // eslint-disable-next-line\n        var resourceData;\n        if (!isNullOrUndefined(this.parent.editModule) && !isNullOrUndefined(this.parent.editModule.dialogModule)\n            && this.parent.editModule.dialogModule.isAddNewResource) {\n            resourceData = this.parent.editModule.dialogModule.ganttResources;\n        }\n        else {\n            resourceData = this.parent.resources;\n        }\n        var resourceIDMapping = this.parent.resourceFields.id;\n        var resourceUnitMapping = this.parent.resourceFields.unit;\n        var resourceGroup = this.parent.resourceFields.group;\n        // eslint-disable-next-line\n        var resources = [];\n        var _loop_5 = function (count) {\n            // eslint-disable-next-line\n            var resource = resourceData.filter(function (resourceInfo) {\n                if (typeof (resourceIdCollection[count]) === 'object' &&\n                    resourceIdCollection[count][resourceIDMapping] === resourceInfo[resourceIDMapping]) {\n                    return true;\n                }\n                else {\n                    return (resourceIdCollection[count] === resourceInfo[resourceIDMapping]);\n                }\n            });\n            // eslint-disable-next-line\n            var ganttDataResource = extend({}, resource[0]);\n            resources.push(ganttDataResource);\n            if (!isNullOrUndefined(resourceUnitMapping) && !isNullOrUndefined(resourceIdCollection[count][resourceUnitMapping])) {\n                ganttDataResource[resourceUnitMapping] = resourceIdCollection[count][resourceUnitMapping];\n            }\n            if (!isNullOrUndefined(resourceGroup) && !isNullOrUndefined(resourceIdCollection[count][resourceGroup])) {\n                ganttDataResource[resourceGroup] = resourceIdCollection[count][resourceGroup];\n            }\n        };\n        for (var count = 0; count < resourceIdCollection.length; count++) {\n            _loop_5(count);\n        }\n        this.updateResourceUnit(resources);\n        return resources;\n    };\n    /**\n     * To set resource unit in Gantt record\n     *\n     * @param {object[]} resourceData .\n     * @returns {void} .\n     * @private\n     */\n    // eslint-disable-next-line\n    TaskProcessor.prototype.updateResourceUnit = function (resourceData) {\n        var resourceUnit = this.parent.resourceFields.unit;\n        if (!isNullOrUndefined(resourceUnit)) {\n            var length_1 = resourceData.length;\n            var index = void 0;\n            for (index = 0; index < length_1; index++) {\n                if (isNullOrUndefined(resourceData[index][resourceUnit])) {\n                    resourceData[index][resourceUnit] = 100;\n                }\n            }\n        }\n    };\n    /**\n     * @param {IGanttData} data .\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.updateResourceName = function (data) {\n        // eslint-disable-next-line\n        var resourceInfo = data.ganttProperties.resourceInfo;\n        // eslint-disable-next-line\n        var resourceName = [];\n        if (resourceInfo) {\n            // eslint-disable-next-line\n            var taskResources = extend([], [], data.taskData[this.parent.taskFields.resourceInfo], true);\n            this.parent.setRecordValue('taskData.' + this.parent.taskFields.resourceInfo, [], data);\n            for (var i = 0; i < resourceInfo.length; i++) {\n                // eslint-disable-next-line\n                var resource = resourceInfo[i];\n                var resName = resource[this.parent.resourceFields.name];\n                var resourceUnit = resource[this.parent.resourceFields.unit];\n                if (resourceUnit !== 100) {\n                    resName += '[' + resourceUnit + '%' + ']';\n                }\n                resourceName.push(resName);\n                if (data.taskData) {\n                    var mapping = this.parent.taskFields.resourceInfo;\n                    // eslint-disable-next-line\n                    if (typeof (taskResources[i] === 'object')) {\n                        data.taskData[mapping].push(taskResources[i]);\n                    }\n                    else {\n                        data.taskData[mapping].push(resource[this.parent.resourceFields.id]);\n                    }\n                }\n            }\n            this.parent.setRecordValue('resourceNames', resourceName.join(','), data.ganttProperties, true);\n            this.parent.setRecordValue(this.parent.taskFields.resourceInfo, resourceName.join(','), data, true);\n            this.updateTaskDataResource(data);\n        }\n    };\n    // eslint-disable-next-line\n    TaskProcessor.prototype.dataReorder = function (flatCollection, rootCollection) {\n        // eslint-disable-next-line\n        var result = [];\n        while (flatCollection.length > 0 && rootCollection.length > 0) {\n            var index = rootCollection.indexOf(flatCollection[0]);\n            if (index === -1) {\n                flatCollection.shift();\n            }\n            else {\n                result.push(flatCollection.shift());\n                rootCollection.splice(index, 1);\n            }\n        }\n        return result;\n    };\n    TaskProcessor.prototype.validateDurationUnitMapping = function (durationUnit) {\n        var unit = durationUnit;\n        if ((unit === 'minute') || (unit === 'minutes') || (unit === 'm') || (unit === 'min')) {\n            unit = 'minute';\n        }\n        else if ((unit === 'hour') || (unit === 'hours') || (unit === 'h') || (unit === 'hr')) {\n            unit = 'hour';\n        }\n        else if ((unit === 'day') || (unit === 'days') || (unit === 'd')) {\n            unit = 'day';\n        }\n        else {\n            unit = this.parent.durationUnit.toLocaleLowerCase();\n        }\n        return unit;\n    };\n    TaskProcessor.prototype.validateTaskTypeMapping = function (taskType) {\n        var type = taskType;\n        if (type === 'FixedDuration') {\n            type = 'FixedDuration';\n        }\n        else if (type === 'FixedUnit') {\n            type = 'FixedUnit';\n        }\n        else if (type === 'FixedWork') {\n            type = 'FixedWork';\n        }\n        else {\n            type = this.parent.taskType;\n        }\n        return type;\n    };\n    TaskProcessor.prototype.validateWorkUnitMapping = function (workUnit) {\n        var unit = workUnit;\n        if (unit === 'minute') {\n            unit = 'minute';\n        }\n        else if (unit === 'hour') {\n            unit = 'hour';\n        }\n        else if (unit === 'day') {\n            unit = 'day';\n        }\n        else {\n            unit = this.parent.workUnit.toLocaleLowerCase();\n        }\n        return unit;\n    };\n    /**\n     * To update duration value in Task\n     *\n     * @param {string} duration .\n     * @param {ITaskData} ganttProperties .\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.updateDurationValue = function (duration, ganttProperties) {\n        // eslint-disable-next-line\n        var tempDuration = this.getDurationValue(duration);\n        if (!isNaN(getValue('duration', tempDuration))) {\n            this.parent.setRecordValue('duration', getValue('duration', tempDuration), ganttProperties, true);\n        }\n        if (!isNullOrUndefined(getValue('durationUnit', tempDuration))) {\n            this.parent.setRecordValue('durationUnit', getValue('durationUnit', tempDuration), ganttProperties, true);\n        }\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.reUpdateGanttData = function () {\n        if (this.parent.flatData.length > 0) {\n            var data = void 0;\n            var ganttData = void 0;\n            this.parent.secondsPerDay = this.getSecondsPerDay();\n            for (var index = 0; index < this.parent.flatData.length; index++) {\n                data = this.parent.flatData[index].taskData;\n                ganttData = this.parent.flatData[index];\n                if (!isNullOrUndefined(this.parent.taskFields.duration)) {\n                    this.setRecordDuration(ganttData, this.parent.taskFields.duration);\n                }\n                this.calculateScheduledValues(ganttData, data, false);\n            }\n            this.updateGanttData();\n        }\n    };\n    //check day is fall between from and to date range\n    TaskProcessor.prototype._isInStartDateRange = function (day, from, to) {\n        var isInRange = false;\n        if (day.getTime() >= from.getTime() && day.getTime() < to.getTime()) {\n            isInRange = true;\n        }\n        return isInRange;\n    };\n    //check day is fall between from and to date range\n    TaskProcessor.prototype._isInEndDateRange = function (day, from, to) {\n        var isInRange = false;\n        if (day.getTime() > from.getTime() && day.getTime() <= to.getTime()) {\n            isInRange = true;\n        }\n        return isInRange;\n    };\n    /**\n     * Method to find overlapping value of the parent task\n     *\n     * @param {IGanttData} resourceTask .\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.updateOverlappingValues = function (resourceTask) {\n        var tasks = resourceTask.childRecords;\n        var currentTask;\n        var ranges = [];\n        if (tasks.length <= 1) {\n            resourceTask.ganttProperties.workTimelineRanges = [];\n            return;\n        }\n        tasks = this.setSortedChildTasks(resourceTask);\n        this.updateOverlappingIndex(tasks);\n        for (var count = 1; count < tasks.length; count++) {\n            currentTask = tasks[count];\n            var cStartDate = new Date(currentTask.ganttProperties.startDate.getTime());\n            var cEndDate = new Date(currentTask.ganttProperties.endDate.getTime()); //task 2\n            var range = [];\n            // eslint-disable-next-line\n            var rangeObj = {};\n            for (var index = 0; index < count; index++) {\n                var tStartDate = tasks[index].ganttProperties.startDate;\n                var tEndDate = tasks[index].ganttProperties.endDate; // task 1\n                var rangeObj_1 = {};\n                if (this._isInStartDateRange(cStartDate, tStartDate, tEndDate) || this._isInEndDateRange(cEndDate, tStartDate, tEndDate)) {\n                    if ((tStartDate.getTime() > cStartDate.getTime() && tStartDate.getTime() < cEndDate.getTime()\n                        && tEndDate.getTime() > cStartDate.getTime() && tEndDate.getTime() > cEndDate.getTime())\n                        || (cStartDate.getTime() === tStartDate.getTime() && cEndDate.getTime() <= tEndDate.getTime())) {\n                        rangeObj_1.from = tStartDate;\n                        rangeObj_1.to = cEndDate;\n                    }\n                    else if (cStartDate.getTime() === tStartDate.getTime() && cEndDate.getTime() > tEndDate.getTime()) {\n                        rangeObj_1.from = tStartDate;\n                        rangeObj_1.to = tEndDate;\n                    }\n                    else if (cStartDate.getTime() > tStartDate.getTime() && cEndDate.getTime() >= tEndDate.getTime()) {\n                        rangeObj_1.from = cStartDate;\n                        rangeObj_1.to = tEndDate;\n                    }\n                    else if (cStartDate.getTime() > tStartDate.getTime() && cEndDate.getTime() < tEndDate.getTime()) {\n                        rangeObj_1.from = cStartDate;\n                        rangeObj_1.to = cEndDate;\n                    }\n                    range.push(rangeObj_1);\n                }\n            }\n            // eslint-disable-next-line\n            ranges.push.apply(ranges, this.mergeRangeCollections(range));\n        }\n        this.parent.setRecordValue('workTimelineRanges', this.mergeRangeCollections(ranges, true), resourceTask.ganttProperties, true);\n        this.calculateRangeLeftWidth(resourceTask.ganttProperties.workTimelineRanges);\n    };\n    /**\n     * @param {IGanttData[]} tasks .\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.updateOverlappingIndex = function (tasks) {\n        for (var i = 0; i < tasks.length; i++) {\n            tasks[i].ganttProperties.eOverlapIndex = i;\n        }\n    };\n    /**\n     * Method to calculate the left and width value of oarlapping ranges\n     *\n     * @param {IWorkTimelineRanges[]} ranges .\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.calculateRangeLeftWidth = function (ranges) {\n        for (var count = 0; count < ranges.length; count++) {\n            ranges[count].left = this.getTaskLeft(ranges[count].from, false);\n            ranges[count].width = this.getTaskWidth(ranges[count].from, ranges[count].to);\n        }\n    };\n    /**\n     * @param {IWorkTimelineRanges[]} ranges .\n     * @param {boolean} isSplit .\n     * @returns {IWorkTimelineRanges[]} .\n     * @private\n     */\n    TaskProcessor.prototype.mergeRangeCollections = function (ranges, isSplit) {\n        var finalRange = [];\n        var currentTopRange = {};\n        var cCompareRange = {};\n        var cStartDate;\n        var cEndDate;\n        var tStartDate;\n        var tEndDate;\n        var sortedRanges = new DataManager(ranges).executeLocal(new Query()\n            .sortBy(this.parent.taskFields.startDate, 'Ascending'));\n        for (var i = 0; i < sortedRanges.length; i++) {\n            if (finalRange.length === 0 && i === 0) {\n                finalRange.push(sortedRanges[i]);\n                continue;\n            }\n            currentTopRange = finalRange[finalRange.length - 1];\n            cStartDate = currentTopRange.from;\n            cEndDate = currentTopRange.to;\n            cCompareRange = sortedRanges[i];\n            tStartDate = cCompareRange.from;\n            tEndDate = cCompareRange.to;\n            if ((cStartDate.getTime() === tStartDate.getTime() && cEndDate.getTime() >= tEndDate.getTime())\n                || (cStartDate.getTime() < tStartDate.getTime() && cEndDate.getTime() >= tEndDate.getTime())) {\n                continue;\n            }\n            /* eslint-disable-next-line */\n            else if ((cStartDate.getTime() <= tStartDate.getTime() && cEndDate.getTime() >= tStartDate.getTime() && cEndDate.getTime() < tEndDate.getTime())\n                || (cEndDate.getTime() < tStartDate.getTime() && this.checkStartDate(cEndDate).getTime() === tStartDate.getTime())) {\n                currentTopRange.to = tEndDate;\n            }\n            else if (cEndDate.getTime() < tStartDate.getTime() && this.checkStartDate(cEndDate).getTime() !== tStartDate.getTime()) {\n                finalRange.push(sortedRanges[i]);\n            }\n        }\n        if (isSplit) {\n            finalRange = this.splitRangeCollection(finalRange);\n        }\n        return finalRange;\n    };\n    /**\n     * Sort resource child records based on start date\n     *\n     * @param {IGanttData} resourceTask .\n     * @returns {IGanttData} .\n     * @private\n     */\n    TaskProcessor.prototype.setSortedChildTasks = function (resourceTask) {\n        var sortedRecords = [];\n        sortedRecords = new DataManager(resourceTask.childRecords).executeLocal(new Query()\n            .sortBy(this.parent.taskFields.startDate, 'Ascending'));\n        return sortedRecords;\n    };\n    TaskProcessor.prototype.splitRangeCollection = function (rangeCollection, fromField, toField) {\n        var splitArray = [];\n        var unit;\n        if (this.parent.timelineModule.isSingleTier) {\n            unit = this.parent.timelineModule.bottomTier !== 'None' ?\n                this.parent.timelineModule.bottomTier : this.parent.timelineModule.topTier;\n        }\n        else {\n            unit = this.parent.timelineModule.bottomTier;\n        }\n        if (unit === 'Week' || unit === 'Month' || unit === 'Year') {\n            splitArray = rangeCollection;\n        }\n        else if (unit === 'Day') {\n            splitArray = this.getRangeWithWeek(rangeCollection, fromField, toField);\n        }\n        else {\n            if (this.parent.workingTimeRanges[0].from === 0 && this.parent.workingTimeRanges[0].to === 86400) {\n                splitArray = this.getRangeWithWeek(rangeCollection, fromField, toField);\n            }\n            else {\n                splitArray = this.getRangeWithDay(rangeCollection, fromField, toField);\n            }\n        }\n        return splitArray;\n    };\n    TaskProcessor.prototype.getRangeWithDay = function (ranges, fromField, toField) {\n        var splitArray = [];\n        for (var i = 0; i < ranges.length; i++) {\n            // eslint-disable-next-line\n            splitArray.push.apply(splitArray, this.splitRangeForDayMode(ranges[i], fromField, toField));\n        }\n        return splitArray;\n    };\n    TaskProcessor.prototype.splitRangeForDayMode = function (range, fromField, toField) {\n        var fromString = fromField ? fromField : 'from';\n        var toString = toField ? toField : 'to';\n        var tempStart = new Date(range[fromString]);\n        var end = new Date(range[toString]);\n        var ranges = [];\n        var rangeObject = {};\n        if (tempStart.getTime() < end.getTime()) {\n            do {\n                var nStart = new Date(tempStart.getTime());\n                var nEndDate = new Date(tempStart.getTime());\n                var nextAvailDuration = 0;\n                var sHour = this.parent.dataOperation.getSecondsInDecimal(tempStart);\n                var startRangeIndex = -1;\n                for (var i = 0; i < this.parent.workingTimeRanges.length; i++) {\n                    var val = this.parent.workingTimeRanges[i];\n                    if (sHour >= val.from && sHour <= val.to) {\n                        startRangeIndex = i;\n                        break;\n                    }\n                }\n                if (startRangeIndex !== -1) {\n                    nextAvailDuration = Math.round(this.parent.workingTimeRanges[startRangeIndex].to - sHour);\n                    nEndDate.setSeconds(nEndDate.getSeconds() + nextAvailDuration);\n                }\n                var taskName = 'task';\n                if (nEndDate.getTime() < end.getTime()) {\n                    rangeObject = {};\n                    if (range.task) {\n                        rangeObject[taskName] = extend([], range.task);\n                    }\n                    rangeObject[fromString] = nStart;\n                    rangeObject[toString] = nEndDate;\n                    rangeObject.isSplit = true;\n                    ranges.push(rangeObject);\n                }\n                else {\n                    rangeObject = {};\n                    if (range.task) {\n                        rangeObject[taskName] = extend([], range.task);\n                    }\n                    rangeObject[fromString] = nStart;\n                    rangeObject[toString] = end;\n                    rangeObject.isSplit = true;\n                    ranges.push(rangeObject);\n                }\n                tempStart = this.checkStartDate(nEndDate);\n            } while (tempStart.getTime() < end.getTime());\n        }\n        else {\n            ranges.push(range);\n        }\n        return ranges;\n    };\n    TaskProcessor.prototype.getRangeWithWeek = function (ranges, fromField, toField) {\n        var splitArray = [];\n        for (var i = 0; i < ranges.length; i++) {\n            // eslint-disable-next-line\n            splitArray.push.apply(splitArray, this.splitRangeForWeekMode(ranges[i], fromField, toField));\n        }\n        return splitArray;\n    };\n    TaskProcessor.prototype.splitRangeForWeekMode = function (range, fromField, toField) {\n        var from = fromField ? fromField : 'from';\n        var to = toField ? toField : 'to';\n        var start = new Date(range[from]);\n        var tempStart = new Date(range[from]);\n        var end = new Date(range[to]);\n        var isInSplit = false;\n        var ranges = [];\n        var rangeObj = {};\n        tempStart.setDate(tempStart.getDate() + 1);\n        if (tempStart.getTime() < end.getTime()) {\n            do {\n                if (this.parent.dataOperation.isOnHolidayOrWeekEnd(tempStart, null)) {\n                    var tempEndDate = new Date(tempStart.getTime());\n                    tempEndDate.setDate(tempStart.getDate() - 1);\n                    this.setTime(this.parent.defaultEndTime, tempEndDate);\n                    rangeObj = {};\n                    rangeObj[from] = start;\n                    rangeObj.isSplit = true;\n                    rangeObj[to] = tempEndDate;\n                    if (range.task) {\n                        rangeObj.task = extend([], range.task, true);\n                    }\n                    if (start.getTime() !== tempEndDate.getTime()) {\n                        ranges.push(rangeObj);\n                    }\n                    start = this.checkStartDate(tempEndDate);\n                    tempStart = new Date(start.getTime());\n                    isInSplit = true;\n                }\n                else {\n                    tempStart.setDate(tempStart.getDate() + 1);\n                }\n            } while (tempStart.getTime() < end.getTime());\n            if (isInSplit) {\n                if (start.getTime() !== end.getTime()) {\n                    rangeObj = {};\n                    if (range.task) {\n                        rangeObj.task = extend([], range.task, true);\n                    }\n                    rangeObj[from] = start;\n                    rangeObj[to] = end;\n                    rangeObj.isSplit = true;\n                    ranges.push(rangeObj);\n                }\n            }\n            else {\n                ranges.push(range);\n            }\n        }\n        else {\n            ranges.push(range);\n        }\n        return ranges;\n    };\n    /**\n     * Update all gantt data collection width, progress width and left value\n     *\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.updateGanttData = function () {\n        var flatData = this.parent.flatData;\n        var length = flatData.length;\n        for (var i = 0; i < length; i++) {\n            var data = flatData[i];\n            this.updateTaskLeftWidth(data);\n        }\n    };\n    /**\n     * Update all gantt data collection width, progress width and left value\n     *\n     * @param {IGanttData} data .\n     * @returns {void} .\n     * @public\n     */\n    TaskProcessor.prototype.updateTaskLeftWidth = function (data) {\n        var task = data.ganttProperties;\n        if (!data.hasChildRecords) {\n            this.updateWidthLeft(data);\n        }\n        this.parent.setRecordValue('baselineLeft', this.calculateBaselineLeft(task), task, true);\n        this.parent.setRecordValue('baselineWidth', this.calculateBaselineWidth(task), task, true);\n        var childData = [];\n        var parentItem;\n        if (data.parentItem) {\n            parentItem = this.parent.getParentTask(data.parentItem);\n            childData = parentItem.childRecords;\n        }\n        if (parentItem && childData.indexOf(data) === childData.length - 1 && !data.hasChildRecords && this.parent.enableValidation) {\n            this.updateParentItems(parentItem);\n        }\n        else if (parentItem && !this.parent.enableValidation) {\n            this.updateWidthLeft(parentItem);\n        }\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.reUpdateGanttDataPosition = function () {\n        var flatData = this.parent.flatData;\n        var length = flatData.length;\n        for (var i = 0; i < length; i++) {\n            var data = flatData[i];\n            var task = data.ganttProperties;\n            this.updateWidthLeft(data);\n            if (this.parent.taskMode !== 'Auto' && data.hasChildRecords) {\n                this.updateAutoWidthLeft(data);\n            }\n            this.parent.setRecordValue('baselineLeft', this.calculateBaselineLeft(task), task, true);\n            this.parent.setRecordValue('baselineWidth', this.calculateBaselineWidth(task), task, true);\n            this.parent.dataOperation.updateTaskData(data);\n        }\n    };\n    /**\n     * method to update left, width, progress width in record\n     *\n     * @param {IGanttData} data .\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.updateWidthLeft = function (data) {\n        var ganttRecord = data.ganttProperties;\n        // task endDate may be changed in segment calculation so this must be calculated first.\n        // task width calculating was based on endDate\n        if (!isNullOrUndefined(ganttRecord.segments) && ganttRecord.segments.length > 0) {\n            var segments = ganttRecord.segments;\n            var fixedWidth = true;\n            var totalTaskWidth = this.splitTasksDuration(segments) * this.parent.perDayWidth;\n            var totalProgressWidth = this.parent.dataOperation.getProgressWidth(totalTaskWidth, ganttRecord.progress);\n            for (var i = 0; i < segments.length; i++) {\n                var segment = segments[i];\n                if (i === 0 && !isNullOrUndefined(ganttRecord.startDate) &&\n                    segment.startDate.getTime() !== ganttRecord.startDate.getTime()) {\n                    segment.startDate = ganttRecord.startDate;\n                    var endDate = this.parent.dataOperation.getEndDate(segment.startDate, segment.duration, ganttRecord.durationUnit, ganttRecord, false);\n                    segment.endDate = this.parent.dataOperation.checkEndDate(endDate, ganttRecord, false);\n                    this.parent.chartRowsModule.incrementSegments(segments, 0, data);\n                }\n                segment.width = this.getSplitTaskWidth(segment.startDate, segment.duration, data);\n                segment.showProgress = false;\n                segment.progressWidth = -1;\n                if (i !== 0) {\n                    var pStartDate = new Date(ganttRecord.startDate.getTime());\n                    segment.left = this.getSplitTaskLeft(segment.startDate, pStartDate);\n                }\n                if (totalProgressWidth > 0 && totalProgressWidth > segment.width) {\n                    totalProgressWidth = totalProgressWidth - segment.width;\n                    segment.progressWidth = segment.width;\n                    segment.showProgress = false;\n                }\n                else if (fixedWidth) {\n                    segment.progressWidth = totalProgressWidth;\n                    segment.showProgress = true;\n                    totalProgressWidth = totalProgressWidth - segment.width;\n                    fixedWidth = false;\n                }\n            }\n            this.parent.setRecordValue('segments', ganttRecord.segments, ganttRecord, true);\n            this.parent.dataOperation.updateMappingData(data, 'segments');\n        }\n        this.parent.setRecordValue('width', this.parent.dataOperation.calculateWidth(data), ganttRecord, true);\n        this.parent.setRecordValue('left', this.parent.dataOperation.calculateLeft(ganttRecord), ganttRecord, true);\n        this.parent.setRecordValue('progressWidth', this.parent.dataOperation.getProgressWidth((ganttRecord.isAutoSchedule || !data.hasChildRecords ? ganttRecord.width : ganttRecord.autoWidth), ganttRecord.progress), ganttRecord, true);\n    };\n    /**\n     * method to update left, width, progress width in record\n     *\n     * @param {IGanttData} data .\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.updateAutoWidthLeft = function (data) {\n        var ganttRecord = data.ganttProperties;\n        this.parent.setRecordValue('autoWidth', this.calculateWidth(data, true), ganttRecord, true);\n        this.parent.setRecordValue('autoLeft', this.calculateLeft(ganttRecord, true), ganttRecord, true);\n    };\n    /**\n     * To calculate parent progress value\n     *\n     * @param {IGanttData} childGanttRecord .\n     * @returns {object} .\n     * @private\n     */\n    // eslint-disable-next-line\n    TaskProcessor.prototype.getParentProgress = function (childGanttRecord) {\n        var durationInDay = 0;\n        // eslint-disable-next-line\n        var progressValues = {};\n        switch (childGanttRecord.ganttProperties.durationUnit) {\n            case 'hour':\n                durationInDay = (childGanttRecord.ganttProperties.duration / (this.parent.secondsPerDay / 3600));\n                break;\n            case 'minute':\n                durationInDay = (childGanttRecord.ganttProperties.duration / (this.parent.secondsPerDay / 60));\n                break;\n            default:\n                durationInDay = childGanttRecord.ganttProperties.duration;\n        }\n        if (childGanttRecord.hasChildRecords) {\n            setValue('totalProgress', childGanttRecord.ganttProperties.totalProgress, progressValues);\n            setValue('totalDuration', childGanttRecord.ganttProperties.totalDuration, progressValues);\n        }\n        else {\n            setValue('totalProgress', childGanttRecord.ganttProperties.progress * durationInDay, progressValues);\n            setValue('totalDuration', durationInDay, progressValues);\n        }\n        return progressValues;\n    };\n    TaskProcessor.prototype.resetDependency = function (record) {\n        var dependency = this.parent.taskFields.dependency;\n        if (!isNullOrUndefined(dependency)) {\n            var recordProp = record.ganttProperties;\n            this.parent.setRecordValue('predecessor', [], recordProp, true);\n            this.parent.setRecordValue('predecessorsName', null, recordProp, true);\n            this.parent.setRecordValue('taskData.' + dependency, null, record);\n            this.parent.setRecordValue(dependency, null, record);\n        }\n    };\n    /**\n     * @param {IParent | IGanttData} cloneParent .\n     * @param {boolean} isParent .\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.updateParentItems = function (cloneParent, isParent) {\n        var parentData = isParent ? cloneParent : this.parent.getParentTask(cloneParent);\n        var deleteUpdate = false;\n        var ganttProp = parentData.ganttProperties;\n        if (parentData.childRecords.length > 0) {\n            var previousStartDate = ganttProp.isAutoSchedule ? ganttProp.startDate : ganttProp.autoStartDate;\n            var previousEndDate = ganttProp.isAutoSchedule ? ganttProp.endDate :\n                ganttProp.autoEndDate;\n            // eslint-disable-next-line\n            var childRecords = parentData.childRecords;\n            var childLength = childRecords.length;\n            var totalDuration = 0;\n            // eslint-disable-next-line\n            var progressValues = {};\n            var minStartDate = null;\n            var maxEndDate = null;\n            var milestoneCount = 0;\n            var totalProgress = 0;\n            var childCompletedWorks = 0;\n            var childData = void 0;\n            for (var count = 0; count < childLength; count++) {\n                childData = childRecords[count];\n                if (this.parent.isOnDelete && childData.isDelete) {\n                    if (childLength === 1 && this.parent.viewType === 'ProjectView') {\n                        if (isBlazor()) {\n                            var id = parentData.ganttProperties.rowUniqueID;\n                            var task = this.parent.getRecordByID(id);\n                            if (task && this.parent.editedRecords.indexOf(task) === -1) {\n                                this.parent.editedRecords.push(task);\n                            }\n                        }\n                        deleteUpdate = true;\n                    }\n                    continue;\n                }\n                var startDate = this.getValidStartDate(childData.ganttProperties);\n                var endDate = this.getValidEndDate(childData.ganttProperties);\n                if (isNullOrUndefined(minStartDate)) {\n                    minStartDate = this.getDateFromFormat(startDate);\n                }\n                if (isNullOrUndefined(maxEndDate)) {\n                    maxEndDate = this.getDateFromFormat(endDate);\n                }\n                if (!isNullOrUndefined(endDate) && this.compareDates(endDate, maxEndDate) === 1) {\n                    maxEndDate = this.getDateFromFormat(endDate);\n                }\n                if (!isNullOrUndefined(startDate) && this.compareDates(startDate, minStartDate) === -1) {\n                    minStartDate = this.getDateFromFormat(startDate);\n                }\n                if (!childData.ganttProperties.isMilestone && isScheduledTask(childData.ganttProperties)) {\n                    progressValues = this.getParentProgress(childData);\n                    totalProgress += getValue('totalProgress', progressValues);\n                    totalDuration += getValue('totalDuration', progressValues);\n                }\n                else {\n                    milestoneCount++;\n                }\n                childCompletedWorks += childData.ganttProperties.work;\n            }\n            if (!deleteUpdate) {\n                if (this.compareDates(previousStartDate, minStartDate) !== 0) {\n                    this.parent.setRecordValue(ganttProp.isAutoSchedule ? 'startDate' : 'autoStartDate', minStartDate, parentData.ganttProperties, true);\n                }\n                if (this.compareDates(previousEndDate, maxEndDate) !== 0) {\n                    this.parent.setRecordValue(ganttProp.isAutoSchedule ? 'endDate' : 'autoEndDate', maxEndDate, parentData.ganttProperties, true);\n                }\n                var taskCount = void 0;\n                if (this.parent.isOnDelete && childData.isDelete) {\n                    taskCount = childLength - milestoneCount - 1;\n                }\n                else {\n                    taskCount = childLength - milestoneCount;\n                }\n                var parentProgress = (taskCount > 0 && totalDuration > 0) ? (totalProgress / totalDuration) : 0;\n                var parentProp = parentData.ganttProperties;\n                var milestone = (taskCount === 0) && minStartDate && maxEndDate &&\n                    minStartDate.getTime() === maxEndDate.getTime() ? true : false;\n                this.parent.setRecordValue('isMilestone', milestone, parentProp, true);\n                if (parentProp.isAutoSchedule) {\n                    this.calculateDuration(parentData);\n                }\n                this.updateWorkWithDuration(parentData);\n                var parentWork = parentProp.work;\n                parentWork += childCompletedWorks;\n                this.parent.setRecordValue('work', parentWork, parentProp, true);\n                this.parent.setRecordValue('taskType', 'FixedDuration', parentProp, true);\n                if (!isNullOrUndefined(this.parent.taskFields.type)) {\n                    this.updateMappingData(parentData, 'type');\n                }\n                this.parent.setRecordValue('progress', Math.floor(parentProgress), parentProp, true);\n                this.parent.setRecordValue('totalProgress', totalProgress, parentProp, true);\n                this.parent.setRecordValue('totalDuration', totalDuration, parentProp, true);\n                if (!parentProp.isAutoSchedule) {\n                    this.parent.setRecordValue('autoDuration', this.calculateAutoDuration(parentProp), parentProp, true);\n                    this.updateAutoWidthLeft(parentData);\n                }\n                this.resetDependency(parentData);\n                this.updateWidthLeft(parentData);\n                this.updateTaskData(parentData);\n            }\n        }\n        if (deleteUpdate && parentData.childRecords.length === 1 && parentData.ganttProperties.duration === 0) {\n            this.parent.setRecordValue('isMilestone', true, parentData.ganttProperties, true);\n            this.updateWidthLeft(parentData);\n            this.updateTaskData(parentData);\n        }\n        var parentItem = this.parent.getParentTask(parentData.parentItem);\n        if (parentItem) {\n            this.updateParentItems(parentItem);\n        }\n        deleteUpdate = false;\n    };\n    return TaskProcessor;\n}(DateProcessor));\nexport { TaskProcessor };\n","/**\n * CSS Constants\n */\n/** @hidden */\nexport var root = 'e-gantt';\nexport var ganttChartPane = 'e-gantt-chart-pane';\nexport var treeGridPane = 'e-gantt-tree-grid-pane';\nexport var splitter = 'e-gantt-splitter';\nexport var ganttChart = 'e-gantt-chart';\nexport var chartBodyContainer = 'e-chart-root-container';\nexport var toolbar = 'e-gantt-toolbar';\nexport var chartScrollElement = 'e-chart-scroll-container';\nexport var chartBodyContent = 'e-chart-rows-container';\nexport var scrollContent = 'e-content';\nexport var adaptive = 'e-device';\nexport var focusCell = 'e-grid';\n// Timeline-Class\nexport var taskTable = 'e-task-table';\nexport var zeroSpacing = 'e-zero-spacing';\nexport var timelineHeaderContainer = 'e-timeline-header-container';\nexport var timelineHeaderTableContainer = 'e-timeline-header-table-container';\nexport var timelineHeaderTableBody = 'e-timeline-header-table-body';\nexport var timelineTopHeaderCell = 'e-timeline-top-header-cell';\nexport var timelineHeaderCellLabel = 'e-header-cell-label';\nexport var weekendHeaderCell = 'e-weekend-header-cell';\nexport var timelineSingleHeaderCell = 'e-timeline-single-header-cell';\nexport var timelineSingleHeaderOuterDiv = 'e-timeline-single-header-outer-div';\n// Chart Rows-Class\nexport var leftLabelContainer = 'e-left-label-container';\nexport var leftLabelTempContainer = 'e-left-label-container e-left-label-temp-container';\nexport var leftLabelInnerDiv = 'e-left-label-inner-div';\nexport var rightLabelContainer = 'e-right-label-container';\nexport var rightLabelTempContainer = 'e-right-label-container e-right-label-temp-container';\nexport var rightLabelInnerDiv = 'e-right-label-inner-div';\nexport var taskBarMainContainer = 'e-taskbar-main-container';\nexport var parentTaskBarInnerDiv = 'e-gantt-parent-taskbar-inner-div';\nexport var parentProgressBarInnerDiv = 'e-gantt-parent-progressbar-inner-div';\nexport var taskLabel = 'e-task-label';\nexport var childTaskBarInnerDiv = 'e-gantt-child-taskbar-inner-div';\nexport var childProgressBarInnerDiv = 'e-gantt-child-progressbar-inner-div';\nexport var milestoneTop = 'e-milestone-top';\nexport var milestoneBottom = 'e-milestone-bottom';\nexport var baselineBar = 'e-baseline-bar';\nexport var baselineMilestoneContainer = 'e-baseline-gantt-milestone-container';\nexport var baselineMilestoneDiv = 'e-baseline-gantt-milestone';\nexport var baselineMilestoneTop = 'e-baseline-milestone-top';\nexport var baselineMilestoneBottom = 'e-baseline-milestone-bottom';\nexport var chartRowCell = 'e-chart-row-cell';\nexport var chartRow = 'e-chart-row';\nexport var rowExpand = 'e-row-expand';\nexport var rowCollapse = 'e-row-collapse';\nexport var taskBarLeftResizer = 'e-taskbar-left-resizer';\nexport var taskBarRightResizer = 'e-taskbar-right-resizer';\nexport var childProgressResizer = 'e-child-progress-resizer';\nexport var progressBarHandler = 'e-progressbar-handler';\nexport var progressHandlerElement = 'e-progressbar-handler-element';\nexport var progressBarHandlerAfter = 'e-progressbar-handler-after';\nexport var icon = 'e-icon';\nexport var traceMilestone = 'e-gantt-milestone';\nexport var parentMilestone = 'e-gantt-parent-milestone';\nexport var parentMilestoneTop = 'e-parent-milestone-top';\nexport var parentMilestoneBottom = 'e-parent-milestone-bottom';\nexport var traceChildTaskBar = 'e-gantt-child-taskbar';\nexport var traceChildProgressBar = 'e-gantt-child-progressbar';\nexport var manualParentMainContainer = 'e-manualparent-main-container';\nexport var manualParentTaskBar = 'e-gantt-manualparenttaskbar';\nexport var manualParentMilestone = 'e-gantt-manualparent-milestone';\nexport var manualParentMilestoneTop = 'e-manualparent-milestone-top';\nexport var manualParentMilestoneBottom = 'e-manualparent-milestone-bottom';\nexport var manualChildTaskBar = 'e-gantt-child-manualtaskbar';\nexport var manualChildProgressBar = 'e-gantt-child-manualprogressbar';\nexport var manualParentRightResizer = 'e-gantt-manualparenttaskbar-right';\nexport var manualParentLeftResizer = 'e-gantt-manualparenttaskbar-left';\nexport var traceManualUnscheduledTask = 'e-gantt-unscheduled-manualtask';\nexport var traceParentTaskBar = 'e-gantt-parent-taskbar';\nexport var traceParentProgressBar = 'e-gantt-parent-progressbar';\nexport var traceUnscheduledTask = 'e-gantt-unscheduled-task';\nexport var taskIndicatorDiv = 'e-indicator-span';\nexport var leftResizeGripper = 'e-left-resize-gripper';\nexport var rightResizeGripper = 'e-right-resize-gripper';\nexport var progressResizeGripper = 'e-progress-resize-gripper';\nexport var label = 'e-label';\n//event Markers classes\nexport var eventMarkersContainer = 'e-event-markers-container';\nexport var eventMarkersChild = 'e-event-markers';\nexport var eventMarkersSpan = 'e-span-label';\n//holiday classes\nexport var nonworkingContainer = 'e-nonworking-day-container';\nexport var holidayContainer = 'e-holiday-container';\nexport var holidayElement = 'e-holiday';\nexport var holidayLabel = 'e-span';\n//weekend classes\nexport var weekendContainer = 'e-weekend-container';\nexport var weekend = 'e-weekend';\n//Unscheduled Taskbar\nexport var unscheduledTaskbarLeft = 'e-gantt-unscheduled-taskbar-left';\nexport var unscheduledTaskbarRight = 'e-gantt-unscheduled-taskbar-right';\nexport var unscheduledTaskbar = 'e-gantt-unscheduled-taskbar';\nexport var unscheduledMilestoneTop = 'e-unscheduled-milestone-top';\nexport var unscheduledMilestoneBottom = 'e-unscheduled-milestone-bottom';\n//Connector Line\nexport var dependencyViewContainer = 'e-gantt-dependency-view-container';\nexport var connectorLineContainer = 'e-connector-line-container';\nexport var connectorLine = 'e-line';\nexport var connectorLineRightArrow = 'e-connector-line-right-arrow';\nexport var connectorLineLeftArrow = 'e-connector-line-left-arrow';\nexport var connectorLineZIndex = 'e-connector-line-z-index';\nexport var connectorLineHover = 'e-connector-line-hover';\nexport var connectorLineHoverZIndex = 'e-connector-line-hover-z-index';\nexport var connectorLineRightArrowHover = 'e-connector-line-right-arrow-hover';\nexport var connectorLineLeftArrowHover = 'e-connector-line-left-arrow-hover';\nexport var connectorTouchPoint = 'e-connectortouchpoint';\nexport var connectorPointLeft = 'e-connectorpoint-left';\nexport var connectorPointRight = 'e-connectorpoint-right';\nexport var connectorPointLeftHover = 'e-connectorpoint-left-hover';\nexport var connectorPointRightHover = 'e-connectorpoint-right-hover';\nexport var falseLine = 'e-gantt-false-line';\nexport var connectorTooltipTaskName = 'e-tooltiptaskname';\nexport var connectorTooltipFalse = 'e-predecessor-false';\nexport var connectorTooltipTrue = 'e-predecessor-true';\nexport var rightConnectorPointOuterDiv = 'e-right-connectorpoint-outer-div';\nexport var leftConnectorPointOuterDiv = 'e-left-connectorpoint-outer-div';\nexport var connectorPointAllowBlock = 'e-connectorpoint-allow-block';\nexport var ganttTooltip = 'e-gantt-tooltip';\n// Context Menu\nexport var columnHeader = '.e-gridheader';\nexport var content = '.e-content';\nexport var editForm = '.e-gridform';\nexport var deleteIcon = 'e-delete';\nexport var saveIcon = 'e-save';\nexport var cancelIcon = 'e-cancel';\nexport var ascendingIcon = 'e-icon-ascending';\nexport var descendingIcon = 'e-icon-descending';\nexport var editIcon = 'e-edit';\nexport var indentIcon = 'e-indent';\nexport var outdentIcon = 'e-outdent';\nexport var addIcon = 'e-add';\nexport var addAboveIcon = 'e-add-above';\nexport var addBelowIcon = 'e-add-below';\n//Predecessor touch mode\nexport var activeParentTask = 'e-active-parent-task';\nexport var activeChildTask = 'e-active-child-task';\nexport var activeConnectedTask = 'e-active-connected-task';\nexport var touchMode = 'e-predecessor-touch-mode';\n//Over allocation range container\nexport var rangeContainer = 'e-rangecontainer';\nexport var rangeChildContainer = 'e-rg-rangdiv';\nexport var rangeChildMiddleContainer = 'e-rg-middlerangdiv';\n","import { formatUnit, EventHandler, getValue, isNullOrUndefined } from '@syncfusion/ej2-base';\n/**\n * To handle scroll event on chart and from TreeGrid\n *\n * @hidden\n */\nvar ChartScroll = /** @class */ (function () {\n    /**\n     * Constructor for the scrolling.\n     *\n     * @param {Gantt} parent .\n     * @hidden\n     */\n    function ChartScroll(parent) {\n        this.previousScroll = { top: 0, left: 0 };\n        this.parent = parent;\n        this.element = this.parent.ganttChartModule.scrollElement;\n        this.addEventListeners();\n    }\n    /**\n     * Bind event\n     *\n     * @returns {void} .\n     */\n    ChartScroll.prototype.addEventListeners = function () {\n        this.parent.on('grid-scroll', this.gridScrollHandler, this);\n        EventHandler.add(this.element, 'scroll', this.onScroll, this);\n    };\n    /**\n     * Unbind events\n     *\n     * @returns {void} .\n     */\n    ChartScroll.prototype.removeEventListeners = function () {\n        EventHandler.remove(this.element, 'scroll', this.onScroll);\n        this.parent.off('grid-scroll', this.gridScrollHandler);\n    };\n    /**\n     *\n     * @param {object} args .\n     * @returns {void} .\n     */\n    // eslint-disable-next-line\n    ChartScroll.prototype.gridScrollHandler = function (args) {\n        this.element.scrollTop = getValue('top', args);\n        this.isFromTreeGrid = true;\n    };\n    /**\n     * Method to update vertical grid line, holiday, event markers and weekend container's top position on scroll action\n     *\n     * @returns {void} .\n     */\n    ChartScroll.prototype.updateTopPosition = function () {\n        var content = this.parent.treeGrid.element.querySelector('.e-content');\n        var contentScrollTop = content.scrollTop;\n        var scrollTop;\n        if (this.parent.virtualScrollModule && this.parent.enableVirtualization) {\n            var top_1 = this.parent.virtualScrollModule.getTopPosition();\n            scrollTop = contentScrollTop - top_1;\n        }\n        else {\n            scrollTop = contentScrollTop;\n        }\n        if (!isNullOrUndefined(this.parent.dayMarkersModule)) {\n            var holidayContainer = getValue('nonworkingDayRender.holidayContainer', this.parent.dayMarkersModule);\n            var weekendContainer = getValue('nonworkingDayRender.weekendContainer', this.parent.dayMarkersModule);\n            var eventMarkersContainer = getValue('eventMarkerRender.eventMarkersContainer', this.parent.dayMarkersModule);\n            if (holidayContainer) {\n                holidayContainer.style.top = formatUnit(scrollTop);\n            }\n            if (weekendContainer) {\n                weekendContainer.style.top = formatUnit(scrollTop);\n            }\n            if (eventMarkersContainer) {\n                eventMarkersContainer.style.top = formatUnit(scrollTop);\n            }\n        }\n        if (this.parent.chartVerticalLineContainer) {\n            this.parent.chartVerticalLineContainer.style.top = formatUnit(scrollTop);\n        }\n    };\n    /**\n     * Scroll event handler\n     *\n     * @returns {void} .\n     */\n    ChartScroll.prototype.onScroll = function () {\n        var scrollArgs = {};\n        if (this.element.scrollTop !== this.previousScroll.top) {\n            // eslint-disable-next-line\n            !this.isFromTreeGrid ? this.parent.notify('chartScroll', { top: this.element.scrollTop }) : (this.isFromTreeGrid = false);\n            scrollArgs.previousScrollTop = this.previousScroll.top;\n            this.previousScroll.top = this.element.scrollTop;\n            scrollArgs.scrollTop = this.element.scrollTop;\n            scrollArgs.scrollDirection = 'Vertical';\n            scrollArgs.action = 'VerticalScroll';\n            this.updateTopPosition();\n        }\n        if (this.element.scrollLeft !== this.previousScroll.left) {\n            this.parent.ganttChartModule.chartTimelineContainer.scrollLeft = this.element.scrollLeft;\n            scrollArgs.previousScrollLeft = this.previousScroll.left;\n            this.previousScroll.left = this.element.scrollLeft;\n            scrollArgs.scrollLeft = this.element.scrollLeft;\n            scrollArgs.scrollDirection = 'Horizontal';\n            scrollArgs.action = 'HorizontalScroll';\n        }\n        scrollArgs.requestType = 'scroll';\n        this.parent.trigger('actionComplete', scrollArgs);\n    };\n    /**\n     * To set height for chart scroll container\n     *\n     * @param {string | number} height - To set height for scroll container in chart side\n     * @returns {void} .\n     * @private\n     */\n    ChartScroll.prototype.setHeight = function (height) {\n        this.element.style.height = formatUnit(height);\n    };\n    /**\n     * To set width for chart scroll container\n     *\n     * @param {string | number} width - To set width to scroll container\n     * @returns {void} .\n     * @private\n     */\n    ChartScroll.prototype.setWidth = function (width) {\n        this.element.style.width = formatUnit(width);\n    };\n    /**\n     * To set scroll top for chart scroll container\n     *\n     * @param {number} scrollTop - To set scroll top for scroll container\n     * @returns {void} .\n     * @private\n     */\n    ChartScroll.prototype.setScrollTop = function (scrollTop) {\n        this.element.scrollTop = scrollTop;\n    };\n    /**\n     * To set scroll left for chart scroll container\n     *\n     * @param {number} scrollLeft  - To set scroll left for scroll container\n     * @returns {void} .\n     */\n    ChartScroll.prototype.setScrollLeft = function (scrollLeft) {\n        this.element.scrollLeft = scrollLeft;\n        this.parent.ganttChartModule.chartTimelineContainer.scrollLeft = this.element.scrollLeft;\n        this.previousScroll.left = this.element.scrollLeft;\n    };\n    /**\n     * Destroy scroll related elements and unbind the events\n     *\n     * @returns {void} .\n     * @private\n     */\n    ChartScroll.prototype.destroy = function () {\n        this.removeEventListeners();\n    };\n    return ChartScroll;\n}());\nexport { ChartScroll };\n","import { formatUnit, createElement } from '@syncfusion/ej2-base';\n/**\n * virtual Content renderer for Gantt\n */\nvar VirtualContentRenderer = /** @class */ (function () {\n    function VirtualContentRenderer(parent) {\n        this.parent = parent;\n    }\n    /**\n     * To render a wrapper for chart body content when virtualization is enabled.\n     *\n     * @param {number} height .\n     * @returns {void} .\n     * @hidden\n     */\n    VirtualContentRenderer.prototype.renderWrapper = function (height) {\n        this.wrapper = createElement('div', { className: 'e-virtualtable', styles: \"min-height:\" + formatUnit(height) });\n        this.parent.ganttChartModule.chartBodyContent.appendChild(this.wrapper);\n        this.appendChildElements(this.parent.chartRowsModule.taskTable);\n    };\n    /**\n     * To append child elements for wrappered element when virtualization is enabled.\n     *\n     * @param {HTMLElement} element .\n     * @returns {void} .\n     * @hidden\n     */\n    VirtualContentRenderer.prototype.appendChildElements = function (element) {\n        this.wrapper.appendChild(element);\n    };\n    /**\n     * To adjust gantt content table's style when virtualization is enabled\n     *\n     * @returns {void} .\n     * @hidden\n     */\n    VirtualContentRenderer.prototype.adjustTable = function () {\n        var content = this.parent.treeGrid.getContent().querySelector('.e-content').querySelector('.e-virtualtable');\n        this.parent.ganttChartModule.virtualRender.wrapper.style.transform = content.style.transform;\n    };\n    return VirtualContentRenderer;\n}());\nexport { VirtualContentRenderer };\n","import { createElement, formatUnit, EventHandler, Browser, isBlazor, getElement } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined, closest, addClass, removeClass, getValue, setValue } from '@syncfusion/ej2-base';\nimport * as cls from '../base/css-constants';\nimport { ChartScroll } from '../actions/chart-scroll';\nimport { click } from '@syncfusion/ej2-grids';\nimport { VirtualContentRenderer } from '../renderer/virtual-content-render';\n/**\n * module to render gantt chart - project view\n */\nvar GanttChart = /** @class */ (function () {\n    function GanttChart(parent) {\n        this.isExpandCollapseFromChart = false;\n        this.isExpandAll = false;\n        this.isGanttElement = false;\n        this.parent = parent;\n        this.chartTimelineContainer = null;\n        this.rangeViewContainer =\n            createElement('div', { className: cls.rangeContainer });\n        this.virtualRender = new VirtualContentRenderer(this.parent);\n        this.addEventListener();\n    }\n    GanttChart.prototype.addEventListener = function () {\n        this.parent.on('renderPanels', this.renderChartContainer, this);\n        this.parent.on('recordsUpdated', this.renderChartElements, this);\n        this.parent.on('dataReady', this.renderInitialContents, this);\n        this.parent.on('tree-grid-created', this.renderChartContents, this);\n        this.parent.on('destroy', this.destroy, this);\n    };\n    GanttChart.prototype.renderChartContents = function () {\n        this.parent.notify('refreshDayMarkers', {});\n        this.wireEvents();\n    };\n    /**\n     * Method to render top level containers in Gantt chart\n     *\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.renderChartContainer = function () {\n        this.chartElement = createElement('div', { id: this.parent.element.id + 'GanttChart', className: cls.ganttChart });\n        this.parent.chartPane.appendChild(this.chartElement);\n        this.renderTimelineContainer();\n        this.renderBodyContainers();\n        // render top level div header and content\n        // Get timeline header from timeline class file and append to header div\n        // render content div\n        // Render scroll able div\n        // Render container for all element like, table, weekend and holidays\n        // Get rows element from rows renderer class\n        // Get label related info label renderer class\n        // Get baseline from baseline renderer class\n        // Get weekend elements from weekend-holidays renderer class\n    };\n    /**\n     * method to render timeline, holidays, weekends at load time\n     *\n     * @returns {void} .\n     */\n    GanttChart.prototype.renderInitialContents = function () {\n        this.parent.timelineModule.createTimelineSeries();\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.renderOverAllocationContainer = function () {\n        for (var i = 0; i < this.parent.flatData.length; i++) {\n            var data = this.parent.flatData[i];\n            if (data.childRecords.length > 0) {\n                this.parent.dataOperation.updateOverlappingValues(data);\n            }\n        }\n        var rangeContainer = this.parent.element.querySelector('.' + cls.rangeContainer);\n        if (rangeContainer) {\n            rangeContainer.innerHTML = '';\n        }\n        if (this.parent.treeGrid.grid.filterSettings.columns.length === 0) {\n            this.renderRangeContainer(this.parent.flatData);\n        }\n    };\n    GanttChart.prototype.renderChartElements = function () {\n        this.parent.chartRowsModule.renderChartRows();\n        if (this.parent.predecessorModule && this.parent.taskFields.dependency) {\n            this.parent.connectorLineIds = [];\n            this.parent.updatedConnectorLineCollection = [];\n            this.parent.predecessorModule.createConnectorLinesCollection();\n        }\n        this.parent.connectorLineModule.renderConnectorLines(this.parent.updatedConnectorLineCollection);\n        if (this.parent.viewType === 'ResourceView' && this.parent.showOverAllocation) {\n            this.renderOverAllocationContainer();\n        }\n        this.updateWidthAndHeight();\n        this.setOverflowStyle();\n        this.parent.notify('selectRowByIndex', {});\n    };\n    GanttChart.prototype.setOverflowStyle = function () {\n        var content = this.chartBodyContent;\n        content.style.overflow = this.scrollElement.offsetHeight > content.offsetHeight ? 'hidden' : 'visible';\n    };\n    /**\n     * @param {IGanttData[]} records .\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.renderRangeContainer = function (records) {\n        var recordLength = records.length;\n        var count;\n        var ganttRecord;\n        var rangeCollection;\n        if (this.parent.treeGrid.grid.filterSettings.columns.length === 0) {\n            for (count = 0; count < recordLength; count++) {\n                ganttRecord = records[count];\n                rangeCollection = ganttRecord.ganttProperties.workTimelineRanges;\n                if (rangeCollection) {\n                    this.renderRange(rangeCollection, ganttRecord);\n                }\n            }\n        }\n    };\n    GanttChart.prototype.getTopValue = function (currentRecord) {\n        var updatedRecords = this.parent.getExpandedRecords(this.parent.currentViewData);\n        var recordIndex = updatedRecords.indexOf(currentRecord);\n        if (!currentRecord.expanded) {\n            return (recordIndex * this.parent.rowHeight);\n        }\n        return ((recordIndex + 1) * this.parent.rowHeight);\n    };\n    /*get height for range bar*/\n    GanttChart.prototype.getRangeHeight = function (data) {\n        if (!data.expanded && data.hasChildRecords) {\n            return (this.parent.rowHeight - Math.floor((this.parent.rowHeight - this.parent.chartRowsModule.taskBarHeight)));\n        }\n        return (data.childRecords.length * this.parent.rowHeight) -\n            Math.floor((this.parent.rowHeight - this.parent.chartRowsModule.taskBarHeight));\n    };\n    GanttChart.prototype.renderRange = function (rangeCollection, currentRecord) {\n        var topValue = this.getTopValue(currentRecord);\n        var sameIDElement = this.rangeViewContainer.querySelector('.' + 'rangeContainer' + currentRecord.ganttProperties.rowUniqueID);\n        if (sameIDElement) {\n            sameIDElement.remove();\n        }\n        var parentDiv = createElement('div', {\n            className: 'rangeContainer' + currentRecord.ganttProperties.rowUniqueID, styles: \"top:\" + topValue + \"px; position: absolute;\"\n        });\n        if (currentRecord.level === 0 && !currentRecord.expanded && isNullOrUndefined(currentRecord.parentItem)\n            && !this.parent.enableMultiTaskbar) {\n            return;\n        }\n        for (var i = 0; i < rangeCollection.length; i++) {\n            var height = this.getRangeHeight(currentRecord);\n            var leftDiv = createElement('div', {\n                className: cls.rangeChildContainer + ' ' + 'e-leftarc', styles: \"left:\" + rangeCollection[i].left + \"px;\\n                top: \" + Math.floor((this.parent.rowHeight - this.parent.chartRowsModule.taskBarHeight) / 2) + \"px;\\n                height: \" + (height + 1) + \"px; border-right: 0px\"\n            });\n            var rightDiv = createElement('div', {\n                className: cls.rangeChildContainer + ' ' + 'e-rightarc',\n                styles: \"left:\" + (rangeCollection[i].left + rangeCollection[i].width - 5) + \"px;\\n                top: \" + Math.floor((this.parent.rowHeight - this.parent.chartRowsModule.taskBarHeight) / 2) + \"px; height: \" + (height + 1) + \"px;\\n                border-left: 0px\"\n            });\n            parentDiv.appendChild(leftDiv);\n            parentDiv.appendChild(rightDiv);\n            this.rangeViewContainer.appendChild(parentDiv);\n        }\n        this.parent.ganttChartModule.chartBodyContent.appendChild(this.rangeViewContainer);\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.renderTimelineContainer = function () {\n        this.chartTimelineContainer =\n            createElement('div', { className: cls.timelineHeaderContainer });\n        this.chartElement.appendChild(this.chartTimelineContainer);\n    };\n    /**\n     * initiate chart container\n     *\n     * @returns {void} .\n     */\n    GanttChart.prototype.renderBodyContainers = function () {\n        this.chartBodyContainer = createElement('div', { className: cls.chartBodyContainer });\n        this.chartElement.appendChild(this.chartBodyContainer);\n        this.scrollElement = createElement('div', {\n            className: cls.chartScrollElement + ' ' + cls.scrollContent, styles: 'position:relative;'\n        });\n        this.chartBodyContainer.appendChild(this.scrollElement);\n        this.chartBodyContent = createElement('div', { className: cls.chartBodyContent, styles: 'position:relative; ' });\n        this.scrollElement.appendChild(this.chartBodyContent);\n        // this.parent.chartRowsModule.createChartTable();\n        this.scrollObject = new ChartScroll(this.parent);\n        //this.scrollObject.setWidth(this.chartProperties.width);\n        var toolbarHeight = 0;\n        if (!isNullOrUndefined(this.parent.toolbarModule) && !isNullOrUndefined(this.parent.toolbarModule.element)) {\n            toolbarHeight = this.parent.toolbarModule.element.offsetHeight;\n        }\n        this.scrollObject.\n            setHeight(this.parent.ganttHeight - this.chartTimelineContainer.offsetHeight - toolbarHeight);\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.updateWidthAndHeight = function () {\n        //empty row height\n        var emptydivHeight = isBlazor() ? 39 : 36;\n        var emptyHeight = this.parent.contentHeight === 0 ? emptydivHeight : this.parent.contentHeight;\n        this.chartBodyContent.style.height = formatUnit(emptyHeight);\n        //let element: HTMLElement = this.chartTimelineContainer.querySelector('.' + cls.timelineHeaderTableContainer);\n        this.chartBodyContent.style.width = formatUnit(this.parent.timelineModule.totalTimelineWidth);\n        this.parent.notify('updateHeight', {});\n        this.parent.updateGridLineContainerHeight();\n        this.updateLastRowBottomWidth();\n    };\n    /**\n     * Method to update bottom border for chart rows\n     *\n     * @returns {void} .\n     */\n    GanttChart.prototype.updateLastRowBottomWidth = function () {\n        if (this.parent.currentViewData.length > 0 && this.parent.height !== 'auto') {\n            var expandedRecords = this.parent.getExpandedRecords(this.parent.currentViewData);\n            var lastExpandedRow = expandedRecords[expandedRecords.length - 1];\n            var lastExpandedRowIndex = this.parent.currentViewData.indexOf(lastExpandedRow);\n            var lastRow = this.parent.getRowByIndex(lastExpandedRowIndex);\n            var table = this.parent.chartRowsModule.ganttChartTableBody;\n            if (table.querySelectorAll('.e-chart-row-cell.e-chart-row-border.e-lastrow')) {\n                removeClass(table.querySelectorAll('.e-chart-row-cell.e-chart-row-border.e-lastrow'), 'e-lastrow');\n            }\n            if (this.chartBodyContent.clientHeight < this.chartBodyContainer.clientHeight) {\n                if (lastRow) {\n                    addClass(lastRow.querySelectorAll('td'), 'e-lastrow');\n                    this.chartBodyContent.style.height = formatUnit(this.parent.contentHeight + 1);\n                }\n            }\n        }\n    };\n    GanttChart.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off('renderPanels', this.renderChartContainer);\n        this.parent.off('recordsUpdated', this.renderChartElements);\n        this.parent.off('dataReady', this.renderInitialContents);\n        this.parent.off('tree-grid-created', this.renderChartContents);\n        this.parent.off('destroy', this.destroy);\n    };\n    /**\n     * Click event handler in chart side\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     */\n    GanttChart.prototype.ganttChartMouseDown = function (e) {\n        if (e.which !== 3) {\n            this.parent.notify('chartMouseDown', e);\n            this.parent.element.tabIndex = 0;\n        }\n    };\n    GanttChart.prototype.ganttChartMouseClick = function (e) {\n        if (this.parent.autoFocusTasks) {\n            this.scrollToTarget(e); /** Scroll to task */\n        }\n        this.parent.notify('chartMouseClick', e);\n    };\n    GanttChart.prototype.ganttChartMouseUp = function (e) {\n        this.parent.notify('chartMouseUp', e);\n    };\n    /**\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     */\n    GanttChart.prototype.scrollToTarget = function (e) {\n        var row = closest(e.target, 'tr');\n        if (row && this.parent.element.contains(row) &&\n            (this.parent.element.querySelectorAll('.e-chart-rows-container')[0].contains(e.target) ||\n                this.parent.element.querySelectorAll('.e-gridcontent')[0].contains(e.target)) &&\n            this.parent.currentViewData.length > 0) {\n            var rowIndex = getValue('rowIndex', closest(e.target, 'tr'));\n            var dateObject = this.parent.currentViewData[rowIndex].ganttProperties.startDate;\n            if (!isNullOrUndefined(dateObject)) {\n                var left = this.parent.dataOperation.getTaskLeft(dateObject, false);\n                if (this.parent.autoFocusTasks) {\n                    this.updateScrollLeft(left);\n                }\n            }\n        }\n    };\n    /**\n     * To focus selected task in chart side\n     *\n     * @param {number} scrollLeft .\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.updateScrollLeft = function (scrollLeft) {\n        scrollLeft = scrollLeft > 0 ? scrollLeft : 0;\n        scrollLeft = this.scrollElement.scrollWidth <= scrollLeft ? this.scrollElement.scrollWidth : scrollLeft;\n        if ((this.scrollElement.offsetWidth + this.parent.ganttChartModule.scrollElement.scrollLeft) < scrollLeft\n            || (this.scrollElement.scrollLeft > scrollLeft)) {\n            this.scrollObject.setScrollLeft(scrollLeft - 50);\n        }\n    };\n    /**\n     *  Method trigger while perform mouse up action.\n     *\n     * @param {PointerEvent} e .\n     * @returns {void}\n     * @private\n     */\n    GanttChart.prototype.mouseUp = function (e) {\n        if (!this.isGanttElement) {\n            this.parent.notify('chartMouseUp', e);\n        }\n        this.isGanttElement = false;\n    };\n    /**\n     *  Method trigger while perform mouse up action.\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.documentMouseUp = function (e) {\n        this.isGanttElement = true;\n        if (this.parent.allowRowDragAndDrop) {\n            var ganttDragElemet = this.parent.element.querySelector('.e-ganttdrag');\n            if (ganttDragElemet) {\n                ganttDragElemet.remove();\n            }\n        }\n        if (this.parent.isDestroyed || e.which === 3) {\n            return;\n        }\n        var isTaskbarEdited = false;\n        if (this.parent.editSettings.allowTaskbarEditing &&\n            getValue('editModule.taskbarEditModule.isMouseDragged', this.parent) &&\n            getValue('editModule.taskbarEditModule.taskBarEditAction', this.parent)) {\n            isTaskbarEdited = true;\n        }\n        this.parent.notify('chartMouseUp', e);\n        if (this.parent.showActiveElement) {\n            if (this.focusedElement && !e.target.classList.contains('e-split-bar')) {\n                this.focusedElement.tabIndex = this.focusedElement.tabIndex === 0 ? -1 : this.focusedElement.tabIndex;\n                removeClass([this.focusedElement], 'e-active-container');\n            }\n        }\n        if (!isTaskbarEdited) {\n            /** Expand/collapse action */\n            var target = e.target;\n            var isOnTaskbarElement = e.target.classList.contains(cls.taskBarMainContainer)\n                || closest(e.target, '.' + cls.taskBarMainContainer);\n            if (closest(target, '.e-gantt-parent-taskbar')) {\n                this.chartExpandCollapseRequest(e);\n            }\n            else if (!isOnTaskbarElement && this.parent.autoFocusTasks) {\n                this.scrollToTarget(e); /** Scroll to task */\n            }\n        }\n        if (this.parent.editModule && this.parent.editModule.taskbarEditModule) {\n            this.parent.editModule.taskbarEditModule.removeFalseLine(true);\n        }\n        if (!isNullOrUndefined(this.parent.onTaskbarClick) && !isTaskbarEdited) {\n            var target = e.target;\n            var taskbarElement = closest(target, '.e-gantt-parent-taskbar,.e-gantt-child-taskbar,.e-gantt-milestone');\n            if (taskbarElement) {\n                this.onTaskbarClick(e, target, taskbarElement);\n            }\n        }\n    };\n    /**\n     * This event triggered when click on taskbar element\n     *\n     * @param {PointerEvent | KeyboardEventArgs} e .\n     * @param {EventTarget} target .\n     * @param {Element} taskbarElement .\n     * @returns {void}\n     */\n    GanttChart.prototype.onTaskbarClick = function (e, target, taskbarElement) {\n        var chartRow = closest(target, 'tr');\n        var rowIndex = getValue('rowIndex', chartRow);\n        var data = this.getRecordByTarget(e);\n        var args = {\n            data: data,\n            taskbarElement: taskbarElement,\n            rowIndex: rowIndex,\n            target: target\n        };\n        this.parent.trigger('onTaskbarClick', args);\n    };\n    /**\n     *  Method trigger while perform mouse leave action.\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.ganttChartLeave = function (e) {\n        this.parent.notify('chartMouseLeave', e);\n    };\n    /**\n     *  Method trigger while perform mouse move action.\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.ganttChartMove = function (e) {\n        this.parent.notify('chartMouseMove', e);\n        if (!isNullOrUndefined(this.parent.taskFields.dependency) && this.parent.connectorLineEditModule) {\n            this.parent.connectorLineEditModule.updateConnectorLineEditElement(e);\n        }\n    };\n    /**\n     *  Method trigger while perform right click action.\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.contextClick = function (e) {\n        if (this.parent.allowFiltering && this.parent.filterModule) {\n            this.parent.filterModule.closeFilterOnContextClick(e.srcElement);\n        }\n    };\n    /**\n     * Method to trigger while perform mouse move on Gantt.\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.mouseMoveHandler = function (e) {\n        if (!isNullOrUndefined(this.parent.onMouseMove) &&\n            (this.parent.flatData.length ||\n                e.target.classList.contains('e-header-cell-label') ||\n                e.target.classList.contains('e-headercell'))) {\n            var target = e.target;\n            var args = { originalEvent: e };\n            var element = closest(target, '.e-chart-row-cell,.e-connector-line-container,' +\n                '.e-event-markers,.e-header-cell-label,.e-rowcell,.e-headercell,.e-indicator-span');\n            if (element) {\n                var rowData = void 0;\n                var rowElement = closest(target, '.e-rowcell,.e-chart-row-cell');\n                var columnElement = closest(target, '.e-rowcell,.e-headercell');\n                if (rowElement) {\n                    rowData = this.parent.ganttChartModule.getRecordByTarget(e);\n                    args.data = rowData;\n                }\n                if (columnElement) {\n                    var cellIndex = getValue('cellIndex', columnElement);\n                    args.column = this.parent.treeGrid.columns[cellIndex];\n                }\n                if (closest(target, '.e-indicator-span')) {\n                    var index = 0;\n                    var indicators = rowData.ganttProperties.indicators;\n                    if (indicators.length > 1) {\n                        for (index = 0; index < indicators.length; index++) {\n                            if (indicators[index].name === (element.innerText).trim()) {\n                                break;\n                            }\n                        }\n                    }\n                    args.indicator = indicators[index];\n                }\n                if (closest(target, '.e-connector-line-container')) {\n                    var obj = {};\n                    obj.target = element;\n                    args.predecessor = this.parent.tooltipModule.getPredecessorTooltipData(obj);\n                }\n                if (closest(target, '.e-event-markers')) {\n                    var obj = {};\n                    obj.target = element;\n                    args.eventMarkers = this.parent.tooltipModule.getMarkerTooltipData(obj);\n                }\n                if (target.classList.contains('e-header-cell-label')) {\n                    args.date = new Date(target.dataset.content);\n                }\n            }\n            this.parent.trigger('onMouseMove', args);\n        }\n    };\n    /**\n     * Double click handler for chart\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     */\n    GanttChart.prototype.doubleClickHandler = function (e) {\n        this.parent.notify('chartDblClick', e);\n        var target = e.target;\n        var row = closest(target, 'tr');\n        var rowIndex = getValue('rowIndex', row);\n        var rowData = this.parent.ganttChartModule.getRecordByTarget(e);\n        var args = {\n            row: row,\n            rowData: rowData,\n            rowIndex: rowIndex,\n            target: target\n        };\n        this.recordDoubleClick(args);\n    };\n    /**\n     * To trigger record double click event.\n     *\n     * @param {RecordDoubleClickEventArgs} args .\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.recordDoubleClick = function (args) {\n        this.parent.trigger('recordDoubleClick', args);\n    };\n    /**\n     * @param {PointerEvent | KeyboardEventArgs} e .\n     * @returns {IGanttData} .\n     * @private\n     */\n    GanttChart.prototype.getRecordByTarget = function (e) {\n        var ganttData;\n        var row = closest(e.target, 'div.' + cls.taskBarMainContainer);\n        if (!isNullOrUndefined(row)) {\n            var id = row.getAttribute('rowUniqueId');\n            ganttData = this.parent.getRecordByID(id);\n        }\n        else {\n            row = closest(e.target, 'tr');\n            if (row) {\n                var rowIndex = getValue('rowIndex', closest(e.target, 'tr'));\n                ganttData = this.parent.currentViewData[rowIndex];\n            }\n        }\n        return ganttData;\n    };\n    /**\n     * To get gantt chart row elements\n     *\n     * @returns {NodeListOf<Element>} .\n     * @private\n     */\n    GanttChart.prototype.getChartRows = function () {\n        return document.getElementById(this.parent.element.id + 'GanttTaskTableBody').querySelectorAll('.e-chart-row');\n    };\n    /**\n     * Expand Collapse operations from gantt chart side\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.chartExpandCollapseRequest = function (e) {\n        if (this.parent.enableMultiTaskbar) {\n            return;\n        }\n        var target = e.target;\n        var parentElement = closest(target, '.e-gantt-parent-taskbar');\n        var record = this.getRecordByTarget(e);\n        var chartRow = closest(target, 'tr');\n        var rowIndex = getValue('rowIndex', chartRow);\n        var gridRow = this.parent.treeGrid.getRows()[rowIndex];\n        // eslint-disable-next-line\n        var args = { data: record, gridRow: gridRow, chartRow: chartRow, cancel: false };\n        this.isExpandCollapseFromChart = true;\n        if (parentElement.classList.contains('e-row-expand')) {\n            this.collapseGanttRow(args);\n        }\n        else if (parentElement.classList.contains('e-row-collapse')) {\n            this.expandGanttRow(args);\n        }\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.reRenderConnectorLines = function () {\n        this.parent.connectorLineModule.dependencyViewContainer.innerHTML = '';\n        this.parent.connectorLineIds = [];\n        this.parent.updatedConnectorLineCollection = [];\n        this.parent.predecessorModule.createConnectorLinesCollection();\n        this.parent.connectorLineModule.renderConnectorLines(this.parent.updatedConnectorLineCollection);\n    };\n    /**\n     * To collapse gantt rows\n     *\n     * @param {object} args .\n     * @param {boolean} isCancel .\n     * @returns {void} .\n     * @private\n     */\n    // eslint-disable-next-line\n    GanttChart.prototype.collapseGanttRow = function (args, isCancel) {\n        var _this = this;\n        if (isCancel) {\n            this.collapsedGanttRow(args);\n        }\n        else {\n            // eslint-disable-next-line\n            this.parent.trigger('collapsing', args, function (arg) {\n                if (_this.isExpandCollapseFromChart && !getValue('cancel', arg)) {\n                    if (isBlazor()) {\n                        setValue('chartRow', getElement(getValue('chartRow', arg)), arg);\n                        setValue('gridRow', getElement(getValue('gridRow', arg)), arg);\n                    }\n                    _this.collapsedGanttRow(arg);\n                }\n                _this.isExpandCollapseFromChart = false;\n            });\n        }\n    };\n    /**\n     * @returns {void} .\n     * @param {object} args .\n     * @private\n     */\n    // eslint-disable-next-line\n    GanttChart.prototype.collapsedGanttRow = function (args) {\n        var record = getValue('data', args);\n        if (this.isExpandCollapseFromChart) {\n            this.expandCollapseChartRows('collapse', getValue('chartRow', args), record, null);\n            this.parent.treeGrid.collapseRow(getValue('gridRow', args), record);\n            this.isExpandCollapseFromChart = false;\n        }\n        else {\n            this.expandCollapseChartRows('collapse', getValue('chartRow', args), record, null);\n        }\n        // To render the child record on parent row after collapsing\n        if (this.parent.viewType === 'ResourceView') {\n            this.renderMultiTaskbar(record);\n        }\n        if (!this.parent.enableVirtualization) {\n            this.parent.updateContentHeight();\n        }\n        this.updateWidthAndHeight();\n        this.reRenderConnectorLines();\n        getValue('chartRow', args).setAttribute('aria-expanded', 'false');\n        this.parent.trigger('collapsed', args);\n    };\n    /**\n     * To expand gantt rows\n     *\n     * @returns {void} .\n     * @param {object} args .\n     * @param {boolean} isCancel .\n     * @private\n     */\n    // eslint-disable-next-line\n    GanttChart.prototype.expandGanttRow = function (args, isCancel) {\n        var _this = this;\n        if (isCancel) {\n            this.expandedGanttRow(args);\n        }\n        else {\n            // eslint-disable-next-line\n            this.parent.trigger('expanding', args, function (arg) {\n                if (isBlazor()) {\n                    setValue('chartRow', getElement(getValue('chartRow', arg)), arg);\n                    setValue('gridRow', getElement(getValue('gridRow', arg)), arg);\n                }\n                if (_this.isExpandCollapseFromChart && !getValue('cancel', arg)) {\n                    _this.expandedGanttRow(arg);\n                }\n                _this.isExpandCollapseFromChart = false;\n            });\n        }\n    };\n    /**\n     * @returns {void} .\n     * @param {object} args .\n     * @private\n     */\n    // eslint-disable-next-line\n    GanttChart.prototype.expandedGanttRow = function (args) {\n        var record = getValue('data', args);\n        if (this.isExpandCollapseFromChart) {\n            this.expandCollapseChartRows('expand', getValue('chartRow', args), record, null);\n            this.parent.treeGrid.expandRow(getValue('gridRow', args), record);\n            this.isExpandCollapseFromChart = false;\n        }\n        else {\n            this.expandCollapseChartRows('expand', getValue('chartRow', args), record, null);\n        }\n        // To render the child record on parent row after expanding.\n        if (this.parent.viewType === 'ResourceView') {\n            this.renderMultiTaskbar(record);\n        }\n        if (!this.parent.enableVirtualization) {\n            this.parent.updateContentHeight();\n        }\n        this.updateWidthAndHeight();\n        this.reRenderConnectorLines();\n        getValue('chartRow', args).setAttribute('aria-expanded', 'true');\n        this.parent.trigger('expanded', args);\n    };\n    GanttChart.prototype.renderMultiTaskbar = function (record) {\n        if (this.parent.enableMultiTaskbar) {\n            this.parent.chartRowsModule.refreshRecords([record], true);\n        }\n        else if (this.parent.showOverAllocation) {\n            this.parent.ganttChartModule.renderRangeContainer(this.parent.currentViewData);\n        }\n    };\n    /**\n     * On expand collapse operation row properties will be updated here.\n     *\n     * @param {string} action .\n     * @param {Node} rowElement .\n     * @param {IGanttData} record .\n     * @param {boolean} isChild .\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.expandCollapseChartRows = function (action, rowElement, record, isChild) {\n        var displayType;\n        if (action === 'expand') {\n            displayType = 'table-row';\n            if (!isChild) {\n                record.expanded = true;\n            }\n            var targetElement = rowElement.querySelectorAll('.e-row-collapse');\n            for (var t = 0; t < targetElement.length; t++) {\n                addClass([targetElement[t]], 'e-row-expand');\n                removeClass([targetElement[t]], 'e-row-collapse');\n            }\n        }\n        else if (action === 'collapse') {\n            displayType = 'none';\n            if (!isChild) {\n                record.expanded = false;\n            }\n            var targetElement = rowElement.querySelectorAll('.e-row-expand');\n            for (var t = 0; t < targetElement.length; t++) {\n                addClass([targetElement[t]], 'e-row-collapse');\n                removeClass([targetElement[t]], 'e-row-expand');\n            }\n        }\n        var childRecords = record.childRecords;\n        var chartRows = this.getChartRows();\n        var rows = [];\n        for (var i = 0; i < chartRows.length; i++) {\n            if (chartRows[i].classList.contains('gridrowtaskId'\n                + record.ganttProperties.rowUniqueID + 'level' + (record.level + 1))) {\n                rows.push(chartRows[i]);\n            }\n        }\n        for (var i = 0; i < rows.length; i++) {\n            rows[i].style.display = displayType;\n            if ((childRecords[i].childRecords && childRecords[i].childRecords.length)\n                && (action === 'collapse' || childRecords[i].expanded || this.isExpandAll)) {\n                this.expandCollapseChartRows(action, rows[i], childRecords[i], true);\n            }\n        }\n    };\n    /**\n     * Public method to expand or collapse all the rows of Gantt\n     *\n     * @returns {void}\n     * @param {string} action .\n     * @private\n     */\n    GanttChart.prototype.expandCollapseAll = function (action) {\n        if (action === 'expand') {\n            this.isExpandAll = true;\n            this.parent.treeGrid.expandAll();\n        }\n        else {\n            this.parent.treeGrid.collapseAll();\n        }\n        this.isExpandAll = false;\n        var focussedElement = this.parent.element.querySelector('.e-treegrid');\n        focussedElement.focus();\n    };\n    /**\n     * Public method to expand particular level of rows.\n     *\n     * @returns {void} .\n     * @param {number} level .\n     * @private\n     */\n    GanttChart.prototype.expandAtLevel = function (level) {\n        this.parent.treeGrid.expandAtLevel(level);\n    };\n    /**\n     * Public method to collapse particular level of rows.\n     *\n     * @returns {void} .\n     * @param {number} level .\n     * @private\n     */\n    GanttChart.prototype.collapseAtLevel = function (level) {\n        this.parent.treeGrid.collapseAtLevel(level);\n    };\n    /**\n     * Event Binding for gantt chart click\n     *\n     * @returns {void} .\n     */\n    GanttChart.prototype.wireEvents = function () {\n        var isIE11Pointer = Browser.isPointer; // eslint-disable-line\n        var mouseDown = Browser.touchStartEvent;\n        var mouseUp = Browser.touchEndEvent;\n        var mouseMove = Browser.touchMoveEvent;\n        var cancel = isIE11Pointer ? 'pointerleave' : 'mouseleave';\n        if (this.parent.editSettings.allowTaskbarEditing) {\n            EventHandler.add(this.parent.chartPane, mouseDown, this.ganttChartMouseDown, this);\n            EventHandler.add(this.parent.chartPane, cancel, this.ganttChartLeave, this);\n            EventHandler.add(this.parent.chartPane, mouseMove, this.ganttChartMove, this);\n            if (this.parent.isAdaptive) {\n                EventHandler.add(this.parent.chartPane, click, this.ganttChartMouseClick, this);\n                EventHandler.add(this.parent.chartPane, mouseUp, this.ganttChartMouseUp, this);\n            }\n        }\n        if (!this.parent.isAdaptive) {\n            EventHandler.add(this.parent.element, mouseUp, this.documentMouseUp, this);\n            EventHandler.add(document, mouseUp, this.mouseUp, this);\n        }\n        EventHandler.add(this.parent.element, 'mousemove', this.mouseMoveHandler, this);\n        EventHandler.add(document.body, 'contextmenu', this.contextClick, this);\n        EventHandler.add(document, 'mouseup', this.contextClick, this);\n        EventHandler.add(this.parent.chartRowsModule.ganttChartTableBody, 'dblclick', this.doubleClickHandler, this);\n    };\n    GanttChart.prototype.unWireEvents = function () {\n        var isIE11Pointer = Browser.isPointer; // eslint-disable-line\n        var mouseDown = Browser.touchStartEvent;\n        var mouseUp = Browser.touchEndEvent;\n        var mouseMove = Browser.touchMoveEvent;\n        var cancel = isIE11Pointer ? 'pointerleave' : 'mouseleave';\n        if (this.parent.editSettings.allowTaskbarEditing) {\n            EventHandler.remove(this.parent.chartRowsModule.ganttChartTableBody, mouseDown, this.ganttChartMouseDown);\n            EventHandler.remove(this.parent.chartPane, cancel, this.ganttChartLeave);\n            EventHandler.remove(this.parent.chartPane, mouseMove, this.ganttChartMove);\n            if (this.parent.isAdaptive) {\n                EventHandler.remove(this.parent.chartPane, click, this.ganttChartMouseClick);\n                EventHandler.remove(this.parent.chartPane, mouseUp, this.ganttChartMouseUp);\n            }\n        }\n        if (!this.parent.isAdaptive) {\n            EventHandler.remove(this.parent.element, mouseUp, this.documentMouseUp);\n            EventHandler.remove(document, mouseUp, this.mouseUp);\n        }\n        EventHandler.remove(this.parent.element, 'mousemove', this.mouseMoveHandler);\n        EventHandler.remove(document.body, 'contextmenu', this.contextClick);\n        EventHandler.remove(document, 'mouseup', this.contextClick);\n        EventHandler.remove(this.parent.chartRowsModule.ganttChartTableBody, 'dblclick', this.doubleClickHandler);\n    };\n    /**\n     * To get record by taskbar element.\n     *\n     * @param {Element} target .\n     * @returns {IGanttData} .\n     * @private\n     */\n    GanttChart.prototype.getRecordByTaskBar = function (target) {\n        var item = this.parent.currentViewData[this.getIndexByTaskBar(target)];\n        return item;\n    };\n    /**\n     * Trigger Tab & Shift + Tab keypress to highlight active element.\n     *\n     * @param {KeyboardEventArgs} e .\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.onTabAction = function (e) {\n        this.parent.treeGrid.grid.enableHeaderFocus = this.parent.enableHeaderFocus;\n        var isInEditedState = this.parent.editModule && this.parent.editModule.cellEditModule &&\n            this.parent.editModule.cellEditModule.isCellEdit;\n        if (!this.parent.showActiveElement && !isInEditedState) {\n            return;\n        }\n        var $target = isInEditedState ? e.target.closest('.e-rowcell') : e.target;\n        if ($target.closest('.e-rowcell') || $target.closest('.e-chart-row')) {\n            this.parent.focusModule.setActiveElement($target);\n        }\n        /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n        this.focusedRowIndex = $target.closest('.e-rowcell') ? $target.parentElement.rowIndex :\n            /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n            $target.closest('.e-chart-row') ? $target.closest('.e-chart-row').rowIndex : -1;\n        var isTab = (e.action === 'tab') ? true : false;\n        var nextElement = this.getNextElement($target, isTab, isInEditedState);\n        if (nextElement === 'noNextRow') {\n            this.manageFocus($target, 'remove', true);\n            return;\n        }\n        if (typeof nextElement !== 'string') {\n            if ($target.classList.contains('e-rowcell') || $target.closest('.e-chart-row-cell') ||\n                $target.classList.contains('e-headercell') || $target.closest('.e-segmented-taskbar')) {\n                e.preventDefault();\n            }\n            if ($target.classList.contains('e-rowcell') && (nextElement && nextElement.classList.contains('e-rowcell')) ||\n                $target.classList.contains('e-headercell')) {\n                if (isTab) {\n                    if (this.parent.editSettings.allowNextRowEdit) {\n                        var rowData = this.parent.currentViewData[this.focusedRowIndex];\n                        var columnName = this.parent.ganttColumns[nextElement.getAttribute('aria-colindex')].field;\n                        if (rowData.hasChildRecords) {\n                            if (columnName === this.parent.taskFields.endDate || columnName ===\n                                this.parent.taskFields.duration || columnName === this.parent.taskFields.dependency ||\n                                columnName === this.parent.taskFields.progress || columnName === this.parent.taskFields.work ||\n                                columnName === 'taskType') {\n                                this.parent.treeGrid.grid.endEdit();\n                                this.parent.treeGrid.grid.notify('key-pressed', e);\n                            }\n                            else if (columnName === this.parent.taskFields.name || columnName === this.parent.taskFields.startDate) {\n                                this.parent.treeGrid.grid.notify('key-pressed', e);\n                            }\n                            else {\n                                this.parent.treeGrid.grid.notify('key-pressed', e);\n                                this.parent.treeGrid.editCell(this.focusedRowIndex, columnName);\n                            }\n                        }\n                        else {\n                            this.parent.treeGrid.grid.notify('key-pressed', e);\n                        }\n                    }\n                    else {\n                        this.parent.treeGrid.grid.notify('key-pressed', e);\n                    }\n                }\n                else {\n                    this.parent.treeGrid.grid.notify('key-pressed', e);\n                }\n            }\n            if (!this.parent.editModule.cellEditModule.isCellEdit) {\n                if (nextElement) {\n                    if ($target.classList.contains('e-rowcell')) {\n                        this.manageFocus($target, 'remove', false);\n                    }\n                    else {\n                        this.manageFocus($target, 'remove', true);\n                    }\n                    if (nextElement.classList.contains('e-rowcell')) {\n                        if (!$target.classList.contains('e-rowcell')) {\n                            this.parent.treeGrid.grid.notify('key-pressed', e);\n                            var fmodule = getValue('focusModule', this.parent.treeGrid.grid);\n                            fmodule.currentInfo.element = nextElement;\n                            fmodule.currentInfo.elementToFocus = nextElement;\n                            /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n                            fmodule.content.matrix.current = [nextElement.parentElement.rowIndex, nextElement.cellIndex];\n                        }\n                        this.manageFocus(nextElement, 'add', false);\n                    }\n                    else {\n                        this.manageFocus(nextElement, 'add', true);\n                    }\n                    this.parent.focusModule.setActiveElement(nextElement);\n                }\n            }\n        }\n    };\n    /**\n     * Get next/previous sibling element.\n     *\n     * @param {Element} $target .\n     * @param {boolean} isTab .\n     * @param {boolean} isInEditedState .\n     * @returns {Element | string} .\n     */\n    GanttChart.prototype.getNextElement = function ($target, isTab, isInEditedState) {\n        var nextElement = isTab ? $target.nextElementSibling : $target.previousElementSibling;\n        while (nextElement && nextElement.parentElement.classList.contains('e-row')) {\n            if (!nextElement.matches('.e-hide') && !nextElement.matches('.e-rowdragdrop')) {\n                return nextElement;\n            }\n            nextElement = isTab ? nextElement.nextElementSibling : nextElement.previousElementSibling;\n        }\n        if (!isNullOrUndefined(nextElement) && (nextElement.classList.contains('e-taskbar-main-container')\n            || nextElement.classList.contains('e-right-connectorpoint-outer-div'))) {\n            var record = this.parent.currentViewData[this.focusedRowIndex];\n            if (!isNullOrUndefined(record.ganttProperties.segments) && record.ganttProperties.segments.length > 0) {\n                nextElement = nextElement.classList.contains('e-right-connectorpoint-outer-div')\n                    ? nextElement.parentElement.nextElementSibling\n                    : nextElement.getElementsByClassName('e-gantt-child-taskbar-inner-div')[0];\n            }\n        }\n        if (this.validateNextElement(nextElement)) {\n            return nextElement;\n        }\n        else {\n            var rowIndex = -1;\n            var rowElement = null;\n            var childElement = void 0;\n            if ($target.classList.contains('e-rowcell') && isInEditedState && this.parent.editSettings.allowNextRowEdit) {\n                /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n                rowIndex = $target.parentElement.rowIndex;\n                rowElement = this.getNextRowElement(rowIndex, isTab, true);\n                childElement = this.getChildElement(rowElement, isTab);\n                return childElement;\n            }\n            else if ($target.classList.contains('e-rowcell')) {\n                /* tslint:disable-next-line:no-any */\n                rowIndex = $target.parentElement.rowIndex;\n                if (isTab) {\n                    rowElement = this.parent.getRowByIndex(rowIndex);\n                    if (this.validateNextElement(rowElement, 'e-left-label-container')) {\n                        return rowElement.getElementsByClassName('e-left-label-container')[0];\n                    }\n                    else if (this.validateNextElement(rowElement, 'e-taskbar-main-container')) {\n                        return rowElement.getElementsByClassName('e-taskbar-main-container')[0];\n                    }\n                    else if (this.validateNextElement(rowElement, 'e-right-label-container')) {\n                        return rowElement.getElementsByClassName('e-right-label-container')[0];\n                    }\n                }\n                else {\n                    rowElement = this.getNextRowElement(rowIndex, isTab, false);\n                    if (this.validateNextElement(rowElement, 'e-right-label-container')) {\n                        return rowElement.getElementsByClassName('e-right-label-container')[0];\n                    }\n                    else if (this.validateNextElement(rowElement, 'e-taskbar-main-container')) {\n                        return rowElement.getElementsByClassName('e-taskbar-main-container')[0];\n                    }\n                    else if (this.validateNextElement(rowElement, 'e-left-label-container')) {\n                        return rowElement.getElementsByClassName('e-left-label-container')[0];\n                    }\n                }\n            }\n            else if ($target.parentElement.classList.contains('e-chart-row-cell') ||\n                $target.parentElement.parentElement.classList.contains('e-chart-row-cell')) {\n                var childElement_1;\n                /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n                rowIndex = closest($target, '.e-chart-row').rowIndex;\n                if (isTab) {\n                    rowElement = this.getNextRowElement(rowIndex, isTab, true);\n                }\n                else {\n                    rowElement = this.parent.treeGrid.grid.getRowByIndex(rowIndex);\n                }\n                childElement_1 = this.getChildElement(rowElement, isTab);\n                return childElement_1;\n            }\n        }\n        return null;\n    };\n    /**\n     * Get next/previous row element.\n     *\n     * @param {number} rowIndex .\n     * @param {boolean} isTab .\n     * @param {boolean} isChartRow .\n     * @returns {Element} .\n     */\n    GanttChart.prototype.getNextRowElement = function (rowIndex, isTab, isChartRow) {\n        var expandedRecords = this.parent.getExpandedRecords(this.parent.currentViewData);\n        var currentItem = this.parent.currentViewData[rowIndex];\n        var expandedRecordIndex = expandedRecords.indexOf(currentItem);\n        var nextRecord = isTab ? expandedRecords[expandedRecordIndex + 1] : expandedRecords[expandedRecordIndex - 1];\n        var nextRowIndex = this.parent.currentViewData.indexOf(nextRecord);\n        if (nextRecord) {\n            return isChartRow ? this.parent.treeGrid.grid.getRowByIndex(nextRowIndex) : this.parent.getRowByIndex(nextRowIndex);\n        }\n        else {\n            return null;\n        }\n    };\n    /**\n     * Validate next/previous sibling element haschilds.\n     *\n     * @param {Element} $target .\n     * @param {string} className .\n     * @returns {boolean} .\n     */\n    GanttChart.prototype.validateNextElement = function ($target, className) {\n        if ($target && $target.classList.contains('e-rowcell')) {\n            return true;\n        }\n        if ($target && className) {\n            var elementByClass = $target.getElementsByClassName(className)[0];\n            return (elementByClass && elementByClass.hasChildNodes()) ? true : false;\n        }\n        else if ($target) {\n            return (!isNullOrUndefined($target) && $target.hasChildNodes()) ? true : false;\n        }\n        return false;\n    };\n    /**\n     * Getting child element based on row element.\n     * @param {Element} rowElement .\n     * @param {boolean} isTab .\n     * @returns {Element | string} .\n     */\n    GanttChart.prototype.getChildElement = function (rowElement, isTab) {\n        var childElement;\n        if (rowElement) {\n            childElement = isTab ? rowElement.children[0] : rowElement.children[rowElement.children.length - 1];\n            while (childElement) {\n                if (!childElement.matches('.e-hide') && !childElement.matches('.e-rowdragdrop')) {\n                    return childElement;\n                }\n                childElement = isTab ? childElement.nextElementSibling : childElement.previousElementSibling;\n            }\n        }\n        else {\n            return 'noNextRow';\n        }\n        return childElement;\n    };\n    /**\n     * Add/Remove active element.\n     *\n     * @private\n     * @param {HTMLElement} element .\n     * @param {string} focus .\n     * @param {boolean} isChartElement .\n     * @returns {void} .\n     */\n    GanttChart.prototype.manageFocus = function (element, focus, isChartElement) {\n        if (isChartElement) {\n            var childElement = null;\n            if (element.classList.contains('e-left-label-container') ||\n                element.classList.contains('e-right-label-container')) {\n                childElement = element.getElementsByTagName('span')[0];\n            }\n            else if (element.classList.contains('e-taskbar-main-container')\n                || element.classList.contains('e-gantt-child-taskbar-inner-div')) {\n                /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n                var rowIndex = closest(element, '.e-chart-row').rowIndex;\n                var data = this.parent.currentViewData[rowIndex];\n                var className = data.hasChildRecords ? data.ganttProperties.isAutoSchedule ? 'e-gantt-parent-taskbar' :\n                    'e-manualparent-main-container' :\n                    data.ganttProperties.isMilestone ? 'e-gantt-milestone' : !isNullOrUndefined(data.ganttProperties.segments)\n                        && data.ganttProperties.segments.length > 0 ? 'e-segmented-taskbar' : 'e-gantt-child-taskbar';\n                childElement = element.getElementsByClassName(className)[0];\n                if (isNullOrUndefined(childElement)) {\n                    childElement = element;\n                }\n            }\n            if (focus === 'add' && !isNullOrUndefined(childElement)) {\n                element.setAttribute('tabIndex', '0');\n                addClass([childElement], 'e-active-container');\n                element.focus();\n                this.focusedElement = childElement;\n            }\n            else if (!isNullOrUndefined(childElement)) {\n                removeClass([childElement], 'e-active-container');\n                element.setAttribute('tabIndex', '-1');\n                element.blur();\n            }\n        }\n        else {\n            if (focus === 'add') {\n                element.setAttribute('tabIndex', '0');\n                addClass([element], ['e-focused', 'e-focus']);\n                element.focus();\n            }\n            else {\n                element.setAttribute('tabIndex', '-1');\n                removeClass([element], ['e-focused', 'e-focus']);\n                element.blur();\n            }\n        }\n    };\n    /**\n     * To get index by taskbar element.\n     *\n     * @param {Element} target .\n     * @returns {number} .\n     * @private\n     */\n    GanttChart.prototype.getIndexByTaskBar = function (target) {\n        var row;\n        var recordIndex;\n        if (!target.classList.contains(cls.taskBarMainContainer)) {\n            row = closest(target, 'div.' + cls.taskBarMainContainer);\n        }\n        else {\n            row = target;\n        }\n        if (isNullOrUndefined(row)) {\n            row = closest(target, 'tr.' + cls.chartRow);\n            recordIndex = [].slice.call(this.parent.chartRowsModule.ganttChartTableBody.childNodes).indexOf(row);\n        }\n        else {\n            var id = row.getAttribute('rowUniqueId');\n            var record = this.parent.getRecordByID(id);\n            recordIndex = this.parent.currentViewData.indexOf(record);\n        }\n        return recordIndex;\n    };\n    GanttChart.prototype.destroy = function () {\n        this.removeEventListener();\n        this.unWireEvents();\n        this.scrollObject.destroy();\n        this.scrollObject = null;\n    };\n    return GanttChart;\n}());\nexport { GanttChart };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { createElement, isNullOrUndefined, getValue, addClass, removeClass, extend } from '@syncfusion/ej2-base';\nimport * as cls from '../base/css-constants';\nimport { DataUtil } from '@syncfusion/ej2-data';\n/**\n * Configures the `Timeline` of the gantt.\n */\nvar Timeline = /** @class */ (function () {\n    function Timeline(ganttObj) {\n        this.isZoomIn = false;\n        this.isZooming = false;\n        this.isZoomToFit = false;\n        this.topTierCollection = [];\n        this.bottomTierCollection = [];\n        this.parent = ganttObj;\n        this.initProperties();\n    }\n    /**\n     * To initialize the public property.\n     *\n     * @returns {void}\n     * @private\n     */\n    Timeline.prototype.initProperties = function () {\n        this.timelineStartDate = null;\n        this.timelineEndDate = null;\n        this.totalTimelineWidth = 0;\n        this.customTimelineSettings = null;\n        this.parent.isTimelineRoundOff = this.isZoomToFit ? false : isNullOrUndefined(this.parent.projectStartDate) ? true : false;\n    };\n    /**\n     * To render timeline header series.\n     *\n     * @returns {void}\n     * @private\n     */\n    Timeline.prototype.validateTimelineProp = function () {\n        this.roundOffDays();\n        this.processTimelineProperty();\n        this.timelineWidthCalculation();\n    };\n    /**\n     * Function used to refresh Gantt rows.\n     *\n     * @returns {void}\n     * @private\n     */\n    Timeline.prototype.refreshTimeline = function () {\n        this.initProperties();\n        this.processTimelineUnit();\n        this.parent.dataOperation.calculateProjectDates();\n        this.parent.updateProjectDates(this.parent.cloneProjectStartDate, this.parent.cloneProjectEndDate, this.parent.isTimelineRoundOff);\n    };\n    /**\n     * Function used to refresh Gantt rows.\n     *\n     * @returns {void}\n     * @private\n     */\n    Timeline.prototype.refreshTimelineByTimeSpan = function () {\n        this.validateTimelineProp();\n        this.parent.ganttChartModule.chartTimelineContainer.innerHTML = '';\n        this.createTimelineSeries();\n    };\n    /**\n     * Function used to refresh Gantt rows.\n     *\n     * @returns {void}\n     * @private\n     */\n    Timeline.prototype.updateChartByNewTimeline = function () {\n        this.parent.chartRowsModule.refreshChartByTimeline();\n        this.parent.notify('refreshDayMarkers', {});\n    };\n    /**\n     * Function used to perform Zoomin and Zoomout actions in Gantt control.\n     *\n     * @param {boolean} isZoomIn .\n     * @private\n     * @returns {void}\n     */\n    Timeline.prototype.processZooming = function (isZoomIn) {\n        this.isZoomToFit = false;\n        if (!isNullOrUndefined(this.parent.zoomingProjectStartDate)) {\n            this.parent.cloneProjectStartDate = this.parent.cloneProjectStartDate.getTime() < this.parent.zoomingProjectStartDate.getTime()\n                ? this.parent.cloneProjectStartDate : this.parent.zoomingProjectStartDate;\n            this.parent.cloneProjectEndDate = this.parent.cloneProjectEndDate.getTime() > this.parent.zoomingProjectEndDate.getTime()\n                ? this.parent.cloneProjectEndDate : this.parent.zoomingProjectEndDate;\n        }\n        this.parent.zoomingProjectStartDate = null;\n        this.parent.zoomingProjectEndDate = null;\n        var currentZoomingLevel = this.checkCurrentZoomingLevel();\n        this.isZoomIn = isZoomIn;\n        this.isZooming = true;\n        var currentLevel = isZoomIn ? currentZoomingLevel + 1 : currentZoomingLevel - 1;\n        if (this.parent.toolbarModule) {\n            if (isZoomIn) {\n                if (currentLevel === this.parent.zoomingLevels[this.parent.zoomingLevels.length - 1].level) {\n                    this.parent.toolbarModule.enableItems([this.parent.controlId + '_zoomin'], false); // disable toolbar items.\n                }\n                else {\n                    this.parent.toolbarModule.enableItems([this.parent.controlId + '_zoomout'], true); // disable toolbar items.\n                }\n            }\n            else {\n                if (currentLevel === this.parent.zoomingLevels[0].level) {\n                    this.parent.toolbarModule.enableItems([this.parent.controlId + '_zoomout'], false); // disable toolbar items.\n                }\n                else {\n                    this.parent.toolbarModule.enableItems([this.parent.controlId + '_zoomin'], true); // enable toolbar items.\n                }\n            }\n        }\n        var newTimeline = this.parent.zoomingLevels[currentLevel];\n        var args = {\n            requestType: isZoomIn ? 'beforeZoomIn' : 'beforeZoomOut',\n            timeline: newTimeline,\n            cancel: false\n        };\n        this.parent.trigger('actionBegin', args);\n        if (!args.cancel) {\n            newTimeline = args.timeline;\n            this.changeTimelineSettings(newTimeline);\n        }\n    };\n    /**\n     * To change the timeline settings property values based upon the Zooming levels.\n     *\n     * @param {ZoomTimelineSettings} newTimeline .\n     * @returns {void}\n     * @private\n     */\n    Timeline.prototype.changeTimelineSettings = function (newTimeline) {\n        var _this = this;\n        var skipProperty = this.isSingleTier ?\n            this.customTimelineSettings.topTier.unit === 'None' ?\n                'topTier' : 'bottomTier' : null;\n        Object.keys(this.customTimelineSettings).forEach(function (property) {\n            if (property !== skipProperty) {\n                _this.customTimelineSettings[property] = (typeof newTimeline[property] === 'object'\n                    && !isNullOrUndefined(newTimeline[property])) ? __assign({}, newTimeline[property]) : newTimeline[property];\n            }\n            else {\n                var value = property === 'topTier' ? 'bottomTier' : 'topTier';\n                var assignValue = 'bottomTier';\n                _this.customTimelineSettings[value] = __assign({}, newTimeline[assignValue]);\n            }\n        });\n        this.parent.isTimelineRoundOff = this.isZoomToFit ? false : isNullOrUndefined(this.parent.projectStartDate) ? true : false;\n        this.processTimelineUnit();\n        this.parent.updateProjectDates(this.parent.cloneProjectStartDate, this.parent.cloneProjectEndDate, this.parent.isTimelineRoundOff);\n        if (this.isZooming || this.isZoomToFit) {\n            var args = {\n                requestType: this.isZoomIn ? 'AfterZoomIn' : this.isZoomToFit ? 'AfterZoomToProject' : 'AfterZoomOut',\n                timeline: this.parent.currentZoomingLevel\n            };\n            this.parent.trigger('actionComplete', args);\n        }\n    };\n    /**\n     * To perform the zoom to fit operation in Gantt.\n     *\n     * @returns {void}\n     * @private\n     */\n    Timeline.prototype.processZoomToFit = function () {\n        this.isZoomToFit = true;\n        this.isZooming = false;\n        if (!this.parent.zoomingProjectStartDate) {\n            this.parent.zoomingProjectStartDate = this.parent.cloneProjectStartDate;\n            this.parent.zoomingProjectEndDate = this.parent.cloneProjectEndDate;\n        }\n        this.parent.dataOperation.calculateProjectDates();\n        var timeDifference = (this.parent.cloneProjectEndDate.getTime() - this.parent.cloneProjectStartDate.getTime());\n        var totalDays = (timeDifference / (1000 * 3600 * 24));\n        var chartWidth = this.parent.ganttChartModule.chartElement.offsetWidth;\n        var perDayWidth = chartWidth / totalDays;\n        var zoomingLevel;\n        var firstValue;\n        var secondValue;\n        var zoomingCollections = this.parent.zoomingLevels.slice();\n        var sortedCollectons = zoomingCollections.sort(function (a, b) {\n            return (a.perDayWidth < b.perDayWidth) ? 1 : -1;\n        });\n        if (perDayWidth === 0) { // return when the Gantt chart is not in viewable state.\n            return;\n        }\n        for (var i = 0; i < sortedCollectons.length; i++) {\n            firstValue = sortedCollectons[i];\n            if (i === sortedCollectons.length - 1) {\n                zoomingLevel = sortedCollectons[i];\n                break;\n            }\n            else {\n                secondValue = sortedCollectons[i + 1];\n            }\n            if (perDayWidth >= firstValue.perDayWidth) {\n                zoomingLevel = sortedCollectons[i];\n                break;\n            }\n            if (perDayWidth < firstValue.perDayWidth && perDayWidth > secondValue.perDayWidth) {\n                zoomingLevel = sortedCollectons[i + 1];\n                break;\n            }\n        }\n        var newTimeline = extend({}, {}, zoomingLevel, true);\n        this.roundOffDateToZoom(this.parent.cloneProjectStartDate, true, perDayWidth, newTimeline.bottomTier.unit);\n        this.roundOffDateToZoom(this.parent.cloneProjectEndDate, false, perDayWidth, newTimeline.bottomTier.unit);\n        var numberOfCells = this.calculateNumberOfTimelineCells(newTimeline);\n        var scrollHeight = this.parent.ganttChartModule.scrollElement.offsetHeight - 17; //17 is horizontal scrollbar width\n        var contentHeight = this.parent.ganttChartModule.chartBodyContent.offsetHeight;\n        var emptySpace = contentHeight <= scrollHeight ? 0 : 17;\n        newTimeline.timelineUnitSize = Math.abs((chartWidth - emptySpace)) / numberOfCells;\n        var args = {\n            requestType: 'beforeZoomToProject',\n            timeline: newTimeline\n        };\n        if (this.parent.toolbarModule) {\n            this.parent.toolbarModule.enableItems([this.parent.controlId + '_zoomin', this.parent.controlId + '_zoomout'], true);\n        }\n        this.parent.trigger('actionBegin', args);\n        this.changeTimelineSettings(newTimeline);\n    };\n    Timeline.prototype.roundOffDateToZoom = function (date, isStartDate, perDayWidth, tierMode) {\n        var width = tierMode === 'Month' || tierMode === 'Year' ? 60 : 20;\n        var roundOffTime = (width / perDayWidth) * (24 * 60 * 60 * 1000);\n        if (isStartDate) {\n            date.setTime(date.getTime() - roundOffTime);\n        }\n        else {\n            date.setTime(date.getTime() + roundOffTime);\n        }\n        if (tierMode === 'Hour') {\n            date.setMinutes(isStartDate ? -120 : 120);\n        }\n        else if (tierMode === 'Minutes') {\n            date.setSeconds(isStartDate ? -120 : 120);\n        }\n        else {\n            date.setHours(isStartDate ? -48 : 48, 0, 0, 0);\n        }\n    };\n    Timeline.prototype.calculateNumberOfTimelineCells = function (newTimeline) {\n        var numberOfDays = Math.abs((this.parent.cloneProjectEndDate.getTime() -\n            this.parent.cloneProjectStartDate.getTime()) / (24 * 60 * 60 * 1000));\n        var count = newTimeline.bottomTier.count;\n        var unit = newTimeline.bottomTier.unit;\n        if (unit === 'Day') {\n            return numberOfDays / count;\n        }\n        else if (unit === 'Week') {\n            return (numberOfDays / count) / 7;\n        }\n        else if (unit === 'Month') {\n            return (numberOfDays / count) / 28;\n        }\n        else if (unit === 'Year') {\n            return (numberOfDays / count) / (12 * 28);\n        }\n        else if (unit === 'Hour') {\n            return numberOfDays * (24 / count);\n        }\n        else {\n            return numberOfDays * ((60 * 24) / count);\n        }\n    };\n    /**\n     * To validate time line unit.\n     *\n     * @returns {void}\n     * @private\n     */\n    Timeline.prototype.processTimelineUnit = function () {\n        var directProperty = ['timelineViewMode', 'timelineUnitSize', 'weekStartDay', 'weekendBackground'];\n        // eslint-disable-next-line\n        var innerProperty = {\n            'topTier': ['unit', 'format', 'count', 'formatter'],\n            'bottomTier': ['unit', 'format', 'count', 'formatter']\n        };\n        var tierUnits = ['Year', 'Month', 'Week', 'Day', 'Hour', 'Minutes'];\n        this.customTimelineSettings = this.customTimelineSettings ? this.customTimelineSettings :\n            this.extendFunction(this.parent.timelineSettings, directProperty, innerProperty);\n        if ((tierUnits.indexOf(this.customTimelineSettings.topTier.unit) === -1) &&\n            (tierUnits.indexOf(this.customTimelineSettings.bottomTier.unit) === -1)) {\n            this.customTimelineSettings.topTier.unit = tierUnits.indexOf(this.customTimelineSettings.timelineViewMode) !== -1 ?\n                this.customTimelineSettings.timelineViewMode : 'Week';\n            this.customTimelineSettings.bottomTier.unit = tierUnits.indexOf(this.customTimelineSettings.topTier.unit) !== 5 ?\n                tierUnits[tierUnits.indexOf(this.customTimelineSettings.topTier.unit) + 1] : 'None';\n        }\n        else if ((tierUnits.indexOf(this.customTimelineSettings.topTier.unit) !== -1 &&\n            tierUnits.indexOf(this.customTimelineSettings.bottomTier.unit) !== -1)\n            && (tierUnits.indexOf(this.customTimelineSettings.topTier.unit) >\n                tierUnits.indexOf(this.customTimelineSettings.bottomTier.unit))) {\n            this.customTimelineSettings.bottomTier.unit = this.customTimelineSettings.topTier.unit;\n        }\n        else {\n            this.customTimelineSettings.topTier.unit = tierUnits.indexOf(this.customTimelineSettings.topTier.unit) === -1 ?\n                'None' : this.customTimelineSettings.topTier.unit;\n            this.customTimelineSettings.bottomTier.unit = tierUnits.indexOf(this.customTimelineSettings.bottomTier.unit) === -1 ?\n                'None' : this.customTimelineSettings.bottomTier.unit;\n        }\n        this.topTier = this.customTimelineSettings.topTier.unit;\n        this.bottomTier = this.customTimelineSettings.bottomTier.unit;\n        this.previousIsSingleTier = this.isSingleTier;\n        this.isSingleTier = this.topTier === 'None' || this.bottomTier === 'None' ? true : false;\n    };\n    /**\n     * To validate timeline properties.\n     *\n     * @returns {void}\n     * @private\n     */\n    Timeline.prototype.processTimelineProperty = function () {\n        this.customTimelineSettings.topTier.count = (this.topTier === 'None') ?\n            1 : this.validateCount(this.customTimelineSettings.topTier.unit, this.customTimelineSettings.topTier.count, 'topTier');\n        this.customTimelineSettings.bottomTier.count = this.customTimelineSettings.bottomTier.unit === 'None' ?\n            1 : this.validateCount(this.customTimelineSettings.bottomTier.unit, this.customTimelineSettings.bottomTier.count, 'bottomTier');\n        this.customTimelineSettings.bottomTier.format = this.validateFormat(this.customTimelineSettings.bottomTier.unit, this.customTimelineSettings.bottomTier.format);\n        this.customTimelineSettings.topTier.format = this.validateFormat(this.topTier, this.customTimelineSettings.topTier.format);\n        this.customTimelineSettings.weekStartDay = this.customTimelineSettings.weekStartDay >= 0 &&\n            this.customTimelineSettings.weekStartDay <= 6 ? this.customTimelineSettings.weekStartDay : 0;\n        this.checkCurrentZoomingLevel();\n    };\n    /**\n     * To find the current zooming level of the Gantt control.\n     *\n     * @returns {void}\n     * @private\n     */\n    Timeline.prototype.calculateZoomingLevelsPerDayWidth = function () {\n        var collections = this.parent.zoomingLevels;\n        for (var i = 0; i < collections.length; i++) {\n            var perDayWidth = this.getPerDayWidth(collections[i].timelineUnitSize, collections[i].bottomTier.count, collections[i].bottomTier.unit);\n            collections[i].perDayWidth = perDayWidth;\n        }\n    };\n    /**\n     * To find the current zooming level of the Gantt control.\n     *\n     * @returns {void}\n     * @private\n     */\n    Timeline.prototype.checkCurrentZoomingLevel = function () {\n        var count = this.customTimelineSettings.bottomTier.unit !== 'None' ?\n            this.customTimelineSettings.bottomTier.count : this.customTimelineSettings.topTier.count;\n        var unit = this.customTimelineSettings.bottomTier.unit !== 'None' ?\n            this.customTimelineSettings.bottomTier.unit : this.customTimelineSettings.topTier.unit;\n        var zoomLevel = this.getCurrentZoomingLevel(unit, count);\n        if (this.parent.toolbarModule) {\n            if (zoomLevel === this.parent.zoomingLevels[this.parent.zoomingLevels.length - 1].level) {\n                this.parent.toolbarModule.enableItems([this.parent.controlId + '_zoomin'], false);\n            }\n            else if (zoomLevel === this.parent.zoomingLevels[0].level) {\n                this.parent.toolbarModule.enableItems([this.parent.controlId + '_zoomout'], false);\n            }\n        }\n        this.parent.currentZoomingLevel = this.parent.zoomingLevels[zoomLevel];\n        return zoomLevel;\n    };\n    /**\n     * @param {string} unit .\n     * @param {number} count .\n     * @returns {number} .\n     * @private\n     */\n    Timeline.prototype.getCurrentZoomingLevel = function (unit, count) {\n        var level;\n        var currentZoomCollection;\n        var checkSameCountLevels;\n        var secondValue;\n        var firstValue;\n        if (!this.parent.zoomingLevels.length) {\n            this.parent.zoomingLevels = this.parent.getZoomingLevels();\n        }\n        var sameUnitLevels = this.parent.zoomingLevels.filter(function (tempLevel) {\n            return tempLevel.bottomTier.unit === unit;\n        });\n        if (sameUnitLevels.length === 0) {\n            var closestUnit_1 = this.getClosestUnit(unit, '', false);\n            sameUnitLevels = this.parent.zoomingLevels.filter(function (tempLevel) {\n                return tempLevel.bottomTier.unit === closestUnit_1;\n            });\n        }\n        var sortedUnitLevels = sameUnitLevels.sort(function (a, b) {\n            return (a.bottomTier.count < b.bottomTier.count) ? 1 : -1;\n        });\n        for (var i = 0; i < sortedUnitLevels.length; i++) {\n            firstValue = sortedUnitLevels[i];\n            if (i === sortedUnitLevels.length - 1) {\n                level = sortedUnitLevels[i].level;\n                break;\n            }\n            else {\n                secondValue = sortedUnitLevels[i + 1];\n            }\n            if (count >= firstValue.bottomTier.count) {\n                currentZoomCollection = sortedUnitLevels[i];\n                checkSameCountLevels = sortedUnitLevels.filter(function (tempLevel) {\n                    return tempLevel.bottomTier.count === currentZoomCollection.bottomTier.count;\n                });\n                if (checkSameCountLevels.length > 1) {\n                    level = this.checkCollectionsWidth(checkSameCountLevels);\n                }\n                else {\n                    level = checkSameCountLevels[0].level;\n                }\n                break;\n            }\n            else if (count < firstValue.bottomTier.count && count > secondValue.bottomTier.count) {\n                currentZoomCollection = sortedUnitLevels[i + 1];\n                checkSameCountLevels = sortedUnitLevels.filter(function (tempLevel) {\n                    return tempLevel.bottomTier.count === currentZoomCollection.bottomTier.count;\n                });\n                if (checkSameCountLevels.length > 1) {\n                    level = this.checkCollectionsWidth(checkSameCountLevels);\n                }\n                else {\n                    level = checkSameCountLevels[0].level;\n                }\n                break;\n            }\n        }\n        return level;\n    };\n    /**\n     * Getting closest zooimg level.\n     *\n     * @param {string} unit .\n     * @param {string} closetUnit .\n     * @param {boolean} isCont .\n     * @returns {string} .\n     * @private\n     */\n    Timeline.prototype.getClosestUnit = function (unit, closetUnit, isCont) {\n        var bottomTierUnits = ['Year', 'Month', 'Week', 'Day', 'Hour', 'Minutes'];\n        var index = bottomTierUnits.indexOf(unit);\n        if (index === 0) {\n            isCont = true;\n        }\n        if (this.isZoomIn || isCont) {\n            unit = bottomTierUnits[index + 1];\n        }\n        else {\n            unit = bottomTierUnits[index - 1];\n        }\n        var sameUnitLevels = this.parent.zoomingLevels.filter(function (tempLevel) {\n            return tempLevel.bottomTier.unit === unit;\n        });\n        if (sameUnitLevels.length === 0) {\n            if (unit === 'Year') {\n                isCont = true;\n            }\n            closetUnit = unit;\n            return this.getClosestUnit(unit, closetUnit, isCont);\n        }\n        else {\n            return unit;\n        }\n    };\n    Timeline.prototype.checkCollectionsWidth = function (checkSameLevels) {\n        var zoomLevels = checkSameLevels;\n        var width = this.customTimelineSettings.timelineUnitSize;\n        var level;\n        var secondValue;\n        var firstValue;\n        var sortedZoomLevels = zoomLevels.sort(function (a, b) {\n            return (a.timelineUnitSize < b.timelineUnitSize) ? 1 : -1;\n        });\n        for (var i = 0; i < sortedZoomLevels.length; i++) {\n            firstValue = sortedZoomLevels[i];\n            if (i === sortedZoomLevels.length - 1) {\n                level = sortedZoomLevels[i].level;\n                break;\n            }\n            else {\n                secondValue = sortedZoomLevels[i + 1];\n            }\n            if (width >= firstValue.timelineUnitSize) {\n                level = sortedZoomLevels[i].level;\n                break;\n            }\n            else if (width < firstValue.timelineUnitSize && width > secondValue.timelineUnitSize) {\n                level = sortedZoomLevels[i + 1].level;\n                break;\n            }\n        }\n        return level;\n    };\n    /**\n     * To create timeline header template.\n     *\n     * @returns {void}\n     * @private\n     */\n    Timeline.prototype.updateTimelineHeaderHeight = function () {\n        if (this.parent.timelineModule.isSingleTier) {\n            addClass([this.parent.ganttChartModule.chartTimelineContainer], cls.timelineSingleHeaderOuterDiv);\n            if (this.parent.treeGrid.element) {\n                addClass(this.parent.treeGrid.element.querySelectorAll('.e-headercell'), cls.timelineSingleHeaderOuterDiv);\n                addClass(this.parent.treeGrid.element.querySelectorAll('.e-columnheader'), cls.timelineSingleHeaderOuterDiv);\n            }\n        }\n        else {\n            removeClass([this.parent.ganttChartModule.chartTimelineContainer], cls.timelineSingleHeaderOuterDiv);\n            if (this.parent.treeGrid.element) {\n                removeClass(this.parent.treeGrid.element.querySelectorAll('.e-headercell'), cls.timelineSingleHeaderOuterDiv);\n                removeClass(this.parent.treeGrid.element.querySelectorAll('.e-columnheader'), cls.timelineSingleHeaderOuterDiv);\n            }\n        }\n        if (this.previousIsSingleTier !== this.isSingleTier) {\n            var toolbarHeight = 0;\n            if (!isNullOrUndefined(this.parent.toolbarModule) && !isNullOrUndefined(this.parent.toolbarModule.element)) {\n                toolbarHeight = this.parent.toolbarModule.element.offsetHeight;\n            }\n            this.parent.ganttChartModule.scrollObject.\n                setHeight(this.parent.ganttHeight - this.parent.ganttChartModule.chartTimelineContainer.offsetHeight - toolbarHeight);\n            this.parent.treeGrid.height = this.parent.ganttHeight - toolbarHeight -\n                this.parent.ganttChartModule.chartTimelineContainer.offsetHeight;\n        }\n    };\n    /**\n     * To create timeline header template.\n     *\n     * @returns {void}\n     * @private\n     */\n    Timeline.prototype.createTimelineSeries = function () {\n        var tr;\n        var td;\n        var div;\n        var table;\n        var thead;\n        var loopCount = this.isSingleTier ? 1 : 2;\n        var tier = this.topTier === 'None' ? 'bottomTier' : 'topTier';\n        this.updateTimelineHeaderHeight();\n        this.topTierCollection = [];\n        this.bottomTierCollection = [];\n        for (var count = 0; count < loopCount; count++) {\n            table = createElement('table', { className: cls.timelineHeaderTableContainer, styles: 'display: block;' });\n            thead = createElement('thead', { className: cls.timelineHeaderTableBody, styles: 'display:block; border-collapse:collapse' });\n            tr = createElement('tr', { innerHTML: this.createTimelineTemplate(tier) });\n            td = createElement('th');\n            div = createElement('div', { styles: 'width: 20px' });\n            td.appendChild(div);\n            tr.appendChild(td);\n            thead.appendChild(tr);\n            table.appendChild(thead);\n            this.parent.ganttChartModule.chartTimelineContainer.appendChild(table);\n            tier = 'bottomTier';\n            tr = null;\n        }\n    };\n    /**\n     * To validate timeline tier count.\n     *\n     * @param {string} mode .\n     * @param {number} count .\n     * @param {string} tier .\n     * @returns {number} .\n     * @private\n     */\n    Timeline.prototype.validateCount = function (mode, count, tier) {\n        var tierCount = !isNullOrUndefined(count) && parseInt(count.toString(), 10) > 0 ? parseInt(count.toString(), 10) : 1;\n        var timeDifference = Math.abs(this.timelineRoundOffEndDate.getTime() - this.timelineStartDate.getTime());\n        var difference;\n        switch (mode) {\n            case 'Year':\n                difference = Math.round((timeDifference / (1000 * 3600 * 24)) / (12 * 28));\n                tierCount = tierCount <= difference ? tierCount : difference > 0 ? difference : 1;\n                if (this.topTier !== 'None' && tier === 'bottomTier') {\n                    tierCount = this.validateBottomTierCount(mode, tierCount);\n                }\n                break;\n            case 'Month':\n                difference = Math.round((timeDifference / (1000 * 3600 * 24)) / 28);\n                tierCount = tierCount <= difference ? tierCount : difference > 0 ? difference : 1;\n                if (this.topTier !== 'None' && tier === 'bottomTier') {\n                    tierCount = this.validateBottomTierCount(mode, tierCount);\n                }\n                break;\n            case 'Week':\n                difference = Math.round((timeDifference / (1000 * 3600 * 24)) / 7);\n                tierCount = tierCount <= difference ? tierCount : difference > 0 ? difference : 1;\n                if (this.topTier !== 'None' && tier === 'bottomTier') {\n                    tierCount = this.validateBottomTierCount(mode, tierCount);\n                }\n                break;\n            case 'Day':\n                difference = Math.round(timeDifference / (1000 * 3600 * 24));\n                tierCount = tierCount <= difference ? tierCount : difference > 0 ? difference : 1;\n                if (this.topTier !== 'None' && tier === 'bottomTier') {\n                    tierCount = this.validateBottomTierCount(mode, tierCount);\n                }\n                break;\n            case 'Hour':\n                difference = Math.round(timeDifference / (1000 * 3600));\n                tierCount = tierCount <= difference ? tierCount : difference > 0 ? difference : 1;\n                if (this.topTier !== 'None' && tier === 'bottomTier') {\n                    tierCount = this.validateBottomTierCount(mode, tierCount);\n                }\n                break;\n            case 'Minutes':\n                difference = Math.round(timeDifference / (1000 * 60));\n                tierCount = tierCount <= difference ? tierCount : difference > 0 ? difference : 1;\n                if (this.topTier !== 'None' && tier === 'bottomTier') {\n                    tierCount = this.validateBottomTierCount(mode, tierCount);\n                }\n                break;\n        }\n        if (count !== tierCount && this.isZooming && this.parent.toolbarModule && (tier === 'bottomTier' || this.isSingleTier)) {\n            if (this.isZoomIn) {\n                this.parent.toolbarModule.enableItems([this.parent.controlId + '_zoomin'], false);\n            }\n            else {\n                this.parent.toolbarModule.enableItems([this.parent.controlId + '_zoomout'], false);\n            }\n        }\n        return tierCount;\n    };\n    /**\n     * To validate bottom tier count.\n     *\n     * @param {string} mode .\n     * @param {number} tierCount .\n     * @returns {number} .\n     * @private\n     */\n    Timeline.prototype.validateBottomTierCount = function (mode, tierCount) {\n        var count;\n        switch (mode) {\n            case 'Year':\n                count = tierCount <= this.customTimelineSettings.topTier.count ?\n                    tierCount : this.customTimelineSettings.topTier.count;\n                break;\n            case 'Month':\n                count = this.topTier === 'Year' ? tierCount <= (this.customTimelineSettings.topTier.count * 12) ?\n                    tierCount : (this.customTimelineSettings.topTier.count * 12) :\n                    tierCount <= this.customTimelineSettings.topTier.count ?\n                        tierCount : this.customTimelineSettings.topTier.count;\n                break;\n            case 'Week':\n                count = this.topTier === 'Year' ? tierCount <= (this.customTimelineSettings.topTier.count * (12 * 4)) ?\n                    tierCount : (this.customTimelineSettings.topTier.count * (12 * 4)) :\n                    this.topTier === 'Month' ? tierCount <= (this.customTimelineSettings.topTier.count * 4) ?\n                        tierCount : (this.customTimelineSettings.topTier.count * 4) :\n                        tierCount <= this.customTimelineSettings.topTier.count ?\n                            tierCount : this.customTimelineSettings.topTier.count;\n                break;\n            case 'Day':\n                count = this.topTier === 'Year' ? tierCount <= (this.customTimelineSettings.topTier.count * (12 * 28)) ?\n                    tierCount : (this.customTimelineSettings.topTier.count * (12 * 28)) :\n                    this.topTier === 'Month' ? tierCount <= (this.customTimelineSettings.topTier.count * 28) ?\n                        tierCount : (this.customTimelineSettings.topTier.count * 28) :\n                        this.topTier === 'Week' ? tierCount <= (this.customTimelineSettings.topTier.count * 7) ?\n                            tierCount : (this.customTimelineSettings.topTier.count * 7) :\n                            tierCount <= this.customTimelineSettings.topTier.count ? tierCount : this.customTimelineSettings.topTier.count;\n                break;\n            case 'Hour':\n                count = this.topTier === 'Year' ? tierCount <= (this.customTimelineSettings.topTier.count * (12 * 28 * 24)) ?\n                    tierCount : (this.customTimelineSettings.topTier.count * (12 * 28 * 24)) :\n                    this.topTier === 'Month' ? tierCount <= (this.customTimelineSettings.topTier.count * (28 * 24)) ?\n                        tierCount : (this.customTimelineSettings.topTier.count * (28 * 24)) :\n                        this.topTier === 'Week' ? tierCount <= (this.customTimelineSettings.topTier.count * 7 * 24) ?\n                            tierCount : (this.customTimelineSettings.topTier.count * 7 * 24) :\n                            this.topTier === 'Day' ? tierCount <= (this.customTimelineSettings.topTier.count * 24) ?\n                                tierCount : (this.customTimelineSettings.topTier.count * 24) :\n                                tierCount <= this.customTimelineSettings.topTier.count ?\n                                    tierCount : this.customTimelineSettings.topTier.count;\n                break;\n            case 'Minutes':\n                count = this.topTier === 'Year' ? tierCount <= (this.customTimelineSettings.topTier.count * (12 * 28 * 24 * 60)) ?\n                    tierCount : (this.customTimelineSettings.topTier.count * (12 * 28 * 24 * 60)) :\n                    this.topTier === 'Month' ? tierCount <= (this.customTimelineSettings.topTier.count * (28 * 24 * 60)) ?\n                        tierCount : (this.customTimelineSettings.topTier.count * (28 * 24 * 60)) :\n                        this.topTier === 'Week' ? tierCount <= (this.customTimelineSettings.topTier.count * 7 * 24 * 60) ?\n                            tierCount : (this.customTimelineSettings.topTier.count * 7 * 24 * 60) :\n                            this.topTier === 'Day' ? tierCount <= (this.customTimelineSettings.topTier.count * 24 * 60) ?\n                                tierCount : (this.customTimelineSettings.topTier.count * 24 * 60) :\n                                this.topTier === 'Hour' ? tierCount <= (this.customTimelineSettings.topTier.count * 60) ?\n                                    tierCount : (this.customTimelineSettings.topTier.count * 60) :\n                                    tierCount <= this.customTimelineSettings.topTier.count ?\n                                        tierCount : this.customTimelineSettings.topTier.count;\n                break;\n        }\n        return count;\n    };\n    /**\n     * To validate timeline tier format.\n     *\n     * @param {string} mode .\n     * @param {string} format .\n     * @returns {string} .\n     * @private\n     */\n    Timeline.prototype.validateFormat = function (mode, format) {\n        var tierFormat;\n        switch (mode) {\n            case 'Week':\n                tierFormat = !format ? 'MMM dd, yyyy' : format;\n                break;\n            case 'Day':\n            case 'None':\n                tierFormat = !format ? '' : format;\n                break;\n            case 'Hour':\n                tierFormat = !format ? 'H' : format;\n                break;\n            case 'Month':\n                tierFormat = !format ? 'MMM yyyy' : format;\n                break;\n            case 'Year':\n                tierFormat = !format ? 'yyyy' : format;\n                break;\n            case 'Minutes':\n                tierFormat = !format ? 'm' : format;\n                break;\n        }\n        return tierFormat;\n    };\n    /**\n     * To perform extend operation.\n     *\n     * @param {object} cloneObj .\n     * @param {string[]} propertyCollection .\n     * @param {object} innerProperty .\n     * @returns {object} .\n     * @private\n     */\n    // eslint-disable-next-line\n    Timeline.prototype.extendFunction = function (cloneObj, propertyCollection, innerProperty) {\n        var _this = this;\n        // eslint-disable-next-line\n        var tempObj = {};\n        for (var index = 0; index < propertyCollection.length; index++) {\n            tempObj[propertyCollection[index]] = cloneObj[propertyCollection[index]];\n        }\n        if (innerProperty) {\n            Object.keys(innerProperty).forEach(function (key) {\n                tempObj[key] = _this.extendFunction(cloneObj[key], innerProperty[key], null);\n            });\n        }\n        return tempObj;\n    };\n    /**\n     * To format date.\n     *\n     * @param {string} dayFormat .\n     * @param {Date} data .\n     * @returns {string} .\n     * @private\n     */\n    Timeline.prototype.formatDateHeader = function (dayFormat, data) {\n        var date = new Date(data.getTime());\n        var dateString;\n        if (dayFormat === '') {\n            dateString = this.parent.globalize.formatDate(date, { format: 'E' });\n            if (this.parent.locale === 'zh') {\n                dateString = dateString.slice(1);\n            }\n            else {\n                dateString = dateString.slice(0, 1);\n            }\n        }\n        else {\n            dateString = this.parent.globalize.formatDate(date, { format: dayFormat });\n        }\n        return dateString;\n    };\n    /**\n     * Custom Formatting.\n     *\n     * @param {Date} date .\n     * @param {string} format .\n     * @param {string} tier .\n     * @param {string} mode .\n     * @param {string | ITimelineFormatter} formatter .\n     * @returns {string} .\n     * @private\n     */\n    Timeline.prototype.customFormat = function (date, format, tier, mode, formatter) {\n        formatter = (typeof formatter === 'string' ? getValue(formatter, window) : formatter);\n        return formatter(date, format, tier, mode);\n    };\n    /**\n     * To create timeline template .\n     *\n     * @param {string} tier .\n     * @returns {string} .\n     * @private\n     */\n    Timeline.prototype.createTimelineTemplate = function (tier) {\n        var parent = this.parent;\n        var parentTh = '';\n        var parentTr = '';\n        var mode = tier === 'topTier' ?\n            parent.timelineModule.customTimelineSettings.topTier.unit : parent.timelineModule.customTimelineSettings.bottomTier.unit;\n        var count = tier === 'topTier' ? parent.timelineModule.customTimelineSettings.topTier.count :\n            parent.timelineModule.customTimelineSettings.bottomTier.count;\n        var increment;\n        var newTime;\n        var startDate = new Date(this.parent.timelineModule.timelineStartDate.toString());\n        var endDate = new Date(this.timelineRoundOffEndDate.toString());\n        var scheduleDateCollection = [];\n        do {\n            // PDf export collection\n            var timelineCell = {};\n            timelineCell.startDate = new Date(startDate.getTime());\n            parentTr = this.getHeaterTemplateString(new Date(startDate.toString()), mode, tier, false, count, timelineCell);\n            scheduleDateCollection.push(new Date(startDate.toString()));\n            increment = this.getIncrement(startDate, count, mode);\n            newTime = startDate.getTime() + increment;\n            startDate.setTime(newTime);\n            if (startDate >= endDate) {\n                /* eslint-disable-next-line */\n                parentTr = this.getHeaterTemplateString(scheduleDateCollection[scheduleDateCollection.length - 1], mode, tier, true, count, timelineCell);\n            }\n            parentTh = parentTh + parentTr;\n            var tierCollection = tier === 'topTier' ? this.topTierCollection : this.bottomTierCollection;\n            timelineCell.endDate = new Date(startDate.getTime());\n            tierCollection.push(timelineCell);\n        } while ((startDate < endDate));\n        return parentTh;\n    };\n    Timeline.prototype.getTimelineRoundOffEndDate = function (date) {\n        var tierMode = this.topTier === 'None' ? this.bottomTier : this.topTier;\n        var endDate = new Date(date.toString());\n        if (this.parent.isTimelineRoundOff) {\n            if (tierMode === 'Hour') {\n                endDate.setMinutes(60);\n            }\n            else if (tierMode === 'Minutes') {\n                endDate.setSeconds(60);\n            }\n            else {\n                endDate.setHours(24, 0, 0, 0);\n            }\n        }\n        return endDate;\n    };\n    /**\n     *\n     * @param {Date} startDate .\n     * @param {number} count .\n     * @param {string} mode .\n     * @returns {number} .\n     * @private\n     */\n    Timeline.prototype.getIncrement = function (startDate, count, mode) {\n        var firstDay = new Date(startDate.getTime());\n        var lastDay = new Date(startDate.getTime());\n        var increment;\n        switch (mode) {\n            case 'Year':\n                firstDay = startDate;\n                lastDay = new Date(startDate.getFullYear() + (count - 1), 11, 31);\n                increment = (lastDay.getTime() - firstDay.getTime()) + (1000 * 60 * 60 * 24);\n                break;\n            case 'Month':\n                firstDay = startDate;\n                lastDay = new Date(startDate.getFullYear(), startDate.getMonth() + count, 1);\n                increment = lastDay.getTime() - firstDay.getTime();\n                break;\n            case 'Week':\n                {\n                    var dayIndex = this.parent.timelineModule.customTimelineSettings.weekStartDay;\n                    var dayIntervel = startDate.getDay() < dayIndex ? (dayIndex - startDate.getDay()) :\n                        (6 - startDate.getDay()) + dayIndex;\n                    count = dayIntervel > 0 ? count - 1 : 0;\n                    lastDay.setHours(24, 0, 0, 0);\n                    dayIntervel = startDate.getDay() < dayIndex ? dayIntervel > 0 ?\n                        dayIntervel - 1 : dayIntervel : dayIntervel;\n                    lastDay.setDate(lastDay.getDate() + (dayIntervel + (7 * count)));\n                    increment = lastDay.getTime() - firstDay.getTime();\n                    break;\n                }\n            case 'Day':\n                lastDay.setHours(24, 0, 0, 0);\n                increment = (lastDay.getTime() - firstDay.getTime()) + (1000 * 60 * 60 * 24 * (count - 1));\n                break;\n            case 'Hour':\n                lastDay.setMinutes(60);\n                lastDay.setSeconds(0);\n                increment = (lastDay.getTime() - firstDay.getTime()) + (1000 * 60 * 60 * (count - 1));\n                break;\n            case 'Minutes':\n                lastDay.setSeconds(60);\n                increment = (lastDay.getTime() - firstDay.getTime()) + (1000 * 60 * (count - 1));\n                break;\n        }\n        return increment;\n    };\n    /**\n     * Method to find header cell was weekend or not\n     *\n     * @param {string} mode .\n     * @param {string} tier .\n     * @param {Date} day .\n     * @returns {boolean} .\n     */\n    Timeline.prototype.isWeekendHeaderCell = function (mode, tier, day) {\n        return (mode === 'Day' || mode === 'Hour' || mode === 'Minutes') && (this.customTimelineSettings[tier].count === 1 ||\n            mode === 'Hour' || mode === 'Minutes') &&\n            this.parent.nonWorkingDayIndex.indexOf(day.getDay()) !== -1;\n    };\n    /**\n     * To construct template string.\n     *\n     * @param {Date} scheduleWeeks .\n     * @param {string} mode .\n     * @param {string} tier .\n     * @param {boolean} isLast .\n     * @param {number} count .\n     * @param {TimelineFormat} timelineCell .\n     * @returns {string} .\n     * @private\n     */\n    /* eslint-disable-next-line */\n    Timeline.prototype.getHeaterTemplateString = function (scheduleWeeks, mode, tier, isLast, count, timelineCell) {\n        var parentTr = '';\n        var td = '';\n        var format = tier === 'topTier' ?\n            this.parent.timelineModule.customTimelineSettings.topTier.format :\n            this.parent.timelineModule.customTimelineSettings.bottomTier.format;\n        var formatter = tier === 'topTier' ?\n            this.parent.timelineModule.customTimelineSettings.topTier.formatter :\n            this.parent.timelineModule.customTimelineSettings.bottomTier.formatter;\n        var thWidth;\n        var date = isNullOrUndefined(formatter) ?\n            this.parent.globalize.formatDate(scheduleWeeks, { format: this.parent.getDateFormat() }) :\n            this.customFormat(scheduleWeeks, format, tier, mode, formatter);\n        thWidth = (this.getIncrement(scheduleWeeks, count, mode) / (1000 * 60 * 60 * 24)) * this.parent.perDayWidth;\n        var cellWidth = thWidth;\n        thWidth = isLast ? this.calculateWidthBetweenTwoDate(mode, scheduleWeeks, this.timelineRoundOffEndDate)\n            : thWidth;\n        var isWeekendCell = this.isWeekendHeaderCell(mode, tier, scheduleWeeks);\n        var textClassName = tier === 'topTier' ? ' e-gantt-top-cell-text' : '';\n        var value = (isNullOrUndefined(formatter) ? this.formatDateHeader(format, scheduleWeeks) :\n            this.customFormat(scheduleWeeks, format, tier, mode, formatter));\n        td += this.parent.timelineModule.isSingleTier ?\n            '<th class=\"' + cls.timelineSingleHeaderCell + ' ' : '<th class=\"' + cls.timelineTopHeaderCell;\n        td += isWeekendCell ? ' ' + cls.weekendHeaderCell : '';\n        td += '\" tabindex=\"-1\" aria-label= \"' + this.parent.localeObj.getConstant('timelineCell') + ' ' + date;\n        td += '\" style=\"width:' + thWidth + 'px;';\n        td += isWeekendCell && this.customTimelineSettings.weekendBackground ?\n            'background-color:' + this.customTimelineSettings.weekendBackground + ';' : '';\n        td += '\"><div class=\"' + cls.timelineHeaderCellLabel + textClassName + '\" style=\"width:' +\n            (thWidth - 1) + 'px;' + (this.parent.timelineSettings.showTooltip ? '\"title=\"' + date : '');\n        td += '\">' + value + '</div>';\n        parentTr += td;\n        parentTr += '</th>';\n        if ((this.isSingleTier || tier === 'topTier') && !isLast) {\n            this.totalTimelineWidth = this.totalTimelineWidth + thWidth;\n        }\n        else if ((this.isSingleTier || tier === 'topTier') && isLast) {\n            this.totalTimelineWidth = (this.totalTimelineWidth - cellWidth) + thWidth;\n        }\n        // PDf export collection\n        timelineCell.value = value;\n        timelineCell.isWeekend = isWeekendCell;\n        timelineCell.width = cellWidth;\n        return parentTr;\n    };\n    /**\n     * To calculate last 'th' width.\n     *\n     * @param {string} mode .\n     * @param {Date} scheduleWeeks .\n     * @param {Date} endDate .\n     * @returns {number} .\n     * @private\n     */\n    Timeline.prototype.calculateWidthBetweenTwoDate = function (mode, scheduleWeeks, endDate) {\n        var balanceDay = ((endDate.getTime() - scheduleWeeks.getTime()) / (1000 * 60 * 60 * 24));\n        return balanceDay * this.parent.perDayWidth;\n    };\n    /**\n     * To calculate timeline width.\n     *\n     * @returns {void} .\n     * @private\n     */\n    Timeline.prototype.timelineWidthCalculation = function () {\n        var timelineUnitSize = this.customTimelineSettings.timelineUnitSize;\n        var bottomTierCount = this.customTimelineSettings.bottomTier.count;\n        var topTierCount = this.customTimelineSettings.topTier.count;\n        this.bottomTierCellWidth = timelineUnitSize;\n        if (this.bottomTier === 'None') {\n            this.parent.perDayWidth = this.getPerDayWidth(timelineUnitSize, topTierCount, this.topTier);\n        }\n        else {\n            this.parent.perDayWidth = this.getPerDayWidth(timelineUnitSize, bottomTierCount, this.bottomTier);\n        }\n        this.topTierCellWidth = this.bottomTier !== 'None' ? this.topTier === 'Week' ?\n            this.parent.perDayWidth * 7 : this.topTier === 'Hour' ?\n            this.parent.perDayWidth / 24 : this.topTier === 'Minutes' ?\n            this.parent.perDayWidth / (24 * 60) : this.parent.perDayWidth : timelineUnitSize;\n        this.topTierCellWidth = this.isSingleTier ? this.topTierCellWidth : this.topTierCellWidth * topTierCount;\n    };\n    /**\n     * To validate per day width.\n     *\n     * @param {number} timelineUnitSize .\n     * @param {number} bottomTierCount .\n     * @param {string} mode .\n     * @returns {number} .\n     * @private\n     */\n    Timeline.prototype.getPerDayWidth = function (timelineUnitSize, bottomTierCount, mode) {\n        var perDayWidth;\n        switch (mode) {\n            case 'Year':\n                perDayWidth = (timelineUnitSize / bottomTierCount) / (12 * 28);\n                break;\n            case 'Month':\n                perDayWidth = (timelineUnitSize / bottomTierCount) / 28;\n                break;\n            case 'Week':\n                perDayWidth = (timelineUnitSize / bottomTierCount) / 7;\n                break;\n            case 'Day':\n                perDayWidth = timelineUnitSize / bottomTierCount;\n                break;\n            case 'Hour':\n                perDayWidth = (24 / bottomTierCount) * timelineUnitSize;\n                break;\n            case 'Minutes':\n                perDayWidth = ((60 * 24) / bottomTierCount) * timelineUnitSize;\n                break;\n        }\n        return perDayWidth;\n    };\n    /**\n     * To validate project start date and end date.\n     *\n     * @returns {void} .\n     * @private\n     */\n    Timeline.prototype.roundOffDays = function () {\n        var startDate = this.parent.cloneProjectStartDate;\n        var endDate = this.parent.cloneProjectEndDate;\n        var tierMode = this.topTier === 'None' ? this.bottomTier : this.topTier;\n        if (this.parent.isTimelineRoundOff) {\n            if (tierMode === 'Year') {\n                startDate = new Date(startDate.getFullYear(), 0, 1);\n                endDate = new Date(endDate.getFullYear(), 11, 31);\n            }\n            else if (tierMode === 'Month') {\n                startDate = new Date(startDate.getFullYear(), startDate.getMonth(), 1);\n                endDate = new Date(endDate.getFullYear(), endDate.getMonth() + 1, 0);\n            }\n            else if (tierMode === 'Week') {\n                var dayIndex = this.parent.timelineModule.customTimelineSettings.weekStartDay;\n                var roundOffStartDate = startDate.getDay() < dayIndex ?\n                    (startDate.getDate()) - (7 - dayIndex + startDate.getDay()) :\n                    (startDate.getDate()) - startDate.getDay() + dayIndex;\n                startDate.setDate(roundOffStartDate);\n                var first = endDate.getDate() - endDate.getDay();\n                var last = first + 6 + dayIndex;\n                endDate.setDate(last);\n            }\n            if (tierMode === 'Hour') {\n                startDate.setMinutes(0);\n            }\n            else if (tierMode === 'Minutes') {\n                startDate.setSeconds(0);\n            }\n            else {\n                startDate.setHours(0, 0, 0, 0);\n            }\n        }\n        this.timelineStartDate = startDate;\n        this.timelineEndDate = endDate;\n        this.timelineRoundOffEndDate = this.getTimelineRoundOffEndDate(this.timelineEndDate);\n    };\n    /**\n     * To validate project start date and end date.\n     *\n     * @param {string} mode .\n     * @param {string} span .\n     * @param {Date} startDate .\n     * @param {Date} endDate .\n     * @returns {void} .\n     * @private\n     */\n    Timeline.prototype.updateScheduleDatesByToolBar = function (mode, span, startDate, endDate) {\n        if (mode === 'Year') {\n            if (span === 'prevTimeSpan') {\n                if (startDate.getMonth() === 0) {\n                    startDate = new Date(startDate.getFullYear() - 1, 0, 1);\n                }\n                else {\n                    startDate = new Date(startDate.getFullYear(), 0, 1);\n                }\n            }\n            else {\n                if (endDate.getMonth() === 11) {\n                    endDate = new Date(endDate.getFullYear() + 1, 0, 1);\n                }\n                else {\n                    endDate = new Date(endDate.getFullYear(), 12, 1);\n                }\n            }\n        }\n        if (mode === 'Month') {\n            if (span === 'prevTimeSpan') {\n                if (startDate.getDate() === 1) {\n                    startDate = new Date(startDate.getFullYear(), startDate.getMonth() - 1, 1);\n                }\n                else {\n                    startDate = new Date(startDate.getFullYear(), startDate.getMonth(), 1);\n                }\n            }\n            else {\n                endDate = new Date(endDate.getFullYear(), endDate.getMonth() + 1, 1);\n            }\n        }\n        if (mode === 'Week') {\n            var dayIndex = this.parent.timelineModule.customTimelineSettings.weekStartDay;\n            var dayIntervel = void 0;\n            if (span === 'prevTimeSpan') {\n                dayIntervel = startDate.getDay() < dayIndex ? 7 - (dayIndex - startDate.getDay()) :\n                    startDate.getDay() - dayIndex;\n                startDate.setHours(0, 0, 0, 0);\n                if (dayIntervel === 0) {\n                    startDate.setDate(startDate.getDate() - 7);\n                }\n                else {\n                    startDate.setDate(startDate.getDate() - dayIntervel);\n                }\n            }\n            else {\n                dayIntervel = endDate.getDay() < dayIndex ? (dayIndex - endDate.getDay()) :\n                    (7 - endDate.getDay()) + dayIndex;\n                endDate.setHours(0, 0, 0, 0);\n                if (dayIntervel === 0) {\n                    endDate.setDate(endDate.getDate() + 6);\n                }\n                else {\n                    endDate.setDate(endDate.getDate() + dayIntervel);\n                }\n            }\n        }\n        if (mode === 'Day') {\n            if (span === 'prevTimeSpan') {\n                if (startDate.getHours() === 0) {\n                    startDate.setTime(startDate.getTime() - (1000 * 60 * 60 * 24));\n                }\n                else {\n                    startDate.setHours(0);\n                }\n            }\n            else {\n                if (endDate.getHours() === 0) {\n                    endDate.setTime(endDate.getTime() + (1000 * 60 * 60 * 24));\n                }\n                else {\n                    endDate.setHours(24);\n                }\n            }\n        }\n        if (mode === 'Hour') {\n            if (span === 'prevTimeSpan') {\n                if (startDate.getMinutes() === 0) {\n                    startDate.setTime(startDate.getTime() - (1000 * 60 * 60));\n                }\n                else {\n                    startDate.setMinutes(0);\n                }\n            }\n            else {\n                if (endDate.getMinutes() === 0) {\n                    endDate.setTime(endDate.getTime() + (1000 * 60 * 60));\n                }\n                else {\n                    endDate.setMinutes(60);\n                }\n            }\n        }\n        if (mode === 'Minutes') {\n            if (span === 'prevTimeSpan') {\n                if (startDate.getSeconds() === 0) {\n                    startDate.setTime(startDate.getTime() - (1000 * 60));\n                }\n                else {\n                    startDate.setSeconds(0);\n                }\n            }\n            else {\n                if (endDate.getSeconds() === 0) {\n                    endDate.setTime(endDate.getTime() + (1000 * 60));\n                }\n                else {\n                    endDate.setSeconds(60);\n                }\n            }\n        }\n        this.parent.cloneProjectStartDate = startDate;\n        this.parent.cloneProjectEndDate = endDate;\n    };\n    /**\n     * To validate project start date and end date.\n     *\n     * @param {IGanttData[]} tempArray .\n     * @param {string} action .\n     * @returns {void} .\n     * @private\n     */\n    Timeline.prototype.updateTimeLineOnEditing = function (tempArray, action) {\n        var filteredStartDateRecord = tempArray.filter(function (pdc) { return !isNullOrUndefined(pdc.ganttProperties.startDate); });\n        var filteredEndDateRecord = tempArray.filter(function (pdc) { return !isNullOrUndefined(pdc.ganttProperties.endDate); });\n        var minStartDate = filteredStartDateRecord.length > 0 ?\n            new Date(DataUtil.aggregates.min(filteredStartDateRecord, 'ganttProperties.startDate')) : null;\n        var maxEndDate = filteredEndDateRecord.length > 0 ?\n            new Date(DataUtil.aggregates.max(filteredEndDateRecord, 'ganttProperties.endDate')) : null;\n        var validStartDate = new Date(this.parent.dataOperation.checkStartDate(this.timelineStartDate).getTime());\n        var validEndDate = new Date(this.parent.dataOperation.checkEndDate(this.timelineEndDate).getTime());\n        var maxStartLeft = isNullOrUndefined(minStartDate) ?\n            null : this.parent.dataOperation.getTaskLeft(minStartDate, false);\n        var maxEndLeft = isNullOrUndefined(maxEndDate) ?\n            null : this.parent.dataOperation.getTaskLeft(maxEndDate, false);\n        var validStartLeft = this.parent.dataOperation.getTaskLeft(validStartDate, false);\n        var validEndLeft = this.parent.dataOperation.getTaskLeft(validEndDate, false);\n        var isChanged;\n        if (!isNullOrUndefined(maxStartLeft) && (maxStartLeft <= this.bottomTierCellWidth || maxStartLeft <= validStartLeft)) {\n            isChanged = 'prevTimeSpan';\n            minStartDate = minStartDate > this.timelineStartDate ? this.timelineStartDate : minStartDate;\n        }\n        else {\n            minStartDate = this.timelineStartDate;\n        }\n        if (!isNullOrUndefined(maxEndLeft) && (maxEndLeft >= (this.totalTimelineWidth - this.bottomTierCellWidth) ||\n            maxEndLeft >= validEndLeft)) {\n            isChanged = isChanged === 'prevTimeSpan' ? 'both' : 'nextTimeSpan';\n            maxEndDate = maxEndDate < this.timelineEndDate ? this.timelineEndDate : maxEndDate;\n        }\n        else {\n            maxEndDate = this.timelineEndDate;\n        }\n        if (isChanged) {\n            this.performTimeSpanAction(isChanged, action, minStartDate, maxEndDate);\n        }\n    };\n    /**\n     * To validate project start date and end date on editing action\n     *\n     * @param {string} type .\n     * @param {string} isFrom .\n     * @param {Date} startDate .\n     * @param {Date} endDate .\n     * @param {string} mode .\n     * @returns {void} .\n     * @private\n     */\n    Timeline.prototype.performTimeSpanAction = function (type, isFrom, startDate, endDate, mode) {\n        mode = !isNullOrUndefined(mode) ? mode : this.parent.timelineModule.topTier === 'None' ?\n            this.parent.timelineModule.bottomTier : this.parent.timelineModule.topTier;\n        var projectStartDate = new Date(this.parent.cloneProjectStartDate.getTime());\n        var projectEndDate = new Date(this.parent.cloneProjectEndDate.getTime());\n        if (isFrom !== 'publicMethod' && type === 'both') {\n            this.updateScheduleDatesByToolBar(mode, 'prevTimeSpan', startDate, endDate);\n            this.updateScheduleDatesByToolBar(mode, 'nextTimeSpan', new Date(this.parent.cloneProjectStartDate.getTime()), endDate);\n        }\n        else {\n            this.updateScheduleDatesByToolBar(mode, type, startDate, endDate);\n        }\n        var args = this.timeSpanActionEvent('actionBegin', type, isFrom);\n        if (!args.cancel) {\n            this.parent.updateProjectDates(args.projectStartDate, args.ProjectEndDate, args.isTimelineRoundOff, isFrom);\n            if (type === 'prevTimeSpan' && isFrom === 'publicMethod') {\n                this.parent.ganttChartModule.updateScrollLeft(0);\n            }\n            else if (type === 'nextTimeSpan' && isFrom === 'publicMethod') {\n                this.parent.ganttChartModule.updateScrollLeft(this.parent.timelineModule.totalTimelineWidth);\n            }\n            this.parent.timelineModule.timeSpanActionEvent('actionComplete', type, isFrom);\n        }\n        else {\n            this.parent.cloneProjectStartDate = projectStartDate;\n            this.parent.cloneProjectEndDate = projectEndDate;\n        }\n    };\n    /**\n     * To validate project start date and end date.\n     *\n     * @param {string} eventType .\n     * @param {string} requestType .\n     * @param {string} isFrom .\n     * @returns {void}\n     * @private\n     */\n    Timeline.prototype.timeSpanActionEvent = function (eventType, requestType, isFrom) {\n        var args = {};\n        args.projectStartDate = new Date(this.parent.cloneProjectStartDate.getTime());\n        args.ProjectEndDate = new Date(this.parent.cloneProjectEndDate.getTime());\n        args.requestType = isFrom === 'publicMethod' ? requestType : isFrom === 'beforeAdd' ?\n            'TimelineRefreshOnAdd' : isFrom === 'TaskbarEditing' ? 'TimelineRefreshOnEdit' : requestType;\n        if (eventType === 'actionBegin') {\n            args.isTimelineRoundOff = this.parent.isTimelineRoundOff;\n            args.cancel = false;\n        }\n        args.action = 'TimescaleUpdate';\n        this.parent.trigger(eventType, args);\n        return args;\n    };\n    return Timeline;\n}());\nexport { Timeline };\n","import { merge } from '@syncfusion/ej2-base';\n/**\n * Configures column collection in Gantt.\n */\nvar Column = /** @class */ (function () {\n    function Column(options) {\n        /**\n         * If `allowEditing` set to false, then it disables editing of a particular column.\n         * By default all columns are editable.\n         *\n         * @default true\n         */\n        this.allowEditing = true;\n        /**\n         * If `allowReordering` set to false, then it disables reorder of a particular column.\n         * By default all columns can be reorder.\n         *\n         * @default true\n         */\n        this.allowReordering = true;\n        /**\n         * If `allowResizing` is set to false, it disables resize option of a particular column.\n         * By default all the columns can be resized.\n         *\n         * @default true\n         */\n        this.allowResizing = true;\n        /**\n         * If `allowSorting` set to false, then it disables sorting option of a particular column.\n         * By default all columns are sortable.\n         *\n         * @default true\n         */\n        this.allowSorting = true;\n        /**\n         * If `allowFiltering` set to false, then it disables filtering option and filter bar element of a particular column.\n         * By default all columns are filterable.\n         *\n         * @default true\n         */\n        this.allowFiltering = true;\n        /**\n         * Defines the `IEditCell` object to customize default edit cell.\n         *\n         * @default {}\n         */\n        this.edit = {};\n        merge(this, options);\n    }\n    return Column;\n}());\nexport { Column };\n","import { TreeGrid } from '@syncfusion/ej2-treegrid';\nimport { createElement, isNullOrUndefined, getValue, extend, EventHandler, deleteObject } from '@syncfusion/ej2-base';\nimport { setValue, isBlazor, getElement } from '@syncfusion/ej2-base';\nimport { Deferred, Query } from '@syncfusion/ej2-data';\nimport { Column as GanttColumn } from '../models/column';\nimport { isCountRequired } from './utils';\n/**\n * TreeGrid related code goes here\n *\n * @param {object} args .\n * @returns {void} .\n */\nvar GanttTreeGrid = /** @class */ (function () {\n    function GanttTreeGrid(parent) {\n        var _this = this;\n        this.previousScroll = { top: 0, left: 0 };\n        this.queryCellInfo = function (args) {\n            _this.parent.trigger('queryCellInfo', args);\n        };\n        this.headerCellInfo = function (args) {\n            _this.parent.trigger('headerCellInfo', args);\n        };\n        this.rowDataBound = function (args) {\n            _this.parent.trigger('rowDataBound', args);\n        };\n        this.columnMenuOpen = function (args) {\n            _this.parent.notify('columnMenuOpen', args);\n            _this.parent.trigger('columnMenuOpen', args);\n        };\n        this.columnMenuClick = function (args) {\n            _this.parent.trigger('columnMenuClick', args);\n        };\n        this.parent = parent;\n        this.parent.treeGrid = new TreeGrid();\n        this.parent.treeGrid.allowSelection = false;\n        this.parent.treeGrid.allowKeyboard = this.parent.allowKeyboard;\n        this.parent.treeGrid.enableImmutableMode = this.parent.enableImmutableMode;\n        this.treeGridColumns = [];\n        this.validateGanttColumns();\n        this.addEventListener();\n    }\n    GanttTreeGrid.prototype.addEventListener = function () {\n        this.parent.on('renderPanels', this.createContainer, this);\n        this.parent.on('chartScroll', this.updateScrollTop, this);\n        this.parent.on('destroy', this.destroy, this);\n        this.parent.treeGrid.on('renderReactTemplate', this.renderReactTemplate, this);\n    };\n    // eslint-disable-next-line\n    GanttTreeGrid.prototype.renderReactTemplate = function (args) {\n        var portals = 'portals';\n        this.parent[portals] = args;\n        this.parent.renderTemplates();\n    };\n    GanttTreeGrid.prototype.createContainer = function () {\n        //let height: number = this.parent.ganttHeight - this.parent.toolbarModule.element.offsetHeight - 46;\n        this.treeGridElement = createElement('div', {\n            id: 'treeGrid' + this.parent.element.id, className: 'e-gantt-tree-grid'\n            //  styles: 'height:' + height + 'px;'\n        });\n        var tempHeader = createElement('div', { className: 'e-gantt-temp-header' });\n        this.parent.treeGridPane.appendChild(this.treeGridElement);\n        this.treeGridElement.appendChild(tempHeader);\n        this.parent.treeGridPane.classList.add('e-temp-content');\n    };\n    /**\n     * Method to initiate TreeGrid\n     *\n     * @returns {void} .\n     */\n    GanttTreeGrid.prototype.renderTreeGrid = function () {\n        this.composeProperties();\n        this.bindEvents();\n        this.parent.treeGrid.appendTo(this.treeGridElement);\n        this.wireEvents();\n    };\n    GanttTreeGrid.prototype.composeProperties = function () {\n        this.parent.treeGrid.showColumnMenu = this.parent.showColumnMenu;\n        this.parent.treeGrid.columnMenuItems = this.parent.columnMenuItems;\n        this.parent.treeGrid.childMapping = isNullOrUndefined(this.parent.taskFields.child) ? '' : this.parent.taskFields.child;\n        this.parent.treeGrid.treeColumnIndex = this.parent.treeColumnIndex;\n        this.parent.treeGrid.columns = this.treeGridColumns;\n        if (this.parent.dataSource instanceof Object && isCountRequired(this.parent)) {\n            // In order to bind the observable data at load time, hasChildMapping is necessary to be mapped.\n            this.parent.treeGrid.hasChildMapping = 'isParent';\n            var count = getValue('count', this.parent.dataSource);\n            this.parent.treeGrid.dataSource = { result: this.parent.flatData, count: count };\n        }\n        else {\n            this.parent.treeGrid.hasChildMapping = null;\n            this.parent.treeGrid.dataSource = this.parent.flatData;\n        }\n        this.parent.treeGrid.expandStateMapping = this.parent.taskFields.expandState;\n        var isGantt = 'isGantt';\n        this.parent.treeGrid[isGantt] = true;\n        this.parent.treeGrid.rowHeight = this.parent.rowHeight;\n        this.parent.treeGrid.gridLines = this.parent.gridLines;\n        if (!isBlazor() || this.parent.searchSettings.fields.length !== 0 || this.parent.searchSettings.key !== '') {\n            this.parent.treeGrid.searchSettings = this.parent.searchSettings;\n        }\n        var isJsComponent = 'isJsComponent';\n        this.parent.treeGrid[isJsComponent] = true;\n        var toolbarHeight = 0;\n        if (!isNullOrUndefined(this.parent.toolbarModule) && !isNullOrUndefined(this.parent.toolbarModule.element)) {\n            toolbarHeight = this.parent.toolbarModule.element.offsetHeight;\n        }\n        this.parent.treeGrid.height = this.parent.ganttHeight - toolbarHeight - 46;\n    };\n    GanttTreeGrid.prototype.getContentDiv = function () {\n        return this.treeGridElement.querySelector('.e-content');\n    };\n    GanttTreeGrid.prototype.getHeaderDiv = function () {\n        return this.treeGridElement.querySelector('.e-headercontent');\n    };\n    GanttTreeGrid.prototype.getScrollbarWidth = function () {\n        var outer = document.createElement('div');\n        outer.style.visibility = 'hidden';\n        outer.style.overflow = 'scroll';\n        outer.style.msOverflowStyle = 'scrollbar';\n        var inner = document.createElement('div');\n        outer.appendChild(inner);\n        this.parent.element.appendChild(outer);\n        var scrollbarWidth = (outer.offsetWidth - inner.offsetWidth);\n        outer.parentNode.removeChild(outer);\n        return scrollbarWidth;\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    GanttTreeGrid.prototype.ensureScrollBar = function () {\n        var content = this.getContentDiv();\n        var headerDiv = this.getHeaderDiv();\n        var scrollWidth = this.getScrollbarWidth();\n        var isMobile = /Android|Mac|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);\n        if (scrollWidth !== 0) {\n            content.style.cssText += 'width: calc(100% + ' + scrollWidth + 'px);';\n        }\n        else {\n            content.classList.add('e-gantt-scroll-padding');\n        }\n        if (scrollWidth === 0 && isMobile) {\n            headerDiv.style.cssText += 'width: calc(100% + 17px);';\n        }\n    };\n    GanttTreeGrid.prototype.bindEvents = function () {\n        this.parent.treeGrid.dataBound = this.dataBound.bind(this);\n        this.parent.treeGrid.collapsing = this.collapsing.bind(this);\n        this.parent.treeGrid.collapsed = this.collapsed.bind(this);\n        this.parent.treeGrid.expanding = this.expanding.bind(this);\n        this.parent.treeGrid.expanded = this.expanded.bind(this);\n        this.parent.treeGrid.actionBegin = this.actionBegin.bind(this);\n        this.parent.treeGrid.actionComplete = this.treeActionComplete.bind(this);\n        this.parent.treeGrid.created = this.created.bind(this);\n        this.parent.treeGrid.actionFailure = this.actionFailure.bind(this);\n        this.parent.treeGrid.queryCellInfo = this.queryCellInfo.bind(this);\n        this.parent.treeGrid.headerCellInfo = this.headerCellInfo.bind(this);\n        this.parent.treeGrid.rowDataBound = this.rowDataBound.bind(this);\n        this.parent.treeGrid.columnMenuOpen = this.columnMenuOpen.bind(this);\n        this.parent.treeGrid.columnMenuClick = this.columnMenuClick.bind(this);\n        this.parent.treeGrid.beforeDataBound = this.beforeDataBound.bind(this);\n        this.parent.treeGrid.dataStateChange = this.dataStateChange.bind(this);\n    };\n    // eslint-disable-next-line\n    GanttTreeGrid.prototype.beforeDataBound = function (args) {\n        this.parent.updatedRecords = this.parent.virtualScrollModule && this.parent.enableVirtualization ?\n            getValue('virtualScrollModule.visualData', this.parent.treeGrid) : getValue('result', args);\n        if (getValue('actionArgs.requestType', args) !== 'virtualscroll' && this.parent.virtualScrollModule &&\n            this.parent.enableVirtualization) {\n            this.parent.updateContentHeight(args);\n        }\n    };\n    // eslint-disable-next-line\n    GanttTreeGrid.prototype.dataBound = function (args) {\n        this.ensureScrollBar();\n        this.parent.treeDataBound(args);\n        this.prevCurrentView = extend([], [], this.parent.currentViewData, true);\n    };\n    GanttTreeGrid.prototype.dataStateChange = function (args) {\n        if (args.action && args.action.requestType === 'refresh') {\n            this.parent.treeGrid.dataSource = {\n                result: getValue('result', this.parent.treeGrid.dataSource),\n                count: getValue('count', this.parent.treeGrid.dataSource)\n            };\n        }\n        this.parent.trigger('dataStateChange', args);\n    };\n    // eslint-disable-next-line\n    GanttTreeGrid.prototype.collapsing = function (args) {\n        var _this = this;\n        // Collapsing event\n        var callBackPromise = new Deferred();\n        if (!this.parent.ganttChartModule.isExpandCollapseFromChart) {\n            // eslint-disable-next-line\n            var collapsingArgs = this.createExpandCollapseArgs(args);\n            if (isBlazor()) {\n                // eslint-disable-next-line\n                this.parent.trigger('collapsing', collapsingArgs, function (arg) {\n                    callBackPromise.resolve(arg);\n                    setValue('chartRow', getElement(getValue('chartRow', arg)), arg);\n                    setValue('gridRow', getElement(getValue('gridRow', arg)), arg);\n                    if (!getValue('cancel', arg)) {\n                        _this.parent.ganttChartModule.collapseGanttRow(arg, true);\n                    }\n                });\n                return callBackPromise;\n            }\n            else {\n                this.parent.ganttChartModule.collapseGanttRow(collapsingArgs);\n            }\n            setValue('cancel', getValue('cancel', collapsingArgs), args);\n        }\n    };\n    // eslint-disable-next-line\n    GanttTreeGrid.prototype.expanding = function (args) {\n        var _this = this;\n        // Expanding event\n        var callBackPromise = new Deferred();\n        if (!this.parent.ganttChartModule.isExpandCollapseFromChart) {\n            // eslint-disable-next-line\n            var expandingArgs = this.createExpandCollapseArgs(args);\n            if (isBlazor()) {\n                // eslint-disable-next-line\n                this.parent.trigger('expanding', expandingArgs, function (arg) {\n                    callBackPromise.resolve(arg);\n                    setValue('chartRow', getElement(getValue('chartRow', arg)), arg);\n                    setValue('gridRow', getElement(getValue('gridRow', arg)), arg);\n                    if (!getValue('cancel', arg)) {\n                        _this.parent.ganttChartModule.expandGanttRow(arg, true);\n                    }\n                });\n                return callBackPromise;\n            }\n            else {\n                this.parent.ganttChartModule.expandGanttRow(expandingArgs);\n            }\n            setValue('cancel', getValue('cancel', expandingArgs), args);\n        }\n    };\n    // eslint-disable-next-line\n    GanttTreeGrid.prototype.collapsed = function (args) {\n        this.updateExpandStatus(args);\n        if (!this.parent.ganttChartModule.isExpandCollapseFromChart) {\n            // eslint-disable-next-line\n            var collapsedArgs = this.createExpandCollapseArgs(args);\n            this.parent.ganttChartModule.collapsedGanttRow(collapsedArgs);\n        }\n    };\n    // eslint-disable-next-line\n    GanttTreeGrid.prototype.expanded = function (args) {\n        this.updateExpandStatus(args);\n        if (!this.parent.ganttChartModule.isExpandCollapseFromChart) {\n            // eslint-disable-next-line\n            var expandedArgs = this.createExpandCollapseArgs(args);\n            this.parent.ganttChartModule.expandedGanttRow(expandedArgs);\n        }\n    };\n    // eslint-disable-next-line\n    GanttTreeGrid.prototype.updateExpandStatus = function (args) {\n        if (getValue('data', args) && isBlazor()) {\n            var record = this.parent.getTaskByUniqueID(getValue('data', args).uniqueID);\n            record.expanded = getValue('data', args).expanded;\n        }\n    };\n    GanttTreeGrid.prototype.actionBegin = function (args) {\n        this.parent.notify('actionBegin', args);\n        this.parent.trigger('actionBegin', args);\n    };\n    // eslint-disable-next-line\n    GanttTreeGrid.prototype.created = function (args) {\n        this.updateKeyConfigSettings();\n    };\n    GanttTreeGrid.prototype.actionFailure = function (args) {\n        this.parent.trigger('actionFailure', args);\n    };\n    // eslint-disable-next-line\n    GanttTreeGrid.prototype.createExpandCollapseArgs = function (args) {\n        var record = getValue('data', args);\n        var gridRow = getValue('row', args);\n        var chartRow;\n        if (isBlazor()) {\n            /* eslint-disable-next-line */\n            chartRow = this.parent.ganttChartModule.getChartRows()[this.parent.currentViewData.indexOf(this.parent.getTaskByUniqueID(record.uniqueID))];\n        }\n        else {\n            chartRow = this.parent.ganttChartModule.getChartRows()[this.parent.currentViewData.indexOf(record)];\n        }\n        // eslint-disable-next-line\n        var eventArgs = { data: record, gridRow: gridRow, chartRow: chartRow, cancel: false };\n        return eventArgs;\n    };\n    // eslint-disable-next-line\n    GanttTreeGrid.prototype.treeActionComplete = function (args) {\n        // eslint-disable-next-line\n        var updatedArgs = extend({}, args, true);\n        if (getValue('requestType', args) === 'sorting') {\n            this.parent.notify('updateModel', {});\n            deleteObject(updatedArgs, 'isFrozen');\n        }\n        else if (getValue('requestType', args) === 'filtering') {\n            this.parent.notify('updateModel', {});\n            var focussedElement = this.parent.element.querySelector('.e-treegrid');\n            focussedElement.focus();\n        }\n        else if (getValue('type', args) === 'save') {\n            if (this.parent.editModule && this.parent.editModule.cellEditModule) {\n                var data = getValue('data', args);\n                if (!isNullOrUndefined(data) && !isNullOrUndefined(this.parent.getTaskByUniqueID(data.uniqueID))) {\n                    /* eslint-disable-next-line */\n                    this.parent.getTaskByUniqueID(data.uniqueID).taskData[this.parent.taskFields.duration] = data.taskData[this.parent.taskFields.duration];\n                    /* eslint-disable-next-line */\n                    this.parent.getTaskByUniqueID(data.uniqueID).taskData[this.parent.taskFields.resourceInfo] = data.taskData[this.parent.taskFields.resourceInfo];\n                }\n                this.parent.editModule.cellEditModule.initiateCellEdit(args, this.currentEditRow);\n                this.currentEditRow = {};\n            }\n        }\n        if (getValue('requestType', args) === 'filterafteropen') {\n            this.parent.notify('actionComplete', args);\n        }\n        if (getValue('requestType', args) === 'searching') {\n            this.parent.notify('actionComplete', args);\n        }\n        if (!isNullOrUndefined(getValue('batchChanges', args)) && !isNullOrUndefined(this.parent.toolbarModule)) {\n            this.parent.toolbarModule.refreshToolbarItems();\n        }\n        if (isBlazor()) {\n            this.parent.updateDataArgs(updatedArgs);\n        }\n        if (this.parent.isCancelled) {\n            setValue('requestType', 'cancel', updatedArgs);\n            setValue('action', 'CellEditing', updatedArgs);\n            this.parent.isCancelled = false;\n        }\n        this.parent.trigger('actionComplete', updatedArgs);\n    };\n    GanttTreeGrid.prototype.updateKeyConfigSettings = function () {\n        delete this.parent.treeGrid.grid.keyboardModule.keyConfigs.delete;\n        delete this.parent.treeGrid.grid.keyboardModule.keyConfigs.insert;\n        delete this.parent.treeGrid.grid.keyboardModule.keyConfigs.upArrow;\n        delete this.parent.treeGrid.grid.keyboardModule.keyConfigs.downArrow;\n        delete this.parent.treeGrid.grid.keyboardModule.keyConfigs.ctrlHome;\n        delete this.parent.treeGrid.grid.keyboardModule.keyConfigs.ctrlEnd;\n        delete this.parent.treeGrid.grid.keyboardModule.keyConfigs.enter;\n        delete this.parent.treeGrid.grid.keyboardModule.keyConfigs.tab;\n        delete this.parent.treeGrid.grid.keyboardModule.keyConfigs.shiftTab;\n        delete this.parent.treeGrid.keyboardModule.keyConfigs.enter;\n        delete this.parent.treeGrid.keyboardModule.keyConfigs.upArrow;\n        delete this.parent.treeGrid.keyboardModule.keyConfigs.downArrow;\n        delete this.parent.treeGrid.keyboardModule.keyConfigs.ctrlShiftUpArrow;\n        delete this.parent.treeGrid.keyboardModule.keyConfigs.ctrlShiftDownArrow;\n        delete this.parent.treeGrid.keyboardModule.keyConfigs.ctrlUpArrow;\n        delete this.parent.treeGrid.keyboardModule.keyConfigs.ctrlDownArrow;\n        delete this.parent.treeGrid.keyboardModule.keyConfigs.tab;\n        delete this.parent.treeGrid.keyboardModule.keyConfigs.shiftTab;\n    };\n    /**\n     * Method to bind internal events on TreeGrid element\n     *\n     * @returns {void} .\n     */\n    GanttTreeGrid.prototype.wireEvents = function () {\n        var content = this.parent.treeGrid.element.querySelector('.e-content');\n        if (content) {\n            EventHandler.add(content, 'scroll', this.scrollHandler, this);\n        }\n        if (this.parent.isAdaptive) {\n            EventHandler.add(this.parent.treeGridPane, 'click', this.treeGridClickHandler, this);\n        }\n    };\n    GanttTreeGrid.prototype.unWireEvents = function () {\n        var content = this.parent.treeGrid.element &&\n            this.parent.treeGrid.element.querySelector('.e-content');\n        if (content) {\n            EventHandler.remove(content, 'scroll', this.scrollHandler);\n        }\n        if (this.parent.isAdaptive) {\n            EventHandler.remove(this.parent.treeGridPane, 'click', this.treeGridClickHandler);\n        }\n    };\n    // eslint-disable-next-line\n    GanttTreeGrid.prototype.scrollHandler = function (e) {\n        var content = this.parent.treeGrid.element.querySelector('.e-content');\n        if (content.scrollTop !== this.previousScroll.top) {\n            this.parent.notify('grid-scroll', { top: content.scrollTop });\n        }\n        this.previousScroll.top = content.scrollTop;\n        if (this.parent.contextMenuModule && this.parent.contextMenuModule.isOpen) {\n            this.parent.contextMenuModule.contextMenu.close();\n        }\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    GanttTreeGrid.prototype.validateGanttColumns = function () {\n        var ganttObj = this.parent;\n        var length = ganttObj.columns.length;\n        var tasks = this.parent.taskFields;\n        this.parent.columnMapping = {};\n        this.parent.columnByField = {};\n        this.parent.customColumns = [];\n        var tasksMapping = ['id', 'name', 'startDate', 'endDate', 'duration', 'dependency',\n            'progress', 'baselineStartDate', 'baselineEndDate', 'resourceInfo', 'notes', 'work', 'manual', 'type'];\n        var _loop_1 = function (i) {\n            var column = {};\n            if (typeof ganttObj.columns[i] === 'string') {\n                column.field = ganttObj.columns[i];\n            }\n            else {\n                column = ganttObj.columns[i];\n            }\n            var columnName = [];\n            if (tasksMapping.length > 0) {\n                columnName = tasksMapping.filter(function (name) {\n                    return column.field === tasks[name];\n                });\n            }\n            if (columnName.length === 0) {\n                if (column.field === this_1.parent.resourceFields.group) {\n                    return \"continue\";\n                }\n                this_1.parent.customColumns.push(column.field);\n                column.headerText = column.headerText ? column.headerText : column.field;\n                column.width = column.width ? column.width : 150;\n                column.editType = column.editType ? column.editType : 'stringedit';\n                column.type = column.type ? column.type : 'string';\n                this_1.bindTreeGridColumnProperties(column, true);\n                return \"continue\";\n            }\n            else {\n                var index = tasksMapping.indexOf(columnName[0]);\n                tasksMapping.splice(index, 1);\n                this_1.createTreeGridColumn(column, true);\n                this_1.parent.columnMapping[columnName[0]] = column.field;\n            }\n        };\n        var this_1 = this;\n        for (var i = 0; i < length; i++) {\n            _loop_1(i);\n        }\n        /** Create default columns with task settings property */\n        for (var j = 0; j < tasksMapping.length; j++) {\n            var column = {};\n            if (!isNullOrUndefined(tasks[tasksMapping[j]])) {\n                column.field = tasks[tasksMapping[j]];\n                this.createTreeGridColumn(column, length === 0);\n                this.parent.columnMapping[tasksMapping[j]] = column.field;\n            }\n        }\n        if (this.parent.viewType !== 'ProjectView') {\n            var column = {};\n            this.composeUniqueIDColumn(column);\n            this.createTreeGridColumn(column, true);\n        }\n    };\n    /**\n     *\n     * @param {GanttColumnModel} column .\n     * @param {boolean} isDefined .\n     * @returns {void} .\n     */\n    GanttTreeGrid.prototype.createTreeGridColumn = function (column, isDefined) {\n        var taskSettings = this.parent.taskFields;\n        column.disableHtmlEncode = !isNullOrUndefined(column.disableHtmlEncode) ? column.disableHtmlEncode : this.parent.disableHtmlEncode;\n        if (taskSettings.id !== column.field) {\n            column.clipMode = column.clipMode ? column.clipMode : 'EllipsisWithTooltip';\n        }\n        if (taskSettings.id === column.field) {\n            /** Id column */\n            this.composeIDColumn(column);\n        }\n        else if (taskSettings.name === column.field) {\n            /** Name column */\n            column.headerText = column.headerText ? column.headerText : this.parent.localeObj.getConstant('name');\n            column.width = column.width ? column.width : 150;\n            column.editType = column.editType ? column.editType : 'stringedit';\n            column.type = column.type ? column.type : 'string';\n        }\n        else if (taskSettings.startDate === column.field) {\n            /** Name column */\n            column.headerText = column.headerText ? column.headerText : this.parent.localeObj.getConstant('startDate');\n            column.editType = column.editType ? column.editType :\n                this.parent.getDateFormat().toLowerCase().indexOf('hh') !== -1 ? 'datetimepickeredit' : 'datepickeredit';\n            column.format = column.format ? column.format : { type: 'date', format: this.parent.getDateFormat() };\n            column.width = column.width ? column.width : 150;\n            column.edit = { params: { renderDayCell: this.parent.renderWorkingDayCell.bind(this.parent) } };\n        }\n        else if (taskSettings.endDate === column.field) {\n            column.headerText = column.headerText ? column.headerText : this.parent.localeObj.getConstant('endDate');\n            column.format = column.format ? column.format : { type: 'date', format: this.parent.getDateFormat() };\n            column.editType = column.editType ? column.editType :\n                this.parent.getDateFormat().toLowerCase().indexOf('hh') !== -1 ? 'datetimepickeredit' : 'datepickeredit';\n            column.width = column.width ? column.width : 150;\n            column.edit = { params: { renderDayCell: this.parent.renderWorkingDayCell.bind(this.parent) } };\n        }\n        else if (taskSettings.duration === column.field) {\n            column.width = column.width ? column.width : 150;\n            column.headerText = column.headerText ? column.headerText : this.parent.localeObj.getConstant('duration');\n            column.valueAccessor = column.valueAccessor ? column.valueAccessor : !isNullOrUndefined(column.edit) ? null :\n                this.durationValueAccessor.bind(this);\n            column.editType = column.editType ? column.editType : 'stringedit';\n            column.type = 'string';\n        }\n        else if (taskSettings.progress === column.field) {\n            this.composeProgressColumn(column);\n        }\n        else if (taskSettings.dependency === column.field) {\n            column.headerText = column.headerText ? column.headerText : this.parent.localeObj.getConstant('dependency');\n            column.width = column.width ? column.width : 150;\n            column.editType = column.editType ? column.editType : 'stringedit';\n            column.type = 'string';\n            column.allowFiltering = column.allowFiltering === false ? false : true;\n        }\n        else if (taskSettings.resourceInfo === column.field) {\n            this.composeResourceColumn(column);\n        }\n        else if (taskSettings.notes === column.field) {\n            column.headerText = column.headerText ? column.headerText : this.parent.localeObj.getConstant('notes');\n            column.width = column.width ? column.width : 150;\n            column.editType = column.editType ? column.editType : 'stringedit';\n            if (isBlazor() && !column.template) {\n                this.parent.setProperties({ 'showInlineNotes': true }, true);\n            }\n            if (!this.parent.showInlineNotes) {\n                if (!column.template) {\n                    column.template = '<div class=\"e-ganttnotes-info\">' +\n                        '<span class=\"e-icons e-notes-info\"></span></div>';\n                }\n            }\n        }\n        else if (taskSettings.baselineStartDate === column.field ||\n            taskSettings.baselineEndDate === column.field) {\n            var colName = (taskSettings.baselineEndDate === column.field) ? 'baselineEndDate' :\n                'baselineStartDate';\n            column.width = column.width ? column.width : 150;\n            column.headerText = column.headerText ? column.headerText : this.parent.localeObj.getConstant(colName);\n            column.format = column.format ? column.format : { type: 'date', format: this.parent.getDateFormat() };\n            column.editType = column.editType ? column.editType :\n                this.parent.getDateFormat().toLowerCase().indexOf('hh') !== -1 ? 'datetimepickeredit' : 'datepickeredit';\n        }\n        else if (taskSettings.work === column.field) {\n            column.headerText = column.headerText ? column.headerText : this.parent.localeObj.getConstant('work');\n            column.width = column.width ? column.width : 150;\n            column.valueAccessor = column.valueAccessor ? column.valueAccessor : this.workValueAccessor.bind(this);\n            column.editType = column.editType ? column.editType : 'numericedit';\n        }\n        else if (taskSettings.type === column.field) {\n            column.headerText = column.headerText ? column.headerText : this.parent.localeObj.getConstant('taskType');\n            column.width = column.width ? column.width : 150;\n            //column.type = 'string';\n            column.editType = 'dropdownedit';\n            column.valueAccessor = column.valueAccessor ? column.valueAccessor : this.taskTypeValueAccessor.bind(this);\n        }\n        else if (taskSettings.manual === column.field && this.parent.taskMode === 'Custom') {\n            column.headerText = column.headerText ? column.headerText : this.parent.localeObj.getConstant('taskMode');\n            column.width = column.width ? column.width : 120;\n            column.editType = column.editType ? column.editType : 'dropdownedit';\n            column.valueAccessor = column.valueAccessor ? column.valueAccessor : this.modeValueAccessor.bind(this);\n            column.edit = {\n                params: {\n                    query: new Query(),\n                    dataSource: [\n                        { id: 1, text: this.parent.localeObj.getConstant('manual'), value: true },\n                        { id: 2, text: this.parent.localeObj.getConstant('auto'), value: false }\n                    ],\n                    fields: { text: 'text', value: 'value' }\n                }\n            };\n        }\n        this.bindTreeGridColumnProperties(column, isDefined);\n    };\n    /**\n     * Compose Resource columns\n     *\n     * @param {GanttColumnModel} column .\n     * @returns {void} .\n     */\n    GanttTreeGrid.prototype.composeResourceColumn = function (column) {\n        column.headerText = column.headerText ? column.headerText : this.parent.localeObj.getConstant('resourceName');\n        column.width = column.width ? column.width : 150;\n        column.type = 'string';\n        column.valueAccessor = column.valueAccessor ? column.valueAccessor : this.resourceValueAccessor.bind(this);\n        column.allowFiltering = column.allowFiltering === false ? false : true;\n    };\n    /**\n     * @param {IGanttData} data .\n     * @returns {object} .\n     * @private\n     */\n    // eslint-disable-next-line\n    GanttTreeGrid.prototype.getResourceIds = function (data) {\n        // eslint-disable-next-line\n        var value = getValue(this.parent.taskFields.resourceInfo, data.taskData);\n        var id = [];\n        if (!isNullOrUndefined(value)) {\n            for (var i = 0; i < value.length; i++) {\n                id.push(typeof value[i] === 'object' ? value[i][this.parent.resourceFields.id] : value[i]);\n            }\n            return id;\n        }\n        else {\n            return value;\n        }\n    };\n    /**\n     * Create Id column\n     *\n     * @param {GanttColumnModel} column .\n     * @returns {void} .\n     */\n    GanttTreeGrid.prototype.composeIDColumn = function (column) {\n        column.isPrimaryKey = isNullOrUndefined(column.isPrimaryKey) ? true : column.isPrimaryKey;\n        column.headerText = column.headerText ? column.headerText : this.parent.localeObj.getConstant('id');\n        column.width = column.width ? column.width : 100;\n        column.allowEditing = column.allowEditing ? column.allowEditing : false;\n        column.editType = column.editType ? column.editType : 'numericedit';\n        if (this.parent.viewType !== 'ProjectView') {\n            column.valueAccessor = this.idValueAccessor.bind(this);\n            column.isPrimaryKey = false;\n        }\n    };\n    GanttTreeGrid.prototype.composeUniqueIDColumn = function (column) {\n        column.field = 'rowUniqueID';\n        column.isPrimaryKey = true;\n        column.headerText = 'UniqueID';\n        column.allowEditing = false;\n        column.visible = false;\n    };\n    /**\n     * Create progress column\n     *\n     * @param {GanttColumnModel} column .\n     * @returns {void} .\n     */\n    GanttTreeGrid.prototype.composeProgressColumn = function (column) {\n        column.headerText = column.headerText ? column.headerText : this.parent.localeObj.getConstant('progress');\n        column.width = column.width ? column.width : 150;\n        column.editType = column.editType ? column.editType : 'numericedit';\n    };\n    /**\n     * @param {GanttColumnModel} newGanttColumn .\n     * @param {boolean} isDefined .\n     * @returns {void} .\n     */\n    GanttTreeGrid.prototype.bindTreeGridColumnProperties = function (newGanttColumn, isDefined) {\n        var treeGridColumn = {};\n        var ganttColumn = {};\n        for (var _i = 0, _a = Object.keys(newGanttColumn); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            treeGridColumn[prop] = ganttColumn[prop] = newGanttColumn[prop];\n        }\n        this.parent.columnByField[ganttColumn.field] = ganttColumn;\n        this.parent.ganttColumns.push(new GanttColumn(ganttColumn));\n        if (isDefined) {\n            this.treeGridColumns.push(treeGridColumn);\n        }\n    };\n    // eslint-disable-next-line\n    GanttTreeGrid.prototype.durationValueAccessor = function (field, data, column) {\n        var ganttProp = data.ganttProperties;\n        if (!isNullOrUndefined(ganttProp)) {\n            return this.parent.dataOperation.getDurationString(ganttProp.duration, ganttProp.durationUnit);\n        }\n        return '';\n    };\n    // eslint-disable-next-line\n    GanttTreeGrid.prototype.resourceValueAccessor = function (field, data, column) {\n        var ganttProp = data.ganttProperties;\n        if (!isNullOrUndefined(ganttProp)) {\n            return ganttProp.resourceNames;\n        }\n        return '';\n    };\n    // eslint-disable-next-line\n    GanttTreeGrid.prototype.workValueAccessor = function (field, data, column) {\n        var ganttProp = data.ganttProperties;\n        if (!isNullOrUndefined(ganttProp)) {\n            return this.parent.dataOperation.getWorkString(ganttProp.work, ganttProp.workUnit);\n        }\n        return '';\n    };\n    // eslint-disable-next-line\n    GanttTreeGrid.prototype.taskTypeValueAccessor = function (field, data, column) {\n        var ganttProp = data.ganttProperties;\n        if (!isNullOrUndefined(ganttProp)) {\n            return ganttProp.taskType;\n        }\n        return '';\n    };\n    // eslint-disable-next-line\n    GanttTreeGrid.prototype.modeValueAccessor = function (field, data, column) {\n        if (data[field]) {\n            return 'Manual';\n        }\n        else {\n            return 'Auto';\n        }\n    };\n    // eslint-disable-next-line\n    GanttTreeGrid.prototype.idValueAccessor = function (field, data, column) {\n        return data.level === 0 ? 'R-' + data.ganttProperties.taskId : 'T-' + data.ganttProperties.taskId;\n    };\n    // eslint-disable-next-line\n    GanttTreeGrid.prototype.updateScrollTop = function (args) {\n        this.treeGridElement.querySelector('.e-content').scrollTop = getValue('top', args);\n        this.previousScroll.top = this.treeGridElement.querySelector('.e-content').scrollTop;\n    };\n    GanttTreeGrid.prototype.treeGridClickHandler = function (e) {\n        this.parent.notify('treeGridClick', e);\n    };\n    GanttTreeGrid.prototype.removeEventListener = function () {\n        this.parent.off('renderPanels', this.createContainer);\n        this.parent.off('chartScroll', this.updateScrollTop);\n        this.parent.off('destroy', this.destroy);\n        this.parent.treeGrid.off('reactTemplateRender', this.renderReactTemplate);\n    };\n    GanttTreeGrid.prototype.destroy = function () {\n        this.removeEventListener();\n        this.unWireEvents();\n        if (this.parent.treeGrid.element) {\n            this.parent.treeGrid.destroy();\n        }\n    };\n    return GanttTreeGrid;\n}());\nexport { GanttTreeGrid };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Defines working time of day in project.\n */\nvar DayWorkingTime = /** @class */ (function (_super) {\n    __extends(DayWorkingTime, _super);\n    function DayWorkingTime() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(null)\n    ], DayWorkingTime.prototype, \"from\", void 0);\n    __decorate([\n        Property(null)\n    ], DayWorkingTime.prototype, \"to\", void 0);\n    return DayWorkingTime;\n}(ChildProperty));\nexport { DayWorkingTime };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Defines dialog fields of add dialog.\n */\nvar AddDialogFieldSettings = /** @class */ (function (_super) {\n    __extends(AddDialogFieldSettings, _super);\n    function AddDialogFieldSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(null)\n    ], AddDialogFieldSettings.prototype, \"type\", void 0);\n    __decorate([\n        Property(null)\n    ], AddDialogFieldSettings.prototype, \"headerText\", void 0);\n    __decorate([\n        Property([])\n    ], AddDialogFieldSettings.prototype, \"fields\", void 0);\n    return AddDialogFieldSettings;\n}(ChildProperty));\nexport { AddDialogFieldSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Defines dialog fields of edit dialog.\n */\nvar EditDialogFieldSettings = /** @class */ (function (_super) {\n    __extends(EditDialogFieldSettings, _super);\n    function EditDialogFieldSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(null)\n    ], EditDialogFieldSettings.prototype, \"type\", void 0);\n    __decorate([\n        Property(null)\n    ], EditDialogFieldSettings.prototype, \"headerText\", void 0);\n    __decorate([\n        Property([])\n    ], EditDialogFieldSettings.prototype, \"fields\", void 0);\n    return EditDialogFieldSettings;\n}(ChildProperty));\nexport { EditDialogFieldSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Configures edit settings of Gantt.\n */\nvar EditSettings = /** @class */ (function (_super) {\n    __extends(EditSettings, _super);\n    function EditSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(false)\n    ], EditSettings.prototype, \"allowEditing\", void 0);\n    __decorate([\n        Property(false)\n    ], EditSettings.prototype, \"allowAdding\", void 0);\n    __decorate([\n        Property(false)\n    ], EditSettings.prototype, \"allowDeleting\", void 0);\n    __decorate([\n        Property('Auto')\n    ], EditSettings.prototype, \"mode\", void 0);\n    __decorate([\n        Property('Top')\n    ], EditSettings.prototype, \"newRowPosition\", void 0);\n    __decorate([\n        Property(false)\n    ], EditSettings.prototype, \"showDeleteConfirmDialog\", void 0);\n    __decorate([\n        Property(false)\n    ], EditSettings.prototype, \"allowTaskbarEditing\", void 0);\n    __decorate([\n        Property(false)\n    ], EditSettings.prototype, \"allowNextRowEdit\", void 0);\n    return EditSettings;\n}(ChildProperty));\nexport { EditSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Defines event marker collection in Gantt.\n */\nvar EventMarker = /** @class */ (function (_super) {\n    __extends(EventMarker, _super);\n    function EventMarker() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(null)\n    ], EventMarker.prototype, \"day\", void 0);\n    __decorate([\n        Property(null)\n    ], EventMarker.prototype, \"label\", void 0);\n    __decorate([\n        Property(null)\n    ], EventMarker.prototype, \"cssClass\", void 0);\n    return EventMarker;\n}(ChildProperty));\nexport { EventMarker };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty, Collection } from '@syncfusion/ej2-base';\nimport { Predicate } from '@syncfusion/ej2-grids';\n/**\n * Configures the filtering behavior of the Gantt.\n */\nvar FilterSettings = /** @class */ (function (_super) {\n    __extends(FilterSettings, _super);\n    function FilterSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Collection([], Predicate)\n    ], FilterSettings.prototype, \"columns\", void 0);\n    __decorate([\n        Property('Menu')\n    ], FilterSettings.prototype, \"type\", void 0);\n    __decorate([\n        Property()\n    ], FilterSettings.prototype, \"operators\", void 0);\n    __decorate([\n        Property(false)\n    ], FilterSettings.prototype, \"ignoreAccent\", void 0);\n    __decorate([\n        Property('Parent')\n    ], FilterSettings.prototype, \"hierarchyMode\", void 0);\n    return FilterSettings;\n}(ChildProperty));\nexport { FilterSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Configures the searching behavior of the Gantt.\n */\nvar SearchSettings = /** @class */ (function (_super) {\n    __extends(SearchSettings, _super);\n    function SearchSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property([])\n    ], SearchSettings.prototype, \"fields\", void 0);\n    __decorate([\n        Property(false)\n    ], SearchSettings.prototype, \"ignoreCase\", void 0);\n    __decorate([\n        Property('contains')\n    ], SearchSettings.prototype, \"operator\", void 0);\n    __decorate([\n        Property('')\n    ], SearchSettings.prototype, \"key\", void 0);\n    __decorate([\n        Property('Parent')\n    ], SearchSettings.prototype, \"hierarchyMode\", void 0);\n    return SearchSettings;\n}(ChildProperty));\nexport { SearchSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Defines holidays of project.\n */\nvar Holiday = /** @class */ (function (_super) {\n    __extends(Holiday, _super);\n    function Holiday() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(null)\n    ], Holiday.prototype, \"from\", void 0);\n    __decorate([\n        Property(null)\n    ], Holiday.prototype, \"to\", void 0);\n    __decorate([\n        Property(null)\n    ], Holiday.prototype, \"label\", void 0);\n    __decorate([\n        Property(null)\n    ], Holiday.prototype, \"cssClass\", void 0);\n    return Holiday;\n}(ChildProperty));\nexport { Holiday };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Defines labels for task, this will be placed right, left and inner side of taskbar.\n */\nvar LabelSettings = /** @class */ (function (_super) {\n    __extends(LabelSettings, _super);\n    function LabelSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(null)\n    ], LabelSettings.prototype, \"rightLabel\", void 0);\n    __decorate([\n        Property(null)\n    ], LabelSettings.prototype, \"leftLabel\", void 0);\n    __decorate([\n        Property(null)\n    ], LabelSettings.prototype, \"taskLabel\", void 0);\n    return LabelSettings;\n}(ChildProperty));\nexport { LabelSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Configures the selection behavior of the Gantt.\n */\nvar SelectionSettings = /** @class */ (function (_super) {\n    __extends(SelectionSettings, _super);\n    function SelectionSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('Row')\n    ], SelectionSettings.prototype, \"mode\", void 0);\n    __decorate([\n        Property('Flow')\n    ], SelectionSettings.prototype, \"cellSelectionMode\", void 0);\n    __decorate([\n        Property('Single')\n    ], SelectionSettings.prototype, \"type\", void 0);\n    __decorate([\n        Property(false)\n    ], SelectionSettings.prototype, \"persistSelection\", void 0);\n    __decorate([\n        Property(false)\n    ], SelectionSettings.prototype, \"enableToggle\", void 0);\n    return SelectionSettings;\n}(ChildProperty));\nexport { SelectionSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Configures splitter position and splitter bar.\n */\nvar SplitterSettings = /** @class */ (function (_super) {\n    __extends(SplitterSettings, _super);\n    function SplitterSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(null)\n    ], SplitterSettings.prototype, \"position\", void 0);\n    __decorate([\n        Property(-1)\n    ], SplitterSettings.prototype, \"columnIndex\", void 0);\n    __decorate([\n        Property(4)\n    ], SplitterSettings.prototype, \"separatorSize\", void 0);\n    __decorate([\n        Property(null)\n    ], SplitterSettings.prototype, \"minimum\", void 0);\n    __decorate([\n        Property('Default')\n    ], SplitterSettings.prototype, \"view\", void 0);\n    return SplitterSettings;\n}(ChildProperty));\nexport { SplitterSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Defines mapping property to get task details from data source.\n */\nvar TaskFields = /** @class */ (function (_super) {\n    __extends(TaskFields, _super);\n    function TaskFields() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"id\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"name\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"parentID\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"startDate\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"endDate\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"dependency\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"progress\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"child\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"milestone\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"duration\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"durationUnit\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"baselineStartDate\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"baselineEndDate\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"resourceInfo\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"expandState\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"indicators\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"notes\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"work\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"manual\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"type\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"segments\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"segmentId\", void 0);\n    return TaskFields;\n}(ChildProperty));\nexport { TaskFields };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty, Complex } from '@syncfusion/ej2-base';\n/**\n * Configures timeline settings of Gantt.\n */\nvar TimelineTierSettings = /** @class */ (function (_super) {\n    __extends(TimelineTierSettings, _super);\n    function TimelineTierSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('')\n    ], TimelineTierSettings.prototype, \"format\", void 0);\n    __decorate([\n        Property('None')\n    ], TimelineTierSettings.prototype, \"unit\", void 0);\n    __decorate([\n        Property(1)\n    ], TimelineTierSettings.prototype, \"count\", void 0);\n    __decorate([\n        Property(null)\n    ], TimelineTierSettings.prototype, \"formatter\", void 0);\n    return TimelineTierSettings;\n}(ChildProperty));\nexport { TimelineTierSettings };\n/**\n * Configures the timeline settings property in the Gantt.\n */\nvar TimelineSettings = /** @class */ (function (_super) {\n    __extends(TimelineSettings, _super);\n    function TimelineSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('Week')\n    ], TimelineSettings.prototype, \"timelineViewMode\", void 0);\n    __decorate([\n        Complex({}, TimelineTierSettings)\n    ], TimelineSettings.prototype, \"topTier\", void 0);\n    __decorate([\n        Complex({}, TimelineTierSettings)\n    ], TimelineSettings.prototype, \"bottomTier\", void 0);\n    __decorate([\n        Property(33)\n    ], TimelineSettings.prototype, \"timelineUnitSize\", void 0);\n    __decorate([\n        Property(0)\n    ], TimelineSettings.prototype, \"weekStartDay\", void 0);\n    __decorate([\n        Property(null)\n    ], TimelineSettings.prototype, \"weekendBackground\", void 0);\n    __decorate([\n        Property(true)\n    ], TimelineSettings.prototype, \"showTooltip\", void 0);\n    __decorate([\n        Property(true)\n    ], TimelineSettings.prototype, \"updateTimescaleView\", void 0);\n    return TimelineSettings;\n}(ChildProperty));\nexport { TimelineSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Configures tooltip settings for Gantt.\n */\nvar TooltipSettings = /** @class */ (function (_super) {\n    __extends(TooltipSettings, _super);\n    function TooltipSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(true)\n    ], TooltipSettings.prototype, \"showTooltip\", void 0);\n    __decorate([\n        Property()\n    ], TooltipSettings.prototype, \"taskbar\", void 0);\n    __decorate([\n        Property()\n    ], TooltipSettings.prototype, \"baseline\", void 0);\n    __decorate([\n        Property()\n    ], TooltipSettings.prototype, \"connectorLine\", void 0);\n    __decorate([\n        Property()\n    ], TooltipSettings.prototype, \"editing\", void 0);\n    return TooltipSettings;\n}(ChildProperty));\nexport { TooltipSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { ChildProperty, Property, Collection } from '@syncfusion/ej2-base';\n/**\n * Represents the field name and direction of sort column.\n */\nvar SortDescriptor = /** @class */ (function (_super) {\n    __extends(SortDescriptor, _super);\n    function SortDescriptor() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property()\n    ], SortDescriptor.prototype, \"field\", void 0);\n    __decorate([\n        Property()\n    ], SortDescriptor.prototype, \"direction\", void 0);\n    return SortDescriptor;\n}(ChildProperty));\nexport { SortDescriptor };\n/**\n * Configures the sorting behavior of Gantt.\n */\nvar SortSettings = /** @class */ (function (_super) {\n    __extends(SortSettings, _super);\n    function SortSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Collection([], SortDescriptor)\n    ], SortSettings.prototype, \"columns\", void 0);\n    __decorate([\n        Property(true)\n    ], SortSettings.prototype, \"allowUnsort\", void 0);\n    return SortSettings;\n}(ChildProperty));\nexport { SortSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Defines mapping property to get resource details from resource collection.\n */\nvar ResourceFields = /** @class */ (function (_super) {\n    __extends(ResourceFields, _super);\n    function ResourceFields() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(null)\n    ], ResourceFields.prototype, \"id\", void 0);\n    __decorate([\n        Property(null)\n    ], ResourceFields.prototype, \"name\", void 0);\n    __decorate([\n        Property(null)\n    ], ResourceFields.prototype, \"unit\", void 0);\n    __decorate([\n        Property(null)\n    ], ResourceFields.prototype, \"group\", void 0);\n    return ResourceFields;\n}(ChildProperty));\nexport { ResourceFields };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { createElement, isNullOrUndefined, extend, compile, getValue, setValue } from '@syncfusion/ej2-base';\nimport { formatUnit, updateBlazorTemplate, resetBlazorTemplate, isBlazor, addClass } from '@syncfusion/ej2-base';\nimport { isScheduledTask } from '../base/utils';\nimport { DataManager, Query } from '@syncfusion/ej2-data';\nimport * as cls from '../base/css-constants';\nimport { DateProcessor } from '../base/date-processor';\n/**\n * To render the chart rows in Gantt\n */\nvar ChartRows = /** @class */ (function (_super) {\n    __extends(ChartRows, _super);\n    function ChartRows(ganttObj) {\n        var _this = _super.call(this, ganttObj) || this;\n        _this.taskBarHeight = 0;\n        _this.milestoneHeight = 0;\n        _this.milesStoneRadius = 0;\n        _this.baselineTop = 0;\n        _this.baselineHeight = 3;\n        _this.touchLeftConnectorpoint = '';\n        _this.touchRightConnectorpoint = '';\n        _this.dropSplit = false;\n        _this.refreshedTr = [];\n        _this.refreshedData = [];\n        _this.parent = ganttObj;\n        _this.initPublicProp();\n        _this.addEventListener();\n        return _this;\n    }\n    /**\n     * To initialize the public property.\n     *\n     * @returns {void}\n     * @private\n     */\n    ChartRows.prototype.initPublicProp = function () {\n        this.ganttChartTableBody = null;\n    };\n    ChartRows.prototype.addEventListener = function () {\n        this.parent.on('renderPanels', this.createChartTable, this);\n        this.parent.on('dataReady', this.initiateTemplates, this);\n        this.parent.on('destroy', this.destroy, this);\n    };\n    ChartRows.prototype.refreshChartByTimeline = function () {\n        this.taskTable.style.width = formatUnit(this.parent.timelineModule.totalTimelineWidth);\n        this.refreshGanttRows();\n    };\n    /**\n     * To render chart rows.\n     *\n     * @returns {void}\n     * @private\n     */\n    ChartRows.prototype.createChartTable = function () {\n        this.taskTable = createElement('table', {\n            className: cls.taskTable + ' ' + cls.zeroSpacing, id: 'GanttTaskTable' + this.parent.element.id,\n            styles: 'z-index: 2;position: absolute;width:' + this.parent.timelineModule.totalTimelineWidth + 'px;',\n            attrs: { cellspacing: '0.25px' }\n        });\n        var colgroup = createElement('colgroup');\n        var column = createElement('col', { styles: 'width:' + this.parent.timelineModule.totalTimelineWidth + 'px;' });\n        colgroup.appendChild(column);\n        this.taskTable.appendChild(colgroup);\n        this.ganttChartTableBody = createElement('tbody', {\n            id: this.parent.element.id + 'GanttTaskTableBody'\n        });\n        this.taskTable.appendChild(this.ganttChartTableBody);\n        if (this.parent.virtualScrollModule && this.parent.enableVirtualization) {\n            this.parent.ganttChartModule.virtualRender.renderWrapper();\n            var wrapper = getValue('wrapper', this.parent.ganttChartModule.virtualRender);\n            wrapper.style.transform = 'translate(0px, 0px)';\n        }\n        else {\n            this.parent.ganttChartModule.chartBodyContent.appendChild(this.taskTable);\n        }\n    };\n    ChartRows.prototype.initiateTemplates = function () {\n        this.taskTable.style.width = formatUnit(this.parent.timelineModule.totalTimelineWidth);\n        this.initChartHelperPrivateVariable();\n        this.initializeChartTemplate();\n    };\n    /**\n     * To render chart rows.\n     *\n     * @returns {void}\n     * @private\n     */\n    ChartRows.prototype.renderChartRows = function () {\n        this.createTaskbarTemplate();\n        this.parent.isGanttChartRendered = true;\n    };\n    /**\n     * To get gantt Indicator.\n     *\n     * @param {IIndicator} indicator .\n     * @returns {NodeList} .\n     * @private\n     */\n    ChartRows.prototype.getIndicatorNode = function (indicator) {\n        var templateString = '<label class=\"' + cls.label + ' ' + cls.taskIndicatorDiv + '\"  style=\"line-height:'\n            + (this.parent.rowHeight) + 'px;' +\n            'left:' + this.getIndicatorleft(indicator.date) + 'px;\"><i class=\"' + indicator.iconClass + '\"></i> </label>';\n        return this.createDivElement(templateString);\n    };\n    /**\n     * To get gantt Indicator.\n     *\n     * @param {Date | string} date .\n     * @returns {number} .\n     * @private\n     */\n    ChartRows.prototype.getIndicatorleft = function (date) {\n        date = this.parent.dateValidationModule.getDateFromFormat(date);\n        var left = this.parent.dataOperation.getTaskLeft(date, false);\n        return left;\n    };\n    /**\n     * To get child taskbar Node.\n     *\n     *  @param {number} i .\n     * @param {NodeList} rootElement .\n     * @returns {NodeList} .\n     * @private\n     */\n    ChartRows.prototype.getChildTaskbarNode = function (i, rootElement) {\n        var childTaskbarNode = null;\n        var data = this.templateData;\n        if (this.childTaskbarTemplateFunction) {\n            childTaskbarNode = this.childTaskbarTemplateFunction(extend({ index: i }, data), this.parent, 'TaskbarTemplate', this.getTemplateID('TaskbarTemplate'), false, undefined, rootElement[0]);\n        }\n        else {\n            var labelString = '';\n            var taskLabel = '';\n            var taskbarInnerDiv = void 0;\n            var progressDiv = void 0;\n            if (data.ganttProperties.startDate && data.ganttProperties.endDate\n                && data.ganttProperties.duration) {\n                taskbarInnerDiv = this.createDivElement('<div class=\"' + cls.childTaskBarInnerDiv + ' ' + cls.traceChildTaskBar +\n                    ' ' + (data.ganttProperties.isAutoSchedule ? '' : cls.manualChildTaskBar) + '\"' +\n                    'style=\"width:' + data.ganttProperties.width + 'px;height:' +\n                    (this.taskBarHeight) + 'px;\"></div>');\n                progressDiv = this.createDivElement('<div class=\"' + cls.childProgressBarInnerDiv + ' ' +\n                    cls.traceChildProgressBar + ' ' + (data.ganttProperties.isAutoSchedule ?\n                    '' : cls.manualChildProgressBar) + '\"' +\n                    ' style=\"border-style:' + (data.ganttProperties.progressWidth ? 'solid;' : 'none;') +\n                    'width:' + data.ganttProperties.progressWidth + 'px;height:100%;' +\n                    'border-top-right-radius:' + this.getBorderRadius(data.ganttProperties) + 'px;' +\n                    'border-bottom-right-radius:' + this.getBorderRadius(data.ganttProperties) + 'px;\">' +\n                    '</div>');\n            }\n            if (this.taskLabelTemplateFunction && !isNullOrUndefined(progressDiv) && progressDiv.length > 0) {\n                var taskLabelTemplateNode = this.taskLabelTemplateFunction(extend({ index: i }, data), this.parent, 'TaskLabelTemplate', this.getTemplateID('TaskLabelTemplate'), false, undefined, progressDiv[0]);\n                if (taskLabelTemplateNode && taskLabelTemplateNode.length > 0) {\n                    var tempDiv = createElement('div');\n                    tempDiv.appendChild(taskLabelTemplateNode[0]);\n                    labelString = tempDiv.innerHTML;\n                }\n            }\n            else {\n                labelString = this.getTaskLabel(this.parent.labelSettings.taskLabel);\n                labelString = labelString === 'isCustomTemplate' ? this.parent.labelSettings.taskLabel : labelString;\n            }\n            if (labelString) {\n                taskLabel = '<span class=\"' + cls.taskLabel + '\" style=\"line-height:' +\n                    (this.taskBarHeight - 1) + 'px; text-align:' + (this.parent.viewType === 'ResourceView' ? 'left;' : '') +\n                    'display:' + (this.parent.viewType === 'ResourceView' ? 'inline-flex;' : '') +\n                    'width:' + (this.parent.viewType === 'ResourceView' ? (data.ganttProperties.width - 10) : '') + 'px; height:' +\n                    this.taskBarHeight + 'px;\">' + labelString + '</span>';\n            }\n            var template = !isNullOrUndefined(data.ganttProperties.segments) && data.ganttProperties.segments.length > 0 ?\n                this.splitTaskbar(data, labelString) : (data.ganttProperties.startDate && data.ganttProperties.endDate\n                && data.ganttProperties.duration) ? (taskLabel) :\n                (data.ganttProperties.startDate && !data.ganttProperties.endDate && !data.ganttProperties.duration) ? ('<div class=\"' + cls.childProgressBarInnerDiv + ' ' + cls.traceChildTaskBar + ' ' +\n                    cls.unscheduledTaskbarLeft + ' ' + (data.ganttProperties.isAutoSchedule ?\n                    '' : cls.manualChildTaskBar) + '\"' +\n                    'style=\"left:' + data.ganttProperties.left + 'px; height:' + this.taskBarHeight + 'px;\"></div>') :\n                    (data.ganttProperties.endDate && !data.ganttProperties.startDate && !data.ganttProperties.duration) ?\n                        ('<div class=\"' + cls.childProgressBarInnerDiv + ' ' + cls.traceChildTaskBar + ' ' +\n                            cls.unscheduledTaskbarRight + ' ' + (data.ganttProperties.isAutoSchedule ?\n                            '' : cls.manualChildTaskBar) + '\"' +\n                            'style=\"left:' + data.ganttProperties.left + 'px; height:' + this.taskBarHeight + 'px;\"></div>') :\n                        (data.ganttProperties.duration && !data.ganttProperties.startDate && !data.ganttProperties.endDate) ?\n                            ('<div class=\"' + cls.childProgressBarInnerDiv + ' ' + cls.traceChildTaskBar + ' ' +\n                                cls.unscheduledTaskbar + ' ' + (data.ganttProperties.isAutoSchedule ?\n                                '' : cls.manualChildTaskBar) + '\"' +\n                                'style=\"left:' + data.ganttProperties.left + 'px; width:' + data.ganttProperties.width + 'px;' +\n                                ' height:' + this.taskBarHeight + 'px;\"></div>') : '';\n            if (data.ganttProperties.startDate && data.ganttProperties.endDate && data.ganttProperties.duration &&\n                isNullOrUndefined(data.ganttProperties.segments)) {\n                if (template !== '' && !isNullOrUndefined(progressDiv) && progressDiv.length > 0) {\n                    progressDiv[0].appendChild([].slice.call(this.createDivElement(template))[0]);\n                }\n                if (!isNullOrUndefined(taskbarInnerDiv) && taskbarInnerDiv.length > 0) {\n                    taskbarInnerDiv[0].appendChild([].slice.call(progressDiv)[0]);\n                }\n                childTaskbarNode = taskbarInnerDiv;\n            }\n            else {\n                childTaskbarNode = this.createDivElement(template);\n            }\n        }\n        return childTaskbarNode;\n    };\n    ChartRows.prototype.splitTaskbar = function (data, labelString) {\n        var splitTasks = '';\n        for (var i = 0; i < data.ganttProperties.segments.length; i++) {\n            var segment = data.ganttProperties.segments[i];\n            var segmentPosition = (i === 0) ? 'e-segment-first' : (i === data.ganttProperties.segments.length - 1)\n                ? 'e-segment-last' : 'e-segment-inprogress';\n            splitTasks += (\n            //split taskbar\n            '<div class=\"' + cls.childTaskBarInnerDiv + ' ' + segmentPosition + ' ' + cls.traceChildTaskBar + ' ' +\n                ' e-segmented-taskbar' +\n                '\"style=\"width:' + segment.width + 'px;position: absolute; left:' + segment.left + 'px;height:' +\n                (this.taskBarHeight) + 'px; overflow: initial;\" data-segment-index = \"' + i + '\" aria-label = \"' +\n                this.generateSpiltTaskAriaLabel(segment, data.ganttProperties) + '\"> ' +\n                this.getSplitTaskbarLeftResizerNode() +\n                //split progress bar\n                '<div class=\"' + cls.childProgressBarInnerDiv + ' ' + cls.traceChildProgressBar + ' ' +\n                '\" style=\"border-style:' + (segment.progressWidth ? 'solid;' : 'none;') +\n                'display:' + (segment.progressWidth >= 0 ? 'block;' : 'none;') +\n                'width:' + segment.progressWidth + 'px;height:100%;' +\n                'border-top-right-radius:' + this.getSplitTaskBorderRadius(segment) + 'px;' +\n                'border-bottom-right-radius:' + this.getSplitTaskBorderRadius(segment) + 'px;\">' +\n                // progress label\n                '<span class=\"' + cls.taskLabel + '\" style=\"line-height:' +\n                (this.taskBarHeight - 1) + 'px;display:' + (segment.showProgress ? 'inline;' : 'none;') +\n                'height:' + this.taskBarHeight + 'px;\">' + labelString + '</span>' +\n                '</div>' +\n                this.getSplitTaskbarRightResizerNode(segment) +\n                (segment.showProgress ? this.getSplitProgressResizerNode(segment) : '') +\n                '</div></div>');\n        }\n        return splitTasks;\n    };\n    ChartRows.prototype.getSplitTaskbarLeftResizerNode = function () {\n        var lResizerLeft = -(this.parent.isAdaptive ? 12 : 2);\n        var template = '<div class=\"' + cls.taskBarLeftResizer + ' ' + cls.icon + '\"' +\n            ' style=\"left:' + lResizerLeft + 'px;height:' + (this.taskBarHeight) + 'px;\"></div>';\n        return template;\n    };\n    ChartRows.prototype.getSplitTaskbarRightResizerNode = function (segment) {\n        var rResizerLeft = this.parent.isAdaptive ? -2 : -10;\n        var template = '<div class=\"' + cls.taskBarRightResizer + ' ' + cls.icon + '\"' +\n            ' style=\"left:' + (segment.width + rResizerLeft) + 'px;' +\n            'height:' + (this.taskBarHeight) + 'px;\"></div>';\n        return template;\n    };\n    ChartRows.prototype.getSplitProgressResizerNode = function (segment) {\n        var template = '<div class=\"' + cls.childProgressResizer + '\"' +\n            ' style=\"left:' + (segment.progressWidth - 6) + 'px;margin-top:' +\n            (this.taskBarHeight - 4) + 'px;\"><div class=\"' + cls.progressBarHandler + '\"' +\n            '><div class=\"' + cls.progressHandlerElement + '\"></div>' +\n            '<div class=\"' + cls.progressBarHandlerAfter + '\"></div></div>';\n        return template;\n    };\n    ChartRows.prototype.getSegmentIndex = function (splitStartDate, record) {\n        var segmentIndex = -1;\n        var ganttProp = record.ganttProperties;\n        var segments = ganttProp.segments;\n        if (!isNullOrUndefined(segments)) {\n            segments.sort(function (a, b) {\n                return a.startDate.getTime() - b.startDate.getTime();\n            });\n            var length_1 = segments.length;\n            for (var i = 0; i < length_1; i++) {\n                var segment = segments[i];\n                // To find if user tend to split the start date of a main taskbar\n                // purpose of this to restrict the split action\n                if (splitStartDate.getTime() === ganttProp.startDate.getTime()) {\n                    this.dropSplit = true;\n                    segmentIndex = 0;\n                    // To find the if user tend to split the first date of already segmented task.\n                    // purpose of this to move on day of a segment\n                }\n                else if (splitStartDate.getTime() === segment.startDate.getTime()) {\n                    this.dropSplit = true;\n                    var sDate = segment.startDate;\n                    sDate.setDate(sDate.getDate() + 1);\n                    sDate = segment.startDate = this.parent.dataOperation.checkStartDate(sDate, ganttProp, false);\n                    segment.startDate = sDate;\n                    var eDate = segment.endDate;\n                    eDate = this.parent.dataOperation.getEndDate(sDate, segment.duration, ganttProp.durationUnit, ganttProp, false);\n                    segment.endDate = eDate;\n                    if (i === segments.length - 1) {\n                        this.parent.setRecordValue('endDate', eDate, ganttProp, true);\n                    }\n                    this.incrementSegments(segments, i, record);\n                    segmentIndex = segment.segmentIndex;\n                    // To find if the user tend to split the segment and find the segment index\n                }\n                else {\n                    segment.endDate = this.parent.dataOperation.getEndDate(segment.startDate, segment.duration, ganttProp.durationUnit, ganttProp, false);\n                    if (splitStartDate.getTime() >= segment.startDate.getTime() && splitStartDate.getTime() <= segment.endDate.getTime()) {\n                        segmentIndex = segment.segmentIndex;\n                    }\n                }\n                this.parent.setRecordValue('segments', ganttProp.segments, ganttProp, true);\n            }\n        }\n        return segmentIndex;\n    };\n    ChartRows.prototype.mergeTask = function (taskId, segmentIndexes) {\n        var mergeArrayLength = segmentIndexes.length;\n        var taskFields = this.parent.taskFields;\n        var mergeData = this.parent.flatData.filter(function (x) {\n            if (x[taskFields.id] === taskId) {\n                return x;\n            }\n            else {\n                return null;\n            }\n        })[0];\n        var segments = mergeData.ganttProperties.segments;\n        segmentIndexes = segmentIndexes.sort(function (a, b) {\n            return b.firstSegmentIndex - a.firstSegmentIndex;\n        });\n        for (var arrayLength = 0; arrayLength < mergeArrayLength; arrayLength++) {\n            var firstSegment = segments[segmentIndexes[arrayLength].firstSegmentIndex];\n            var secondSegment = segments[segmentIndexes[arrayLength].secondSegmentIndex];\n            var duration = firstSegment.duration + secondSegment.duration;\n            var endDate = this.parent.dataOperation.getEndDate(firstSegment.startDate, duration, mergeData.ganttProperties.durationUnit, mergeData.ganttProperties, false);\n            var segment = {\n                startDate: firstSegment.startDate,\n                endDate: endDate,\n                duration: duration\n            };\n            var insertIndex = segmentIndexes[arrayLength].firstSegmentIndex;\n            segments.splice(insertIndex, 2, segment);\n            this.parent.setRecordValue('segments', segments, mergeData.ganttProperties, true);\n            this.parent.dataOperation.updateMappingData(mergeData, 'segments');\n            if (segments.length === 1) {\n                this.parent.setRecordValue('endDate', endDate, mergeData.ganttProperties, true);\n                this.parent.setRecordValue('segments', null, mergeData.ganttProperties, true);\n                this.parent.dataOperation.updateMappingData(mergeData, 'segments');\n            }\n            else if (mergeData.ganttProperties.endDate !== segments[segments.length - 1].endDate) {\n                this.parent.setRecordValue('endDate', segments[segments.length - 1].endDate, mergeData.ganttProperties, true);\n            }\n        }\n        this.refreshChartAfterSegment(mergeData, 'mergeSegment');\n    };\n    ChartRows.prototype.refreshChartAfterSegment = function (data, requestType) {\n        this.parent.setRecordValue('segments', this.parent.dataOperation.setSegmentsInfo(data, false), data.ganttProperties, true);\n        this.parent.dataOperation.updateMappingData(data, 'segments');\n        this.parent.dataOperation.updateWidthLeft(data);\n        if (this.parent.predecessorModule && this.parent.taskFields.dependency) {\n            this.parent.predecessorModule.updatedRecordsDateByPredecessor();\n            this.parent.connectorLineModule.removePreviousConnectorLines(this.parent.flatData);\n            this.parent.connectorLineEditModule.refreshEditedRecordConnectorLine(this.parent.flatData);\n            this.refreshRecords(this.parent.currentViewData);\n        }\n        else {\n            this.refreshRow(this.parent.currentViewData.indexOf(data));\n        }\n        var tr = this.ganttChartTableBody.querySelectorAll('tr')[this.parent.currentViewData.indexOf(data)];\n        var args = {\n            requestType: requestType,\n            rowData: data\n        };\n        this.triggerQueryTaskbarInfoByIndex(tr, data);\n        this.parent.selectionModule.clearSelection();\n        this.parent.trigger('actionComplete', args);\n        setValue('isEdit', false, this.parent.contextMenuModule);\n    };\n    /**\n     * public method to split task bar.\n     *\n     * @public\n     */\n    ChartRows.prototype.splitTask = function (taskId, splitDates) {\n        var taskFields = this.parent.taskFields;\n        var splitDate = splitDates;\n        var splitRecord = this.parent.flatData.filter(function (x) {\n            if (x[taskFields.id] === taskId) {\n                return x;\n            }\n            else {\n                return null;\n            }\n        })[0];\n        var ganttProp = splitRecord.ganttProperties;\n        this.dropSplit = false;\n        var segmentIndex = -1;\n        var segments = ganttProp.segments;\n        if (isNullOrUndefined(splitDates.length) || splitDates.length < 0) {\n            var splitStartDate = this.parent.dataOperation.checkStartDate(splitDate, ganttProp, false);\n            if (splitStartDate.getTime() !== ganttProp.startDate.getTime()) {\n                if (ganttProp.isAutoSchedule) {\n                    if (!isNullOrUndefined(segments)) {\n                        segmentIndex = this.getSegmentIndex(splitStartDate, splitRecord);\n                    }\n                    //check atleast one day difference is there to split\n                    if (this.dropSplit === false && splitDate.getTime() > ganttProp.startDate.getTime() &&\n                        splitDate.getTime() < ganttProp.endDate.getTime()) {\n                        segments = segmentIndex !== -1 ? segments : [];\n                        var startDate = segmentIndex !== -1 ?\n                            segments[segmentIndex].startDate : new Date(ganttProp.startDate.getTime());\n                        var endDate = segmentIndex !== -1 ? segments[segmentIndex].endDate : new Date(ganttProp.endDate.getTime());\n                        var segmentDuration = this.parent.dataOperation.getDuration(startDate, endDate, ganttProp.durationUnit, ganttProp.isAutoSchedule, ganttProp.isMilestone);\n                        this.parent.setRecordValue('segments', this.splitSegmentedTaskbar(startDate, endDate, splitDate, segmentIndex, segments, splitRecord, segmentDuration), ganttProp, true);\n                        if (segmentIndex !== -1) {\n                            this.incrementSegments(segments, segmentIndex + 1, splitRecord);\n                        }\n                        this.parent.setRecordValue('endDate', segments[segments.length - 1].endDate, ganttProp, true);\n                        if (this.parent.taskFields.endDate) {\n                            this.parent.dataOperation.updateMappingData(splitRecord, 'endDate');\n                        }\n                    }\n                    this.refreshChartAfterSegment(splitRecord, 'splitTaskbar');\n                }\n            }\n        }\n        else {\n            splitDates.sort();\n            this.parent.setRecordValue('segments', this.constructSegments(splitDates, splitRecord.ganttProperties), splitRecord.ganttProperties, true);\n            this.refreshChartAfterSegment(splitRecord, 'splitTask');\n        }\n    };\n    ChartRows.prototype.constructSegments = function (dates, taskData) {\n        var segmentsArray = [];\n        var segment;\n        var startDate = new Date();\n        var endDate;\n        var duration;\n        for (var i = 0; i < dates.length + 1; i++) {\n            startDate = i === 0 ? taskData.startDate : startDate;\n            startDate = this.parent.dataOperation.checkStartDate(startDate, taskData, false);\n            endDate = i !== dates.length ? new Date(dates[i].getTime()) > taskData.endDate ? taskData.endDate\n                : new Date(dates[i].getTime()) : taskData.endDate;\n            endDate = this.parent.dataOperation.checkEndDate(endDate, taskData, false);\n            duration = this.parent.dataOperation.getDuration(startDate, endDate, taskData.durationUnit, taskData.isAutoSchedule, taskData.isMilestone);\n            if (endDate.getTime() >= startDate.getTime()) {\n                segment = {\n                    startDate: startDate,\n                    endDate: endDate,\n                    duration: duration\n                };\n                segmentsArray.push(segment);\n            }\n            if (i === dates.length) {\n                break;\n            }\n            startDate = new Date(dates[i].getTime());\n            startDate.setDate(dates[i].getDate() + 1);\n        }\n        return segmentsArray;\n    };\n    ChartRows.prototype.splitSegmentedTaskbar = function (startDate, endDate, splitDate, segmentIndex, segments, ganttData, segmentDuration) {\n        var ganttProp = ganttData.ganttProperties;\n        var checkClickState = this.parent.nonWorkingDayIndex.indexOf(splitDate.getDay());\n        var increment = checkClickState === -1 ? 0 : checkClickState === 0 ? 1 : 2;\n        startDate = this.parent.dataOperation.checkStartDate(startDate, ganttProp, false);\n        var segmentEndDate = new Date(splitDate.getTime());\n        segmentEndDate = this.parent.dataOperation.checkEndDate(segmentEndDate, ganttProp, false);\n        for (var i = 0; i < 2; i++) {\n            var segment = {\n                startDate: startDate,\n                endDate: segmentEndDate,\n                duration: this.parent.dataOperation.getDuration(startDate, segmentEndDate, ganttProp.durationUnit, ganttProp.isAutoSchedule, ganttProp.isMilestone),\n                offsetDuration: 1\n            };\n            var endDateState = this.parent.nonWorkingDayIndex.indexOf(segmentEndDate.getDay());\n            if (segmentIndex !== -1) {\n                segments.splice(segmentIndex, 1);\n                segmentIndex = -1;\n            }\n            segments.push(segment);\n            startDate = new Date(splitDate.getTime());\n            startDate.setDate(startDate.getDate() + 1 + increment);\n            startDate = this.parent.dataOperation.checkStartDate(startDate, ganttProp, false);\n            segmentEndDate = new Date(endDate.getTime());\n            segmentEndDate.setDate(segmentEndDate.getDate() + 1);\n            if (endDateState !== -1) {\n                var diff = segmentDuration - segment.duration;\n                segmentEndDate =\n                    this.parent.dataOperation.getEndDate(startDate, diff, ganttProp.durationUnit, ganttProp, false);\n            }\n            else {\n                segmentEndDate = this.parent.dataOperation.checkEndDate(segmentEndDate, ganttProp, false);\n            }\n        }\n        segments.sort(function (a, b) {\n            return a.startDate.getTime() - b.startDate.getTime();\n        });\n        return segments;\n    };\n    ChartRows.prototype.incrementSegments = function (segments, segmentIndex, ganttData) {\n        var ganttProp = ganttData.ganttProperties;\n        for (var i = segmentIndex + 1; i < segments.length; i++) {\n            var segment = segments[i];\n            var startDate = i !== 0 ? new Date(segments[i - 1].endDate.getTime()) : new Date(segment.startDate.getTime());\n            startDate = this.parent.dataOperation.getEndDate(startDate, segment.offsetDuration, ganttProp.durationUnit, ganttProp, false);\n            startDate = this.parent.dataOperation.checkStartDate(startDate, ganttProp, false);\n            segment.startDate = startDate;\n            var endDate = segment.endDate = this.parent.dataOperation.getEndDate(startDate, segment.duration, ganttProp.durationUnit, ganttProp, false);\n            segment.endDate = endDate;\n            if (i === segments.length - 1) {\n                this.parent.setRecordValue('endDate', endDate, ganttProp, true);\n                if (this.parent.taskFields.endDate) {\n                    this.parent.dataOperation.updateMappingData(ganttData, 'endDate');\n                }\n            }\n        }\n        segments.sort(function (a, b) {\n            return a.startDate.getTime() - b.startDate.getTime();\n        });\n        this.parent.setRecordValue('segments', segments, ganttProp, true);\n        this.parent.dataOperation.updateMappingData(ganttData, 'segments');\n    };\n    /**\n     * To get milestone node.\n     *\n     * @param {number} i .\n     * @param {NodeList} rootElement .\n     * @returns {NodeList} .\n     * @private\n     */\n    ChartRows.prototype.getMilestoneNode = function (i, rootElement) {\n        var milestoneNode = null;\n        var data = this.templateData;\n        if (this.milestoneTemplateFunction) {\n            milestoneNode = this.milestoneTemplateFunction(extend({ index: i }, data), this.parent, 'MilestoneTemplate', this.getTemplateID('MilestoneTemplate'), false, undefined, rootElement[0]);\n        }\n        else {\n            var template = '<div class=\"' + cls.traceMilestone + '\" style=\"position:absolute;\">' +\n                '<div class=\"' + cls.milestoneTop + ' ' + ((!data.ganttProperties.startDate && !data.ganttProperties.endDate) ?\n                cls.unscheduledMilestoneTop : '') + '\" style=\"border-right-width:' +\n                this.milesStoneRadius + 'px;border-left-width:' + this.milesStoneRadius + 'px;border-bottom-width:' +\n                this.milesStoneRadius + 'px;\"></div>' +\n                '<div class=\"' + cls.milestoneBottom + ' ' + ((!data.ganttProperties.startDate && !data.ganttProperties.endDate) ?\n                cls.unscheduledMilestoneBottom : '') + '\" style=\"top:' +\n                (this.milesStoneRadius) + 'px;border-right-width:' + this.milesStoneRadius + 'px; border-left-width:' +\n                this.milesStoneRadius + 'px; border-top-width:' + this.milesStoneRadius + 'px;\"></div></div>';\n            milestoneNode = this.createDivElement(template);\n        }\n        return milestoneNode;\n    };\n    /**\n     * To get task baseline Node.\n     *\n     * @returns {NodeList} .\n     * @private\n     */\n    ChartRows.prototype.getTaskBaselineNode = function () {\n        var data = this.templateData;\n        var template = '<div class=\"' + cls.baselineBar + ' ' + '\" style=\"margin-top:' + this.baselineTop +\n            'px;left:' + data.ganttProperties.baselineLeft + 'px;' +\n            'width:' + data.ganttProperties.baselineWidth + 'px;height:' +\n            this.baselineHeight + 'px;' + (this.baselineColor ? 'background-color: ' + this.baselineColor + ';' : '') + '\"></div>';\n        return this.createDivElement(template);\n    };\n    /**\n     * To get milestone baseline node.\n     *\n     * @returns {NodeList} .\n     * @private\n     */\n    ChartRows.prototype.getMilestoneBaselineNode = function () {\n        var data = this.templateData;\n        var template = '<div class=\"' + cls.baselineMilestoneContainer + ' ' + '\" style=\"' +\n            'left:' + (data.ganttProperties.baselineLeft - this.milesStoneRadius) + 'px;' +\n            'margin-top:' + (-Math.floor(this.parent.rowHeight - this.milestoneMarginTop) + 2) +\n            'px\">' + '<div class=\"' + cls.baselineMilestoneDiv + '\">' + '<div class=\"' + cls.baselineMilestoneDiv +\n            ' ' + cls.baselineMilestoneTop + '\"  ' +\n            'style=\"top:' + (-this.milestoneHeight) + 'px;border-right:' + this.milesStoneRadius +\n            'px solid transparent;border-left:' + this.milesStoneRadius +\n            'px solid transparent;border-top:0px' +\n            'solid transparent;border-bottom-width:' + this.milesStoneRadius + 'px;' +\n            'border-bottom-style: solid;' + (this.baselineColor ? 'border-bottom-color: ' + this.baselineColor + ';' : '') +\n            '\"></div>' +\n            '<div class=\"' + cls.baselineMilestoneDiv + ' ' + cls.baselineMilestoneBottom + '\"  ' +\n            'style=\"top:' + (this.milesStoneRadius - this.milestoneHeight) + 'px;border-right:' + this.milesStoneRadius +\n            'px solid transparent;border-left:' + this.milesStoneRadius +\n            'px solid transparent;border-bottom:0px' +\n            'solid transparent;border-top-width:' + this.milesStoneRadius + 'px;' +\n            'border-top-style: solid;' +\n            (this.baselineColor ? 'border-top-color: ' + this.baselineColor + ';' : '') + '\"></div>' +\n            '</div></div>';\n        return this.createDivElement(template);\n    };\n    /**\n     * To get left label node.\n     *\n     * @param {number} i .\n     * @returns {NodeList} .\n     * @private\n     */\n    ChartRows.prototype.getLeftLabelNode = function (i) {\n        var leftLabelNode = this.leftLabelContainer();\n        leftLabelNode[0].setAttribute('aria-label', this.generateTaskLabelAriaLabel('left'));\n        var leftLabelTemplateNode = null;\n        if (this.leftTaskLabelTemplateFunction) {\n            leftLabelTemplateNode = this.leftTaskLabelTemplateFunction(extend({ index: i }, this.templateData), this.parent, 'LeftLabelTemplate', this.getTemplateID('LeftLabelTemplate'), false, undefined, leftLabelNode[0]);\n        }\n        else {\n            var field = this.parent.labelSettings.leftLabel;\n            var labelString = this.getTaskLabel(field);\n            if (labelString) {\n                labelString = labelString === 'isCustomTemplate' ? field : labelString;\n                leftLabelTemplateNode = this.getLableText(labelString, cls.leftLabelInnerDiv);\n            }\n        }\n        if (leftLabelTemplateNode && leftLabelTemplateNode.length > 0) {\n            leftLabelNode[0].appendChild([].slice.call(leftLabelTemplateNode)[0]);\n        }\n        return leftLabelNode;\n    };\n    ChartRows.prototype.getLableText = function (labelString, labelDiv) {\n        var templateString = createElement('div', {\n            className: labelDiv, styles: 'height:' + (this.taskBarHeight) + 'px;' +\n                'margin-top:' + this.taskBarMarginTop + 'px;'\n        });\n        var spanElem = createElement('span', { className: cls.label });\n        var property = this.parent.disableHtmlEncode ? 'textContent' : 'innerHTML';\n        spanElem[property] = labelString;\n        templateString.appendChild(spanElem);\n        var div = createElement('div');\n        div.appendChild(templateString);\n        return div.childNodes;\n    };\n    /**\n     * To get right label node.\n     *\n     * @param {number} i .\n     * @returns {NodeList} .\n     * @private\n     */\n    ChartRows.prototype.getRightLabelNode = function (i) {\n        var rightLabelNode = this.rightLabelContainer();\n        rightLabelNode[0].setAttribute('aria-label', this.generateTaskLabelAriaLabel('right'));\n        var rightLabelTemplateNode = null;\n        if (this.rightTaskLabelTemplateFunction) {\n            rightLabelTemplateNode = this.rightTaskLabelTemplateFunction(extend({ index: i }, this.templateData), this.parent, 'RightLabelTemplate', this.getTemplateID('RightLabelTemplate'), false, undefined, rightLabelNode[0]);\n        }\n        else {\n            var field = this.parent.labelSettings.rightLabel;\n            var labelString = this.getTaskLabel(field);\n            if (labelString) {\n                labelString = labelString === 'isCustomTemplate' ? field : labelString;\n                rightLabelTemplateNode = this.getLableText(labelString, cls.rightLabelInnerDiv);\n            }\n        }\n        if (rightLabelTemplateNode && rightLabelTemplateNode.length > 0) {\n            rightLabelNode[0].appendChild([].slice.call(rightLabelTemplateNode)[0]);\n        }\n        return rightLabelNode;\n    };\n    ChartRows.prototype.getManualTaskbar = function () {\n        var data = this.templateData;\n        var taskbarHeight = (this.taskBarHeight / 2 - 1);\n        var innerDiv = (data.ganttProperties.startDate && data.ganttProperties.endDate && data.ganttProperties.duration) ?\n            ('<div class=\"' + cls.manualParentTaskBar + '\" style=\"width:' + data.ganttProperties.width + 'px;' + 'height:' +\n                taskbarHeight / 5 + 'px;border-left-width:' + taskbarHeight / 5 +\n                'px; border-bottom:' + taskbarHeight / 5 + 'px solid transparent;\"></div>') :\n            (!data.ganttProperties.startDate && !data.ganttProperties.endDate && data.ganttProperties.duration) ?\n                ('<div class=\"' + cls.manualParentTaskBar + ' ' + cls.traceManualUnscheduledTask +\n                    '\" style=\"width:' + data.ganttProperties.width + 'px;' + 'height:' +\n                    (taskbarHeight / 5 + 1) + 'px;border-left-width:' + taskbarHeight / 5 +\n                    'px; border-bottom:' + taskbarHeight / 5 + 'px solid transparent;\"></div>') : ('<div class=\"' +\n                cls.manualParentTaskBar + ' ' + (data.ganttProperties.startDate ? cls.unscheduledTaskbarLeft : cls.unscheduledTaskbarRight) +\n                '\" style=\"width:' + data.ganttProperties.width + 'px;' + 'height:' +\n                taskbarHeight * 2 + 'px;border-left-width:' + taskbarHeight / 5 +\n                'px; border-bottom:' + taskbarHeight / 5 + 'px solid transparent;\"></div>');\n        var template = '<div class=\"' + cls.manualParentMainContainer + '\"' +\n            'style=left:' + (data.ganttProperties.left - data.ganttProperties.autoLeft) + 'px;' +\n            'width:' + data.ganttProperties.width + 'px;' +\n            'height:' + taskbarHeight + 'px;>' + innerDiv + ((data.ganttProperties.startDate && data.ganttProperties.endDate &&\n            data.ganttProperties.duration) || data.ganttProperties.duration ? '<div class=\"e-gantt-manualparenttaskbar-left\" style=' +\n            '\"height:' + taskbarHeight + 'px;border-left-width:' + taskbarHeight / 5 +\n            'px; border-bottom:' + taskbarHeight / 5 + 'px solid transparent;\"></div>' +\n            '<div class=\"e-gantt-manualparenttaskbar-right\" style=' +\n            'left:' + (data.ganttProperties.width - taskbarHeight / 5) + 'px;height:' +\n            (taskbarHeight) + 'px;border-right-width:' + taskbarHeight / 5 + 'px;border-bottom:' +\n            taskbarHeight / 5 + 'px solid transparent;>' + '</div></div>' : '');\n        var milestoneTemplate = '<div class=\"' + cls.manualParentMilestone + '\" style=\"position:absolute;left:' +\n            (data.ganttProperties.left - data.ganttProperties.autoLeft - (this.milestoneHeight / 2)) +\n            'px;width:' + (this.milesStoneRadius * 2) +\n            'px;\">' + '<div class=\"' + cls.manualParentMilestoneTop + '\" style=\"border-right-width:' +\n            this.milesStoneRadius + 'px;border-left-width:' + this.milesStoneRadius + 'px;border-bottom-width:' +\n            this.milesStoneRadius + 'px;\"></div>' +\n            '<div class=\"' + cls.manualParentMilestoneBottom + '\" style=\"top:' +\n            (this.milesStoneRadius) + 'px;border-right-width:' + this.milesStoneRadius + 'px; border-left-width:' +\n            this.milesStoneRadius + 'px; border-top-width:' + this.milesStoneRadius + 'px;\"></div></div>';\n        return this.createDivElement(data.ganttProperties.width === 0 ? milestoneTemplate : template);\n    };\n    /**\n     * To get parent taskbar node.\n     *\n     * @param {number} i .\n     * @param {NodeList} rootElement .\n     * @returns {NodeList} .\n     * @private\n     */\n    ChartRows.prototype.getParentTaskbarNode = function (i, rootElement) {\n        var parentTaskbarNode = null;\n        var data = this.templateData;\n        if (this.parentTaskbarTemplateFunction) {\n            parentTaskbarNode = this.parentTaskbarTemplateFunction(extend({ index: i }, data), this.parent, 'ParentTaskbarTemplate', this.getTemplateID('ParentTaskbarTemplate'), false, undefined, rootElement[0]);\n        }\n        else {\n            var labelString = '';\n            var labelDiv = void 0;\n            var tHeight = this.taskBarHeight / 5;\n            var template = this.createDivElement('<div class=\"' + cls.parentTaskBarInnerDiv + ' ' +\n                this.getExpandClass(data) + ' ' + cls.traceParentTaskBar + '\"' +\n                ' style=\"width:' + (data.ganttProperties.isAutoSchedule ? data.ganttProperties.width :\n                data.ganttProperties.autoWidth) + 'px;height:' + (data.ganttProperties.isAutoSchedule ? this.taskBarHeight :\n                (tHeight * 3)) + 'px;margin-top:' + (data.ganttProperties.isAutoSchedule ? '' :\n                (tHeight * 2)) + 'px;\">' +\n                '</div>');\n            var progressBarInnerDiv = this.createDivElement('<div class=\"' + cls.parentProgressBarInnerDiv + ' ' +\n                this.getExpandClass(data) + ' ' + cls.traceParentProgressBar + '\"' +\n                ' style=\"border-style:' + (data.ganttProperties.progressWidth ? 'solid;' : 'none;') +\n                'width:' + data.ganttProperties.progressWidth + 'px;' +\n                'border-top-right-radius:' + this.getBorderRadius(data) + 'px;' +\n                'border-bottom-right-radius:' + this.getBorderRadius(data) + 'px;height:100%;\"></div>');\n            if (this.taskLabelTemplateFunction) {\n                var parentTaskLabelNode = this.taskLabelTemplateFunction(extend({ index: i }, data), this.parent, 'TaskLabelTemplate', this.getTemplateID('TaskLabelTemplate'), false, undefined, progressBarInnerDiv[0]);\n                if (parentTaskLabelNode && parentTaskLabelNode.length > 0) {\n                    var div = createElement('div');\n                    div.appendChild(parentTaskLabelNode[0]);\n                    labelString = div.innerHTML;\n                }\n            }\n            else {\n                labelString = this.getTaskLabel(this.parent.labelSettings.taskLabel);\n                labelString = labelString === 'isCustomTemplate' ? this.parent.labelSettings.taskLabel : labelString;\n            }\n            if (labelString !== '') {\n                labelDiv = this.createDivElement('<span class=\"' +\n                    cls.taskLabel + '\" style=\"line-height:' +\n                    (this.taskBarHeight - 1) + 'px; display:' + (this.parent.viewType === 'ResourceView' ? 'inline-flex;' : '') + 'width:' +\n                    (this.parent.viewType === 'ResourceView' ? (data.ganttProperties.width - 10) : '') + 'px; height:' +\n                    this.taskBarHeight + 'px;\">' + labelString + '</span>');\n                progressBarInnerDiv[0].appendChild([].slice.call(labelDiv)[0]);\n            }\n            var milestoneTemplate = '<div class=\"' + cls.parentMilestone + '\" style=\"position:absolute;\">' +\n                '<div class=\"' + cls.parentMilestoneTop + '\" style=\"border-right-width:' +\n                this.milesStoneRadius + 'px;border-left-width:' + this.milesStoneRadius + 'px;border-bottom-width:' +\n                this.milesStoneRadius + 'px;\"></div>' +\n                '<div class=\"' + cls.parentMilestoneBottom + '\" style=\"top:' +\n                (this.milesStoneRadius) + 'px;border-right-width:' + this.milesStoneRadius + 'px; border-left-width:' +\n                this.milesStoneRadius + 'px; border-top-width:' + this.milesStoneRadius + 'px;\"></div></div>';\n            template[0].appendChild([].slice.call(progressBarInnerDiv)[0]);\n            parentTaskbarNode = data.ganttProperties.isMilestone ?\n                this.createDivElement(data.ganttProperties.isAutoSchedule ? milestoneTemplate : '') : template;\n        }\n        return parentTaskbarNode;\n    };\n    /**\n     * To get taskbar row('TR') node\n     *\n     * @returns {NodeList} .\n     * @private\n     */\n    ChartRows.prototype.getTableTrNode = function () {\n        var table = createElement('table');\n        var className = (this.parent.gridLines === 'Horizontal' || this.parent.gridLines === 'Both') ?\n            'e-chart-row-border' : '';\n        table.innerHTML = '<tr class=\"' + this.getRowClassName(this.templateData) + ' ' + cls.chartRow + '\"' +\n            'style=\"display:' + this.getExpandDisplayProp(this.templateData) + ';height:' +\n            this.parent.rowHeight + 'px;\">' +\n            '<td class=\"' + cls.chartRowCell + ' ' + className\n            + '\" style=\"width:' + this.parent.timelineModule.totalTimelineWidth + 'px;\"></td></tr>';\n        return table.childNodes;\n    };\n    /**\n     * To initialize chart templates.\n     *\n     * @returns {void}\n     * @private\n     */\n    ChartRows.prototype.initializeChartTemplate = function () {\n        if (!isNullOrUndefined(this.parent.parentTaskbarTemplate)) {\n            this.parentTaskbarTemplateFunction = this.templateCompiler(this.parent.parentTaskbarTemplate);\n        }\n        if (!isNullOrUndefined(this.parent.labelSettings.leftLabel) &&\n            this.isTemplate(this.parent.labelSettings.leftLabel)) {\n            this.leftTaskLabelTemplateFunction = this.templateCompiler(this.parent.labelSettings.leftLabel);\n        }\n        if (!isNullOrUndefined(this.parent.labelSettings.rightLabel) &&\n            this.isTemplate(this.parent.labelSettings.rightLabel)) {\n            this.rightTaskLabelTemplateFunction = this.templateCompiler(this.parent.labelSettings.rightLabel);\n        }\n        if (!isNullOrUndefined(this.parent.labelSettings.taskLabel) &&\n            this.isTemplate(this.parent.labelSettings.taskLabel)) {\n            this.taskLabelTemplateFunction = this.templateCompiler(this.parent.labelSettings.taskLabel);\n        }\n        if (!isNullOrUndefined(this.parent.taskbarTemplate)) {\n            this.childTaskbarTemplateFunction = this.templateCompiler(this.parent.taskbarTemplate);\n        }\n        if (!isNullOrUndefined(this.parent.milestoneTemplate)) {\n            this.milestoneTemplateFunction = this.templateCompiler(this.parent.milestoneTemplate);\n        }\n    };\n    ChartRows.prototype.createDivElement = function (template) {\n        var div = createElement('div');\n        div.innerHTML = template;\n        return div.childNodes;\n    };\n    ChartRows.prototype.isTemplate = function (template) {\n        var result = false;\n        if (typeof template !== 'string' || template.indexOf('#') === 0 || template.indexOf('<') > -1\n            || template.indexOf('$') > -1) {\n            result = true;\n        }\n        return result;\n    };\n    /**\n     * @param {string} templateName .\n     * @returns {string} .\n     * @private\n     */\n    ChartRows.prototype.getTemplateID = function (templateName) {\n        var ganttID = this.parent.element.id;\n        return ganttID + templateName;\n    };\n    ChartRows.prototype.updateTaskbarBlazorTemplate = function (isUpdate, ganttData) {\n        var isMilestone = true;\n        var isParent = true;\n        var isChild = true;\n        if (ganttData) {\n            if (ganttData.ganttProperties.isMilestone) {\n                isParent = isChild = false;\n            }\n            else if (ganttData.hasChildRecords) {\n                isMilestone = isChild = false;\n            }\n            else if (!ganttData.hasChildRecords) {\n                isParent = isMilestone = false;\n            }\n        }\n        if (this.parentTaskbarTemplateFunction && isParent) {\n            if (isUpdate) {\n                updateBlazorTemplate(this.getTemplateID('ParentTaskbarTemplate'), 'ParentTaskbarTemplate', this.parent, false);\n            }\n            else {\n                resetBlazorTemplate(this.getTemplateID('ParentTaskbarTemplate'), 'ParentTaskbarTemplate');\n            }\n        }\n        if (this.childTaskbarTemplateFunction && isChild) {\n            if (isUpdate) {\n                updateBlazorTemplate(this.getTemplateID('TaskbarTemplate'), 'TaskbarTemplate', this.parent, false);\n            }\n            else {\n                resetBlazorTemplate(this.getTemplateID('TaskbarTemplate'), 'TaskbarTemplate');\n            }\n        }\n        if (this.milestoneTemplateFunction && isMilestone) {\n            if (isUpdate) {\n                updateBlazorTemplate(this.getTemplateID('MilestoneTemplate'), 'MilestoneTemplate', this.parent, false);\n            }\n            else {\n                resetBlazorTemplate(this.getTemplateID('MilestoneTemplate'), 'MilestoneTemplate');\n            }\n        }\n        if (this.leftTaskLabelTemplateFunction) {\n            if (isUpdate) {\n                updateBlazorTemplate(this.getTemplateID('LeftLabelTemplate'), 'LeftLabelTemplate', this.parent.labelSettings, false);\n            }\n            else {\n                resetBlazorTemplate(this.getTemplateID('LeftLabelTemplate'), 'LeftLabelTemplate');\n            }\n        }\n        if (this.rightTaskLabelTemplateFunction) {\n            if (isUpdate) {\n                updateBlazorTemplate(this.getTemplateID('RightLabelTemplate'), 'RightLabelTemplate', this.parent.labelSettings, false);\n            }\n            else {\n                resetBlazorTemplate(this.getTemplateID('RightLabelTemplate'), 'RightLabelTemplate');\n            }\n        }\n        if (this.taskLabelTemplateFunction && (isParent || isChild)) {\n            if (isUpdate) {\n                updateBlazorTemplate(this.getTemplateID('TaskLabelTemplate'), 'TaskLabelTemplate', this.parent.labelSettings, false);\n            }\n            else {\n                resetBlazorTemplate(this.getTemplateID('TaskLabelTemplate'), 'TaskLabelTemplate');\n            }\n        }\n    };\n    ChartRows.prototype.leftLabelContainer = function () {\n        var template = '<div class=\"' + ((this.leftTaskLabelTemplateFunction) ? cls.leftLabelTempContainer :\n            cls.leftLabelContainer) + ' ' + '\" tabindex=\"-1\" style=\"height:' +\n            (this.parent.rowHeight - 1) + 'px;width:' + this.taskNameWidth(this.templateData) + '\"></div>';\n        return this.createDivElement(template);\n    };\n    ChartRows.prototype.taskbarContainer = function () {\n        var data = this.templateData;\n        var manualParent = this.parent.editModule && this.parent.editSettings.allowTaskbarEditing &&\n            this.parent.editModule.taskbarEditModule.taskBarEditAction === 'ParentResizing' ?\n            true : false;\n        var template = '<div class=\"' + cls.taskBarMainContainer + ' ' +\n            this.parent.getUnscheduledTaskClass(data.ganttProperties) + ' ' +\n            ((data.ganttProperties.cssClass) ? data.ganttProperties.cssClass : '') + '\" ' +\n            ' tabindex=\"-1\" style=\"' + ((data.ganttProperties.isMilestone && !manualParent) ?\n            ('width:' + this.milestoneHeight + 'px;height:' +\n                this.milestoneHeight + 'px;margin-top:' + this.milestoneMarginTop + 'px;left:' + (data.ganttProperties.left -\n                (this.milestoneHeight / 2)) + 'px;') : ('width:' + data.ganttProperties.width +\n            'px;margin-top:' + this.taskBarMarginTop + 'px;left:' + (!data.hasChildRecords || data.ganttProperties.isAutoSchedule ?\n            data.ganttProperties.left : data.ganttProperties.autoLeft) + 'px;height:' +\n            this.taskBarHeight + 'px;cursor:' + (data.ganttProperties.isAutoSchedule ? 'move;' : 'auto;'))) + '\"></div>';\n        return this.createDivElement(template);\n    };\n    ChartRows.prototype.rightLabelContainer = function () {\n        var template = '<div class=\"' + ((this.rightTaskLabelTemplateFunction) ? cls.rightLabelTempContainer :\n            cls.rightLabelContainer) + '\" ' + ' tabindex=\"-1\" style=\"left:' + this.getRightLabelLeft(this.templateData) + 'px;height:'\n            + (this.parent.rowHeight - 1) + 'px;\"></div>';\n        return this.createDivElement(template);\n    };\n    ChartRows.prototype.childTaskbarLeftResizer = function () {\n        var lResizerLeft = -(this.parent.isAdaptive ? 12 : 2);\n        var template = '<div class=\"' + cls.taskBarLeftResizer + ' ' + cls.icon + '\"' +\n            ' style=\"left:' + lResizerLeft + 'px;height:' + (this.taskBarHeight) + 'px;\"></div>';\n        return this.createDivElement(template);\n    };\n    ChartRows.prototype.childTaskbarRightResizer = function () {\n        var rResizerLeft = this.parent.isAdaptive ? -2 : -10;\n        var template = '<div class=\"' + cls.taskBarRightResizer + ' ' + cls.icon + '\"' +\n            ' style=\"left:' + (this.templateData.ganttProperties.width + rResizerLeft) + 'px;' +\n            'height:' + (this.taskBarHeight) + 'px;\"></div>';\n        return this.createDivElement(template);\n    };\n    ChartRows.prototype.childTaskbarProgressResizer = function () {\n        var template = '<div class=\"' + cls.childProgressResizer + '\"' +\n            ' style=\"left:' + (this.templateData.ganttProperties.progressWidth - 6) + 'px;margin-top:' +\n            (this.taskBarHeight - 4) + 'px;\"><div class=\"' + cls.progressBarHandler + '\"' +\n            '><div class=\"' + cls.progressHandlerElement + '\"></div>' +\n            '<div class=\"' + cls.progressBarHandlerAfter + '\"></div></div>';\n        return this.createDivElement(template);\n    };\n    ChartRows.prototype.getLeftPointNode = function () {\n        var data = this.templateData;\n        var pointerLeft = -((this.parent.isAdaptive ? 14 : 2) + this.connectorPointWidth);\n        var mileStoneLeft = -(this.connectorPointWidth + 2);\n        var pointerTop = Math.floor(this.milesStoneRadius - (this.connectorPointWidth / 2));\n        var template = '<div class=\"' + cls.leftConnectorPointOuterDiv + '\" style=\"' +\n            ((data.ganttProperties.isMilestone) ? ('margin-top:' + pointerTop + 'px;left:' + mileStoneLeft +\n                'px;') : ('margin-top:' + this.connectorPointMargin + 'px;left:' + pointerLeft + 'px;')) + '\">' +\n            '<div class=\"' + cls.connectorPointLeft + ' ' + this.parent.getUnscheduledTaskClass(data.ganttProperties) +\n            '\" style=\"width: ' + this.connectorPointWidth + 'px;' +\n            'height: ' + this.connectorPointWidth + 'px;\">' + this.touchLeftConnectorpoint + '</div></div>';\n        return this.createDivElement(template);\n    };\n    ChartRows.prototype.getRightPointNode = function () {\n        var data = this.templateData;\n        var pointerRight = this.parent.isAdaptive ? 10 : -2;\n        var pointerTop = Math.floor(this.milesStoneRadius - (this.connectorPointWidth / 2));\n        var template = '<div class=\"' + cls.rightConnectorPointOuterDiv + '\" style=\"' +\n            ((data.ganttProperties.isMilestone) ? ('left:' + (this.milestoneHeight - 2) + 'px;margin-top:' +\n                pointerTop + 'px;') : ('left:' + (data.ganttProperties.width + pointerRight) + 'px;margin-top:' +\n                this.connectorPointMargin + 'px;')) + '\">' +\n            '<div class=\"' + cls.connectorPointRight + ' ' + this.parent.getUnscheduledTaskClass(data.ganttProperties) +\n            '\" style=\"width:' + this.connectorPointWidth + 'px;height:' + this.connectorPointWidth + 'px;\">' +\n            this.touchRightConnectorpoint + '</div></div>';\n        return this.createDivElement(template);\n    };\n    /**\n     * To get task label.\n     *\n     * @param {string} field .\n     * @returns {string} .\n     * @private\n     */\n    ChartRows.prototype.getTaskLabel = function (field) {\n        var length = this.parent.ganttColumns.length;\n        var resultString = null;\n        if (!isNullOrUndefined(field) && field !== '') {\n            if (field === this.parent.taskFields.resourceInfo) {\n                resultString = this.getResourceName(this.templateData);\n            }\n            else {\n                for (var i = 0; i < length; i++) {\n                    if (field === this.parent.ganttColumns[i].field) {\n                        resultString = this.getFieldValue(this.templateData[field]).toString();\n                        break;\n                    }\n                }\n                if (isNullOrUndefined(resultString)) {\n                    return 'isCustomTemplate';\n                }\n            }\n        }\n        else {\n            resultString = '';\n        }\n        return resultString;\n    };\n    ChartRows.prototype.getExpandDisplayProp = function (data) {\n        data = this.templateData;\n        if (this.parent.getExpandStatus(data)) {\n            return 'table-row';\n        }\n        return 'none';\n    };\n    ChartRows.prototype.getRowClassName = function (data) {\n        data = this.templateData;\n        var rowClass = 'gridrowtaskId';\n        var parentItem = data.parentItem;\n        if (parentItem) {\n            rowClass += parentItem.taskId.toString();\n        }\n        rowClass += 'level';\n        rowClass += data.level.toString();\n        return rowClass;\n    };\n    ChartRows.prototype.getBorderRadius = function (data) {\n        data = this.templateData;\n        var diff = data.ganttProperties.width - data.ganttProperties.progressWidth;\n        if (diff <= 4) {\n            return 4 - diff;\n        }\n        else {\n            return 0;\n        }\n    };\n    ChartRows.prototype.getSplitTaskBorderRadius = function (data) {\n        var diff = data.width - data.progressWidth;\n        if (diff <= 4) {\n            return 4 - diff;\n        }\n        else {\n            return 0;\n        }\n    };\n    ChartRows.prototype.taskNameWidth = function (ganttData) {\n        ganttData = this.templateData;\n        var ganttProp = ganttData.ganttProperties;\n        var width;\n        if (ganttData.ganttProperties.isMilestone) {\n            width = (ganttData.ganttProperties.left - (this.parent.getTaskbarHeight() / 2));\n        }\n        else if (ganttData.hasChildRecords && !ganttProp.isAutoSchedule) {\n            if (!this.parent.allowUnscheduledTasks) {\n                width = (ganttProp.autoStartDate.getTime() < ganttProp.startDate.getTime()) ?\n                    ganttProp.autoLeft : ganttProp.left;\n            }\n            else {\n                width = ganttProp.left < ganttProp.autoLeft ? ganttProp.left : ganttProp.autoLeft;\n            }\n        }\n        else {\n            width = ganttData.ganttProperties.left;\n        }\n        if (width < 0) {\n            width = 0;\n        }\n        return width + 'px';\n    };\n    ChartRows.prototype.getRightLabelLeft = function (ganttData) {\n        ganttData = this.templateData;\n        var ganttProp = ganttData.ganttProperties;\n        var left;\n        var endLeft;\n        var width;\n        if (ganttData.ganttProperties.isMilestone) {\n            return ganttData.ganttProperties.left + (this.parent.getTaskbarHeight() / 2);\n        }\n        else if (ganttData.hasChildRecords && !ganttProp.isAutoSchedule) {\n            if (!this.parent.allowUnscheduledTasks) {\n                left = ganttProp.autoStartDate.getTime() < ganttProp.startDate.getTime() ? ganttProp.autoLeft : ganttProp.left;\n                endLeft = ganttProp.autoEndDate.getTime() < ganttProp.endDate.getTime() ?\n                    this.parent.dataOperation.getTaskLeft(ganttProp.endDate, ganttProp.isMilestone) :\n                    this.parent.dataOperation.getTaskLeft(ganttProp.autoEndDate, ganttProp.isMilestone);\n                width = endLeft - left;\n            }\n            else {\n                left = ganttProp.left < ganttProp.autoLeft ? ganttProp.left : ganttProp.autoLeft;\n                width = ganttProp.autoWidth;\n            }\n            return left + width;\n        }\n        else {\n            return ganttData.ganttProperties.left + ganttData.ganttProperties.width;\n        }\n    };\n    ChartRows.prototype.getExpandClass = function (data) {\n        data = this.templateData;\n        if (data.expanded) {\n            return cls.rowExpand;\n        }\n        else if (!data.expanded && data.hasChildRecords) {\n            return cls.rowCollapse;\n        }\n        return '';\n    };\n    ChartRows.prototype.getFieldValue = function (field) {\n        return isNullOrUndefined(field) ? '' : field;\n    };\n    ChartRows.prototype.getResourceName = function (ganttData) {\n        ganttData = this.templateData;\n        var resource = null;\n        if (!isNullOrUndefined(ganttData.ganttProperties.resourceInfo)) {\n            var length_2 = ganttData.ganttProperties.resourceInfo.length;\n            if (length_2 > 0) {\n                for (var i = 0; i < length_2; i++) {\n                    var resourceName = ganttData.ganttProperties.resourceInfo[i][this.parent.resourceFields.name];\n                    var resourceUnit = ganttData.ganttProperties.resourceInfo[i][this.parent.resourceFields.unit];\n                    if (resourceUnit !== 100) {\n                        resourceName += '[' + resourceUnit + '%' + ']';\n                    }\n                    if (isNullOrUndefined(resource)) {\n                        resource = resourceName;\n                    }\n                    else {\n                        resource += ' , ' + resourceName;\n                    }\n                }\n                return resource;\n            }\n            else {\n                return '';\n            }\n        }\n        return '';\n    };\n    /**\n     * To initialize private variable help to render task bars.\n     *\n     * @returns {void}\n     * @private\n     */\n    ChartRows.prototype.initChartHelperPrivateVariable = function () {\n        this.baselineColor = !isNullOrUndefined(this.parent.baselineColor) &&\n            this.parent.baselineColor !== '' ? this.parent.baselineColor : null;\n        this.taskBarHeight = isNullOrUndefined(this.parent.taskbarHeight) || this.parent.taskbarHeight >= this.parent.rowHeight ?\n            Math.floor(this.parent.rowHeight * 0.62) : this.parent.taskbarHeight; // 0.62 -- Standard Ratio.\n        if (this.parent.renderBaseline) {\n            var height = void 0;\n            if ((this.taskBarHeight + this.baselineHeight) <= this.parent.rowHeight) {\n                height = this.taskBarHeight;\n            }\n            else {\n                height = this.taskBarHeight - (this.baselineHeight + 1);\n            }\n            this.taskBarHeight = height;\n        }\n        this.milestoneHeight = Math.floor(this.taskBarHeight * 0.82); // 0.82 -- Standard Ratio.\n        this.taskBarMarginTop = Math.floor((this.parent.rowHeight - this.taskBarHeight) / 2);\n        this.milestoneMarginTop = Math.floor((this.parent.rowHeight - this.milestoneHeight) / 2);\n        this.milesStoneRadius = Math.floor((this.milestoneHeight) / 2);\n        this.baselineTop = -(Math.floor((this.parent.rowHeight - (this.taskBarHeight + this.taskBarMarginTop))) - 1);\n        this.connectorPointWidth = this.parent.isAdaptive ? Math.round(this.taskBarHeight / 2) : 8;\n        this.connectorPointMargin = Math.floor((this.taskBarHeight / 2) - (this.connectorPointWidth / 2));\n    };\n    /**\n     * Function used to refresh Gantt rows.\n     *\n     * @returns {void}\n     * @private\n     */\n    ChartRows.prototype.refreshGanttRows = function () {\n        this.parent.currentViewData = this.parent.treeGrid.getCurrentViewRecords().slice();\n        this.createTaskbarTemplate();\n        if (this.parent.viewType === 'ResourceView' && this.parent.showOverAllocation) {\n            for (var i = 0; i < this.parent.currentViewData.length; i++) {\n                var data = this.parent.currentViewData[i];\n                if (data.childRecords.length > 0) {\n                    this.parent.setRecordValue('workTimelineRanges', this.parent.dataOperation.mergeRangeCollections(data.ganttProperties.workTimelineRanges, true), data.ganttProperties, true);\n                    this.parent.dataOperation.calculateRangeLeftWidth(data.ganttProperties.workTimelineRanges);\n                }\n            }\n            this.parent.ganttChartModule.renderRangeContainer(this.parent.currentViewData);\n        }\n    };\n    /**\n     * To render taskbars.\n     *\n     * @returns {void}\n     * @private\n     */\n    ChartRows.prototype.createTaskbarTemplate = function () {\n        this.updateTaskbarBlazorTemplate(false);\n        var trs = [].slice.call(this.ganttChartTableBody.querySelectorAll('tr'));\n        this.ganttChartTableBody.innerHTML = '';\n        var collapsedResourceRecord = [];\n        // eslint-disable-next-line\n        var prevCurrentView = this.parent.treeGridModule.prevCurrentView;\n        if (this.parent.enableImmutableMode && prevCurrentView && prevCurrentView.length > 0) {\n            this.refreshedTr = [];\n            this.refreshedData = [];\n            // eslint-disable-next-line\n            var oldKeys = {};\n            var oldRowElements = [];\n            var key = this.parent.treeGrid.getPrimaryKeyFieldNames()[0];\n            for (var i = 0; i < prevCurrentView.length; i++) {\n                oldRowElements[i] = trs[i];\n                oldKeys[prevCurrentView[i][key]] = i;\n            }\n            for (var index = 0; index < this.parent.currentViewData.length; index++) {\n                var oldIndex = oldKeys[this.parent.currentViewData[index][key]];\n                var modifiedRecIndex = this.parent.modifiedRecords.indexOf(this.parent.currentViewData[index]);\n                if (isNullOrUndefined(oldIndex) || modifiedRecIndex !== -1) {\n                    var tRow = this.getGanttChartRow(index, this.parent.currentViewData[index]);\n                    this.ganttChartTableBody.appendChild(tRow);\n                    this.refreshedTr.push(this.ganttChartTableBody.querySelectorAll('tr')[index]);\n                    this.refreshedData.push(this.parent.currentViewData[index]);\n                }\n                else if (!isNullOrUndefined(oldIndex) && modifiedRecIndex === -1) {\n                    this.ganttChartTableBody.appendChild(oldRowElements[oldIndex]);\n                }\n                this.ganttChartTableBody.querySelectorAll('tr')[index].setAttribute('aria-rowindex', index.toString());\n            }\n        }\n        else {\n            for (var i = 0; i < this.parent.currentViewData.length; i++) {\n                var tempTemplateData = this.parent.currentViewData[i];\n                if (this.parent.viewType === 'ResourceView' && !tempTemplateData.expanded && this.parent.enableMultiTaskbar) {\n                    collapsedResourceRecord.push(tempTemplateData);\n                }\n                var tRow = this.getGanttChartRow(i, tempTemplateData);\n                this.ganttChartTableBody.appendChild(tRow);\n                // To maintain selection when virtualization is enabled\n                if (this.parent.selectionModule && this.parent.allowSelection) {\n                    this.parent.selectionModule.maintainSelectedRecords(parseInt(tRow.getAttribute('aria-rowindex'), 10));\n                }\n            }\n        }\n        this.triggerQueryTaskbarInfo();\n        this.parent.modifiedRecords = [];\n        if (collapsedResourceRecord.length) {\n            for (var j = 0; j < collapsedResourceRecord.length; j++) {\n                if (collapsedResourceRecord[j].hasChildRecords) {\n                    this.parent.isGanttChartRendered = true;\n                    this.parent.chartRowsModule.refreshRecords([collapsedResourceRecord[j]]);\n                }\n            }\n        }\n        this.parent.renderTemplates();\n        this.updateTaskbarBlazorTemplate(true);\n    };\n    /**\n     * To render taskbars.\n     *\n     * @param {number} i .\n     * @param {IGanttData} tempTemplateData .\n     * @returns {Node} .\n     * @private\n     */\n    ChartRows.prototype.getGanttChartRow = function (i, tempTemplateData) {\n        this.templateData = tempTemplateData;\n        var taskBaselineTemplateNode = null;\n        var parentTrNode = this.getTableTrNode();\n        var leftLabelNode = this.getLeftLabelNode(i);\n        var taskbarContainerNode = this.taskbarContainer();\n        taskbarContainerNode[0].setAttribute('aria-label', this.generateAriaLabel(this.templateData));\n        taskbarContainerNode[0].setAttribute('rowUniqueId', this.templateData.ganttProperties.rowUniqueID);\n        if (!this.templateData.hasChildRecords) {\n            var connectorLineLeftNode = this.getLeftPointNode();\n            taskbarContainerNode[0].appendChild([].slice.call(connectorLineLeftNode)[0]);\n        }\n        if (this.templateData.hasChildRecords) {\n            var parentTaskbarTemplateNode = this.getParentTaskbarNode(i, taskbarContainerNode);\n            if (!this.templateData.ganttProperties.isAutoSchedule) {\n                var manualTaskbar = this.getManualTaskbar();\n                taskbarContainerNode[0].appendChild([].slice.call(manualTaskbar)[0]);\n            }\n            if (parentTaskbarTemplateNode && parentTaskbarTemplateNode.length > 0) {\n                taskbarContainerNode[0].appendChild([].slice.call(parentTaskbarTemplateNode)[0]);\n            }\n            if (this.parent.renderBaseline && this.templateData.ganttProperties.baselineStartDate &&\n                this.templateData.ganttProperties.baselineEndDate) {\n                taskBaselineTemplateNode = this.getTaskBaselineNode();\n            }\n        }\n        else if (this.templateData.ganttProperties.isMilestone) {\n            var milestoneTemplateNode = this.getMilestoneNode(i, taskbarContainerNode);\n            if (milestoneTemplateNode && milestoneTemplateNode.length > 0) {\n                taskbarContainerNode[0].appendChild([].slice.call(milestoneTemplateNode)[0]);\n            }\n            if (this.parent.renderBaseline && this.templateData.ganttProperties.baselineStartDate &&\n                this.templateData.ganttProperties.baselineEndDate) {\n                taskBaselineTemplateNode = this.getMilestoneBaselineNode();\n            }\n        }\n        else {\n            var scheduledTask = isScheduledTask(this.templateData.ganttProperties);\n            var childTaskbarProgressResizeNode = null;\n            var childTaskbarRightResizeNode = null;\n            var childTaskbarLeftResizeNode = null;\n            if (!isNullOrUndefined(scheduledTask)) {\n                if (scheduledTask || this.templateData.ganttProperties.duration) {\n                    if (scheduledTask && (isNullOrUndefined(this.templateData.ganttProperties.segments)\n                        || this.templateData.ganttProperties.segments.length <= 0)) {\n                        childTaskbarProgressResizeNode = this.childTaskbarProgressResizer();\n                        childTaskbarLeftResizeNode = this.childTaskbarLeftResizer();\n                        childTaskbarRightResizeNode = this.childTaskbarRightResizer();\n                    }\n                }\n                var childTaskbarTemplateNode = this.getChildTaskbarNode(i, taskbarContainerNode);\n                if (childTaskbarLeftResizeNode) {\n                    taskbarContainerNode[0].appendChild([].slice.call(childTaskbarLeftResizeNode)[0]);\n                }\n                if (childTaskbarTemplateNode && childTaskbarTemplateNode.length > 0) {\n                    if (this.templateData.ganttProperties.segments && this.templateData.ganttProperties.segments.length > 0) {\n                        var length_3 = this.templateData.ganttProperties.segments.length;\n                        var connector = ('<div class=\"e-gantt-split-container-line\"></div>');\n                        var segmentConnector = null;\n                        segmentConnector = this.createDivElement(connector);\n                        taskbarContainerNode[0].appendChild([].slice.call(segmentConnector)[0]);\n                        for (var i_1 = 0; i_1 < length_3; i_1++) {\n                            taskbarContainerNode[0].appendChild([].slice.call(childTaskbarTemplateNode)[0]);\n                        }\n                    }\n                    else {\n                        taskbarContainerNode[0].appendChild([].slice.call(childTaskbarTemplateNode)[0]);\n                    }\n                }\n                if (childTaskbarProgressResizeNode) {\n                    taskbarContainerNode[0].appendChild([].slice.call(childTaskbarProgressResizeNode)[0]);\n                }\n                if (childTaskbarRightResizeNode) {\n                    taskbarContainerNode[0].appendChild([].slice.call(childTaskbarRightResizeNode)[0]);\n                }\n            }\n            if (this.parent.renderBaseline && this.templateData.ganttProperties.baselineStartDate &&\n                this.templateData.ganttProperties.baselineEndDate) {\n                taskBaselineTemplateNode = this.getTaskBaselineNode();\n            }\n        }\n        if (!this.templateData.hasChildRecords) {\n            var connectorLineRightNode = this.getRightPointNode();\n            taskbarContainerNode[0].appendChild([].slice.call(connectorLineRightNode)[0]);\n        }\n        var rightLabelNode = this.getRightLabelNode(i);\n        parentTrNode[0].childNodes[0].childNodes[0].appendChild([].slice.call(leftLabelNode)[0]);\n        parentTrNode[0].childNodes[0].childNodes[0].appendChild([].slice.call(taskbarContainerNode)[0]);\n        if (this.templateData.ganttProperties.indicators && this.templateData.ganttProperties.indicators.length > 0) {\n            var taskIndicatorNode = void 0;\n            // eslint-disable-next-line\n            var taskIndicatorTextFunction = void 0;\n            var taskIndicatorTextNode = void 0;\n            var indicators = this.templateData.ganttProperties.indicators;\n            for (var indicatorIndex = 0; indicatorIndex < indicators.length; indicatorIndex++) {\n                taskIndicatorNode = this.getIndicatorNode(indicators[indicatorIndex]);\n                if (indicators[indicatorIndex].name.indexOf('$') > -1 || indicators[indicatorIndex].name.indexOf('#') > -1) {\n                    taskIndicatorTextFunction = this.templateCompiler(indicators[indicatorIndex].name);\n                    taskIndicatorTextNode = taskIndicatorTextFunction(extend({ index: i }, this.templateData), this.parent, 'indicatorLabelText');\n                }\n                else {\n                    var text = createElement('Text');\n                    text.innerHTML = indicators[indicatorIndex].name;\n                    taskIndicatorTextNode = text.childNodes;\n                }\n                taskIndicatorNode[0].appendChild([].slice.call(taskIndicatorTextNode)[0]);\n                taskIndicatorNode[0].title =\n                    !isNullOrUndefined(indicators[indicatorIndex].tooltip) ? indicators[indicatorIndex].tooltip : '';\n                parentTrNode[0].childNodes[0].childNodes[0].appendChild([].slice.call(taskIndicatorNode)[0]);\n            }\n        }\n        if (rightLabelNode && rightLabelNode.length > 0) {\n            parentTrNode[0].childNodes[0].childNodes[0].appendChild([].slice.call(rightLabelNode)[0]);\n        }\n        if (!isNullOrUndefined(taskBaselineTemplateNode)) {\n            parentTrNode[0].childNodes[0].childNodes[0].appendChild([].slice.call(taskBaselineTemplateNode)[0]);\n        }\n        var tRow = parentTrNode[0].childNodes[0];\n        this.setAriaRowIndex(tempTemplateData, tRow);\n        return tRow;\n    };\n    /**\n     * To set aria-rowindex for chart rows\n     *\n     * @returns {void} .\n     * @private\n     */\n    ChartRows.prototype.setAriaRowIndex = function (tempTemplateData, tRow) {\n        var dataSource = this.parent.treeGrid.getCurrentViewRecords();\n        var visualData = this.parent.virtualScrollModule && this.parent.enableVirtualization ?\n            getValue('virtualScrollModule.visualData', this.parent.treeGrid) : dataSource;\n        var index = visualData.indexOf(tempTemplateData);\n        tRow.setAttribute('aria-rowindex', index.toString());\n    };\n    /**\n     * To trigger query taskbar info event.\n     *\n     * @returns {void}\n     * @private\n     */\n    ChartRows.prototype.triggerQueryTaskbarInfo = function () {\n        if (!this.parent.queryTaskbarInfo) {\n            return;\n        }\n        var length = this.refreshedTr.length > 0 ?\n            this.refreshedTr.length : this.ganttChartTableBody.querySelectorAll('tr').length;\n        var trElement;\n        var data;\n        for (var index = 0; index < length; index++) {\n            trElement = this.refreshedTr.length > 0 ? this.refreshedTr[index] : this.ganttChartTableBody.querySelectorAll('tr')[index];\n            data = this.refreshedData.length > 0 ? this.refreshedData[index] : this.parent.currentViewData[index];\n            var segmentLength = !isNullOrUndefined(data.ganttProperties.segments) && data.ganttProperties.segments.length;\n            if (segmentLength > 0) {\n                for (var i = 0; i < segmentLength; i++) {\n                    var segmentedTasks = trElement.getElementsByClassName('e-segmented-taskbar');\n                    var segmentElement = segmentedTasks[i];\n                    this.triggerQueryTaskbarInfoByIndex(segmentElement, data);\n                }\n            }\n            else {\n                this.triggerQueryTaskbarInfoByIndex(trElement, data);\n            }\n        }\n    };\n    /**\n     *\n     * @param {Element} trElement .\n     * @param {IGanttData} data .\n     * @returns {void} .\n     * @private\n     */\n    ChartRows.prototype.triggerQueryTaskbarInfoByIndex = function (trElement, data) {\n        var _this = this;\n        // eslint-disable-next-line\n        var taskbarElement = !isNullOrUndefined(data.ganttProperties.segments) && data.ganttProperties.segments.length > 0 ? trElement :\n            trElement.querySelector('.' + cls.taskBarMainContainer);\n        var rowElement;\n        var triggerTaskbarElement;\n        var args = {\n            data: data,\n            rowElement: trElement,\n            taskbarElement: taskbarElement,\n            taskbarType: data.hasChildRecords ? 'ParentTask' : data.ganttProperties.isMilestone ? 'Milestone' : 'ChildTask'\n        };\n        var classCollections = this.getClassName(args);\n        if (args.taskbarType === 'Milestone') {\n            args.milestoneColor = taskbarElement.querySelector(classCollections[0]) ?\n                getComputedStyle(taskbarElement.querySelector(classCollections[0])).borderBottomColor : null;\n            args.baselineColor = trElement.querySelector(classCollections[1]) ?\n                getComputedStyle(trElement.querySelector(classCollections[1])).borderBottomColor : null;\n        }\n        else {\n            var childTask = taskbarElement.querySelector(classCollections[0]);\n            var progressTask = taskbarElement.querySelector(classCollections[1]);\n            args.taskbarBgColor = isNullOrUndefined(childTask) ? null : taskbarElement.classList.contains(cls.traceChildTaskBar) ?\n                getComputedStyle(taskbarElement).backgroundColor :\n                getComputedStyle(taskbarElement.querySelector(classCollections[0])).backgroundColor;\n            args.taskbarBorderColor = isNullOrUndefined(childTask) ? null : taskbarElement.classList.contains(cls.traceChildTaskBar) ?\n                getComputedStyle(taskbarElement).backgroundColor :\n                getComputedStyle(taskbarElement.querySelector(classCollections[0])).borderColor;\n            args.progressBarBgColor = isNullOrUndefined(progressTask) ? null :\n                taskbarElement.classList.contains(cls.traceChildProgressBar) ?\n                    getComputedStyle(taskbarElement).backgroundColor :\n                    getComputedStyle(taskbarElement.querySelector(classCollections[1])).backgroundColor;\n            // args.progressBarBorderColor = taskbarElement.querySelector(progressBarClass) ?\n            //     getComputedStyle(taskbarElement.querySelector(progressBarClass)).borderColor : null;\n            args.baselineColor = trElement.querySelector('.' + cls.baselineBar) ?\n                getComputedStyle(trElement.querySelector('.' + cls.baselineBar)).backgroundColor : null;\n            args.taskLabelColor = taskbarElement.querySelector('.' + cls.taskLabel) ?\n                getComputedStyle(taskbarElement.querySelector('.' + cls.taskLabel)).color : null;\n        }\n        args.rightLabelColor = trElement.querySelector('.' + cls.rightLabelContainer) &&\n            (trElement.querySelector('.' + cls.rightLabelContainer)).querySelector('.' + cls.label) ?\n            getComputedStyle((trElement.querySelector('.' + cls.rightLabelContainer)).querySelector('.' + cls.label)).color : null;\n        args.leftLabelColor = trElement.querySelector('.' + cls.leftLabelContainer) &&\n            (trElement.querySelector('.' + cls.leftLabelContainer)).querySelector('.' + cls.label) ?\n            getComputedStyle((trElement.querySelector('.' + cls.leftLabelContainer)).querySelector('.' + cls.label)).color : null;\n        if (isBlazor()) {\n            rowElement = args.rowElement;\n            triggerTaskbarElement = args.taskbarElement;\n        }\n        this.parent.trigger('queryTaskbarInfo', args, function (taskbarArgs) {\n            _this.updateQueryTaskbarInfoArgs(taskbarArgs, rowElement, triggerTaskbarElement);\n        });\n    };\n    /**\n     * To update query taskbar info args.\n     *\n     * @param {IQueryTaskbarInfoEventArgs} args .\n     * @param {Element} rowElement .\n     * @param {Element} taskBarElement .\n     * @returns {void}\n     * @private\n     */\n    ChartRows.prototype.updateQueryTaskbarInfoArgs = function (args, rowElement, taskBarElement) {\n        var trElement = isBlazor() && rowElement ? rowElement : args.rowElement;\n        var taskbarElement = isBlazor() && taskBarElement ? taskBarElement : args.taskbarElement;\n        var classCollections = this.getClassName(args);\n        if (args.taskbarType === 'Milestone') {\n            if (taskbarElement.querySelector(classCollections[0]) &&\n                getComputedStyle(taskbarElement.querySelector(classCollections[0])).borderBottomColor !== args.milestoneColor) {\n                taskbarElement.querySelector(classCollections[0]).style.borderBottomColor = args.milestoneColor;\n                taskbarElement.querySelector('.' + cls.milestoneBottom).style.borderTopColor = args.milestoneColor;\n            }\n            if (trElement.querySelector(classCollections[1]) &&\n                getComputedStyle(trElement.querySelector(classCollections[1])).borderTopColor !== args.baselineColor) {\n                trElement.querySelector(classCollections[1]).style.borderBottomColor = args.baselineColor;\n                trElement.querySelector('.' + cls.baselineMilestoneBottom).style.borderTopColor = args.baselineColor;\n            }\n        }\n        else {\n            if (taskbarElement.querySelector(classCollections[0]) &&\n                getComputedStyle(taskbarElement.querySelector(classCollections[0])).backgroundColor !== args.taskbarBgColor) {\n                taskbarElement.querySelector(classCollections[0]).style.backgroundColor = args.taskbarBgColor;\n            }\n            if (taskbarElement.querySelector(classCollections[0]) &&\n                getComputedStyle(taskbarElement.querySelector(classCollections[0])).borderColor !== args.taskbarBorderColor) {\n                taskbarElement.querySelector(classCollections[0]).style.borderColor = args.taskbarBorderColor;\n            }\n            if (taskbarElement.querySelector(classCollections[1]) &&\n                getComputedStyle(taskbarElement.querySelector(classCollections[1])).backgroundColor !== args.progressBarBgColor) {\n                taskbarElement.querySelector(classCollections[1]).style.backgroundColor = args.progressBarBgColor;\n            }\n            if (taskbarElement.classList.contains(cls.traceChildTaskBar) &&\n                getComputedStyle(taskbarElement).backgroundColor !== args.taskbarBgColor) {\n                taskbarElement.style.backgroundColor = args.taskbarBgColor;\n            }\n            if (taskbarElement.classList.contains(cls.traceChildTaskBar) &&\n                getComputedStyle(taskbarElement).borderColor !== args.taskbarBorderColor) {\n                taskbarElement.style.borderColor = args.taskbarBorderColor;\n            }\n            if (taskbarElement.classList.contains(cls.traceChildProgressBar) &&\n                getComputedStyle(taskbarElement).backgroundColor !== args.progressBarBgColor) {\n                taskbarElement.style.backgroundColor = args.progressBarBgColor;\n            }\n            // if (taskbarElement.querySelector(progressBarClass) &&\n            //     getComputedStyle(taskbarElement.querySelector(progressBarClass)).borderColor !== args.progressBarBorderColor) {\n            //     (taskbarElement.querySelector(progressBarClass) as HTMLElement).style.borderColor = args.progressBarBorderColor;\n            // }\n            if (taskbarElement.querySelector('.' + cls.taskLabel) &&\n                getComputedStyle(taskbarElement.querySelector('.' + cls.taskLabel)).color !== args.taskLabelColor) {\n                taskbarElement.querySelector('.' + cls.taskLabel).style.color = args.taskLabelColor;\n            }\n            if (trElement.querySelector('.' + cls.baselineBar) &&\n                getComputedStyle(trElement.querySelector('.' + cls.baselineBar)).backgroundColor !== args.baselineColor) {\n                trElement.querySelector('.' + cls.baselineBar).style.backgroundColor = args.baselineColor;\n            }\n        }\n        if (trElement.querySelector('.' + cls.leftLabelContainer) &&\n            (trElement.querySelector('.' + cls.leftLabelContainer)).querySelector('.' + cls.label) &&\n            getComputedStyle((trElement.querySelector('.' + cls.leftLabelContainer)).querySelector('.' + cls.label)).color !== args.leftLabelColor) {\n            (trElement.querySelector('.' + cls.leftLabelContainer)).querySelector('.' + cls.label).style.color = args.leftLabelColor;\n        }\n        if (trElement.querySelector('.' + cls.rightLabelContainer) &&\n            (trElement.querySelector('.' + cls.rightLabelContainer)).querySelector('.' + cls.label) &&\n            getComputedStyle((trElement.querySelector('.' + cls.rightLabelContainer)).querySelector('.' + cls.label)).color !== args.rightLabelColor) {\n            (trElement.querySelector('.' + cls.rightLabelContainer)).querySelector('.' + cls.label).style.color = args.rightLabelColor;\n        }\n    };\n    ChartRows.prototype.getClassName = function (args) {\n        var classCollection = [];\n        classCollection.push('.' + (args.taskbarType === 'ParentTask' ?\n            cls.traceParentTaskBar : args.taskbarType === 'ChildTask' ? cls.traceChildTaskBar : cls.milestoneTop));\n        classCollection.push('.' + (args.taskbarType === 'ParentTask' ?\n            cls.traceParentProgressBar : args.taskbarType === 'ChildTask' ? cls.traceChildProgressBar : cls.baselineMilestoneTop));\n        return classCollection;\n    };\n    /**\n     * To compile template string.\n     *\n     * @param {string} template .\n     * @returns {Function} .\n     * @private\n     */\n    // eslint-disable-next-line\n    ChartRows.prototype.templateCompiler = function (template) {\n        if (!isNullOrUndefined(template) && template !== '') {\n            try {\n                if (document.querySelectorAll(template).length) {\n                    return compile(document.querySelector(template).innerHTML.trim(), this.parent);\n                }\n                else {\n                    return compile(template, this.parent);\n                }\n            }\n            catch (e) {\n                return compile(template, this.parent);\n            }\n        }\n        return null;\n    };\n    /**\n     * To refresh edited TR\n     *\n     * @param {number} index .\n     * @param {boolean} isValidateRange .\n     * @returns {void} .\n     * @private\n     */\n    ChartRows.prototype.refreshRow = function (index, isValidateRange) {\n        var tr = this.ganttChartTableBody.childNodes[index];\n        var selectedItem = this.parent.currentViewData[index];\n        if (index !== -1 && selectedItem) {\n            var data = selectedItem;\n            if (this.parent.viewType === 'ResourceView' && data.hasChildRecords && !data.expanded && this.parent.enableMultiTaskbar) {\n                tr.replaceChild(this.getResourceParent(data).childNodes[0], tr.childNodes[0]);\n            }\n            else {\n                tr.replaceChild(this.getGanttChartRow(index, data).childNodes[0], tr.childNodes[0]);\n            }\n            if (this.parent.viewType === 'ResourceView' && data.hasChildRecords && this.parent.showOverAllocation) {\n                if (isValidateRange) {\n                    this.parent.ganttChartModule.renderRangeContainer(this.parent.currentViewData);\n                }\n                else {\n                    this.parent.dataOperation.updateOverlappingValues(data);\n                    this.parent.ganttChartModule.renderRangeContainer([data]);\n                }\n            }\n            var segmentLength = !isNullOrUndefined(data.ganttProperties.segments) && data.ganttProperties.segments.length;\n            if (segmentLength > 0) {\n                for (var i = 0; i < segmentLength; i++) {\n                    var segmentedTasks = tr.getElementsByClassName('e-segmented-taskbar');\n                    var segmentElement = segmentedTasks[i];\n                    this.triggerQueryTaskbarInfoByIndex(segmentElement, data);\n                }\n            }\n            else {\n                this.triggerQueryTaskbarInfoByIndex(tr, data);\n            }\n            this.triggerQueryTaskbarInfoByIndex(tr, data);\n            var dataId = this.parent.viewType === 'ProjectView' ? data.ganttProperties.taskId : data.ganttProperties.rowUniqueID;\n            this.parent.treeGrid.grid.setRowData(dataId, data);\n            var row = this.parent.treeGrid.grid.getRowObjectFromUID(this.parent.treeGrid.grid.getDataRows()[index].getAttribute('data-uid'));\n            row.data = data;\n        }\n    };\n    ChartRows.prototype.getResourceParent = function (record) {\n        var chartRows = this.parent.ganttChartModule.getChartRows();\n        this.templateData = record;\n        var parentTrNode = this.getTableTrNode();\n        var leftLabelNode = this.leftLabelContainer();\n        var collapseParent = createElement('div', {\n            className: 'e-collapse-parent'\n        });\n        parentTrNode[0].childNodes[0].childNodes[0].appendChild(collapseParent);\n        var tasks = this.parent.dataOperation.setSortedChildTasks(record);\n        this.parent.dataOperation.updateOverlappingIndex(tasks);\n        for (var i = 0; i < chartRows.length; i++) {\n            if (chartRows[i].classList.contains('gridrowtaskId'\n                + record.ganttProperties.rowUniqueID + 'level' + (record.level + 1))) {\n                var cloneElement = chartRows[i].querySelector('.e-taskbar-main-container');\n                addClass([cloneElement], 'collpse-parent-border');\n                var id = chartRows[i].querySelector('.' + cls.taskBarMainContainer).getAttribute('rowUniqueId');\n                var ganttData = this.parent.getRecordByID(id);\n                var zIndex = (ganttData.ganttProperties.eOverlapIndex).toString();\n                var cloneChildElement = cloneElement.cloneNode(true);\n                cloneChildElement.style.zIndex = zIndex;\n                parentTrNode[0].childNodes[0].childNodes[0].childNodes[0].appendChild(cloneChildElement);\n            }\n        }\n        parentTrNode[0].childNodes[0].childNodes[0].appendChild([].slice.call(leftLabelNode)[0]);\n        return parentTrNode[0].childNodes[0];\n    };\n    /**\n     * To refresh all edited records\n     *\n     * @param {IGanttData} items .\n     * @param {boolean} isValidateRange .\n     * @returns {void} .\n     * @private\n     */\n    ChartRows.prototype.refreshRecords = function (items, isValidateRange) {\n        if (this.parent.isGanttChartRendered) {\n            this.updateTaskbarBlazorTemplate(false);\n            if (this.parent.viewType === 'ResourceView' && this.parent.enableMultiTaskbar) {\n                var sortedRecords = [];\n                sortedRecords = new DataManager(items).executeLocal(new Query()\n                    .sortBy('expanded', 'Descending'));\n                items = sortedRecords;\n            }\n            for (var i = 0; i < items.length; i++) {\n                var index = this.parent.currentViewData.indexOf(items[i]);\n                this.refreshRow(index, isValidateRange);\n            }\n            this.parent.ganttChartModule.updateLastRowBottomWidth();\n            this.parent.renderTemplates();\n            this.updateTaskbarBlazorTemplate(true);\n        }\n    };\n    ChartRows.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off('renderPanels', this.createChartTable);\n        this.parent.off('dataReady', this.initiateTemplates);\n        this.parent.off('destroy', this.destroy);\n    };\n    ChartRows.prototype.destroy = function () {\n        this.removeEventListener();\n    };\n    ChartRows.prototype.generateAriaLabel = function (data) {\n        data = this.templateData;\n        var defaultValue = '';\n        var nameConstant = this.parent.localeObj.getConstant('name');\n        var startDateConstant = this.parent.localeObj.getConstant('startDate');\n        var endDateConstant = this.parent.localeObj.getConstant('endDate');\n        var durationConstant = this.parent.localeObj.getConstant('duration');\n        var taskNameVal = data.ganttProperties.taskName;\n        var startDateVal = data.ganttProperties.startDate;\n        var endDateVal = data.ganttProperties.endDate;\n        var durationVal = data.ganttProperties.duration;\n        if (data.ganttProperties.isMilestone) {\n            defaultValue = nameConstant + ' ' + taskNameVal + ' ' + startDateConstant + ' '\n                + this.parent.getFormatedDate(startDateVal);\n        }\n        else {\n            if (taskNameVal) {\n                defaultValue += nameConstant + ' ' + taskNameVal + ' ';\n            }\n            if (startDateVal) {\n                defaultValue += startDateConstant + ' ' + this.parent.getFormatedDate(startDateVal) + ' ';\n            }\n            if (endDateVal) {\n                defaultValue += endDateConstant + ' ' + this.parent.getFormatedDate(endDateVal) + ' ';\n            }\n            if (durationVal) {\n                defaultValue += durationConstant + ' '\n                    + this.parent.getDurationString(durationVal, data.ganttProperties.durationUnit);\n            }\n        }\n        return defaultValue;\n    };\n    ChartRows.prototype.generateSpiltTaskAriaLabel = function (data, ganttProp) {\n        var defaultValue = '';\n        var startDateConstant = this.parent.localeObj.getConstant('startDate');\n        var endDateConstant = this.parent.localeObj.getConstant('endDate');\n        var durationConstant = this.parent.localeObj.getConstant('duration');\n        var startDateVal = data.startDate;\n        var endDateVal = data.endDate;\n        var durationVal = data.duration;\n        if (startDateVal) {\n            defaultValue += startDateConstant + ' ' + this.parent.getFormatedDate(startDateVal) + ' ';\n        }\n        if (endDateVal) {\n            defaultValue += endDateConstant + ' ' + this.parent.getFormatedDate(endDateVal) + ' ';\n        }\n        if (durationVal) {\n            defaultValue += durationConstant + ' '\n                + this.parent.getDurationString(durationVal, ganttProp.durationUnit);\n        }\n        return defaultValue;\n    };\n    ChartRows.prototype.generateTaskLabelAriaLabel = function (type) {\n        var label = '';\n        if (type === 'left' && this.parent.labelSettings.leftLabel && !this.leftTaskLabelTemplateFunction) {\n            label += this.parent.localeObj.getConstant('leftTaskLabel') +\n                ' ' + this.getTaskLabel(this.parent.labelSettings.leftLabel);\n        }\n        else if (type === 'right' && this.parent.labelSettings.rightLabel && !this.rightTaskLabelTemplateFunction) {\n            label += this.parent.localeObj.getConstant('rightTaskLabel') +\n                ' ' + this.getTaskLabel(this.parent.labelSettings.rightLabel);\n        }\n        return label;\n    };\n    return ChartRows;\n}(DateProcessor));\nexport { ChartRows };\n","import { isScheduledTask } from '../base/utils';\nimport { getValue, isNullOrUndefined, extend } from '@syncfusion/ej2-base';\nvar Dependency = /** @class */ (function () {\n    function Dependency(gantt) {\n        this.parent = gantt;\n        this.dateValidateModule = this.parent.dateValidationModule;\n    }\n    /**\n     * Method to populate predecessor collections in records\n     *\n     * @returns {void} .\n     * @private\n     */\n    Dependency.prototype.ensurePredecessorCollection = function () {\n        var predecessorTasks = this.parent.predecessorsCollection;\n        var length = predecessorTasks.length - 1;\n        for (var count = length; count >= 0; count--) {\n            var ganttData = predecessorTasks[count];\n            var ganttProp = ganttData.ganttProperties;\n            if (!ganttData.hasChildRecords) {\n                this.ensurePredecessorCollectionHelper(ganttData, ganttProp);\n            }\n        }\n    };\n    /**\n     *\n     * @param {IGanttData} ganttData .\n     * @param {ITaskData} ganttProp .\n     * @returns {void} .\n     * @private\n     */\n    Dependency.prototype.ensurePredecessorCollectionHelper = function (ganttData, ganttProp) {\n        // eslint-disable-next-line\n        var predecessorVal = ganttProp.predecessorsName;\n        if (predecessorVal && (typeof predecessorVal === 'string' || typeof predecessorVal === 'number')) {\n            this.parent.setRecordValue('predecessor', this.calculatePredecessor(predecessorVal, ganttData), ganttProp, true);\n        }\n        else if (predecessorVal && typeof predecessorVal === 'object' && predecessorVal.length) {\n            var preValues = [];\n            for (var c = 0; c < predecessorVal.length; c++) {\n                // eslint-disable-next-line\n                var predecessorItem = predecessorVal[c];\n                var preValue = {};\n                preValue.from = getValue('from', predecessorItem);\n                preValue.to = getValue('to', predecessorItem) ? getValue('to', predecessorItem) : ganttProp.rowUniqueID;\n                preValue.type = getValue('type', predecessorItem) ? getValue('type', predecessorItem) : 'FS';\n                var offsetUnits = getValue('offset', predecessorItem);\n                if (isNullOrUndefined(offsetUnits)) {\n                    preValue.offset = 0;\n                    preValue.offsetUnit = this.parent.durationUnit.toLocaleLowerCase();\n                }\n                else if (typeof offsetUnits === 'string') {\n                    var tempOffsetUnits = this.getOffsetDurationUnit(getValue('offset', predecessorItem));\n                    preValue.offset = tempOffsetUnits.duration;\n                    preValue.offsetUnit = tempOffsetUnits.durationUnit;\n                }\n                else {\n                    preValue.offset = parseFloat(offsetUnits.toString());\n                    preValue.offsetUnit = this.parent.durationUnit.toLocaleLowerCase();\n                }\n                var isOwnParent = this.checkIsParent(preValue.from.toString());\n                if (!isOwnParent) {\n                    preValues.push(preValue);\n                }\n            }\n            this.parent.setRecordValue('predecessor', preValues, ganttProp, true);\n        }\n        this.parent.setRecordValue('predecessorsName', this.getPredecessorStringValue(ganttData), ganttProp, true);\n        this.parent.setRecordValue('taskData.' + this.parent.taskFields.dependency, ganttProp.predecessorsName, ganttData);\n        this.parent.setRecordValue(this.parent.taskFields.dependency, ganttProp.predecessorsName, ganttData);\n    };\n    /**\n     * To render unscheduled empty task with 1 day duration during predecessor map\n     *\n     * @param {IGanttData} data .\n     * @returns {void} .\n     * @private\n     */\n    Dependency.prototype.updateUnscheduledDependency = function (data) {\n        var task = this.parent.taskFields;\n        var prdList = !isNullOrUndefined(data[task.dependency]) ?\n            data[task.dependency].toString().split(',') : [];\n        for (var i = 0; i < prdList.length; i++) {\n            var predId = parseInt(prdList[i], 10);\n            if (!isNaN(predId)) {\n                var predData = this.parent.getRecordByID(predId.toString());\n                var record = !isNullOrUndefined(predData) ?\n                    extend({}, {}, predData.taskData, true) : null;\n                if (!isNullOrUndefined(record) && isNullOrUndefined(record[task.startDate])\n                    && isNullOrUndefined(record[task.duration]) && isNullOrUndefined(record[task.endDate])) {\n                    record[task.duration] = 1;\n                    record[task.startDate] = this.parent.projectStartDate;\n                    this.parent.updateRecordByID(record);\n                }\n            }\n        }\n    };\n    /**\n     *\n     * @param {string} fromId .\n     * @returns {boolean} .\n     */\n    Dependency.prototype.checkIsParent = function (fromId) {\n        var boolValue = false;\n        var task = this.parent.connectorLineModule.getRecordByID(fromId);\n        if (task.hasChildRecords) {\n            boolValue = true;\n        }\n        return boolValue;\n    };\n    /**\n     * Get predecessor collection object from predecessor string value\n     *\n     * @param {string | number} predecessorValue .\n     * @param {IGanttData} ganttRecord .\n     * @returns {IPredecessor[]} .\n     * @private\n     */\n    Dependency.prototype.calculatePredecessor = function (predecessorValue, ganttRecord) {\n        var _this = this;\n        var predecessor = predecessorValue.toString();\n        var collection = [];\n        var match;\n        var values;\n        var offsetValue;\n        var predecessorText;\n        predecessor.split(',').forEach(function (el) {\n            values = el.split('+');\n            offsetValue = '+';\n            if (el.indexOf('-') >= 0) {\n                values = el.split('-');\n                offsetValue = '-';\n            }\n            match = values[0].match(/(\\d+|[A-z]+)/g);\n            var ids = _this.parent.viewType === 'ResourceView' ? _this.parent.getTaskIds() : _this.parent.ids;\n            var isExist = _this.parent.viewType === 'ResourceView' ? ids.indexOf('T' + match[0]) : ids.indexOf(match[0]);\n            /*Validate for appropriate predecessor*/\n            if (match[0] && isExist !== -1) {\n                if (match.length > 1) {\n                    var type = match[1].toUpperCase();\n                    if (type === 'FS' || type === 'FF' || type === 'SF' || type === 'SS') {\n                        predecessorText = type;\n                    }\n                    else {\n                        predecessorText = 'FS';\n                    }\n                }\n                else {\n                    predecessorText = 'FS';\n                }\n            }\n            else {\n                return; // exit current loop for invalid id (match[0])\n            }\n            var tempOffset = values.length > 1 ? offsetValue + '' + values[1] : '0';\n            var offsetUnits = _this.getOffsetDurationUnit(tempOffset);\n            var obj = {\n                from: match[0],\n                type: predecessorText,\n                isDrawn: false,\n                to: _this.parent.viewType === 'ResourceView' ? ganttRecord.ganttProperties.taskId.toString()\n                    : ganttRecord.ganttProperties.rowUniqueID.toString(),\n                offsetUnit: offsetUnits.durationUnit,\n                offset: offsetUnits.duration\n            };\n            var isOwnParent = _this.checkIsParent(match[0]);\n            if (!isOwnParent) {\n                collection.push(obj);\n            }\n        });\n        return collection;\n    };\n    /**\n     * Get predecessor value as string with offset values\n     *\n     * @param {IGanttData} data .\n     * @returns {string} .\n     * @private\n     */\n    Dependency.prototype.getPredecessorStringValue = function (data) {\n        var predecessors = data.ganttProperties.predecessor;\n        var durationUnitTexts = this.parent.durationUnitTexts;\n        var resultString = '';\n        if (predecessors) {\n            var length_1 = predecessors.length;\n            for (var i = 0; i < length_1; i++) {\n                var currentValue = predecessors[i];\n                var temp = '';\n                var id = this.parent.viewType === 'ResourceView' ? data.ganttProperties.taskId\n                    : data.ganttProperties.rowUniqueID;\n                if (currentValue.from !== id.toString()) {\n                    temp = currentValue.from + currentValue.type;\n                    if (currentValue.offset !== 0) {\n                        temp += currentValue.offset > 0 ? ('+' + currentValue.offset + ' ') : (currentValue.offset + ' ');\n                        var multiple = currentValue.offset !== 1;\n                        if (currentValue.offsetUnit === 'day') {\n                            temp += multiple ? getValue('days', durationUnitTexts) : getValue('day', durationUnitTexts);\n                        }\n                        else if (currentValue.offsetUnit === 'hour') {\n                            temp += multiple ? getValue('hours', durationUnitTexts) : getValue('hour', durationUnitTexts);\n                        }\n                        else {\n                            temp += multiple ? getValue('minutes', durationUnitTexts) : getValue('minute', durationUnitTexts);\n                        }\n                    }\n                    if (resultString.length > 0) {\n                        resultString = resultString + ',' + temp;\n                    }\n                    else {\n                        resultString = temp;\n                    }\n                }\n            }\n        }\n        return resultString;\n    };\n    /*Get duration and duration unit value from tasks*/\n    Dependency.prototype.getOffsetDurationUnit = function (val) {\n        var duration = 0;\n        var durationUnit = this.parent.durationUnit.toLocaleLowerCase();\n        var durationUnitLabels = this.parent.durationUnitEditText;\n        if (typeof val === 'string') {\n            var values = val.match(/[^0-9]+|[0-9]+/g);\n            for (var x = 0; x < values.length; x++) {\n                values[x] = (values[x]).trim();\n            }\n            if (values[0] === '-' && values[1]) {\n                values[1] = values[0] + values[1];\n                values.shift();\n            }\n            else if (values[0] === '+') {\n                values.shift();\n            }\n            if (values[1] === '.' && !isNaN(parseInt(values[2], 10))) {\n                values[0] += values[1] + values[2];\n                values.splice(1, 2);\n            }\n            if (values && values.length <= 2) {\n                duration = parseFloat(values[0]);\n                durationUnit = values[1] ? (values[1].toLowerCase()).trim() : '';\n                if (getValue('minute', durationUnitLabels).indexOf(durationUnit) !== -1) {\n                    durationUnit = 'minute';\n                }\n                else if (getValue('hour', durationUnitLabels).indexOf(durationUnit) !== -1) {\n                    durationUnit = 'hour';\n                }\n                else if (getValue('day', durationUnitLabels).indexOf(durationUnit) !== -1) {\n                    durationUnit = 'day';\n                }\n                else {\n                    durationUnit = this.parent.durationUnit.toLocaleLowerCase();\n                }\n            }\n        }\n        else {\n            duration = val;\n            durationUnit = this.parent.durationUnit.toLocaleLowerCase();\n        }\n        if (isNaN(duration)) {\n            duration = 0;\n            durationUnit = this.parent.durationUnit.toLocaleLowerCase();\n        }\n        return {\n            duration: duration,\n            durationUnit: durationUnit\n        };\n    };\n    /**\n     * Update predecessor object in both from and to tasks collection\n     *\n     * @returns {void} .\n     * @private\n     */\n    Dependency.prototype.updatePredecessors = function () {\n        var predecessorsCollection = this.parent.predecessorsCollection;\n        var ganttRecord;\n        var length = predecessorsCollection.length;\n        for (var count = 0; count < length; count++) {\n            ganttRecord = predecessorsCollection[count];\n            if (!ganttRecord.hasChildRecords) {\n                this.updatePredecessorHelper(ganttRecord, predecessorsCollection);\n            }\n        }\n    };\n    /**\n     * To update predecessor collection to successor tasks\n     *\n     * @param {IGanttData} ganttRecord .\n     * @param {IGanttData[]} predecessorsCollection .\n     * @returns {void} .\n     * @private\n     */\n    Dependency.prototype.updatePredecessorHelper = function (ganttRecord, predecessorsCollection) {\n        var connectorsCollection = ganttRecord.ganttProperties.predecessor;\n        var successorGanttRecord;\n        var connectorCount = connectorsCollection.length;\n        predecessorsCollection = isNullOrUndefined(predecessorsCollection) ? [] : predecessorsCollection;\n        for (var i = 0; i < connectorCount; i++) {\n            var connector = connectorsCollection[i];\n            successorGanttRecord = this.parent.connectorLineModule.getRecordByID(connector.from);\n            var id = this.parent.viewType === 'ResourceView' ? ganttRecord.ganttProperties.taskId\n                : ganttRecord.ganttProperties.rowUniqueID;\n            if (connector.from !== id.toString()) {\n                if (successorGanttRecord) {\n                    var predecessorCollection = void 0;\n                    if (successorGanttRecord.ganttProperties.predecessor) {\n                        predecessorCollection = (extend([], successorGanttRecord.ganttProperties.predecessor, [], true));\n                        predecessorCollection.push(connector);\n                        this.parent.setRecordValue('predecessor', predecessorCollection, successorGanttRecord.ganttProperties, true);\n                        //  successorGanttRecord.ganttProperties.predecessor.push(connector);\n                    }\n                    else {\n                        predecessorCollection = [];\n                        predecessorCollection.push(connector);\n                        this.parent.setRecordValue('predecessor', predecessorCollection, successorGanttRecord.ganttProperties, true);\n                        // this.parent.setRecordValue('predecessor', [], successorGanttRecord.ganttProperties, true);\n                        // successorGanttRecord.ganttProperties.predecessor.push(connector);\n                        predecessorsCollection.push(successorGanttRecord);\n                    }\n                }\n            }\n        }\n    };\n    /**\n     * Method to validate date of tasks with predecessor values for all records\n     *\n     * @returns {void} .\n     * @private\n     */\n    Dependency.prototype.updatedRecordsDateByPredecessor = function () {\n        var flatData = this.parent.flatData;\n        for (var count = 0; count < flatData.length; count++) {\n            if (flatData[count].ganttProperties.predecessor) {\n                this.validatePredecessorDates(flatData[count]);\n            }\n        }\n    };\n    /**\n     * To validate task date values with dependency\n     *\n     * @param {IGanttData} ganttRecord .\n     * @returns {void} .\n     * @private\n     */\n    Dependency.prototype.validatePredecessorDates = function (ganttRecord) {\n        if (ganttRecord.ganttProperties.predecessor) {\n            var predecessorsCollection = ganttRecord.ganttProperties.predecessor;\n            var count = void 0;\n            var parentGanttRecord = void 0;\n            var record = null;\n            var currentTaskId_1 = this.parent.viewType === 'ResourceView' ? ganttRecord.ganttProperties.taskId.toString()\n                : ganttRecord.ganttProperties.rowUniqueID.toString();\n            var predecessors = predecessorsCollection.filter(function (data) {\n                if (data.to === currentTaskId_1) {\n                    return data;\n                }\n                else {\n                    return null;\n                }\n            });\n            for (count = 0; count < predecessors.length; count++) {\n                var predecessor = predecessors[count];\n                parentGanttRecord = this.parent.connectorLineModule.getRecordByID(predecessor.from);\n                record = this.parent.connectorLineModule.getRecordByID(predecessor.to);\n                if (record.ganttProperties.isAutoSchedule || this.parent.validateManualTasksOnLinking) {\n                    this.validateChildGanttRecord(parentGanttRecord, record);\n                }\n            }\n        }\n    };\n    /**\n     * Method to validate task with predecessor\n     *\n     * @param {IGanttData} parentGanttRecord .\n     * @param {IGanttData} childGanttRecord .\n     * @returns {void} .\n     */\n    Dependency.prototype.validateChildGanttRecord = function (parentGanttRecord, childGanttRecord) {\n        if (this.parent.editedTaskBarItem === childGanttRecord || isNullOrUndefined(isScheduledTask(parentGanttRecord.ganttProperties))\n            || isNullOrUndefined(isScheduledTask(childGanttRecord.ganttProperties))) {\n            return;\n        }\n        if (this.parent.isInPredecessorValidation && (childGanttRecord.ganttProperties.isAutoSchedule ||\n            this.parent.validateManualTasksOnLinking)) {\n            var childRecordProperty = childGanttRecord.ganttProperties;\n            var currentTaskId_2 = this.parent.viewType === 'ResourceView' ? childRecordProperty.taskId.toString()\n                : childRecordProperty.rowUniqueID.toString();\n            var predecessorsCollection = childRecordProperty.predecessor;\n            var childPredecessor = predecessorsCollection.filter(function (data) {\n                if (data.to === currentTaskId_2) {\n                    return data;\n                }\n                else {\n                    return null;\n                }\n            });\n            var startDate = this.getPredecessorDate(childGanttRecord, childPredecessor);\n            this.parent.setRecordValue('startDate', startDate, childRecordProperty, true);\n            this.parent.dataOperation.updateMappingData(childGanttRecord, 'startDate');\n            var segments = childGanttRecord.ganttProperties.segments;\n            if (isNullOrUndefined(segments)) {\n                this.dateValidateModule.calculateEndDate(childGanttRecord);\n            }\n            this.parent.dataOperation.updateWidthLeft(childGanttRecord);\n            if (childGanttRecord.parentItem && this.parent.getParentTask(childGanttRecord.parentItem).ganttProperties.isAutoSchedule\n                && this.parent.isInPredecessorValidation) {\n                this.parent.dataOperation.updateParentItems(childGanttRecord.parentItem);\n            }\n        }\n    };\n    /**\n     *\n     * @param {IGanttData} ganttRecord .\n     * @param {IPredecessor[]} predecessorsCollection .\n     * @returns {Date} .\n     * @private\n     */\n    Dependency.prototype.getPredecessorDate = function (ganttRecord, predecessorsCollection) {\n        var _this = this;\n        var maxStartDate;\n        var tempStartDate;\n        var parentGanttRecord;\n        var childGanttRecord;\n        var validatedPredecessor = predecessorsCollection.filter(function (data) {\n            var id = _this.parent.viewType === 'ResourceView' ? ganttRecord.ganttProperties.taskId\n                : ganttRecord.ganttProperties.rowUniqueID;\n            if (data.to === id.toString()) {\n                return data;\n            }\n            else {\n                return null;\n            }\n        });\n        if (validatedPredecessor) {\n            var length_2 = validatedPredecessor.length;\n            for (var i = 0; i < length_2; i++) {\n                var predecessor = validatedPredecessor[i];\n                parentGanttRecord = this.parent.connectorLineModule.getRecordByID(predecessor.from);\n                childGanttRecord = this.parent.connectorLineModule.getRecordByID(predecessor.to);\n                tempStartDate =\n                    this.getValidatedStartDate(childGanttRecord.ganttProperties, parentGanttRecord.ganttProperties, predecessor);\n                if (maxStartDate == null || this.dateValidateModule.compareDates(tempStartDate, maxStartDate) === 1) {\n                    maxStartDate = tempStartDate;\n                }\n            }\n        }\n        return maxStartDate;\n    };\n    /**\n     * Get validated start date as per predecessor type\n     *\n     * @param {ITaskData} ganttProperty .\n     * @param {ITaskData} parentRecordProperty .\n     * @param {IPredecessor} predecessor .\n     * @returns {Date} .\n     */\n    Dependency.prototype.getValidatedStartDate = function (ganttProperty, parentRecordProperty, predecessor) {\n        var type = predecessor.type;\n        var offset = predecessor.offset;\n        var tempDate;\n        var returnStartDate;\n        switch (type) {\n            case 'FS':\n                tempDate = this.dateValidateModule.getValidEndDate(parentRecordProperty);\n                if (!ganttProperty.isMilestone || offset !== 0) {\n                    tempDate = this.dateValidateModule.checkStartDate(tempDate, ganttProperty);\n                }\n                if (offset !== 0) {\n                    tempDate = this.updateDateByOffset(tempDate, predecessor, ganttProperty);\n                }\n                if (!ganttProperty.isMilestone) {\n                    returnStartDate = this.dateValidateModule.checkStartDate(tempDate, ganttProperty);\n                }\n                else {\n                    returnStartDate = tempDate;\n                }\n                break;\n            case 'FF':\n            case 'SF':\n                tempDate = type === 'FF' ? this.dateValidateModule.getValidEndDate(parentRecordProperty) :\n                    this.dateValidateModule.getValidStartDate(parentRecordProperty);\n                if (offset !== 0) {\n                    tempDate = this.updateDateByOffset(tempDate, predecessor, ganttProperty);\n                }\n                if (!ganttProperty.isMilestone) {\n                    tempDate = this.dateValidateModule.checkEndDate(tempDate, ganttProperty);\n                }\n                returnStartDate = this.dateValidateModule.getStartDate(tempDate, ganttProperty.duration, ganttProperty.durationUnit, ganttProperty);\n                break;\n            case 'SS':\n                tempDate = this.dateValidateModule.getValidStartDate(parentRecordProperty);\n                if (offset !== 0) {\n                    tempDate = this.updateDateByOffset(tempDate, predecessor, ganttProperty);\n                }\n                if (!ganttProperty.isMilestone) {\n                    returnStartDate = this.dateValidateModule.checkStartDate(tempDate, ganttProperty);\n                }\n                else {\n                    returnStartDate = tempDate;\n                }\n                break;\n        }\n        return returnStartDate;\n    };\n    /**\n     *\n     * @param {Date} date .\n     * @param {IPredecessor} predecessor .\n     * @param {ITaskData} record .\n     * @returns {void} .\n     */\n    Dependency.prototype.updateDateByOffset = function (date, predecessor, record) {\n        var resultDate;\n        var offsetValue = predecessor.offset;\n        var durationUnit = predecessor.offsetUnit;\n        if (offsetValue < 0) {\n            resultDate = this.dateValidateModule.getStartDate(this.dateValidateModule.checkEndDate(date, record), (offsetValue * -1), durationUnit, record);\n        }\n        else {\n            resultDate = this.dateValidateModule.getEndDate(date, offsetValue, durationUnit, record, false);\n            if (!record.isMilestone) {\n                resultDate = this.dateValidateModule.checkStartDate(resultDate, record);\n            }\n        }\n        return resultDate;\n    };\n    /**\n     *\n     * @param {IGanttData} records .\n     * @returns {void} .\n     * @private\n     */\n    Dependency.prototype.createConnectorLinesCollection = function (records) {\n        var ganttRecords = records ? records : this.parent.currentViewData;\n        var recordLength = ganttRecords.length;\n        var count;\n        var ganttRecord;\n        // eslint-disable-next-line\n        var predecessorsCollection;\n        this.parent.connectorLineModule.expandedRecords = this.parent.virtualScrollModule && this.parent.enableVirtualization ?\n            this.parent.updatedRecords : this.parent.getExpandedRecords(this.parent.updatedRecords);\n        for (count = 0; count < recordLength; count++) {\n            ganttRecord = ganttRecords[count];\n            predecessorsCollection = ganttRecord.ganttProperties.predecessor;\n            if (predecessorsCollection) {\n                this.addPredecessorsCollection(predecessorsCollection);\n            }\n        }\n    };\n    /**\n     *\n     * @param {object[]} predecessorsCollection .\n     * @returns {void} .\n     */\n    // eslint-disable-next-line\n    Dependency.prototype.addPredecessorsCollection = function (predecessorsCollection) {\n        var predecessorsLength;\n        var predecessorCount;\n        var predecessor;\n        var parentGanttRecord;\n        var childGanttRecord;\n        if (predecessorsCollection) {\n            predecessorsLength = predecessorsCollection.length;\n            for (predecessorCount = 0; predecessorCount < predecessorsLength; predecessorCount++) {\n                predecessor = predecessorsCollection[predecessorCount];\n                var from = 'from';\n                var to = 'to';\n                parentGanttRecord = this.parent.connectorLineModule.getRecordByID(predecessor[from]);\n                childGanttRecord = this.parent.connectorLineModule.getRecordByID(predecessor[to]);\n                if (this.parent.connectorLineModule.expandedRecords &&\n                    this.parent.connectorLineModule.expandedRecords.indexOf(parentGanttRecord) !== -1 &&\n                    this.parent.connectorLineModule.expandedRecords.indexOf(childGanttRecord) !== -1) {\n                    this.updateConnectorLineObject(parentGanttRecord, childGanttRecord, predecessor);\n                }\n            }\n        }\n    };\n    /**\n     * To refresh connector line object collections\n     *\n     * @param {IGanttData} parentGanttRecord .\n     * @param {IGanttData} childGanttRecord .\n     * @param {IPredecessor} predecessor .\n     * @returns {void} .\n     * @private\n     */\n    Dependency.prototype.updateConnectorLineObject = function (parentGanttRecord, childGanttRecord, predecessor) {\n        var connectorObj = this.parent.connectorLineModule.createConnectorLineObject(parentGanttRecord, childGanttRecord, predecessor);\n        if (connectorObj) {\n            if ((this.parent.connectorLineIds.length > 0 && this.parent.connectorLineIds.indexOf(connectorObj.connectorLineId) === -1) ||\n                this.parent.connectorLineIds.length === 0) {\n                this.parent.updatedConnectorLineCollection.push(connectorObj);\n                this.parent.connectorLineIds.push(connectorObj.connectorLineId);\n            }\n            else if (this.parent.connectorLineIds.indexOf(connectorObj.connectorLineId) !== -1) {\n                var index = this.parent.connectorLineIds.indexOf(connectorObj.connectorLineId);\n                this.parent.updatedConnectorLineCollection[index] = connectorObj;\n            }\n            predecessor.isDrawn = true;\n        }\n        return connectorObj;\n    };\n    /**\n     *\n     * @param {IGanttData} childGanttRecord .\n     * @param {IPredecessor[]} previousValue .\n     * @param {string} validationOn .\n     * @returns {void} .\n     * @private\n     */\n    Dependency.prototype.validatePredecessor = function (childGanttRecord, previousValue, validationOn) {\n        if (!this.parent.isInPredecessorValidation) {\n            return;\n        }\n        if (childGanttRecord.ganttProperties.predecessor) {\n            var predecessorsCollection = childGanttRecord.ganttProperties.predecessor;\n            var parentGanttRecord = void 0;\n            var record = null;\n            var predecessor = void 0;\n            var successor = void 0;\n            var currentTaskId_3 = this.parent.viewType === 'ResourceView' ? childGanttRecord.ganttProperties.taskId.toString()\n                : childGanttRecord.ganttProperties.rowUniqueID.toString();\n            var predecessors = predecessorsCollection.filter(function (data) {\n                if (data.to === currentTaskId_3) {\n                    return data;\n                }\n                else {\n                    return null;\n                }\n            });\n            var successors = predecessorsCollection.filter(function (data) {\n                if (data.from === currentTaskId_3) {\n                    return data;\n                }\n                else {\n                    return null;\n                }\n            });\n            for (var count = 0; count < predecessors.length; count++) {\n                predecessor = predecessors[count];\n                parentGanttRecord = this.parent.connectorLineModule.getRecordByID(predecessor.from);\n                record = this.parent.connectorLineModule.getRecordByID(predecessor.to);\n                if (this.parent.isInPredecessorValidation && record.ganttProperties.isAutoSchedule) {\n                    this.parent.isValidationEnabled = true;\n                }\n                else {\n                    this.parent.isValidationEnabled = false;\n                }\n                var id = this.parent.viewType === 'ResourceView' ? childGanttRecord.ganttProperties.taskId\n                    : childGanttRecord.ganttProperties.rowUniqueID;\n                if ((id.toString() === predecessor.to\n                    || id.toString() === predecessor.from)\n                    && (!validationOn || validationOn === 'predecessor')) {\n                    this.validateChildGanttRecord(parentGanttRecord, record);\n                }\n            }\n            for (var count = 0; count < successors.length; count++) {\n                successor = successors[count];\n                parentGanttRecord = this.parent.connectorLineModule.getRecordByID(successor.from);\n                record = this.parent.connectorLineModule.getRecordByID(successor.to);\n                if (this.parent.isInPredecessorValidation && record.ganttProperties.isAutoSchedule) {\n                    this.parent.isValidationEnabled = true;\n                }\n                else {\n                    this.parent.isValidationEnabled = false;\n                }\n                if (validationOn !== 'predecessor' && this.parent.isValidationEnabled) {\n                    this.validateChildGanttRecord(parentGanttRecord, record);\n                }\n                if (parentGanttRecord.expanded === false || record.expanded === false) {\n                    if (record) {\n                        this.validatePredecessor(record, undefined, 'successor');\n                    }\n                    continue;\n                }\n                if (record) {\n                    this.validatePredecessor(record, undefined, 'successor');\n                }\n            }\n        }\n    };\n    /**\n     * Method to get validate able predecessor alone from record\n     *\n     * @param {IGanttData} record .\n     * @returns {IPredecessor[]} .\n     * @private\n     */\n    Dependency.prototype.getValidPredecessor = function (record) {\n        var _this = this;\n        var validPredecessor = [];\n        if (!isNullOrUndefined(record)) {\n            var recPredecessor = record.ganttProperties.predecessor;\n            if (recPredecessor && recPredecessor.length > 0) {\n                validPredecessor = recPredecessor.filter(function (value) {\n                    var id = _this.parent.viewType === 'ResourceView' ? record.ganttProperties.taskId\n                        : record.ganttProperties.rowUniqueID;\n                    return value.from !== id.toString();\n                });\n            }\n        }\n        return validPredecessor;\n    };\n    return Dependency;\n}());\nexport { Dependency };\n","import { createElement, isNullOrUndefined, isObject, remove } from '@syncfusion/ej2-base';\nimport * as cls from '../base/css-constants';\nimport { isScheduledTask } from '../base/utils';\n/**\n * To render the connector line in Gantt\n */\nvar ConnectorLine = /** @class */ (function () {\n    function ConnectorLine(ganttObj) {\n        this.expandedRecords = [];\n        this.parent = ganttObj;\n        this.dependencyViewContainer =\n            createElement('div', { className: cls.dependencyViewContainer });\n        this.initPublicProp();\n    }\n    /**\n     * To get connector line gap.\n     *\n     * @param {IConnectorLineObject} data .\n     * @returns {number} .\n     * @private\n     */\n    ConnectorLine.prototype.getconnectorLineGap = function (data) {\n        var width = 0;\n        width = (data.milestoneChild ?\n            ((this.parent.chartRowsModule.milestoneMarginTop / 2) + (this.parent.chartRowsModule.milestoneHeight / 2)) :\n            ((this.parent.chartRowsModule.taskBarMarginTop / 2) + (this.parent.chartRowsModule.taskBarHeight / 2)));\n        return width;\n    };\n    /**\n     * To initialize the public property.\n     *\n     * @returns {void}\n     * @private\n     */\n    ConnectorLine.prototype.initPublicProp = function () {\n        this.lineColor = this.parent.connectorLineBackground;\n        this.lineStroke = (this.parent.connectorLineWidth) > 4 ? 4 : this.parent.connectorLineWidth;\n        this.createConnectorLineTooltipTable();\n    };\n    ConnectorLine.prototype.getTaskbarMidpoint = function (isMilestone) {\n        return Math.floor(isMilestone ?\n            (this.parent.chartRowsModule.milestoneMarginTop + (this.parent.chartRowsModule.milestoneHeight / 2)) :\n            (this.parent.chartRowsModule.taskBarMarginTop + (this.parent.chartRowsModule.taskBarHeight / 2))) + 1;\n    };\n    /**\n     * To connector line object collection.\n     *\n     * @param {IGanttData} parentGanttData .\n     * @param {IGanttData} childGanttData .\n     * @param {IPredecessor}  predecessor .\n     * @returns {void}\n     * @private\n     */\n    ConnectorLine.prototype.createConnectorLineObject = function (parentGanttData, childGanttData, predecessor) {\n        var connectorObj = {};\n        var updatedRecords = this.parent.pdfExportModule && this.parent.pdfExportModule.isPdfExport ?\n            this.parent.flatData : this.expandedRecords;\n        var parentIndex = updatedRecords.indexOf(parentGanttData);\n        var childIndex = updatedRecords.indexOf(childGanttData);\n        var parentGanttRecord = parentGanttData.ganttProperties;\n        var childGanttRecord = childGanttData.ganttProperties;\n        var currentData = this.parent.getExpandedRecords(this.parent.currentViewData);\n        connectorObj.parentIndexInCurrentView = currentData.indexOf(parentGanttData);\n        connectorObj.childIndexInCurrentView = currentData.indexOf(childGanttData);\n        var isVirtualScroll = this.parent.virtualScrollModule && this.parent.enableVirtualization;\n        if ((!isVirtualScroll && (connectorObj.parentIndexInCurrentView === -1 || connectorObj.childIndexInCurrentView === -1)) ||\n            connectorObj.parentIndexInCurrentView === -1 && connectorObj.childIndexInCurrentView === -1) {\n            return null;\n        }\n        else {\n            connectorObj.parentLeft = parentGanttRecord.isMilestone ?\n                parentGanttRecord.left - (this.parent.chartRowsModule.milestoneHeight / 2) : parentGanttRecord.left;\n            connectorObj.childLeft = childGanttRecord.isMilestone ?\n                childGanttRecord.left - (this.parent.chartRowsModule.milestoneHeight / 2) : childGanttRecord.left;\n            connectorObj.parentWidth = parentGanttRecord.width === 0 || parentGanttRecord.isMilestone ?\n                (Math.floor(this.parent.chartRowsModule.milestoneHeight)) : parentGanttRecord.width;\n            connectorObj.childWidth = childGanttRecord.width === 0 || childGanttRecord.isMilestone ?\n                (Math.floor(this.parent.chartRowsModule.milestoneHeight)) : childGanttRecord.width;\n            connectorObj.parentIndex = parentIndex;\n            connectorObj.childIndex = childIndex;\n            var rowHeight = this.parent.ganttChartModule.getChartRows()[0] &&\n                this.parent.ganttChartModule.getChartRows()[0].getBoundingClientRect().height;\n            connectorObj.rowHeight = rowHeight && !isNaN(rowHeight) ? rowHeight : this.parent.rowHeight;\n            connectorObj.type = predecessor.type;\n            var parentId = this.parent.viewType === 'ResourceView' ? parentGanttRecord.taskId : parentGanttRecord.rowUniqueID;\n            var childId = this.parent.viewType === 'ResourceView' ? childGanttRecord.taskId : childGanttRecord.rowUniqueID;\n            connectorObj.connectorLineId = 'parent' + parentId + 'child' + childId;\n            connectorObj.milestoneParent = parentGanttRecord.isMilestone ? true : false;\n            connectorObj.milestoneChild = childGanttRecord.isMilestone ? true : false;\n            if (isNullOrUndefined(isScheduledTask(parentGanttRecord)) || isNullOrUndefined(isScheduledTask(childGanttRecord))) {\n                return null;\n            }\n            else {\n                return connectorObj;\n            }\n        }\n    };\n    /**\n     * To render connector line.\n     *\n     * @param {IConnectorLineObject} connectorLinesCollection .\n     * @returns {void}\n     * @private\n     */\n    ConnectorLine.prototype.renderConnectorLines = function (connectorLinesCollection) {\n        var connectorLine = '';\n        var ariaConnector = [];\n        for (var index = 0; index < connectorLinesCollection.length; index++) {\n            connectorLine = connectorLine + this.getConnectorLineTemplate(connectorLinesCollection[index]);\n            ariaConnector.push(connectorLinesCollection[index]);\n        }\n        this.dependencyViewContainer.innerHTML = connectorLine;\n        var childNodes = this.parent.connectorLineModule.dependencyViewContainer.childNodes;\n        for (var i = 0; i < childNodes.length; i++) {\n            var innerChild = childNodes[i].childNodes;\n            for (var j = 0; j < innerChild.length; j++) {\n                var ariaString = this.parent.connectorLineModule.generateAriaLabel(ariaConnector[i]);\n                innerChild[j].setAttribute('aria-label', ariaString);\n            }\n        }\n        if (this.parent.virtualScrollModule && this.parent.enableVirtualization) {\n            this.parent.ganttChartModule.virtualRender.appendChildElements(this.dependencyViewContainer);\n        }\n        else {\n            this.parent.ganttChartModule.chartBodyContent.appendChild(this.dependencyViewContainer);\n        }\n    };\n    /**\n     * To get parent position.\n     *\n     * @param {IConnectorLineObject} data .\n     * @returns {void}\n     * @private\n     */\n    ConnectorLine.prototype.getParentPosition = function (data) {\n        if (data.parentIndex < data.childIndex) {\n            if (data.type === 'FF') {\n                if ((data.childLeft + data.childWidth) >= (data.parentLeft + data.parentWidth)) {\n                    return 'FFType2';\n                }\n                else {\n                    return 'FFType1';\n                }\n            }\n            else if ((data.parentLeft < data.childLeft) && (data.childLeft > (data.parentLeft + data.parentWidth + 25))) {\n                if (data.type === 'FS') {\n                    return 'FSType1';\n                }\n                if (data.type === 'SF') {\n                    return 'SFType1';\n                }\n                else if (data.type === 'SS') {\n                    return 'SSType2';\n                }\n                else if (data.type === 'FF') {\n                    return 'FFType2';\n                }\n            }\n            else if ((data.parentLeft < data.childLeft && (data.childLeft < (data.parentLeft + data.parentWidth)))\n                || (data.parentLeft === data.childLeft || data.parentLeft > data.childLeft)) {\n                if (data.parentLeft > (data.childLeft + data.childWidth + 25)) {\n                    if (data.type === 'SF') {\n                        return 'SFType2';\n                    }\n                }\n                if (data.parentLeft > data.childLeft) {\n                    if (data.type === 'SS') {\n                        return 'SSType1';\n                    }\n                    if (data.type === 'SF') {\n                        return 'SFType1';\n                    }\n                    if (data.type === 'FF') {\n                        return 'FFType1';\n                    }\n                }\n                else if ((data.childLeft + data.childWidth) > (data.parentLeft + data.parentWidth)) {\n                    if (data.type === 'FF') {\n                        return 'FFType2';\n                    }\n                }\n                if (data.type === 'FS') {\n                    return 'FSType2';\n                }\n                else if (data.type === 'SS') {\n                    return 'SSType2';\n                }\n                else if (data.type === 'FF') {\n                    return 'FFType1';\n                }\n                else if (data.type === 'SF') {\n                    return 'SFType1';\n                }\n            }\n            else if ((data.parentLeft) < data.childLeft) {\n                if (data.type === 'FS') {\n                    return 'FSType2';\n                }\n                else if (data.type === 'FF') {\n                    return 'FFType2';\n                }\n                else if (data.type === 'SS') {\n                    return 'SSType2';\n                }\n                else if (data.type === 'SF') {\n                    return 'SFType1';\n                }\n            }\n        }\n        else if (data.parentIndex > data.childIndex) {\n            if ((data.parentLeft < data.childLeft) && (data.childLeft > (data.parentLeft + data.parentWidth))) {\n                if (data.type === 'FS') {\n                    if (30 >= (data.childLeft - (data.milestoneParent ?\n                        (data.parentLeft + data.parentWidth + 4) : (data.parentLeft + data.parentWidth)))) {\n                        return 'FSType3';\n                    }\n                    else {\n                        return 'FSType4';\n                    }\n                }\n                if (data.parentLeft < data.childLeft || ((data.childLeft + data.childWidth) > (data.parentLeft + data.parentWidth))) {\n                    if (data.type === 'SS') {\n                        return 'SSType4';\n                    }\n                    if (data.type === 'FF') {\n                        return 'FFType4';\n                    }\n                    if (data.type === 'SF') {\n                        return 'SFType4';\n                    }\n                    // eslint-disable-next-line\n                }\n                else if ((data.childLeft + data.childWidth) > (data.parentLeft + data.parentWidth)) {\n                    if (data.type === 'FF') {\n                        return 'FFType4';\n                    }\n                }\n            }\n            else if ((data.parentLeft < data.childLeft && (data.childLeft < (data.parentLeft + data.parentWidth)))\n                || (data.parentLeft === data.childLeft || data.parentLeft > data.childLeft)) {\n                if ((data.childLeft + data.childWidth) <= (data.parentLeft + data.parentWidth)) {\n                    if (data.type === 'FF') {\n                        return 'FFType3';\n                    }\n                    if (data.type === 'SF') {\n                        if ((data.childLeft + data.childWidth + 25) < (data.parentLeft)) {\n                            return 'SFType3';\n                        }\n                        else {\n                            return 'SFType4';\n                        }\n                    }\n                    if (data.type === 'SS') {\n                        if (data.childLeft <= data.parentLeft) {\n                            return 'SSType3';\n                        }\n                        else {\n                            return 'SSType4';\n                        }\n                    }\n                }\n                else if ((data.childLeft + data.childWidth) > (data.parentLeft + data.parentWidth)) {\n                    if (data.type === 'FF') {\n                        return 'FFType4';\n                    }\n                    if (data.type === 'SF') {\n                        return 'SFType4';\n                    }\n                    if (data.type === 'SS') {\n                        if (data.childLeft <= data.parentLeft) {\n                            return 'SSType3';\n                        }\n                        else {\n                            return 'SSType4';\n                        }\n                    }\n                }\n                if (data.type === 'FS') {\n                    return 'FSType3';\n                }\n            }\n            else if (data.parentLeft < data.childLeft) {\n                if (data.type === 'FS') {\n                    return 'FSType3';\n                }\n                if (data.type === 'SS') {\n                    return 'SSType4';\n                }\n                if (data.type === 'FF') {\n                    return 'FFType4';\n                }\n                if (data.type === 'SF') {\n                    return 'SFType4';\n                }\n            }\n        }\n        return null;\n    };\n    /**\n     * To get line height.\n     *\n     * @param {IConnectorLineObject} data .\n     * @returns {void}\n     * @private\n     */\n    ConnectorLine.prototype.getHeightValue = function (data) {\n        return (data.parentIndex * data.rowHeight) > (data.childIndex * data.rowHeight) ?\n            ((data.parentIndex * data.rowHeight) - (data.childIndex * data.rowHeight)) :\n            ((data.childIndex * data.rowHeight) - (data.parentIndex * data.rowHeight));\n    };\n    /**\n     * To get sstype2 inner element width.\n     *\n     * @param {IConnectorLineObject} data .\n     * @returns {void}\n     * @private\n     */\n    ConnectorLine.prototype.getInnerElementWidthSSType2 = function (data) {\n        if (data.parentLeft === data.childLeft) {\n            return 10;\n        }\n        return (data.childLeft - data.parentLeft);\n    };\n    /**\n     * To get sstype2 inner element left.\n     *\n     * @param {IConnectorLineObject} data .\n     * @returns {void}\n     * @private\n     */\n    ConnectorLine.prototype.getInnerElementLeftSSType2 = function (data) {\n        if (data.parentLeft === data.childLeft) {\n            return (data.parentLeft - 20);\n        }\n        return (data.parentLeft - 10);\n    };\n    /**\n     * To get sstype2 inner child element width.\n     *\n     * @param {IConnectorLineObject} data .\n     * @returns {void}\n     * @private\n     */\n    ConnectorLine.prototype.getInnerChildWidthSSType2 = function (data) {\n        if ((data.parentLeft + data.parentWidth) < data.childLeft) {\n            return 10;\n        }\n        if (data.parentLeft === data.childLeft) {\n            return 20;\n        }\n        if ((data.parentLeft + data.parentWidth) >= data.childLeft) {\n            return 10;\n        }\n        return (data.childLeft - data.parentLeft);\n    };\n    ConnectorLine.prototype.getBorderStyles = function (cssType, unit) {\n        var borderWidth = 'border-' + cssType + '-width:' + unit + 'px;';\n        var borderStyle = 'border-' + cssType + '-style:solid;';\n        var borderColor = !isNullOrUndefined(this.lineColor) ? 'border-' + cssType + '-color:' + this.lineColor + ';' : '';\n        return (borderWidth + borderStyle + borderColor);\n    };\n    /**\n     * To get connector line template.\n     *\n     * @param {IConnectorLineObject} data .\n     * @returns {void}\n     * @private\n     */\n    ConnectorLine.prototype.getConnectorLineTemplate = function (data) {\n        var setInnerChildWidthSSType2 = this.getInnerChildWidthSSType2(data);\n        var setInnerElementWidthSSType2 = this.getInnerElementWidthSSType2(data);\n        var setInnerElementLeftSSType2 = this.getInnerElementLeftSSType2(data);\n        var height = this.getHeightValue(data);\n        var isMilestoneParent = data.milestoneParent ? true : false;\n        var isMilestone = data.milestoneChild ? true : false;\n        var connectorContainer = '';\n        var isVirtual = this.parent.virtualScrollModule && this.parent.enableVirtualization;\n        var connectorLine = this.getPosition(data, this.getParentPosition(data), height);\n        var heightValue = isVirtual ? connectorLine.height : height;\n        if (this.getParentPosition(data)) {\n            connectorContainer = '<div id=\"ConnectorLine' + data.connectorLineId + '\" style=\"background-color:black\">';\n            var div = '<div class=\"' + cls.connectorLineContainer +\n                '\" tabindex=\"-1\" style=\"';\n            var eLine = '<div class=\"' + cls.connectorLine + '\" style=\"' +\n                (!isNullOrUndefined(this.lineColor) ? 'outline-color:' + this.lineColor + ';' : '');\n            var rightArrow = '<div class=\"' + cls.connectorLineRightArrow + '\" style=\"' +\n                (!isNullOrUndefined(this.lineColor) ? 'outline-color:' + this.lineColor + ';' : '');\n            var leftArrow = '<div class=\"' + cls.connectorLineLeftArrow + '\" style=\"' +\n                (!isNullOrUndefined(this.lineColor) ? 'outline-color:' + this.lineColor + ';' : '');\n            var duplicateStingOne = leftArrow + (isMilestone ? 'left:0px;' : '') +\n                this.getBorderStyles('right', 10) +\n                'top:' + (-5 - this.lineStroke + (this.lineStroke - 1)) + 'px;border-bottom-width:' + (5 + this.lineStroke) + 'px;' +\n                'border-top-width:' + (5 + this.lineStroke) + 'px;width:0;height:0;position:relative;\"></div>';\n            var duplicateStingTwo = this.getBorderStyles('left', 10) +\n                'top:' + (-6) + 'px;border-bottom-width:' + (5 + this.lineStroke) + 'px;' +\n                'border-top-width:' + (5 + this.lineStroke) + 'px;width:0;height:0;position:relative;\"></div>';\n            var duplicateStingThree = this.getBorderStyles('top', this.lineStroke) + 'position:relative;\"></div>' + eLine +\n                'top:' + (-(13 + ((this.lineStroke - 1) * 2))) + 'px;width:0px;' + this.getBorderStyles('left', this.lineStroke) +\n                this.getBorderStyles('top', (heightValue - (this.lineStroke - 1))) + 'position:relative;\"></div>';\n            var duplicateStingFour = leftArrow + 'left:' +\n                (((data.childLeft + data.childWidth) - (data.parentLeft)) + 10) + 'px;' +\n                this.getBorderStyles('right', 10);\n            var duplicateStingFive = 'top:' + (-(6 + (5 + this.lineStroke) + (this.lineStroke / 2))) + 'px;' +\n                this.getBorderStyles('top', this.lineStroke) + 'position:relative;\"></div>';\n            if (this.getParentPosition(data) === 'FSType1') {\n                div = div + 'left:' + (data.parentLeft + data.parentWidth) + 'px;top:' + (isVirtual ? connectorLine.top :\n                    ((data.parentIndex * data.rowHeight) + this.getTaskbarMidpoint(isMilestone) - (this.lineStroke - 1))) + 'px;' +\n                    'width:1px;height:' + heightValue + 'px;position:absolute\" data-connectortype=\"FSType1\">';\n                div = div + eLine;\n                div = div + 'left:' + (isMilestoneParent ? -1 : 0) + 'px;width:' + (isMilestoneParent ?\n                    ((((data.childLeft - (data.parentLeft + data.parentWidth + 10)) + this.lineStroke) - 10) + 1) :\n                    (((data.childLeft - (data.parentLeft + data.parentWidth + 10)) + this.lineStroke) - 10)) + 'px;' +\n                    this.getBorderStyles('top', this.lineStroke) + 'position:relative;\"></div>';\n                div = div + eLine;\n                div = div + 'left:' + ((data.childLeft - (data.parentLeft + data.parentWidth + 10)) - 10) + 'px;' +\n                    'width:0px;' + this.getBorderStyles('right', this.lineStroke) +\n                    this.getBorderStyles('top', (heightValue - this.lineStroke)) + 'position:relative;\"></div>';\n                div = div + eLine;\n                div = div + 'left:' + ((data.childLeft - (data.parentLeft + data.parentWidth + 10)) - 10) + 'px;width:10px;' +\n                    this.getBorderStyles('top', this.lineStroke) + 'position:relative;\"></div>';\n                div = div + rightArrow;\n                div = div + 'left:' + (data.childLeft - (data.parentLeft + data.parentWidth + 10)) + 'px;' +\n                    this.getBorderStyles('left', 10) + 'top:' + (-6 - this.lineStroke) + 'px;border-bottom-width:' + (5 + this.lineStroke) +\n                    'px;border-top-width:' + (5 + this.lineStroke) + 'px;width:0;height:0;position:relative;\"></div></div>';\n            }\n            if (this.getParentPosition(data) === 'FSType2') {\n                div = div + 'left:' + data.parentLeft + 'px;top:' + (isVirtual ? connectorLine.top : ((data.parentIndex * data.rowHeight) +\n                    this.getTaskbarMidpoint(isMilestone) - (this.lineStroke - 1))) + 'px;' +\n                    'width:1px;height:' + heightValue + 'px;position:absolute\" data-connectortype=\"FSType2\">';\n                div = div + eLine;\n                div = div + 'left:' + (isMilestoneParent ? data.parentWidth - 1 : data.parentWidth) + 'px;width:' +\n                    (isMilestoneParent ? 11 : 10) + 'px;' +\n                    this.getBorderStyles('top', this.lineStroke) + 'position:relative;\"></div>';\n                div = div + eLine;\n                div = div + 'left:' + (data.parentWidth + 10 - this.lineStroke) + 'px;' +\n                    this.getBorderStyles('left', this.lineStroke) + 'width:0px;' +\n                    this.getBorderStyles('top', (heightValue - this.getconnectorLineGap(data) - this.lineStroke)) + 'position:relative;\"></div>';\n                div = div + eLine;\n                div = div + 'left:' + (data.parentWidth - (((data.parentLeft + data.parentWidth) - data.childLeft) + 20)) + 'px;' +\n                    'width:' + (((data.parentLeft + data.parentWidth) - data.childLeft) + 30) + 'px;' +\n                    this.getBorderStyles('top', this.lineStroke) + 'position:relative;\"></div>';\n                div = div + eLine;\n                div = div + 'left:' + (data.parentWidth - (((data.parentLeft +\n                    data.parentWidth) - data.childLeft) + 20)) + 'px;width:0px;' +\n                    this.getBorderStyles('top', (this.getconnectorLineGap(data) - this.lineStroke)) +\n                    this.getBorderStyles('left', this.lineStroke) + 'position:relative;\"></div>';\n                div = div + eLine;\n                div = div + 'left:' + (data.parentWidth - (((data.parentLeft +\n                    data.parentWidth) - data.childLeft) + 20)) + 'px;width:10px;' +\n                    this.getBorderStyles('top', this.lineStroke) + 'position:relative;\"></div>';\n                div = div + rightArrow;\n                div = div + 'left:' + (data.parentWidth - (((data.parentLeft + data.parentWidth) - data.childLeft) + 10)) + 'px;' +\n                    this.getBorderStyles('left', 10) + 'border-bottom-width:' + (5 + this.lineStroke) + 'px;' +\n                    'border-top-width:' + (5 + this.lineStroke) + 'px;top:' + (-6 - this.lineStroke) +\n                    'px;width:0;height:0;position:relative;\"></div></div>';\n            }\n            if (this.getParentPosition(data) === 'FSType3') {\n                div = div + 'left:' + (data.childLeft - 20) + 'px;top:' + (isVirtual ? connectorLine.top :\n                    ((data.childIndex * data.rowHeight) + this.getTaskbarMidpoint(isMilestoneParent) - (this.lineStroke - 1))) + 'px;' +\n                    'width:1px;height:' + heightValue + 'px;position:absolute\" data-connectortype=\"FSType3\">';\n                div = div + rightArrow;\n                div = div + 'left:10px;' + this.getBorderStyles('left', 10) +\n                    'border-bottom-width:' + (5 + this.lineStroke) + 'px;border-top-width:' + (5 + this.lineStroke) + 'px;' +\n                    'top:' + (-6) + 'px;width:0;height:0;position:relative;\"></div>';\n                div = div + eLine;\n                div = div + 'width:10px;' + this.getBorderStyles('top', this.lineStroke) +\n                    'position:relative;top:' + (-(6 + (5 + this.lineStroke) + Math.round(this.lineStroke / 2))) + 'px;\"></div>';\n                div = div + eLine;\n                div = div + 'width:' + this.lineStroke + 'px;' + this.getBorderStyles('top', (heightValue - this.getconnectorLineGap(data) - this.lineStroke + 1)) +\n                    'position:relative;top:' + (-(13 + ((this.lineStroke - 1) * 2))) + 'px;\"></div>';\n                div = div + eLine;\n                div = div + 'width:' + (((data.parentLeft + data.parentWidth) - data.childLeft) + 30) + 'px;' +\n                    this.getBorderStyles('top', this.lineStroke) + 'position:relative;top:' +\n                    (-(13 + ((this.lineStroke - 1) * 2))) + 'px;\"></div>';\n                div = div + eLine;\n                div = div + 'left:' + (((data.parentLeft + data.parentWidth) - data.childLeft) + (30 - this.lineStroke)) +\n                    'px;width:0px;' + 'height:' + (this.getconnectorLineGap(data) - this.lineStroke) + 'px;' +\n                    this.getBorderStyles('left', this.lineStroke) + 'position:relative;' +\n                    'top:' + (-(13 + ((this.lineStroke - 1) * 2))) + 'px;\"></div>';\n                div = div + eLine;\n                div = div + (isMilestoneParent ? 'left:' + (((data.parentLeft +\n                    data.parentWidth) - data.childLeft) + (18 - this.lineStroke)) + 'px;width:' + (12 + this.lineStroke) + 'px;' : 'left:' +\n                    (((data.parentLeft + data.parentWidth) - data.childLeft) + 20) + 'px;width:10px;') +\n                    this.getBorderStyles('top', this.lineStroke) + 'position:relative;top:' +\n                    (-(13 + ((this.lineStroke - 1) * 2))) + 'px;\"></div></div>';\n            }\n            if (this.getParentPosition(data) === 'FSType4') {\n                div = div + 'left:' + (data.parentLeft + data.parentWidth) + 'px;top:' + (isVirtual ? connectorLine.top :\n                    ((data.childIndex * data.rowHeight) + this.getTaskbarMidpoint(isMilestone) - (this.lineStroke - 1))) + 'px;' +\n                    'width:1px;height:' + heightValue + 'px;position:absolute\" data-connectortype=\"FSType4\">';\n                div = div + rightArrow;\n                div = div + 'left:' + (data.childLeft - (data.parentLeft + data.parentWidth + 10)) + 'px;' +\n                    this.getBorderStyles('left', 10) + 'top:' + (-6) + 'px;' +\n                    'border-bottom-width:' + (5 + this.lineStroke) + 'px;border-top-width:' +\n                    (5 + this.lineStroke) + 'px;width:0;height:0;position:relative;\"></div>';\n                div = div + eLine;\n                div = div + 'left:' + (data.childLeft - (data.parentLeft + data.parentWidth) - 20) +\n                    'px;top:' + (-(6 + (5 + this.lineStroke) + Math.round(this.lineStroke / 2))) + 'px;width:10px;' +\n                    this.getBorderStyles('top', this.lineStroke) +\n                    'position:relative;\"></div>';\n                div = div + eLine;\n                div = div + 'top:' + (-(13 + ((this.lineStroke - 1) * 2))) + 'px;left:' +\n                    (data.childLeft - (data.parentLeft + data.parentWidth) - 20) + 'px;width:0px;' +\n                    this.getBorderStyles('left', this.lineStroke) +\n                    this.getBorderStyles('top', (heightValue - this.lineStroke + 1)) + 'position:relative;\"></div>';\n                div = div + eLine;\n                div = div + (isMilestoneParent ? 'left:-1px;' : '') + 'top:' +\n                    (-(13 + ((this.lineStroke - 1) * 2))) + 'px;width:' +\n                    (isMilestoneParent ? ((data.childLeft - (data.parentLeft + data.parentWidth + 20) + 1) + this.lineStroke) :\n                        ((data.childLeft - (data.parentLeft + data.parentWidth + 20)) + this.lineStroke)) + 'px;' +\n                    this.getBorderStyles('top', this.lineStroke) + 'position:relative;\"></div></div>';\n            }\n            if (this.getParentPosition(data) === 'SSType4') {\n                div = div + 'left:' + (data.parentLeft - 10) + 'px;top:' + (isVirtual ? connectorLine.top :\n                    ((data.childIndex * data.rowHeight) + this.getTaskbarMidpoint(isMilestone) - (this.lineStroke - 1))) + 'px;' +\n                    'width:1px;height:' + heightValue + 'px;position:absolute\" data-connectortype=\"SSType4\">';\n                div = div + rightArrow;\n                div = div + 'left:' + (data.childLeft - data.parentLeft) + 'px;' + duplicateStingTwo;\n                div = div + eLine;\n                div = div + 'top:' + (-(6 + (5 + this.lineStroke) + (this.lineStroke / 2))) + 'px;width:' +\n                    (data.childLeft - data.parentLeft) + 'px;' + duplicateStingThree;\n                div = div + eLine;\n                div = div + 'top:' + (-(13 + ((this.lineStroke - 1) * 2))) + 'px;width:10px;' +\n                    this.getBorderStyles('top', this.lineStroke) + 'position:relative;\"></div></div>';\n            }\n            if (this.getParentPosition(data) === 'SSType3') {\n                div = div + 'left:' + (data.childLeft - 20) + 'px;top:' + (isVirtual ? connectorLine.top :\n                    ((data.childIndex * data.rowHeight) + this.getTaskbarMidpoint(isMilestone) - (this.lineStroke - 1))) + 'px;' +\n                    'width:1px;height:' + heightValue + 'px;position:absolute\" data-connectortype=\"SSType3\">';\n                div = div + rightArrow;\n                div = div + 'left:10px;' + duplicateStingTwo;\n                div = div + eLine;\n                div = div + 'top:' + (-(6 + (5 + this.lineStroke) + (this.lineStroke / 2))) + 'px;width:10px;' + duplicateStingThree;\n                div = div + eLine;\n                div = div + 'top:' + (-(13 + ((this.lineStroke - 1) * 2))) + 'px;width:' +\n                    (data.parentLeft - data.childLeft + 21) + 'px;' +\n                    this.getBorderStyles('top', this.lineStroke) + 'position:relative;\"></div></div>';\n            }\n            if (this.getParentPosition(data) === 'SSType2') {\n                div = div + 'left:' + setInnerElementLeftSSType2 + 'px;top:' + (isVirtual ? connectorLine.top :\n                    ((data.parentIndex * data.rowHeight) + this.getTaskbarMidpoint(isMilestoneParent) - (this.lineStroke - 1))) + 'px;' +\n                    'width:1px;height:' + heightValue + 'px;position:absolute\" data-connectortype=\"SSType2\">';\n                div = div + eLine;\n                div = div + 'width:' + (setInnerChildWidthSSType2 + 1) + 'px;' +\n                    this.getBorderStyles('top', this.lineStroke) + 'position:relative;\"></div>';\n                div = div + eLine;\n                div = div + 'width:0px;' + this.getBorderStyles('left', this.lineStroke) +\n                    this.getBorderStyles('top', (heightValue - this.lineStroke)) + 'position:relative;\"></div>';\n                div = div + eLine;\n                div = div + 'width:' + setInnerElementWidthSSType2 + 'px;' +\n                    this.getBorderStyles('top', this.lineStroke) + 'position:relative;\"></div>';\n                div = div + rightArrow;\n                div = div + 'left:' + setInnerElementWidthSSType2 + 'px;' +\n                    this.getBorderStyles('left', 10) + 'top:' + (-6 - this.lineStroke) + 'px;' +\n                    'border-bottom-width:' + (5 + this.lineStroke) + 'px;border-top-width:' +\n                    (5 + this.lineStroke) + 'px;width:0;' +\n                    'height:0;position:relative;\"></div></div>';\n            }\n            if (this.getParentPosition(data) === 'SSType1') {\n                div = div + 'left:' + (data.childLeft - 20) + 'px;top:' + (isVirtual ? connectorLine.top :\n                    ((data.parentIndex * data.rowHeight) +\n                        this.getTaskbarMidpoint(isMilestoneParent) - (this.lineStroke - 1))) + 'px;' +\n                    'width:1px;height:' + heightValue + 'px;position:absolute\" data-connectortype=\"SSType1\">';\n                div = div + eLine;\n                div = div + 'width:' + (data.parentLeft - data.childLeft + 21) + 'px;' +\n                    this.getBorderStyles('top', this.lineStroke) + 'position:relative;\"></div>';\n                div = div + eLine;\n                div = div + 'width:0px;' + this.getBorderStyles('left', this.lineStroke) +\n                    this.getBorderStyles('top', (heightValue - this.lineStroke)) + 'position:relative;\"></div>';\n                div = div + eLine;\n                div = div + 'width:10px;' + this.getBorderStyles('top', this.lineStroke) + 'position:relative;\"></div>';\n                div = div + rightArrow;\n                div = div + 'left:10px;' + this.getBorderStyles('left', 10) +\n                    'top:' + (-6 - this.lineStroke) + 'px;border-bottom-width:' + (5 + this.lineStroke) + 'px;' +\n                    'border-top-width:' + (5 + this.lineStroke) + 'px;width:0;height:0;position:relative;\"></div></div>';\n            }\n            if (this.getParentPosition(data) === 'FFType1') {\n                div = div + 'left:' + (data.childLeft + data.childWidth) + 'px;top:' + (isVirtual ? connectorLine.top :\n                    ((data.parentIndex * data.rowHeight) + this.getTaskbarMidpoint(isMilestoneParent) - (this.lineStroke - 1))) + 'px;' +\n                    'width:1px;height:' + heightValue + 'px;position:absolute\" data-connectortype=\"FFType1\">';\n                div = div + eLine;\n                div = div + 'left:' + (isMilestoneParent ? (((data.parentLeft + data.parentWidth) -\n                    (data.childLeft + data.childWidth)) - 1) : ((data.parentLeft + data.parentWidth) -\n                    (data.childLeft + data.childWidth))) + 'px;' +\n                    'width:' + (isMilestoneParent ? (21 + this.lineStroke) : (20 + this.lineStroke)) + 'px;' +\n                    this.getBorderStyles('top', this.lineStroke) + 'position:relative;\"></div>';\n                div = div + eLine;\n                div = div + 'left:' + (((data.parentLeft + data.parentWidth) -\n                    (data.childLeft + data.childWidth)) + 20) + 'px;width:0px;' + this.getBorderStyles('left', this.lineStroke) +\n                    this.getBorderStyles('top', (heightValue - this.lineStroke)) + 'position:relative;\"></div>';\n                div = div + eLine;\n                div = div + 'left:' + (isMilestone ? 4 : 10) + 'px;width:' + (isMilestone ?\n                    (((data.parentLeft + data.parentWidth) - (data.childLeft + data.childWidth)) + (16 + this.lineStroke)) :\n                    (((data.parentLeft + data.parentWidth) - (data.childLeft + data.childWidth)) + (10 + this.lineStroke))) + 'px;' +\n                    this.getBorderStyles('top', this.lineStroke) + 'position:relative;\"></div>';\n                div = div + leftArrow;\n                div = div + (isMilestone ? 'left:0px;' : '') + this.getBorderStyles('right', 10) +\n                    'top:' + (-6 - this.lineStroke) + 'px;border-bottom-width:' + (5 + this.lineStroke) + 'px;' +\n                    'border-top-width:' + (5 + this.lineStroke) + 'px;width:0;height:0;position:relative;\"></div></div>';\n            }\n            if (this.getParentPosition(data) === 'FFType2') {\n                div = div + 'left:' + (data.parentLeft + data.parentWidth) + 'px;top:' + (isVirtual ? connectorLine.top :\n                    ((data.parentIndex * data.rowHeight) + this.getTaskbarMidpoint(isMilestoneParent) - (this.lineStroke - 1))) + 'px;' +\n                    'width:1px;height:' + heightValue + 'px;position:absolute\" data-connectortype=\"FFType2\">';\n                div = div + eLine;\n                div = div + (isMilestoneParent ? 'left:-1px;' : '') + 'width:' +\n                    (isMilestoneParent ? (((data.childLeft + data.childWidth) - (data.parentLeft + data.parentWidth)) +\n                        (21 + this.lineStroke)) : (((data.childLeft + data.childWidth) -\n                        (data.parentLeft + data.parentWidth)) + (20 + this.lineStroke))) + 'px;' +\n                    this.getBorderStyles('top', this.lineStroke) + 'position:relative;\"></div>';\n                div = div + eLine;\n                div = div + 'left:' + (((data.childLeft + data.childWidth) - (data.parentLeft + data.parentWidth)) + 20) +\n                    'px;width:0px;' + this.getBorderStyles('left', this.lineStroke) +\n                    this.getBorderStyles('top', (heightValue - this.lineStroke)) +\n                    'position:relative;\"></div>';\n                div = div + eLine;\n                div = div + 'left:' + (isMilestone ? (((data.childLeft + data.childWidth) - (data.parentLeft + data.parentWidth)) + 4) :\n                    (((data.childLeft + data.childWidth) - (data.parentLeft + data.parentWidth)) + 10)) + 'px;' +\n                    'width:' + (isMilestone ? (16 + this.lineStroke) : (10 + this.lineStroke)) + 'px;' +\n                    this.getBorderStyles('top', this.lineStroke) + 'position:relative;\"></div>';\n                div = div + leftArrow;\n                div = div + 'left:' + ((data.childLeft + data.childWidth) - (data.parentLeft + data.parentWidth)) + 'px;' +\n                    this.getBorderStyles('right', 10) + 'top:' + (-6 - this.lineStroke) + 'px;' +\n                    'border-bottom-width:' + (5 + this.lineStroke) + 'px;border-top-width:' + (5 + this.lineStroke) +\n                    'px;width:0;height:0;position:relative;\"></div></div>';\n            }\n            if (this.getParentPosition(data) === 'FFType3') {\n                div = div + 'left:' + (data.childLeft + data.childWidth) + 'px;top:' + (isVirtual ? connectorLine.top :\n                    ((data.childIndex * data.rowHeight) + this.getTaskbarMidpoint(isMilestone) - (this.lineStroke - 1))) + 'px;' +\n                    'width:1px;height:' + heightValue + 'px;position:absolute\" data-connectortype=\"FFType3\">';\n                div = div + duplicateStingOne;\n                div = div + eLine;\n                div = div + (isMilestone ? ('left:4px;width:' +\n                    (((data.parentLeft + data.parentWidth) - (data.childLeft + data.childWidth)) + 16)) :\n                    ('left:10px;width:' + (((data.parentLeft + data.parentWidth) -\n                        (data.childLeft + data.childWidth)) + 10))) + 'px;top:' + (-(6 + (5 + this.lineStroke) +\n                    (this.lineStroke / 2))) + 'px;' + this.getBorderStyles('top', this.lineStroke) + 'position:relative;\"></div>';\n                div = div + eLine;\n                div = div + 'left:' + (((data.parentLeft + data.parentWidth) - (data.childLeft + data.childWidth)) + 20) +\n                    'px;top:' + (-(13 + ((this.lineStroke - 1) * 2))) + 'px;' +\n                    'width:0px;' + this.getBorderStyles('left', this.lineStroke) +\n                    this.getBorderStyles('top', (heightValue - this.lineStroke + 1)) + 'position:relative;\"></div>';\n                div = div + eLine;\n                div = div + (isMilestoneParent ? ('left:' + (((data.parentLeft + data.parentWidth) -\n                    (data.childLeft + data.childWidth)) - 1) + 'px;width:21') : ('left:' + ((data.parentLeft + data.parentWidth) -\n                    (data.childLeft + data.childWidth)) + 'px;width:20')) +\n                    'px;top:' + (-(13 + ((this.lineStroke - 1) * 2))) + 'px;' +\n                    this.getBorderStyles('top', this.lineStroke) + 'position:relative;\"></div></div>';\n            }\n            if (this.getParentPosition(data) === 'FFType4') {\n                div = div + 'left:' + (data.parentLeft + data.parentWidth) + 'px;top:' + (isVirtual ? connectorLine.top :\n                    ((data.childIndex * data.rowHeight) + this.getTaskbarMidpoint(isMilestone) - (this.lineStroke - 1))) + 'px;' +\n                    'width:1px;height:' + heightValue + 'px;position:absolute\" data-connectortype=\"FFType4\">';\n                div = div + leftArrow;\n                div = div + ('left:' + ((data.childLeft + data.childWidth) -\n                    (data.parentLeft + data.parentWidth))) + 'px;' +\n                    this.getBorderStyles('right', 10) + 'top:' + (-5 - this.lineStroke + (this.lineStroke - 1)) + 'px;' +\n                    'border-bottom-width:' + (5 + this.lineStroke) +\n                    'px;border-top-width:' + (5 + this.lineStroke) + 'px;width:0;height:0;' +\n                    'position:relative;\"></div>';\n                div = div + eLine;\n                div = div + (isMilestone ? ('left:' + (((data.childLeft + data.childWidth) -\n                    (data.parentLeft + data.parentWidth)) + 4) +\n                    'px;width:' + (16 + this.lineStroke)) : ('left:' + (((data.childLeft + data.childWidth) -\n                    (data.parentLeft + data.parentWidth)) + 10) + 'px;width:' + (10 + this.lineStroke))) +\n                    'px;' + duplicateStingFive;\n                div = div + eLine;\n                div = div + 'left:' + (((data.childLeft + data.childWidth) -\n                    (data.parentLeft + data.parentWidth)) + 20) + 'px;top:' + (-(13 + ((this.lineStroke - 1) * 2))) +\n                    'px;width:0px;' + this.getBorderStyles('left', this.lineStroke) +\n                    this.getBorderStyles('top', (heightValue - this.lineStroke + 1)) + 'position:relative;\"></div>';\n                div = div + eLine;\n                div = div + (isMilestoneParent ? ('left:-1px;width:' + (((data.childLeft + data.childWidth) -\n                    (data.parentLeft + data.parentWidth)) + (21 + this.lineStroke))) : ('width:' + (((data.childLeft + data.childWidth) -\n                    (data.parentLeft + data.parentWidth)) + (20 + this.lineStroke)))) + 'px;top:' +\n                    (-(13 + ((this.lineStroke - 1) * 2))) + 'px;' +\n                    this.getBorderStyles('top', this.lineStroke) + 'position:relative;\"></div></div>';\n            }\n            if (this.getParentPosition(data) === 'SFType4') {\n                div = div + 'left:' + (data.parentLeft - 10) + 'px;top:' + (isVirtual ? connectorLine.top :\n                    ((data.childIndex * data.rowHeight) + this.getTaskbarMidpoint(isMilestone) - (this.lineStroke - 1))) + 'px;width:1px;' +\n                    'height:' + heightValue + 'px;position:absolute\" data-connectortype=\"SFType4\">';\n                div = div + duplicateStingFour + 'top:' + (-5 - this.lineStroke + (this.lineStroke - 1)) + 'px;' +\n                    'border-bottom-width:' + (5 + this.lineStroke) +\n                    'px;border-top-width:' + (5 + this.lineStroke) + 'px;width:0;height:0;' +\n                    'position:relative;\"></div>';\n                div = div + eLine;\n                div = div + 'left:' + (isMilestone ? ((((data.childLeft + data.childWidth) - (data.parentLeft)) + (14 + this.lineStroke)) +\n                    'px;width:16') : ((((data.childLeft + data.childWidth) - (data.parentLeft)) + 20) + 'px;width:' +\n                    (10 + this.lineStroke))) + 'px;' + duplicateStingFive;\n                div = div + eLine;\n                div = div + 'left:' + (((data.childLeft + data.childWidth) - (data.parentLeft)) + 30) + 'px;top:' +\n                    (-(13 + ((this.lineStroke - 1) * 2))) + 'px;width:0px;' + this.getBorderStyles('left', this.lineStroke) +\n                    this.getBorderStyles('top', (heightValue - this.getconnectorLineGap(data) - (this.lineStroke - 1))) + 'position:relative;\"></div>';\n                div = div + eLine;\n                div = div + 'top:' + (-(13 + ((this.lineStroke - 1) * 2))) + 'px;width:' +\n                    (((data.childLeft + data.childWidth) - (data.parentLeft)) + (30 + this.lineStroke)) + 'px;' +\n                    this.getBorderStyles('top', this.lineStroke) + 'position:relative;\"></div>';\n                div = div + eLine;\n                div = div + 'top:' + (-(13 + ((this.lineStroke - 1) * 2))) + 'px;width:0px;' +\n                    this.getBorderStyles('left', this.lineStroke) +\n                    this.getBorderStyles('top', (this.getconnectorLineGap(data) - this.lineStroke)) + 'position:relative;\"></div>';\n                div = div + eLine;\n                div = div + 'top:' + (-(13 + ((this.lineStroke - 1) * 2))) + 'px;width:11px;' +\n                    this.getBorderStyles('top', this.lineStroke) + 'position:relative;\"></div></div>';\n            }\n            if (this.getParentPosition(data) === 'SFType3') {\n                div = div + 'left:' + (data.childLeft + data.childWidth) + 'px;top:' + (isVirtual ? connectorLine.top :\n                    ((data.childIndex * data.rowHeight) + this.getTaskbarMidpoint(isMilestone) - (this.lineStroke - 1))) + 'px;' +\n                    'width:1px;height:' + heightValue + 'px;position:absolute\" data-connectortype=\"SFType3\">';\n                div = div + duplicateStingOne;\n                div = div + eLine;\n                div = div + (isMilestone ? 'left:4px;width:' + (16 + this.lineStroke) : 'left:10px;width:' +\n                    (10 + this.lineStroke)) + 'px;top:' + (-(13 + ((this.lineStroke - 1) * 2) - 1)) + 'px;' +\n                    this.getBorderStyles('top', this.lineStroke) + 'position:relative;\"></div>';\n                div = div + eLine;\n                div = div + 'left:20px;top:' + (-(13 + ((this.lineStroke - 1) * 2))) + 'px;width:0px;' +\n                    this.getBorderStyles('left', this.lineStroke) +\n                    this.getBorderStyles('top', (heightValue - (this.lineStroke - 1))) + 'position:relative;\"></div>';\n                div = div + eLine;\n                div = div + 'left:20px;top:' + (-(13 + ((this.lineStroke - 1) * 2))) + 'px;width:' +\n                    ((data.parentLeft - (data.childLeft + data.childWidth + 20)) + this.lineStroke) + 'px;' +\n                    this.getBorderStyles('top', this.lineStroke) + 'position:relative;\"></div></div>';\n            }\n            if (this.getParentPosition(data) === 'SFType1') {\n                div = div + 'left:' + (data.parentLeft - 10) + 'px;top:' + (isVirtual ? connectorLine.top :\n                    ((data.parentIndex * data.rowHeight) + this.getTaskbarMidpoint(isMilestone) - (this.lineStroke - 1))) + 'px;' +\n                    'width:1px;height:' + heightValue + 'px;position:absolute\" data-connectortype=\"SFType1\">';\n                div = div + eLine;\n                div = div + 'width:11px;' + this.getBorderStyles('top', this.lineStroke) + 'position:relative;\"></div>';\n                div = div + eLine;\n                div = div + 'width:0px;' + this.getBorderStyles('left', this.lineStroke) +\n                    this.getBorderStyles('top', (heightValue - this.getconnectorLineGap(data) - this.lineStroke)) + 'position:relative;\"></div>';\n                div = div + eLine;\n                div = div + 'width:' + (((data.childLeft + data.childWidth) - (data.parentLeft)) + (30 + this.lineStroke)) + 'px;' +\n                    this.getBorderStyles('top', this.lineStroke) + 'position:relative;\"></div>';\n                div = div + eLine;\n                div = div + 'left:' + (((data.childLeft + data.childWidth) - (data.parentLeft)) + 30) +\n                    'px;width:0px;' + this.getBorderStyles('left', this.lineStroke) +\n                    this.getBorderStyles('top', (this.getconnectorLineGap(data) - this.lineStroke)) + 'position:relative;\"></div>';\n                div = div + eLine;\n                div = div + (isMilestone ? ('left:' + (((data.childLeft + data.childWidth) -\n                    (data.parentLeft)) + 15) + 'px;width:' + (15 + this.lineStroke)) : ('left:' +\n                    (((data.childLeft + data.childWidth) - (data.parentLeft)) + 20) + 'px;width:' + (10 + this.lineStroke))) + 'px;' +\n                    this.getBorderStyles('top', this.lineStroke) + 'position:relative;\"></div>';\n                div = div + duplicateStingFour + 'top:' + (-6 - this.lineStroke) + 'px;' +\n                    'border-bottom-width:' + (5 + this.lineStroke) + 'px;border-top-width:' +\n                    (5 + this.lineStroke) + 'px;position:relative;\"></div></div>';\n            }\n            if (this.getParentPosition(data) === 'SFType2') {\n                div = div + 'left:' + (data.childLeft + data.childWidth) + 'px;top:' + (isVirtual ? connectorLine.top :\n                    ((data.parentIndex * data.rowHeight) + this.getTaskbarMidpoint(isMilestoneParent) - (this.lineStroke - 1))) + 'px;' +\n                    'width:1px;height:' + heightValue + 'px;position:absolute\" data-connectortype=\"SFType2\">';\n                div = div + eLine;\n                div = div + 'left:' + (((data.parentLeft) - (data.childLeft + data.childWidth)) - 10) +\n                    'px;width:11px;' + this.getBorderStyles('top', this.lineStroke) + 'position:relative;\"></div>';\n                div = div + eLine;\n                div = div + 'left:' + (((data.parentLeft) - (data.childLeft + data.childWidth)) - 10) +\n                    'px;width:0px;' + this.getBorderStyles('left', this.lineStroke) +\n                    this.getBorderStyles('top', (heightValue - this.lineStroke)) + 'position:relative;\"></div>';\n                div = div + eLine;\n                div = div + (isMilestone ? ('left:4px;width:' + (((data.parentLeft) - (data.childLeft + data.childWidth))\n                    - (14 - this.lineStroke))) : ('left:10px;width:' + (((data.parentLeft) -\n                    (data.childLeft + data.childWidth)) - (20 - this.lineStroke)))) +\n                    'px;' + this.getBorderStyles('top', this.lineStroke) + 'position:relative;\"></div>';\n                div = div + leftArrow;\n                div = div + 'left:0px;' + this.getBorderStyles('right', 10) +\n                    'top:' + (-6 - this.lineStroke) + 'px;border-bottom-width:' + (5 + this.lineStroke) +\n                    'px;border-top-width:' + (5 + this.lineStroke) + 'px;width:0;height:0;position:relative;\"></div></div>';\n            }\n            connectorContainer += div;\n            connectorContainer += '</div>';\n        }\n        return connectorContainer;\n    };\n    /**\n     * @param {IConnectorLineObject} data .\n     * @param {string} type .\n     * @param {number} heightValue .\n     * @returns {number} .\n     * @private\n     */\n    ConnectorLine.prototype.getPosition = function (data, type, heightValue) {\n        var topPosition = 0;\n        var lineHeight = 0;\n        if (this.parent.virtualScrollModule && this.parent.enableVirtualization) {\n            var isMilestoneParent = data.milestoneParent ? true : false;\n            var isMilestone = data.milestoneChild ? true : false;\n            var midPointParent = this.getTaskbarMidpoint(isMilestoneParent) - (this.lineStroke - 1);\n            var midPoint = this.getTaskbarMidpoint(isMilestone) - (this.lineStroke - 1);\n            var isParentIndex = data.parentIndexInCurrentView !== -1;\n            var isChildIndex = data.childIndexInCurrentView !== -1;\n            var lastRowIndex = this.parent.currentViewData.length - 1;\n            if (type === 'SSType1' || type === 'SSType2' || type === 'FFType1' || type === 'FFType2' || type === 'SFType2') {\n                topPosition = isParentIndex ? (data.parentIndexInCurrentView * data.rowHeight) + midPointParent : 0;\n                lineHeight = (isParentIndex && isChildIndex) ? heightValue : isChildIndex ?\n                    (data.childIndexInCurrentView * data.rowHeight) + midPointParent : (lastRowIndex * data.rowHeight) + midPointParent;\n            }\n            else if (type === 'SSType3' || type === 'SSType4' || type === 'FSType4' || type === 'FFType3' ||\n                type === 'FFType4' || type === 'SFType4' || type === 'SFType3') {\n                topPosition = isChildIndex ? (data.childIndexInCurrentView * data.rowHeight) + midPoint : 0;\n                lineHeight = (isParentIndex && isChildIndex) ? heightValue : isParentIndex ?\n                    (data.parentIndexInCurrentView * data.rowHeight) + midPoint :\n                    (lastRowIndex * data.rowHeight) + midPoint;\n            }\n            else if (type === 'FSType3') {\n                topPosition = isChildIndex ? (data.childIndexInCurrentView * data.rowHeight) + midPointParent : 0;\n                lineHeight = (isParentIndex && isChildIndex) ? heightValue : isParentIndex ?\n                    (data.parentIndexInCurrentView * data.rowHeight) + midPoint :\n                    (lastRowIndex * data.rowHeight) + midPointParent;\n            }\n            else if (type === 'SFType1' || type === 'FSType1' || type === 'FSType2') {\n                topPosition = isParentIndex ? (data.parentIndexInCurrentView * data.rowHeight) + midPoint : 0;\n                lineHeight = (isParentIndex && isChildIndex) ? heightValue : isChildIndex ?\n                    (data.childIndexInCurrentView * data.rowHeight) + midPoint :\n                    (lastRowIndex * data.rowHeight) + midPoint;\n            }\n        }\n        return { top: topPosition, height: lineHeight };\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLine.prototype.createConnectorLineTooltipTable = function () {\n        this.tooltipTable = createElement('table', { className: '.e-tooltiptable', styles: 'margin-top:0px', attrs: { 'cellspacing': '2px', 'cellpadding': '2px' } });\n        var tooltipBody = createElement('tbody');\n        tooltipBody.innerHTML = '';\n        this.tooltipTable.appendChild(tooltipBody);\n    };\n    /**\n     * @param {string} fromTaskName .\n     * @param {string} fromPredecessorText .\n     * @param {string} toTaskName .\n     * @param {string} toPredecessorText .\n     * @returns {string} .\n     * @private\n     */\n    ConnectorLine.prototype.getConnectorLineTooltipInnerTd = function (fromTaskName, fromPredecessorText, toTaskName, toPredecessorText) {\n        var innerTd = '<tr  id=\"fromPredecessor\"><td >' + this.parent.localeObj.getConstant('from') + '</td><td> ';\n        innerTd = innerTd + fromTaskName + ' </td><td> ' + this.parent.localeObj.getConstant(fromPredecessorText) + ' </td> </tr>';\n        innerTd = innerTd + '<tr id=\"toPredecessor\"><td>' + this.parent.localeObj.getConstant('to') + '</td><td> ' + toTaskName;\n        innerTd = innerTd + ' </td><td> ' + this.parent.localeObj.getConstant(toPredecessorText) + ' </td></tr></tbody><table>';\n        return innerTd;\n    };\n    /**\n     * Generate aria-label for connectorline\n     *\n     * @param {IConnectorLineObject} data .\n     * @returns {string} .\n     * @private\n     */\n    ConnectorLine.prototype.generateAriaLabel = function (data) {\n        var type = data.type;\n        var updatedRecords = this.expandedRecords;\n        var fromName = updatedRecords[data.parentIndex].ganttProperties.taskName;\n        var toName = updatedRecords[data.childIndex].ganttProperties.taskName;\n        var start = this.parent.localeObj.getConstant('start');\n        var finish = this.parent.localeObj.getConstant('finish');\n        var value = '';\n        if (type === 'FS') {\n            value = fromName + ' ' + finish + ' to ' + toName + ' ' + start;\n        }\n        else if (type === 'FF') {\n            value = fromName + ' ' + finish + ' to ' + toName + ' ' + finish;\n        }\n        else if (type === 'SS') {\n            value = fromName + ' ' + start + ' to ' + toName + ' ' + start;\n        }\n        else {\n            value = fromName + ' ' + start + ' to ' + toName + ' ' + finish;\n        }\n        return value;\n    };\n    /**\n     * To get the record based on the predecessor value\n     *\n     * @param {string} id .\n     * @returns {IGanttData} .\n     * @private\n     */\n    ConnectorLine.prototype.getRecordByID = function (id) {\n        if (isNullOrUndefined(id)) {\n            return null;\n        }\n        return this.parent.viewType === 'ResourceView' ? this.parent.flatData[this.parent.getTaskIds().indexOf('T' + id.toString())] :\n            this.parent.flatData[this.parent.ids.indexOf(id.toString())];\n    };\n    /**\n     * Method to remove connector line from DOM\n     *\n     * @param {IGanttData[] | object} records .\n     * @returns {void} .\n     * @private\n     */\n    // eslint-disable-next-line\n    ConnectorLine.prototype.removePreviousConnectorLines = function (records) {\n        var isObjectType;\n        if (isObject(records) === true) {\n            isObjectType = true;\n        }\n        else {\n            isObjectType = false;\n        }\n        var length = isObjectType ? Object.keys(records).length : records.length;\n        var keys = Object.keys(records);\n        for (var i = 0; i < length; i++) {\n            var data = void 0;\n            if (isObjectType) {\n                var uniqueId = keys[i];\n                data = records[uniqueId];\n            }\n            else {\n                data = records[i];\n            }\n            var predecessors = data.ganttProperties && data.ganttProperties.predecessor;\n            if (predecessors && predecessors.length > 0) {\n                for (var pre = 0; pre < predecessors.length; pre++) {\n                    var lineId = 'parent' + predecessors[pre].from + 'child' + predecessors[pre].to;\n                    this.removeConnectorLineById(lineId);\n                }\n            }\n        }\n    };\n    /**\n     * @param {string} id .\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLine.prototype.removeConnectorLineById = function (id) {\n        var element = this.parent.connectorLineModule.dependencyViewContainer.querySelector('#ConnectorLine' + id);\n        if (!isNullOrUndefined(element)) {\n            remove(element);\n        }\n    };\n    return ConnectorLine;\n}());\nexport { ConnectorLine };\n","import { createElement, isNullOrUndefined, isBlazor } from '@syncfusion/ej2-base';\nimport * as cls from '../base/css-constants';\nimport { Splitter as SplitterLayout } from '@syncfusion/ej2-layouts';\nimport { Deferred } from '@syncfusion/ej2-data';\n/**\n * Splitter module is used to define the splitter position in Gantt layout.\n */\nvar Splitter = /** @class */ (function () {\n    function Splitter(ganttObj) {\n        this.parent = ganttObj;\n        this.parent.on('destroy', this.destroy, this);\n    }\n    /**\n     * @returns {void} .\n     * @private\n     */\n    Splitter.prototype.renderSplitter = function () {\n        var _this = this;\n        var splitterPosition = this.calculateSplitterPosition(this.parent.splitterSettings);\n        this.parent.splitterElement = createElement('div', { className: cls.splitter });\n        this.parent.treeGridPane = createElement('div', { className: cls.treeGridPane });\n        this.parent.chartPane = createElement('div', { className: cls.ganttChartPane });\n        this.parent.splitterElement.appendChild(this.parent.treeGridPane);\n        this.parent.splitterElement.appendChild(this.parent.chartPane);\n        this.splitterObject = new SplitterLayout({\n            height: null,\n            width: this.parent.ganttWidth.toString(),\n            separatorSize: this.parent.splitterSettings.separatorSize,\n            paneSettings: [\n                {\n                    resizable: true,\n                    size: splitterPosition,\n                    min: this.getSpliterPositionInPercentage(this.parent.splitterSettings.minimum)\n                },\n                {\n                    resizable: true\n                }\n            ],\n            orientation: 'Horizontal',\n            resizeStart: function (args) {\n                var leftPane = isBlazor() ? args.element.querySelectorAll('.e-pane')[0] : args.pane[0];\n                var rightPane = isBlazor() ? args.element.querySelectorAll('.e-pane')[1] : args.pane[1];\n                _this.splitterPreviousPositionGrid = leftPane.scrollWidth + 1 + 'px';\n                _this.splitterPreviousPositionChart = rightPane.scrollWidth + 1 + 'px';\n                var callBackPromise = new Deferred();\n                _this.parent.trigger('splitterResizeStart', args, function (resizeStartArgs) {\n                    callBackPromise.resolve(resizeStartArgs);\n                });\n                return callBackPromise;\n            },\n            resizing: function (args) {\n                _this.parent.trigger('splitterResizing', args);\n            },\n            resizeStop: function (args) {\n                var callBackPromise = new Deferred();\n                _this.parent.trigger('splitterResized', args, function (splitterResizedArgs) {\n                    if (splitterResizedArgs.cancel === true) {\n                        _this.splitterObject.paneSettings[0].size = null;\n                        _this.splitterObject.paneSettings[0].size = _this.getSpliterPositionInPercentage(_this.splitterPreviousPositionGrid);\n                        _this.splitterObject.paneSettings[1].size = null;\n                        _this.splitterObject.paneSettings[1].size = _this.getSpliterPositionInPercentage(_this.splitterPreviousPositionChart);\n                    }\n                    callBackPromise.resolve(splitterResizedArgs);\n                });\n                return callBackPromise;\n            }\n        });\n        this.parent.element.appendChild(this.parent.splitterElement);\n        this.splitterObject.appendTo(this.parent.splitterElement);\n    };\n    /**\n     * @param {SplitterSettingsModel} splitter .\n     * @param {boolean} isDynamic .\n     * @returns {string} .\n     * @private\n     */\n    Splitter.prototype.calculateSplitterPosition = function (splitter, isDynamic) {\n        if (splitter.view === 'Grid') {\n            return '100%';\n        }\n        else if (splitter.view === 'Chart') {\n            return '0%';\n        }\n        else {\n            if (!isNullOrUndefined(splitter.position) && splitter.position !== '') {\n                return this.getSpliterPositionInPercentage(splitter.position);\n            }\n            else if (!isNullOrUndefined(splitter.columnIndex) && splitter.columnIndex >= 0) {\n                return isDynamic ? this.getSpliterPositionInPercentage(this.getTotalColumnWidthByIndex(splitter.columnIndex).toString() + 'px') :\n                    this.getSpliterPositionInPercentage((splitter.columnIndex * 150) + 'px');\n            }\n            else {\n                return this.getSpliterPositionInPercentage('250px');\n            }\n        }\n    };\n    /**\n     * @param {string} position .\n     * @returns {string} .\n     */\n    Splitter.prototype.getSpliterPositionInPercentage = function (position) {\n        var value = !isNullOrUndefined(position) && position !== '' ? position : null;\n        if (!isNullOrUndefined(value)) {\n            if (position.indexOf('px') !== -1) {\n                var intValue = parseInt(position, 10);\n                value = (((intValue / this.parent.ganttWidth) * 100) <= 100 ? ((intValue / this.parent.ganttWidth) * 100) + '%' :\n                    '25%');\n            }\n            else {\n                value = position.indexOf('%') === -1 ?\n                    position + '%' : position;\n            }\n        }\n        return value;\n    };\n    /**\n     * @param {number} index .\n     * @returns {number} .\n     */\n    Splitter.prototype.getTotalColumnWidthByIndex = function (index) {\n        var width = 0;\n        var tr = this.parent.treeGrid.element.querySelectorAll('.e-headercell');\n        index = tr.length > index ? index : tr.length;\n        for (var column = 0; column < index; column++) {\n            width = width + tr[column].offsetWidth;\n        }\n        return width;\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    Splitter.prototype.updateSplitterPosition = function () {\n        this.splitterObject.separatorSize = this.parent.splitterSettings.separatorSize >= 4 ?\n            this.parent.splitterSettings.separatorSize : 4;\n        var splitterPosition = this.calculateSplitterPosition(this.parent.splitterSettings, true);\n        this.splitterObject.paneSettings[0].min = this.getSpliterPositionInPercentage(this.parent.splitterSettings.minimum);\n        this.splitterObject.dataBind();\n        this.splitterObject.paneSettings[0].size = splitterPosition;\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    Splitter.prototype.triggerCustomResizedEvent = function () {\n        var pane1 = this.splitterObject.element.querySelectorAll('.e-pane')[0];\n        var pane2 = this.splitterObject.element.querySelectorAll('.e-pane')[1];\n        var eventArgs = {\n            event: null,\n            element: this.splitterObject.element,\n            pane: [pane1, pane2],\n            index: [0, 1],\n            separator: this.splitterObject.element.querySelector('.e-split-bar'),\n            paneSize: [pane1.offsetWidth, pane2.offsetWidth]\n        };\n        this.parent.trigger('splitterResized', eventArgs);\n        if (eventArgs.cancel === true) {\n            this.splitterObject.paneSettings[0].size = this.getSpliterPositionInPercentage(this.splitterPreviousPositionGrid);\n            this.splitterObject.paneSettings[1].size = this.getSpliterPositionInPercentage(this.splitterPreviousPositionChart);\n        }\n    };\n    Splitter.prototype.destroy = function () {\n        this.splitterObject.destroy();\n        this.parent.off('destroy', this.destroy);\n    };\n    return Splitter;\n}());\nexport { Splitter };\n","import { Tooltip as TooltipComponent } from '@syncfusion/ej2-popups';\nimport { parentsUntil } from '../base/utils';\nimport * as cls from '../base/css-constants';\nimport { extend, isNullOrUndefined, getValue, EventHandler, closest } from '@syncfusion/ej2-base';\nimport { Deferred } from '@syncfusion/ej2-data';\n/**\n * File for handling tooltip in Gantt.\n */\nvar Tooltip = /** @class */ (function () {\n    function Tooltip(gantt) {\n        this.parent = gantt;\n        this.createTooltip();\n        this.parent.on('destroy', this.destroy, this);\n    }\n    /**\n     * To create tooltip.\n     *\n     * @returns {void} .\n     * @private\n     */\n    Tooltip.prototype.createTooltip = function () {\n        this.toolTipObj = new TooltipComponent();\n        this.toolTipObj.target = '.e-header-cell-label, .e-gantt-child-taskbar,' +\n            '.e-gantt-parent-taskbar, .e-gantt-milestone, .e-gantt-unscheduled-taskbar' +\n            '.e-event-markers, .e-baseline-bar, .e-event-markers,' +\n            '.e-connector-line-container, .e-indicator-span, .e-notes-info, .e-gantt-manualparent-milestone,' +\n            '.e-taskbar-left-resizer, .e-taskbar-right-resizer, .e-baseline-gantt-milestone, .e-gantt-manualparenttaskbar';\n        this.toolTipObj.position = 'BottomCenter';\n        this.toolTipObj.openDelay = 700;\n        this.toolTipObj.enableHtmlSanitizer = false;\n        this.toolTipObj.cssClass = cls.ganttTooltip;\n        this.toolTipObj.animation = { open: { effect: 'None', delay: 0 }, close: { effect: 'None', delay: 0 } };\n        this.toolTipObj.afterOpen = this.updateTooltipPosition.bind(this);\n        this.toolTipObj.showTipPointer = false;\n        this.toolTipObj.beforeRender = this.tooltipBeforeRender.bind(this);\n        this.toolTipObj.afterClose = this.tooltipCloseHandler.bind(this);\n        this.toolTipObj.isStringTemplate = true;\n        this.toolTipObj.appendTo(this.parent.element);\n    };\n    Tooltip.prototype.tooltipBeforeRender = function (args) {\n        var parent = this.parent;\n        if (parent.isOnEdit) {\n            args.cancel = true;\n        }\n        var element;\n        var row = closest(args.target, 'div.' + cls.taskBarMainContainer);\n        if (!isNullOrUndefined(row)) {\n            element = args.target;\n        }\n        else {\n            element = parentsUntil(args.target, cls.chartRowCell);\n        }\n        var data;\n        var argsData = {\n            data: {},\n            args: args,\n            cancel: false,\n            content: ''\n        };\n        if (args.target.classList.contains('e-header-cell-label')) {\n            if (parent.timelineSettings.showTooltip) {\n                argsData.content = this.toolTipObj.content = parent.tooltipModule.getTooltipContent('timeline', data, parent, args);\n            }\n            else {\n                args.cancel = true;\n            }\n        }\n        else {\n            if (parent.tooltipSettings.showTooltip) {\n                if (element) {\n                    argsData.data = parent.ganttChartModule.getRecordByTaskBar(element);\n                    data = argsData.data;\n                }\n                if (args.target.classList.contains('e-gantt-child-taskbar') ||\n                    args.target.classList.contains('e-gantt-parent-taskbar') ||\n                    args.target.classList.contains('e-gantt-milestone') ||\n                    args.target.classList.contains('e-gantt-unscheduled-taskbar') ||\n                    args.target.classList.contains('e-taskbar-left-resizer') ||\n                    args.target.classList.contains('e-taskbar-right-resizer')) {\n                    var taskbarTemplateNode = void 0;\n                    if (parent.tooltipSettings.taskbar) {\n                        taskbarTemplateNode = parent.tooltipModule.templateCompiler(parent.tooltipSettings.taskbar, parent, data, 'TooltipTaskbarTemplate');\n                    }\n                    argsData.content = this.toolTipObj.content = taskbarTemplateNode ? taskbarTemplateNode[0] :\n                        parent.tooltipModule.getTooltipContent((data.ganttProperties.isMilestone ? 'milestone' : 'taskbar'), data, parent, args);\n                }\n                else if (args.target.classList.contains('e-baseline-bar') ||\n                    args.target.classList.contains('e-baseline-gantt-milestone')) {\n                    var baseLineTemplateNode = void 0;\n                    if ((parent.tooltipSettings.baseline)) {\n                        baseLineTemplateNode = parent.tooltipModule.templateCompiler(parent.tooltipSettings.baseline, parent, data, 'TooltipBaselineTemplate');\n                    }\n                    argsData.content = this.toolTipObj.content = baseLineTemplateNode ? baseLineTemplateNode[0] :\n                        parent.tooltipModule.getTooltipContent((data.ganttProperties.isMilestone ? 'milestone' : 'baseline'), data, parent, args);\n                }\n                else if (args.target.classList.contains('e-event-markers')) {\n                    argsData.content = this.toolTipObj.content = parent.tooltipModule.getTooltipContent('marker', data, parent, args);\n                }\n                else if (args.target.classList.contains('e-connector-line-container')) {\n                    var dependencyLineTemplateNode = void 0;\n                    parent.tooltipModule.predecessorTooltipData = parent.tooltipModule.getPredecessorTooltipData(args);\n                    argsData.data = this.predecessorTooltipData;\n                    if ((parent.tooltipSettings.connectorLine)) {\n                        dependencyLineTemplateNode = parent.tooltipModule.templateCompiler(parent.tooltipSettings.connectorLine, parent, parent.tooltipModule.predecessorTooltipData, 'TooltipConnectorLineTemplate');\n                    }\n                    argsData.content = this.toolTipObj.content = dependencyLineTemplateNode ?\n                        dependencyLineTemplateNode[0] :\n                        parent.tooltipModule.getTooltipContent('connectorLine', data, parent, args);\n                }\n                else if (args.target.classList.contains('e-indicator-span')) {\n                    argsData.content = this.toolTipObj.content =\n                        parent.tooltipModule.getTooltipContent('indicator', data, parent, args);\n                    if (isNullOrUndefined(argsData.content)) {\n                        args.cancel = true;\n                    }\n                }\n                else if (args.target.classList.contains('e-notes-info')) {\n                    var ganttData = this.parent.ganttChartModule.getRecordByTarget(args.event);\n                    argsData.content = this.toolTipObj.content = ganttData.ganttProperties.notes;\n                    if (isNullOrUndefined(argsData.content)) {\n                        args.cancel = true;\n                    }\n                }\n                else if (args.target.classList.contains('e-gantt-manualparenttaskbar')) {\n                    argsData.content = this.toolTipObj.content = parent.tooltipModule.getTooltipContent('manualtaskbar', data, parent, args);\n                    if (isNullOrUndefined(argsData.content)) {\n                        args.cancel = true;\n                    }\n                }\n                else if (args.target.classList.contains('e-gantt-manualparent-milestone')) {\n                    argsData.content = this.toolTipObj.content = parent.tooltipModule.getTooltipContent('manualmilestone', data, parent, args);\n                    if (isNullOrUndefined(argsData.content)) {\n                        args.cancel = true;\n                    }\n                }\n            }\n            else {\n                args.cancel = true;\n            }\n        }\n        if (args.cancel === false) {\n            var callBackPromise_1 = new Deferred();\n            parent.trigger('beforeTooltipRender', argsData, function (argData) {\n                callBackPromise_1.resolve(argData);\n                if (argData.cancel) {\n                    args.cancel = true;\n                }\n            });\n            if (!this.parent.isAdaptive && args.event.type === 'mouseover') {\n                this.currentTarget = args.target;\n                EventHandler.add(this.currentTarget, 'mousemove', this.mouseMoveHandler.bind(this));\n            }\n            this.parent.renderTemplates();\n            return callBackPromise_1;\n        }\n    };\n    // eslint-disable-next-line\n    Tooltip.prototype.tooltipCloseHandler = function (args) {\n        this.tooltipMouseEvent = null;\n        if (!this.parent.isAdaptive) {\n            EventHandler.remove(this.currentTarget, 'mousemove', this.mouseMoveHandler);\n        }\n        this.currentTarget = null;\n    };\n    Tooltip.prototype.mouseMoveHandler = function (e) {\n        this.tooltipMouseEvent = e;\n    };\n    /**\n     * Method to update tooltip position\n     *\n     * @param {TooltipEventArgs} args .\n     * @returns {void} .\n     */\n    Tooltip.prototype.updateTooltipPosition = function (args) {\n        if (isNullOrUndefined(this.tooltipMouseEvent) || args.target.classList.contains('e-notes-info')) {\n            return;\n        }\n        var postion = this.getPointorPosition(this.tooltipMouseEvent);\n        var containerPosition = this.parent.getOffsetRect(this.parent.chartPane);\n        var topEnd = containerPosition.top + this.parent.chartPane.offsetHeight;\n        var leftEnd = containerPosition.left + this.parent.chartPane.offsetWidth;\n        var tooltipPositionX = postion.x;\n        var tooltipPositionY = postion.y;\n        var tooltipUpdated = false;\n        if (leftEnd < (tooltipPositionX + args.element.offsetWidth + 20)) {\n            tooltipPositionX = tooltipPositionX - args.element.offsetWidth - 10;\n        }\n        else {\n            tooltipPositionX = tooltipPositionX + 10;\n        }\n        if (topEnd < (tooltipPositionY + args.element.offsetHeight + 20)) {\n            tooltipPositionY = tooltipPositionY - args.element.offsetHeight - 10;\n        }\n        else {\n            tooltipUpdated = true;\n            tooltipPositionY = tooltipPositionY + 10;\n        }\n        if (window.innerHeight < args.element.offsetHeight + tooltipPositionY) {\n            tooltipPositionY = tooltipPositionY - args.element.offsetHeight - (tooltipUpdated ? 20 : 10);\n        }\n        args.element.style.left = tooltipPositionX + 'px';\n        args.element.style.top = tooltipPositionY + 'px';\n    };\n    /**\n     * Method to get mouse pointor position\n     *\n     * @param {Event} e .\n     * @returns {number} .\n     */\n    Tooltip.prototype.getPointorPosition = function (e) {\n        var posX;\n        var posY;\n        if (!isNullOrUndefined(getValue('pageX', e)) || !isNullOrUndefined(getValue('pageY', e))) {\n            posX = getValue('pageX', e);\n            posY = getValue('pageY', e);\n        }\n        else if (!isNullOrUndefined(getValue('clientX', e)) || !isNullOrUndefined(getValue('clientY', e))) {\n            posX = getValue('clientX', e) + document.body.scrollLeft + document.documentElement.scrollLeft;\n            posY = getValue('clientY', e) + document.body.scrollTop + document.documentElement.scrollTop;\n        }\n        return { x: posX, y: posY };\n    };\n    /**\n     *  Getting tooltip content for different elements\n     *\n     * @param {string} elementType .\n     * @param {IGanttData} ganttData .\n     * @param {Gantt} parent .\n     * @param {TooltipEventArgs} args .\n     * @returns {string} .\n     */\n    Tooltip.prototype.getTooltipContent = function (elementType, ganttData, parent, args) {\n        var content;\n        var data;\n        var taskName;\n        if (ganttData) {\n            data = ganttData.ganttProperties;\n            taskName = !isNullOrUndefined(data.taskName) ? '<tr class = \"e-gantt-tooltip-rowcell\"><td colspan=\"3\">' +\n                data.taskName + '</td></tr>' : '';\n        }\n        switch (elementType) {\n            case 'milestone':\n                {\n                    var sDate = !isNullOrUndefined(data.startDate) ? '<tr><td class = \"e-gantt-tooltip-label\"> Date</td><td>:</td>' +\n                        '<td class = \"e-gantt-tooltip-value\">' +\n                        this.parent.getFormatedDate(data.startDate, this.parent.getDateFormat()) + '</td></tr>' : '';\n                    content = '<table class = \"e-gantt-tooltiptable\"><tbody>' +\n                        taskName + sDate + '</tbody></table>';\n                    break;\n                }\n            case 'taskbar':\n                {\n                    var scheduledTask = !ganttData.hasChildRecords || data.isAutoSchedule ? true : false;\n                    var startDate = data.startDate ? '<tr><td class = \"e-gantt-tooltip-label\">' +\n                        this.parent.localeObj.getConstant(scheduledTask ? 'startDate' : 'subTasksStartDate') +\n                        '</td><td>:</td>' + '<td class = \"e-gantt-tooltip-value\"> ' +\n                        this.parent.getFormatedDate(scheduledTask ? data.startDate : data.autoStartDate, this.parent.getDateFormat()) +\n                        '</td></tr>' : '';\n                    var endDate = data.endDate ? '<tr><td class = \"e-gantt-tooltip-label\">' +\n                        this.parent.localeObj.getConstant(scheduledTask ? 'endDate' : 'subTasksEndDate') +\n                        '</td><td>:</td><td class = \"e-gantt-tooltip-value\">' + this.parent.getFormatedDate(scheduledTask ? data.endDate : data.autoEndDate, this.parent.getDateFormat()) + '</td></tr>' : '';\n                    var duration = !isNullOrUndefined(data.duration) ? '<tr><td class = \"e-gantt-tooltip-label\">' +\n                        this.parent.localeObj.getConstant('duration') + '</td><td>:</td>' +\n                        '<td class = \"e-gantt-tooltip-value\"> ' + this.parent.getDurationString((scheduledTask ? data.duration : data.autoDuration), data.durationUnit) +\n                        '</td></tr>' : '';\n                    var progress = !isNullOrUndefined(data.progress) ? '<tr><td class = \"e-gantt-tooltip-label\">' +\n                        this.parent.localeObj.getConstant('progress') + '</td><td>:</td><td>' + data.progress +\n                        '</td></tr>' : '';\n                    content = '<table class = \"e-gantt-tooltiptable\"><tbody>' +\n                        taskName + startDate + endDate + duration + progress + '</tbody></table>';\n                    break;\n                }\n            case 'baseline':\n                {\n                    content = '<table class = \"e-gantt-tooltiptable\"><tbody>' +\n                        taskName + '<tr><td class = \"e-gantt-tooltip-label\">' +\n                        this.parent.localeObj.getConstant('baselineStartDate') + '</td><td>:</td>' + '<td class = \"e-gantt-tooltip-value\">' +\n                        this.parent.getFormatedDate(data.baselineStartDate, this.parent.getDateFormat()) + '</td></tr><tr>' +\n                        '<td class = \"e-gantt-tooltip-label\">' + this.parent.localeObj.getConstant('baselineEndDate') +\n                        '</td><td>:</td><td class = \"e-gantt-tooltip-value\">' +\n                        this.parent.getFormatedDate(data.baselineEndDate, this.parent.getDateFormat()) + '</td></tr></tbody></table>';\n                    break;\n                }\n            case 'marker':\n                {\n                    var markerTooltipElement = parent.tooltipModule.getMarkerTooltipData(args);\n                    var markerLabel = markerTooltipElement.label ? markerTooltipElement.label : '';\n                    content = '<table class = \"e-gantt-tooltiptable\"><tbody><tr><td>' +\n                        this.parent.getFormatedDate(this.parent.dateValidationModule.getDateFromFormat(markerTooltipElement.day), this.parent.getDateFormat()) +\n                        '</td></tr><tr><td>' +\n                        markerLabel + '</td></tr></tbody></table>';\n                    break;\n                }\n            case 'connectorLine':\n                {\n                    content = '<table class = \"e-gantt-tooltiptable\"><tbody><tr><td class = \"e-gantt-tooltip-label\">' +\n                        this.parent.localeObj.getConstant('from') + '</td><td>:</td>' +\n                        '<td class = \"e-gantt-tooltip-value\">' + parent.tooltipModule.predecessorTooltipData.fromName + ' (' +\n                        parent.tooltipModule.predecessorTooltipData.fromId + ')' + '</td></tr><tr><td class = \"e-gantt-tooltip-label\">' +\n                        this.parent.localeObj.getConstant('to') + '</td><td>:</td>' + '<td class = \"e-gantt-tooltip-value\">' +\n                        parent.tooltipModule.predecessorTooltipData.toName +\n                        ' (' + parent.tooltipModule.predecessorTooltipData.toId + ')' +\n                        '</td></tr><tr><td class = \"e-gantt-tooltip-label\">' + this.parent.localeObj.getConstant('taskLink') +\n                        '</td><td>:</td><td class = \"e-gantt-tooltip-value\"> ' + parent.tooltipModule.predecessorTooltipData.linkText +\n                        '</td></tr><tr><td class = \"e-gantt-tooltip-label\">' + this.parent.localeObj.getConstant('lag') +\n                        '</td><td>:</td><td class = \"e-gantt-tooltip-value\">' +\n                        parent.tooltipModule.predecessorTooltipData.offsetString + '</td></tr></tbody></table>';\n                    break;\n                }\n            case 'indicator':\n                if (args.target.title.length) {\n                    content = '<table class = \"e-gantt-tooltiptable\"><tbody><tr>' + args.target.title + '</tr></tbody></table>';\n                }\n                break;\n            case 'timeline':\n                content = '<table class = \"e-gantt-tooltiptable\"><tbody><tr>' + args.target.title + '</tr></tbody></table>';\n                break;\n            case 'manualtaskbar':\n                {\n                    var autoStartDate = data.autoStartDate ? '<tr><td class = \"e-gantt-tooltip-label\">' +\n                        this.parent.localeObj.getConstant('subTasksStartDate') + '</td><td>:</td>' + '<td class = \"e-gantt-tooltip-value\"> ' +\n                        this.parent.getFormatedDate(data.autoStartDate, this.parent.getDateFormat()) + '</td></tr>' : '';\n                    var autoEndDate = data.autoEndDate ? '<tr><td class = \"e-gantt-tooltip-label\">' +\n                        this.parent.localeObj.getConstant('subTasksEndDate') + '</td><td>:</td>' + '<td class = \"e-gantt-tooltip-value\">' +\n                        this.parent.getFormatedDate(data.autoEndDate, this.parent.getDateFormat()) + '</td></tr>' : '';\n                    var durationValue = !isNullOrUndefined(data.duration) ? '<tr><td class = \"e-gantt-tooltip-label\">' +\n                        this.parent.localeObj.getConstant('duration') + '</td><td>:</td>' +\n                        '<td class = \"e-gantt-tooltip-value\"> ' + this.parent.getDurationString(data.duration, data.durationUnit) +\n                        '</td></tr>' : '';\n                    var manualStartDate = data.startDate ? '<tr><td class = \"e-gantt-tooltip-label\">' +\n                        this.parent.localeObj.getConstant('startDate') + '</td><td>:</td>' + '<td class = \"e-gantt-tooltip-value\"> ' +\n                        this.parent.getFormatedDate(data.startDate, this.parent.getDateFormat()) + '</td></tr>' : '';\n                    var manualEndDate = data.endDate ? '<tr><td class = \"e-gantt-tooltip-label\">' +\n                        this.parent.localeObj.getConstant('endDate') + '</td><td>:</td>' + '<td class = \"e-gantt-tooltip-value\">' +\n                        this.parent.getFormatedDate(data.endDate, this.parent.getDateFormat()) + '</td></tr>' : '';\n                    content = '<table class = \"e-gantt-tooltiptable\"><tbody>' +\n                        taskName + manualStartDate + autoStartDate + manualEndDate + autoEndDate + durationValue + '</tbody></table>';\n                    break;\n                }\n            case 'manualmilestone':\n                {\n                    var autoStart = data.autoStartDate ? '<tr><td class = \"e-gantt-tooltip-label\">' +\n                        this.parent.localeObj.getConstant('subTasksStartDate') + '</td><td>:</td>' + '<td class = \"e-gantt-tooltip-value\"> ' +\n                        this.parent.getFormatedDate(data.autoStartDate, this.parent.getDateFormat()) + '</td></tr>' : '';\n                    var autoEnd = data.autoEndDate ? '<tr><td class = \"e-gantt-tooltip-label\">' +\n                        this.parent.localeObj.getConstant('subTasksEndDate') + '</td><td>:</td>' + '<td class = \"e-gantt-tooltip-value\">' +\n                        this.parent.getFormatedDate(data.autoEndDate, this.parent.getDateFormat()) + '</td></tr>' : '';\n                    var date = '<tr><td class = \"e-gantt-tooltip-label\"> Date</td><td>:</td>' +\n                        '<td class = \"e-gantt-tooltip-value\">' +\n                        this.parent.getFormatedDate(data.startDate, this.parent.getDateFormat()) + '</tr>';\n                    content = '<table class = \"e-gantt-tooltiptable\"><tbody>' +\n                        taskName + date + autoStart + autoEnd + '</tbody></table>';\n                    break;\n                }\n        }\n        return content;\n    };\n    /**\n     * To get the details of an event marker.\n     *\n     * @param {TooltipEventArgs} args .\n     * @returns {EventMarkerModel} .\n     * @private\n     */\n    Tooltip.prototype.getMarkerTooltipData = function (args) {\n        var markerTooltipId = (args.target.id).match(/\\d+/g);\n        var markerTooltipElement = this.parent.eventMarkers[Number(markerTooltipId)];\n        return markerTooltipElement;\n    };\n    /**\n     * To get the details of a connector line.\n     *\n     * @param {TooltipEventArgs} args .\n     * @returns {PredecessorTooltip} .\n     * @private\n     */\n    Tooltip.prototype.getPredecessorTooltipData = function (args) {\n        var predeceesorParent = args.target.parentElement.id;\n        var taskIds = predeceesorParent.match(/\\d+/g);\n        var fromTask;\n        var toTask;\n        if (this.parent.viewType === 'ResourceView') {\n            fromTask = this.parent.flatData[this.parent.getTaskIds().indexOf('T' + taskIds[0])];\n            toTask = this.parent.flatData[this.parent.getTaskIds().indexOf('T' + taskIds[1])];\n        }\n        else {\n            fromTask = this.parent.flatData[this.parent.ids.indexOf(taskIds[0])];\n            toTask = this.parent.flatData[this.parent.ids.indexOf(taskIds[1])];\n        }\n        var predecessor = (fromTask.ganttProperties.predecessor).filter(function (pdc) { return pdc.to === taskIds[1]; });\n        var predecessorTooltipData = {\n            fromId: this.parent.viewType === 'ResourceView' ? fromTask.ganttProperties.taskId : fromTask.ganttProperties.rowUniqueID,\n            toId: this.parent.viewType === 'ResourceView' ? toTask.ganttProperties.taskId : toTask.ganttProperties.rowUniqueID,\n            fromName: fromTask.ganttProperties.taskName,\n            toName: toTask.ganttProperties.taskName,\n            linkType: predecessor[0].type,\n            linkText: this.parent.getPredecessorTextValue(predecessor[0].type),\n            offset: predecessor[0].offset,\n            offsetUnit: predecessor[0].offsetUnit,\n            offsetString: this.parent.getDurationString(predecessor[0].offset, predecessor[0].offsetUnit)\n        };\n        return predecessorTooltipData;\n    };\n    /**\n     * To compile template string.\n     *\n     * @param {string} template .\n     * @param {Gantt} parent .\n     * @param {IGanttData|PredecessorTooltip} data .\n     * @param {string} propName .\n     * @returns {NodeList} .\n     * @private\n     */\n    Tooltip.prototype.templateCompiler = function (template, parent, data, propName) {\n        // eslint-disable-next-line\n        var tooltipFunction = parent.chartRowsModule.templateCompiler(template);\n        var templateID = parent.chartRowsModule.getTemplateID(propName);\n        var templateNode = tooltipFunction(extend({ index: 0 }, data), parent, propName, templateID, true);\n        return templateNode;\n    };\n    Tooltip.prototype.destroy = function () {\n        this.toolTipObj.destroy();\n    };\n    return Tooltip;\n}());\nexport { Tooltip };\n","import { isNullOrUndefined, getValue } from '@syncfusion/ej2-base';\n/**\n * Focus module is used to handle certain action on focus elements in keyboard navigations.\n */\nvar FocusModule = /** @class */ (function () {\n    function FocusModule(parent) {\n        this.parent = parent;\n        this.activeElement = null;\n        this.previousActiveElement = null;\n    }\n    FocusModule.prototype.getActiveElement = function (isPreviousActiveElement) {\n        return isPreviousActiveElement ? this.previousActiveElement : this.activeElement;\n    };\n    FocusModule.prototype.setActiveElement = function (element) {\n        this.previousActiveElement = this.activeElement;\n        this.activeElement = element;\n    };\n    /**\n     * To perform key interaction in Gantt\n     *\n     * @param {KeyboardEventArgs} e .\n     * @returns {void} .\n     * @private\n     */\n    FocusModule.prototype.onKeyPress = function (e) {\n        var ganttObj = this.parent;\n        var expandedRecords = ganttObj.getExpandedRecords(ganttObj.currentViewData);\n        var targetElement = this.parent.focusModule.getActiveElement();\n        if (e.action === 'home' || e.action === 'end' || e.action === 'downArrow' || e.action === 'upArrow' || e.action === 'delete' ||\n            e.action === 'rightArrow' || e.action === 'leftArrow' || e.action === 'focusTask' || e.action === 'focusSearch' ||\n            e.action === 'expandAll' || e.action === 'collapseAll') {\n            if (!isNullOrUndefined(ganttObj.editModule) && !isNullOrUndefined(ganttObj.editModule.cellEditModule) &&\n                ganttObj.editModule.cellEditModule.isCellEdit === true) {\n                return;\n            }\n        }\n        if (ganttObj.isAdaptive) {\n            if (e.action === 'addRowDialog' || e.action === 'editRowDialog' || e.action === 'delete'\n                || e.action === 'addRow') {\n                if (ganttObj.selectionModule && ganttObj.selectionSettings.type === 'Multiple') {\n                    ganttObj.selectionModule.hidePopUp();\n                    document.getElementsByClassName('e-gridpopup')[0].style.display = 'none';\n                }\n            }\n        }\n        switch (e.action) {\n            case 'home':\n                if (ganttObj.selectionModule && ganttObj.selectionSettings.mode !== 'Cell') {\n                    if (ganttObj.selectedRowIndex === 0) {\n                        return;\n                    }\n                    ganttObj.selectionModule.selectRow(0, false, true);\n                }\n                break;\n            case 'end':\n                if (ganttObj.selectionModule && ganttObj.selectionSettings.mode !== 'Cell') {\n                    var currentSelectingRecord = expandedRecords[expandedRecords.length - 1];\n                    if (ganttObj.selectedRowIndex === ganttObj.flatData.indexOf(currentSelectingRecord)) {\n                        return;\n                    }\n                    ganttObj.selectionModule.selectRow(ganttObj.flatData.indexOf(currentSelectingRecord), false, true);\n                }\n                break;\n            case 'downArrow':\n            case 'upArrow':\n                {\n                    var searchElement = ganttObj.element.querySelector('#' + ganttObj.element.id + '_searchbar');\n                    if (searchElement && searchElement.parentElement.classList.contains('e-input-focus')) {\n                        ganttObj.selectionModule.clearSelection();\n                    }\n                    if (!ganttObj.element.classList.contains('e-scroll-disabled')) {\n                        this.upDownKeyNavigate(e);\n                        if (!isNullOrUndefined(targetElement) && !isNullOrUndefined(targetElement.closest('.e-chart-row'))) {\n                            ganttObj.ganttChartModule.manageFocus(this.getActiveElement(), 'remove', true);\n                        }\n                    }\n                    break;\n                }\n            case 'expandAll':\n                ganttObj.ganttChartModule.expandCollapseAll('expand');\n                break;\n            case 'collapseAll':\n                ganttObj.ganttChartModule.expandCollapseAll('collapse');\n                break;\n            case 'expandRow':\n            case 'collapseRow':\n                this.expandCollapseKey(e);\n                break;\n            case 'saveRequest':\n                if (!isNullOrUndefined(ganttObj.editModule) && !isNullOrUndefined(ganttObj.editModule.cellEditModule) &&\n                    ganttObj.editModule.cellEditModule.isCellEdit) {\n                    var col = ganttObj.editModule.cellEditModule.editedColumn;\n                    if (col.field === ganttObj.columnMapping.duration && !isNullOrUndefined(col.edit) &&\n                        !isNullOrUndefined(col.edit.read)) {\n                        var textBox = e.target.ej2_instances[0];\n                        var textValue = e.target.value;\n                        var ganttProp = ganttObj.currentViewData[ganttObj.selectedRowIndex].ganttProperties;\n                        var tempValue = void 0;\n                        if (col.field === ganttObj.columnMapping.duration) {\n                            // eslint-disable-next-line\n                            tempValue = !isNullOrUndefined(col.edit) && !isNullOrUndefined(col.edit.read) ? col.edit.read() :\n                                // eslint-disable-next-line\n                                !isNullOrUndefined(col.valueAccessor) ? col.valueAccessor(ganttObj.columnMapping.duration, ganttObj.editedRecords, col) :\n                                    ganttObj.dataOperation.getDurationString(ganttProp.duration, ganttProp.durationUnit);\n                            if (textValue !== tempValue.toString()) {\n                                textBox.value = textValue;\n                                textBox.dataBind();\n                            }\n                        }\n                    }\n                    if (ganttObj.editModule.dialogModule.dialogObj && getValue('dialogOpen', ganttObj.editModule.dialogModule.dialogObj)) {\n                        return;\n                    }\n                    ganttObj.editModule.cellEditModule.isCellEdit = false;\n                    ganttObj.treeGrid.grid.saveCell();\n                    var focussedElement = ganttObj.element.querySelector('.e-treegrid');\n                    focussedElement.focus();\n                }\n                if (!isNullOrUndefined(this.parent.onTaskbarClick) && !isNullOrUndefined(targetElement)\n                    && !isNullOrUndefined(targetElement.closest('.e-chart-row'))) {\n                    var target = e.target;\n                    var taskbarElement = targetElement.querySelector('.e-gantt-parent-taskbar,' +\n                        '.e-gantt-child-taskbar,.e-gantt-milestone');\n                    if (taskbarElement) {\n                        this.parent.ganttChartModule.onTaskbarClick(e, target, taskbarElement);\n                    }\n                }\n                break;\n            case 'cancelRequest':\n                if (!isNullOrUndefined(ganttObj.editModule) && !isNullOrUndefined(ganttObj.editModule.cellEditModule)) {\n                    ganttObj.editModule.cellEditModule.isCellEdit = false;\n                    if (!isNullOrUndefined(ganttObj.toolbarModule)) {\n                        ganttObj.toolbarModule.refreshToolbarItems();\n                    }\n                }\n                break;\n            case 'addRow':\n                {\n                    e.preventDefault();\n                    var focussedElement = ganttObj.element.querySelector('.e-gantt-chart');\n                    focussedElement.focus();\n                    ganttObj.addRecord();\n                    break;\n                }\n            case 'addRowDialog':\n                e.preventDefault();\n                if (ganttObj.editModule && ganttObj.editModule.dialogModule && ganttObj.editSettings.allowAdding) {\n                    if (ganttObj.editModule.dialogModule.dialogObj && getValue('dialogOpen', ganttObj.editModule.dialogModule.dialogObj)) {\n                        return;\n                    }\n                    ganttObj.editModule.dialogModule.openAddDialog();\n                }\n                break;\n            case 'editRowDialog':\n                {\n                    e.preventDefault();\n                    var focussedTreeElement = ganttObj.element.querySelector('.e-treegrid');\n                    focussedTreeElement.focus();\n                    if (ganttObj.editModule && ganttObj.editModule.dialogModule && ganttObj.editSettings.allowEditing) {\n                        if (ganttObj.editModule.dialogModule.dialogObj && getValue('dialogOpen', ganttObj.editModule.dialogModule.dialogObj)) {\n                            return;\n                        }\n                        ganttObj.editModule.dialogModule.openToolbarEditDialog();\n                    }\n                    break;\n                }\n            case 'delete':\n                if (ganttObj.selectionModule && ganttObj.editModule && (!ganttObj.editModule.dialogModule.dialogObj ||\n                    (ganttObj.editModule.dialogModule.dialogObj &&\n                        !ganttObj.editModule.dialogModule.dialogObj.visible)) && (!ganttObj.editSettings.allowTaskbarEditing\n                    || (ganttObj.editSettings.allowTaskbarEditing && !ganttObj.editModule.taskbarEditModule.touchEdit))) {\n                    if ((ganttObj.selectionSettings.mode !== 'Cell' && ganttObj.selectionModule.selectedRowIndexes.length)\n                        || (ganttObj.selectionSettings.mode === 'Cell' && ganttObj.selectionModule.getSelectedRowCellIndexes().length)) {\n                        ganttObj.editModule.startDeleteAction();\n                    }\n                }\n                break;\n            case 'focusTask':\n                {\n                    e.preventDefault();\n                    var selectedId = void 0;\n                    if (ganttObj.selectionModule) {\n                        var currentViewData = ganttObj.currentViewData;\n                        if (ganttObj.selectionSettings.mode !== 'Cell' &&\n                            !isNullOrUndefined(currentViewData[ganttObj.selectedRowIndex])) {\n                            selectedId = ganttObj.currentViewData[ganttObj.selectedRowIndex].ganttProperties.rowUniqueID;\n                        }\n                        else if (ganttObj.selectionSettings.mode === 'Cell' &&\n                            ganttObj.selectionModule.getSelectedRowCellIndexes().length > 0) {\n                            var selectCellIndex = ganttObj.selectionModule.getSelectedRowCellIndexes();\n                            selectedId = currentViewData[selectCellIndex[selectCellIndex.length - 1].rowIndex].ganttProperties.rowUniqueID;\n                        }\n                    }\n                    if (selectedId) {\n                        ganttObj.scrollToTask(selectedId.toString());\n                    }\n                    break;\n                }\n            case 'focusSearch':\n                {\n                    if (ganttObj.element.querySelector('#' + ganttObj.element.id + '_searchbar')) {\n                        var searchElement = ganttObj.element.querySelector('#' + ganttObj.element.id + '_searchbar');\n                        searchElement.setAttribute('tabIndex', '-1');\n                        searchElement.focus();\n                    }\n                    break;\n                }\n            case 'tab':\n            case 'shiftTab':\n                if (!ganttObj.element.classList.contains('e-scroll-disabled')) {\n                    ganttObj.ganttChartModule.onTabAction(e);\n                }\n                break;\n            case 'contextMenu':\n                {\n                    var contextMenu = document.getElementById(this.parent.element.id +\n                        '_contextmenu').ej2_instances[0];\n                    var containerPosition = this.parent.getOffsetRect(e.target);\n                    var top_1 = containerPosition.top + (containerPosition.height / 2);\n                    var left = containerPosition.left + (containerPosition.width / 2);\n                    this.setActiveElement(e.target);\n                    contextMenu.open(top_1, left);\n                    e.preventDefault();\n                    break;\n                }\n            default:\n                {\n                    var eventArgs = {\n                        requestType: 'keyPressed',\n                        action: e.action,\n                        keyEvent: e\n                    };\n                    ganttObj.trigger('actionComplete', eventArgs);\n                    break;\n                }\n        }\n    };\n    FocusModule.prototype.upDownKeyNavigate = function (e) {\n        e.preventDefault();\n        var ganttObj = this.parent;\n        var expandedRecords = ganttObj.getExpandedRecords(ganttObj.currentViewData);\n        if (ganttObj.selectionModule) {\n            if (ganttObj.selectionSettings.mode !== 'Cell' && ganttObj.selectedRowIndex !== -1) {\n                var selectedItem = ganttObj.currentViewData[ganttObj.selectedRowIndex];\n                var focusedRowIndex = this.parent.ganttChartModule.focusedRowIndex;\n                var selectingRowIndex = focusedRowIndex > -1 ? focusedRowIndex : expandedRecords.indexOf(selectedItem);\n                var currentSelectingRecord = e.action === 'downArrow' ? expandedRecords[selectingRowIndex + 1] :\n                    expandedRecords[selectingRowIndex - 1];\n                ganttObj.selectionModule.selectRow(ganttObj.currentViewData.indexOf(currentSelectingRecord), false, true);\n            }\n            else if (ganttObj.selectionSettings.mode === 'Cell' && ganttObj.selectionModule.getSelectedRowCellIndexes().length > 0) {\n                var selectCellIndex = ganttObj.selectionModule.getSelectedRowCellIndexes();\n                var selectedCellItem = selectCellIndex[selectCellIndex.length - 1];\n                var currentCellIndex = selectedCellItem.cellIndexes[selectedCellItem.cellIndexes.length - 1];\n                var selectedItem = ganttObj.currentViewData[selectedCellItem.rowIndex];\n                var selectingRowIndex = expandedRecords.indexOf(selectedItem);\n                var currentSelectingRecord = e.action === 'downArrow' ? expandedRecords[selectingRowIndex + 1] :\n                    expandedRecords[selectingRowIndex - 1];\n                var cellInfo = {\n                    rowIndex: ganttObj.currentViewData.indexOf(currentSelectingRecord),\n                    cellIndex: currentCellIndex\n                };\n                ganttObj.selectionModule.selectCell(cellInfo);\n            }\n            this.parent.ganttChartModule.focusedRowIndex = this.parent.selectedRowIndex;\n        }\n    };\n    FocusModule.prototype.expandCollapseKey = function (e) {\n        var ganttObj = this.parent;\n        if (ganttObj.selectionModule && ganttObj.selectedRowIndex !== -1) {\n            var selectedRowIndex = void 0;\n            if (ganttObj.selectionSettings.mode !== 'Cell') {\n                selectedRowIndex = ganttObj.selectedRowIndex;\n            }\n            else if (ganttObj.selectionSettings.mode === 'Cell' && ganttObj.selectionModule.getSelectedRowCellIndexes().length > 0) {\n                var selectCellIndex = ganttObj.selectionModule.getSelectedRowCellIndexes();\n                selectedRowIndex = selectCellIndex[selectCellIndex.length - 1].rowIndex;\n            }\n            if (e.action === 'expandRow') {\n                ganttObj.expandByIndex(selectedRowIndex);\n            }\n            else {\n                ganttObj.collapseByIndex(selectedRowIndex);\n            }\n        }\n    };\n    return FocusModule;\n}());\nexport { FocusModule };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, createElement, Complex, addClass, removeClass, Event, formatUnit, Browser } from '@syncfusion/ej2-base';\nimport { Internationalization, extend, getValue, isObjectArray, isObject, setValue, isUndefined, isBlazor } from '@syncfusion/ej2-base';\nimport { Property, NotifyPropertyChanges, L10n, EventHandler } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined, KeyboardEvents, Collection, append, remove } from '@syncfusion/ej2-base';\nimport { createSpinner, showSpinner, hideSpinner } from '@syncfusion/ej2-popups';\nimport { TaskProcessor } from './task-processor';\nimport { GanttChart } from './gantt-chart';\nimport { Timeline } from '../renderer/timeline';\nimport { GanttTreeGrid } from './tree-grid';\nimport { SortSettings } from '../models/models';\nimport { TaskFields, TimelineSettings, Holiday, EventMarker, DayWorkingTime, EditSettings, SelectionSettings } from '../models/models';\nimport { FilterSettings, SplitterSettings, TooltipSettings, LabelSettings } from '../models/models';\nimport { SearchSettings, ResourceFields } from '../models/models';\nimport { DateProcessor } from './date-processor';\nimport { ChartRows } from '../renderer/chart-rows';\nimport { Dependency } from '../actions/dependency';\nimport * as cls from './css-constants';\nimport { getActualProperties } from '@syncfusion/ej2-grids';\nimport { ConnectorLine } from '../renderer/connector-line';\nimport { Splitter } from './splitter';\nimport { Tooltip } from '../renderer/tooltip';\nimport { FocusModule } from '../actions/keyboard';\nimport { isCountRequired } from './utils';\n/**\n *\n * Represents the Gantt chart component.\n * ```html\n * <div id='gantt'></div>\n * <script>\n *  var ganttObject = new Gantt({\n *      taskFields: { id: 'taskId', name: 'taskName', startDate: 'startDate', duration: 'duration' }\n *  });\n *  ganttObject.appendTo('#gantt');\n * </script>\n * ```\n */\nvar Gantt = /** @class */ (function (_super) {\n    __extends(Gantt, _super);\n    function Gantt(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        /** @hidden */\n        _this.isCancelled = false;\n        /** @hidden */\n        // eslint-disable-next-line\n        _this.previousRecords = {};\n        /** @hidden */\n        _this.editedRecords = [];\n        /** @hidden */\n        _this.modifiedRecords = [];\n        /** @hidden */\n        _this.isOnEdit = false;\n        /** @hidden */\n        _this.isOnDelete = false;\n        /** @hidden */\n        _this.isConnectorLineUpdate = false;\n        /** @hidden */\n        _this.staticSelectedRowIndex = -1;\n        _this.needsID = true;\n        /** @hidden */\n        _this.showActiveElement = true;\n        /** @hidden */\n        _this.enableHeaderFocus = true;\n        /** @hidden */\n        _this.enableValidation = true;\n        /**\n         * @private\n         */\n        _this.isTreeGridRendered = false;\n        /**\n         * @private\n         */\n        _this.isGanttChartRendered = false;\n        return _this;\n    }\n    /**\n     * To get the module name\n     *\n     * @returns {string} .\n     * @private\n     */\n    Gantt.prototype.getModuleName = function () {\n        return 'gantt';\n    };\n    /**\n     * For internal use only - Initialize the event handler\n     *\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.preRender = function () {\n        this.initProperties();\n    };\n    Gantt.prototype.initProperties = function () {\n        this.globalize = new Internationalization(this.locale);\n        this.isAdaptive = Browser.isDevice;\n        this.flatData = [];\n        this.currentViewData = [];\n        this.updatedRecords = [];\n        this.ids = [];\n        this.ganttColumns = [];\n        this.localeObj = new L10n(this.getModuleName(), this.getDefaultLocale(), this.locale);\n        this.dataOperation = new TaskProcessor(this);\n        this.nonWorkingHours = [];\n        this.nonWorkingTimeRanges = [];\n        this.workingTimeRanges = [];\n        this.defaultEndTime = null;\n        this.defaultStartTime = null;\n        this.durationUnitTexts = {\n            days: 'days',\n            hours: 'hours',\n            minutes: 'minutes',\n            day: 'day',\n            hour: 'hour',\n            minute: 'minute'\n        };\n        this.durationUnitEditText = {\n            minute: ['m', 'min', 'minute', 'minutes'],\n            hour: ['h', 'hr', 'hour', 'hours'],\n            day: ['d', 'dy', 'day', 'days']\n        };\n        this.perDayWidth = null;\n        this.isMileStoneEdited = false;\n        this.chartVerticalLineContainer = null;\n        this.updatedConnectorLineCollection = [];\n        this.connectorLineIds = [];\n        this.predecessorsCollection = [];\n        this.isInPredecessorValidation = this.enablePredecessorValidation;\n        this.isValidationEnabled = true;\n        this.isLoad = true;\n        this.editedTaskBarItem = null;\n        this.validationDialogElement = null;\n        this.currentEditedArgs = {};\n        this.dialogValidateMode = {\n            respectLink: false,\n            removeLink: false,\n            preserveLinkWithEditing: true\n        };\n        this.secondsPerDay = this.dataOperation.getSecondsPerDay();\n        this.nonWorkingDayIndex = [];\n        this.dataOperation.getNonWorkingDayIndex();\n        this.columnMapping = {};\n        this.controlId = this.element.id;\n        this.cloneProjectStartDate = null;\n        this.cloneProjectEndDate = null;\n        this.totalHolidayDates = this.dataOperation.getHolidayDates();\n        this.ganttChartModule = new GanttChart(this);\n        this.timelineModule = new Timeline(this);\n        this.chartRowsModule = new ChartRows(this);\n        this.treeGridModule = new GanttTreeGrid(this);\n        this.dateValidationModule = new DateProcessor(this);\n        this.predecessorModule = new Dependency(this);\n        this.connectorLineModule = new ConnectorLine(this);\n        this.splitterModule = new Splitter(this);\n        this.tooltipModule = new Tooltip(this);\n        this.keyConfig = {\n            home: 'home',\n            end: 'end',\n            downArrow: 'downarrow',\n            upArrow: 'uparrow',\n            collapseAll: 'ctrl+uparrow',\n            expandAll: 'ctrl+downarrow',\n            collapseRow: 'ctrl+shift+uparrow',\n            expandRow: 'ctrl+shift+downarrow',\n            saveRequest: '13',\n            cancelRequest: '27',\n            addRow: 'insert',\n            addRowDialog: 'ctrl+insert',\n            editRowDialog: 'ctrl+f2',\n            delete: 'delete',\n            tab: 'tab',\n            shiftTab: 'shift+tab',\n            focusTask: 'shift+f5',\n            indentLevel: 'shift+leftarrow',\n            outdentLevel: 'shift+rightarrow',\n            focusSearch: 'ctrl+shift+70',\n            contextMenu: 'shift+F10' //F Key\n        };\n        this.focusModule = new FocusModule(this);\n        this.zoomingLevels = this.getZoomingLevels();\n        this.resourceFieldsMapping();\n        if (isNullOrUndefined(this.resourceFields.unit)) { //set resourceUnit as unit if not mapping\n            this.resourceFields.unit = 'unit';\n        }\n        if (!isNullOrUndefined(this.taskFields.work)) {\n            this.taskType = 'FixedWork';\n        }\n        this.taskIds = [];\n    };\n    /**\n     * @returns {string} .\n     * @private\n     */\n    Gantt.prototype.getDateFormat = function () {\n        if (!isNullOrUndefined(this.dateFormat)) {\n            return this.dateFormat;\n        }\n        else {\n            var ganttDateFormat = isBlazor() ? this.globalize.getDatePattern({ skeleton: 'd' }) :\n                this.globalize.getDatePattern({ skeleton: 'yMd' });\n            return ganttDateFormat;\n        }\n    };\n    /**\n     * Method to map resource fields.\n     *\n     * @returns {void} .\n     */\n    Gantt.prototype.resourceFieldsMapping = function () {\n        var resourceSettings = this.resourceFields;\n        resourceSettings.id = !isNullOrUndefined(resourceSettings.id) ? resourceSettings.id : this.resourceIDMapping;\n        resourceSettings.name = !isNullOrUndefined(resourceSettings.name) ? resourceSettings.name : this.resourceNameMapping;\n    };\n    /**\n     * To validate height and width\n     *\n     * @param {string | number} value .\n     * @returns {string} .\n     */\n    Gantt.prototype.validateDimentionValue = function (value) {\n        if (!isNullOrUndefined(value)) {\n            if (typeof (value) === 'string' && value !== 'auto' && value.indexOf('%') === -1) {\n                return value.indexOf('px') === -1 ? value + 'px' : value;\n            }\n            else if (typeof (value) === 'number') {\n                return value + 'px';\n            }\n            else {\n                return value.toString();\n            }\n        }\n        else {\n            return null;\n        }\n    };\n    /**\n     * To calculate dimensions of Gantt control\n     *\n     * @returns {void} .\n     */\n    Gantt.prototype.calculateDimensions = function () {\n        var settingsHeight = this.validateDimentionValue(this.height);\n        var settingsWidth = this.validateDimentionValue(this.width);\n        if (!isNullOrUndefined(this.width) && typeof (this.width) === 'string' && this.width.indexOf('%') !== -1) {\n            settingsWidth = this.width;\n        }\n        var elementStyleHeight = this.element.style.height;\n        var elementStyleWidth = this.element.style.width;\n        if (settingsWidth) {\n            this.element.style.width = settingsWidth;\n        }\n        if (settingsHeight) {\n            this.element.style.height = settingsHeight;\n        }\n        if (!settingsHeight && !elementStyleHeight) {\n            this.element.style.height = 'auto'; // old 450px\n        }\n        if (!settingsWidth && !elementStyleWidth) {\n            this.element.style.width = 'auto';\n        }\n        this.ganttHeight = this.element.offsetHeight;\n        this.ganttWidth = this.element.offsetWidth;\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.render = function () {\n        if (this.isReact) {\n            this.treeGrid.isReact = true;\n            this.treeGrid.grid.isReact = true;\n        }\n        createSpinner({ target: this.element }, this.createElement);\n        this.trigger('load', {});\n        this.element.classList.add(cls.root);\n        if (this.isAdaptive) {\n            this.element.classList.add(cls.adaptive);\n        }\n        else {\n            this.element.classList.remove(cls.adaptive);\n        }\n        this.calculateDimensions();\n        if (!isNullOrUndefined(this.toolbarModule)) {\n            this.renderToolbar();\n        }\n        this.splitterModule.renderSplitter();\n        this.notify('renderPanels', null);\n        this.showSpinner();\n        this.dataOperation.checkDataBinding();\n    };\n    /**\n     * Method used to show spinner.\n     *\n     * @returns {void} .\n     */\n    Gantt.prototype.showSpinner = function () {\n        showSpinner(this.element);\n    };\n    /**\n     * Method used to hide spinner.\n     *\n     * @returns {void} .\n     */\n    Gantt.prototype.hideSpinner = function () {\n        hideSpinner(this.element);\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.processTimeline = function () {\n        this.timelineModule.processTimelineUnit();\n        this.timelineModule.calculateZoomingLevelsPerDayWidth(); // To calculate the perDaywidth\n    };\n    /**\n     * @param {boolean} isChange .\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.renderGantt = function (isChange) {\n        // predecessor calculation\n        if (this.predecessorModule && this.taskFields.dependency) {\n            this.predecessorModule.updatePredecessors();\n            if (this.isInPredecessorValidation && this.enableValidation) {\n                this.predecessorModule.updatedRecordsDateByPredecessor();\n            }\n        }\n        if (this.enableValidation) {\n            this.dataOperation.calculateProjectDates();\n            this.timelineModule.validateTimelineProp();\n        }\n        if (isChange) {\n            this.updateProjectDates(this.cloneProjectStartDate, this.cloneProjectEndDate, this.isTimelineRoundOff);\n            if (this.enableValidation) {\n                this.dataOperation.updateGanttData();\n            }\n            if (this.dataSource instanceof Object && isCountRequired(this)) {\n                var count = getValue('count', this.dataSource);\n                this.treeGrid.dataSource = { result: this.flatData, count: count };\n            }\n            else {\n                this.treeGrid.dataSource = this.flatData.length > 0 ? this.flatData : null;\n            }\n        }\n        else {\n            if (this.enableValidation) {\n                this.dataOperation.updateGanttData();\n            }\n            this.treeGridPane.classList.remove('e-temp-content');\n            remove(this.treeGridPane.querySelector('.e-gantt-temp-header'));\n            this.notify('dataReady', {});\n            if (this.enableContextMenu) {\n                this.notify('initiate-contextMenu', {});\n            }\n            this.renderTreeGrid();\n            this.wireEvents();\n            this.notify('initPredessorDialog', {});\n        }\n        this.splitterModule.updateSplitterPosition();\n        if (this.gridLines === 'Vertical' || this.gridLines === 'Both') {\n            this.renderChartVerticalLines();\n        }\n    };\n    Gantt.prototype.wireEvents = function () {\n        if (this.allowKeyboard) {\n            this.keyboardModule = new KeyboardEvents(this.element, {\n                keyAction: this.keyActionHandler.bind(this),\n                keyConfigs: this.keyConfig,\n                eventName: 'keydown'\n            });\n        }\n        /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n        EventHandler.add(window, 'resize', this.windowResize, this);\n    };\n    /**\n     * Method trigger while user perform window resize.\n     *\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.windowResize = function () {\n        if (!isNullOrUndefined(this.element)) {\n            this.updateContentHeight();\n            this.ganttChartModule.updateWidthAndHeight(); // Updating chart scroll conatiner height for row mismatch\n            this.treeGridModule.ensureScrollBar();\n            if (this.predecessorModule && this.taskFields.dependency) {\n                this.updateRowHeightInConnectorLine(this.updatedConnectorLineCollection);\n                this.connectorLineModule.renderConnectorLines(this.updatedConnectorLineCollection);\n            }\n        }\n    };\n    Gantt.prototype.keyActionHandler = function (e) {\n        this.focusModule.onKeyPress(e);\n    };\n    /**\n     * Method for updating row height value in connector line collections\n     *\n     * @param {IConnectorLineObject[]} collection .\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.updateRowHeightInConnectorLine = function (collection) {\n        if (collection && collection.length) {\n            var rowHeight = this.ganttChartModule.getChartRows()[0]\n                && this.ganttChartModule.getChartRows()[0].getBoundingClientRect().height;\n            if (rowHeight && !isNaN(rowHeight)) {\n                for (var count = 0; count < collection.length; count++) {\n                    collection[count].rowHeight = rowHeight;\n                }\n            }\n        }\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.renderToolbar = function () {\n        if (!isNullOrUndefined(this.toolbarModule)) {\n            this.toolbarModule.renderToolbar();\n            this.toolbarModule.refreshToolbarItems();\n        }\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.renderTreeGrid = function () {\n        this.treeGridModule.renderTreeGrid();\n    };\n    Gantt.prototype.updateCurrentViewData = function () {\n        if (isBlazor() && this.flatData.length !== 0) {\n            var records = this.treeGrid.getCurrentViewRecords().slice();\n            this.currentViewData = [];\n            for (var i = 0; i < records.length; i++) {\n                this.currentViewData.push(this.getTaskByUniqueID(records[i].uniqueID));\n            }\n            this.treeGrid.grid.currentViewData = this.currentViewData;\n        }\n        else {\n            this.currentViewData = this.treeGrid.getCurrentViewRecords().slice();\n        }\n    };\n    /**\n     * @param {IGanttData} records .\n     * @returns {IGanttData} .\n     * @private\n     */\n    Gantt.prototype.getRecordFromFlatdata = function (records) {\n        var updatedRecord = [];\n        for (var i = 0; i < records.length; i++) {\n            updatedRecord.push(this.getTaskByUniqueID(records[i].uniqueID));\n        }\n        return updatedRecord;\n    };\n    /**\n     * @param {object} args .\n     * @returns {void} .\n     * @private\n     */\n    // eslint-disable-next-line\n    Gantt.prototype.updateContentHeight = function (args) {\n        if (this.virtualScrollModule && this.enableVirtualization && !isNullOrUndefined(args)) {\n            var length_1 = getValue('count', args);\n            this.contentHeight = length_1 * this.rowHeight;\n        }\n        else {\n            var expandedRecords = this.getExpandedRecords(this.currentViewData);\n            var height = void 0;\n            var chartRow = this.ganttChartModule.getChartRows()[0];\n            if (!isNullOrUndefined(chartRow) && chartRow.getBoundingClientRect().height > 0) {\n                height = chartRow.getBoundingClientRect().height;\n            }\n            else {\n                height = this.rowHeight;\n            }\n            this.contentHeight = expandedRecords.length * height;\n        }\n    };\n    /**\n     * To get expand status.\n     *\n     * @param {IGanttData} data .\n     * @returns {boolean} .\n     * @private\n     */\n    Gantt.prototype.getExpandStatus = function (data) {\n        var parentRecord = this.getParentTask(data.parentItem);\n        if (!isNullOrUndefined(parentRecord)) {\n            if (parentRecord.expanded === false) {\n                return false;\n            }\n            else if (parentRecord.parentItem) {\n                var parentData = this.getParentTask(parentRecord.parentItem);\n                if (parentData.expanded === false) {\n                    return false;\n                }\n                else {\n                    return this.getExpandStatus(this.getParentTask(parentRecord.parentItem));\n                }\n            }\n            else {\n                return true;\n            }\n        }\n        else {\n            return true;\n        }\n    };\n    /**\n     * Get expanded records from given record collection.\n     *\n     * @param {IGanttData[]} records - Defines record collection.\n     * @returns {IGanttData[]} .\n     * @deprecated\n     */\n    Gantt.prototype.getExpandedRecords = function (records) {\n        var _this = this;\n        if (isNullOrUndefined(records)) {\n            return [];\n        }\n        var expandedRecords = records.filter(function (record) {\n            return _this.getExpandStatus(record) === true;\n        });\n        return expandedRecords;\n    };\n    /**\n     * Getting the Zooming collections of the Gantt control\n     *\n     * @returns {ZoomTimelineSettings} .\n     * @private\n     */\n    Gantt.prototype.getZoomingLevels = function () {\n        var zoomingLevels = [\n            {\n                topTier: { unit: 'Year', format: 'yyyy', count: 50 },\n                bottomTier: { unit: 'Year', format: 'yyyy', count: 10 }, timelineUnitSize: 99, level: 0,\n                timelineViewMode: 'Year', weekStartDay: 0, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Year', format: 'yyyy', count: 20 },\n                bottomTier: { unit: 'Year', format: 'yyyy', count: 5 }, timelineUnitSize: 99, level: 1,\n                timelineViewMode: 'Year', weekStartDay: 0, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Year', format: 'yyyy', count: 5 },\n                bottomTier: { unit: 'Year', format: 'yyyy', count: 1 }, timelineUnitSize: 99, level: 2,\n                timelineViewMode: 'Year', weekStartDay: 0, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Year', format: 'MMM, yy', count: 1 },\n                bottomTier: {\n                    unit: 'Month', formatter: this.displayHalfValue, count: 6\n                }, timelineUnitSize: 66, level: 3,\n                timelineViewMode: 'Year', weekStartDay: 0, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Year', format: 'MMM, yy', count: 1 },\n                bottomTier: {\n                    unit: 'Month', formatter: this.displayHalfValue, count: 6\n                }, timelineUnitSize: 99, level: 4,\n                timelineViewMode: 'Year', weekStartDay: 0, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Year', format: 'MMM, yy', count: 1 },\n                bottomTier: {\n                    unit: 'Month', formatter: this.displayQuarterValue, count: 3\n                }, timelineUnitSize: 66, level: 5,\n                timelineViewMode: 'Year', weekStartDay: 0, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Year', format: 'yyyy', count: 1 },\n                bottomTier: {\n                    unit: 'Month', formatter: this.displayQuarterValue, count: 3\n                }, timelineUnitSize: 99, level: 6,\n                timelineViewMode: 'Year', weekStartDay: 0, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Year', format: 'yyyy', count: 1 },\n                bottomTier: { unit: 'Month', format: 'MMM yyyy', count: 1 }, timelineUnitSize: 99, level: 7,\n                timelineViewMode: 'Year', weekStartDay: 0, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Month', format: 'MMM, yy', count: 1 },\n                bottomTier: { unit: 'Week', format: 'dd', count: 1 }, timelineUnitSize: 33, level: 8,\n                timelineViewMode: 'Month', weekStartDay: 0, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Month', format: 'MMM, yyyy', count: 1 },\n                bottomTier: { unit: 'Week', format: 'dd MMM', count: 1 }, timelineUnitSize: 66, level: 9,\n                timelineViewMode: 'Month', weekStartDay: 0, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Month', format: 'MMM, yyyy', count: 1 },\n                bottomTier: { unit: 'Week', format: 'dd MMM', count: 1 }, timelineUnitSize: 99, level: 10,\n                timelineViewMode: 'Month', weekStartDay: 0, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Week', format: 'MMM dd, yyyy', count: 1 },\n                bottomTier: { unit: 'Day', format: 'd', count: 1 }, timelineUnitSize: 33, level: 11,\n                timelineViewMode: 'Week', weekStartDay: 0, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Week', format: 'MMM dd, yyyy', count: 1 },\n                bottomTier: { unit: 'Day', format: 'd', count: 1 }, timelineUnitSize: 66, level: 12,\n                timelineViewMode: 'Week', weekStartDay: 0, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Week', format: 'MMM dd, yyyy', count: 1 },\n                bottomTier: { unit: 'Day', format: 'd', count: 1 }, timelineUnitSize: 99, level: 13,\n                timelineViewMode: 'Week', weekStartDay: 0, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Day', format: 'E dd yyyy', count: 1 },\n                bottomTier: { unit: 'Hour', format: 'hh a', count: 12 }, timelineUnitSize: 66, level: 14,\n                timelineViewMode: 'Day', weekStartDay: 0, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Day', format: 'E dd yyyy', count: 1 },\n                bottomTier: { unit: 'Hour', format: 'hh a', count: 12 }, timelineUnitSize: 99, level: 15,\n                timelineViewMode: 'Day', weekStartDay: 0, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Day', format: 'E dd yyyy', count: 1 },\n                bottomTier: { unit: 'Hour', format: 'hh a', count: 6 }, timelineUnitSize: 66, level: 16,\n                timelineViewMode: 'Day', weekStartDay: 0, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Day', format: 'E dd yyyy', count: 1 },\n                bottomTier: { unit: 'Hour', format: 'hh a', count: 6 }, timelineUnitSize: 99, level: 17,\n                timelineViewMode: 'Day', weekStartDay: 0, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Day', format: 'E dd yyyy', count: 1 },\n                bottomTier: { unit: 'Hour', format: 'hh a', count: 2 }, timelineUnitSize: 66, level: 18,\n                timelineViewMode: 'Day', weekStartDay: 0, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Day', format: 'E dd yyyy', count: 1 },\n                bottomTier: { unit: 'Hour', format: 'hh a', count: 2 }, timelineUnitSize: 99, level: 19,\n                timelineViewMode: 'Day', weekStartDay: 0, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Day', format: 'E dd yyyy', count: 1 },\n                bottomTier: { unit: 'Hour', format: 'hh a', count: 1 }, timelineUnitSize: 66, level: 20,\n                timelineViewMode: 'Day', weekStartDay: 0, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Day', format: 'E dd yyyy', count: 1 },\n                bottomTier: { unit: 'Hour', format: 'hh a', count: 1 }, timelineUnitSize: 99, level: 21,\n                timelineViewMode: 'Day', weekStartDay: 0, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Hour', format: 'ddd MMM, h a', count: 1 },\n                bottomTier: { unit: 'Minutes', format: 'mm', count: 30 }, timelineUnitSize: 66, level: 22,\n                timelineViewMode: 'Hour', weekStartDay: 0, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Hour', format: 'ddd MMM, h a', count: 1 },\n                bottomTier: { unit: 'Minutes', format: 'mm', count: 15 }, timelineUnitSize: 66, level: 23,\n                timelineViewMode: 'Hour', weekStartDay: 0, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Hour', format: 'ddd MMM, h a', count: 1 },\n                bottomTier: { unit: 'Minutes', format: 'mm', count: 1 }, timelineUnitSize: 66, level: 24,\n                timelineViewMode: 'Hour', weekStartDay: 0, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            }\n        ];\n        return zoomingLevels;\n    };\n    Gantt.prototype.displayQuarterValue = function (date) {\n        var month = date.getMonth();\n        if (month >= 0 && month <= 2) {\n            return 'Q1';\n        }\n        else if (month >= 3 && month <= 5) {\n            return 'Q2';\n        }\n        else if (month >= 6 && month <= 8) {\n            return 'Q3';\n        }\n        else {\n            return 'Q4';\n        }\n    };\n    Gantt.prototype.displayHalfValue = function (date) {\n        var month = date.getMonth();\n        if (month >= 0 && month <= 6) {\n            return 'H1';\n        }\n        else {\n            return 'H2';\n        }\n    };\n    /**\n     *\n     * @param {Date} date .\n     * @param {string} format .\n     * @returns {string} .\n     */\n    Gantt.prototype.getFormatedDate = function (date, format) {\n        if (isNullOrUndefined(date)) {\n            return null;\n        }\n        if (isNullOrUndefined(format)) {\n            format = this.getDateFormat();\n        }\n        return this.globalize.formatDate(date, { format: format });\n    };\n    /**\n     * Get duration value as string combined with duration and unit values.\n     *\n     * @param {number} duration - Defines the duration.\n     * @param {string} durationUnit - Defines the duration unit.\n     * @returns {string} .\n     */\n    Gantt.prototype.getDurationString = function (duration, durationUnit) {\n        var value = this.dateValidationModule.getDurationString(duration, durationUnit);\n        return value;\n    };\n    /**\n     * Get work value as string combined with work and unit values.\n     *\n     * @param {number} work - Defines the work value.\n     * @param {string} workUnit - Defines the work unit.\n     * @returns {string} .\n     */\n    Gantt.prototype.getWorkString = function (work, workUnit) {\n        var value = this.dateValidationModule.getWorkString(work, workUnit);\n        return value;\n    };\n    /**\n     *\n     * @param {object} args .\n     * @returns {void} .\n     * @private\n     */\n    // eslint-disable-next-line\n    Gantt.prototype.treeDataBound = function (args) {\n        if (this.isLoad) {\n            this.updateCurrentViewData();\n            if (!this.enableVirtualization) {\n                this.updateContentHeight();\n            }\n            if (!this.isTreeGridRendered) {\n                this.isTreeGridRendered = true;\n                var toolbarHeight = 0;\n                if (!isNullOrUndefined(this.toolbarModule) && !isNullOrUndefined(this.toolbarModule.element)) {\n                    toolbarHeight = this.toolbarModule.element.offsetHeight;\n                }\n                if (this.timelineModule.isSingleTier) {\n                    addClass(this.treeGrid.element.querySelectorAll('.e-headercell'), cls.timelineSingleHeaderOuterDiv);\n                    addClass(this.treeGrid.element.querySelectorAll('.e-columnheader'), cls.timelineSingleHeaderOuterDiv);\n                }\n                else {\n                    removeClass(this.treeGrid.element.querySelectorAll('.e-headercell'), cls.timelineSingleHeaderOuterDiv);\n                    removeClass(this.treeGrid.element.querySelectorAll('.e-columnheader'), cls.timelineSingleHeaderOuterDiv);\n                }\n                this.treeGrid.height = this.ganttHeight - toolbarHeight -\n                    this.treeGrid.grid.getHeaderContent().offsetHeight;\n                this.notify('tree-grid-created', {});\n                this.createGanttPopUpElement();\n                this.hideSpinner();\n                setValue('isGanttCreated', true, args);\n                this.renderComplete();\n            }\n        }\n        else {\n            this.getCurrentRecords(args);\n        }\n        this.notify('recordsUpdated', {});\n        this.isLoad = false;\n        this.trigger('dataBound', args);\n    };\n    /**\n     * @param {object} args .\n     * @returns {void} .\n     * @private\n     */\n    // eslint-disable-next-line\n    Gantt.prototype.getCurrentRecords = function (args) {\n        if (this.predecessorModule && this.taskFields.dependency) {\n            this.connectorLineModule.removePreviousConnectorLines(this.currentViewData);\n        }\n        this.updateCurrentViewData();\n        if (!this.enableVirtualization) {\n            this.updateContentHeight();\n        }\n        // this.chartRowsModule.refreshGanttRows();\n        if (this.virtualScrollModule && this.enableVirtualization) {\n            this.ganttChartModule.virtualRender.adjustTable();\n            this.ganttChartModule.scrollObject.updateTopPosition();\n        }\n    };\n    /**\n     * Called internally, if any of the property value changed.\n     *\n     * @param {GanttModel} newProp .\n     * @param {GanttModel} oldProp .\n     * @returns {void} .\n     * @private\n     */\n    // eslint-disable-next-line\n    Gantt.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var isRefresh = false;\n        // eslint-disable-next-line\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'allowSelection':\n                case 'allowRowDragAndDrop':\n                case 'allowFiltering':\n                case 'showColumnMenu':\n                case 'allowResizing':\n                case 'allowReordering':\n                case 'enableImmutableMode':\n                    this.treeGrid[prop] = this[prop];\n                    this.treeGrid.dataBind();\n                    break;\n                case 'workWeek':\n                    this.dataOperation.getNonWorkingDayIndex();\n                    this.dataOperation.reUpdateGanttData();\n                    this.chartRowsModule.initiateTemplates();\n                    if (this.taskFields.dependency) {\n                        this.predecessorModule.updatedRecordsDateByPredecessor();\n                    }\n                    this.chartRowsModule.refreshGanttRows();\n                    this.treeGrid.refreshColumns();\n                    this.timelineModule.refreshTimeline();\n                    break;\n                case 'toolbar':\n                    this.notify('ui-toolbarupdate', { module: 'toolbar', properties: newProp });\n                    break;\n                case 'columnMenuItems':\n                    this.treeGrid.grid.columnMenuItems = getActualProperties(this.columnMenuItems);\n                    break;\n                case 'eventMarkers':\n                case 'highlightWeekends':\n                    this.notify('ui-update', { module: 'day-markers', properties: newProp });\n                    break;\n                case 'sortSettings':\n                    this.treeGrid.sortSettings = getActualProperties(this.sortSettings);\n                    this.treeGrid.dataBind();\n                    break;\n                case 'timelineSettings':\n                    this.timelineModule.refreshTimeline();\n                    break;\n                case 'rowHeight':\n                case 'taskbarHeight':\n                    this.treeGrid.rowHeight = this.rowHeight;\n                    this.treeGrid.dataBind();\n                    this.chartRowsModule.initiateTemplates();\n                    this.timelineModule.updateChartByNewTimeline();\n                    if (this.taskFields.dependency) {\n                        this.ganttChartModule.reRenderConnectorLines();\n                    }\n                    break;\n                case 'filterSettings':\n                    this.treeGrid.filterSettings = getActualProperties(this.filterSettings);\n                    this.treeGrid.dataBind();\n                    break;\n                case 'gridLines':\n                    this.treeGrid.gridLines = this.gridLines;\n                    this.treeGrid.dataBind();\n                    this.renderChartGridLines();\n                    break;\n                case 'tooltipSettings':\n                    if (this.tooltipModule.toolTipObj) {\n                        this.tooltipModule.toolTipObj.destroy();\n                    }\n                    this.tooltipModule.createTooltip();\n                    break;\n                case 'splitterSettings':\n                    this.splitterModule.updateSplitterPosition();\n                    break;\n                case 'selectionSettings':\n                    this.treeGrid.selectionSettings = getActualProperties(this.selectionSettings);\n                    this.treeGrid.grid.selectionSettings.enableToggle = this.selectionSettings.enableToggle;\n                    this.treeGrid.dataBind();\n                    break;\n                case 'searchSettings':\n                    this.treeGrid.grid.searchSettings = getActualProperties(this.searchSettings);\n                    this.treeGrid.grid.dataBind();\n                    if (this.toolbarModule) {\n                        this.toolbarModule.updateSearchTextBox();\n                    }\n                    break;\n                case 'labelSettings':\n                case 'renderBaseline':\n                case 'baselineColor':\n                    this.chartRowsModule.initiateTemplates();\n                    this.chartRowsModule.refreshGanttRows();\n                    break;\n                case 'resourceIDMapping':\n                case 'resourceNameMapping':\n                case 'resources':\n                    this.dataOperation.reUpdateResources();\n                    this.treeGrid.refreshColumns();\n                    this.chartRowsModule.initiateTemplates();\n                    this.chartRowsModule.refreshGanttRows();\n                    break;\n                case 'includeWeekend':\n                case 'dayWorkingTime':\n                case 'allowUnscheduledTasks':\n                case 'holidays':\n                    if (prop === 'holidays') {\n                        this.totalHolidayDates = this.dataOperation.getHolidayDates();\n                        this.notify('ui-update', { module: 'day-markers', properties: newProp });\n                    }\n                    this.dataOperation.reUpdateGanttData();\n                    this.treeGrid.refreshColumns();\n                    this.chartRowsModule.initiateTemplates();\n                    this.chartRowsModule.refreshGanttRows();\n                    break;\n                case 'addDialogFields':\n                case 'editDialogFields':\n                    if (this.editModule && this.editModule.dialogModule) {\n                        this.editModule.dialogModule.processDialogFields();\n                    }\n                    break;\n                case 'columns':\n                    this.treeGridModule.treeGridColumns = [];\n                    this.treeGridModule.validateGanttColumns();\n                    this.treeGrid.columns = this.treeGridModule.treeGridColumns;\n                    this.chartRowsModule.initiateTemplates();\n                    this.timelineModule.updateChartByNewTimeline();\n                    break;\n                case 'width':\n                case 'height':\n                    this.reUpdateDimention();\n                    break;\n                case 'editSettings':\n                    this.treeGrid.editSettings.allowAdding = this.editSettings.allowAdding;\n                    this.treeGrid.editSettings.allowDeleting = this.editSettings.allowDeleting;\n                    this.treeGrid.editSettings.showDeleteConfirmDialog = this.editSettings.showDeleteConfirmDialog;\n                    this.treeGrid.editSettings.allowEditing = this.editSettings.allowEditing;\n                    this.treeGrid.editSettings.allowNextRowEdit = this.editSettings.allowNextRowEdit;\n                    if (!isNullOrUndefined(this.editModule)) {\n                        this.editModule.reUpdateEditModules();\n                    }\n                    if (!isNullOrUndefined(this.toolbarModule)) {\n                        this.toolbarModule.refreshToolbarItems();\n                    }\n                    break;\n                case 'connectorLineBackground':\n                case 'connectorLineWidth':\n                    if (this.taskFields.dependency) {\n                        this.connectorLineModule.initPublicProp();\n                        this.ganttChartModule.reRenderConnectorLines();\n                    }\n                    break;\n                case 'treeColumnIndex':\n                    this.treeGrid.treeColumnIndex = this.treeColumnIndex;\n                    break;\n                case 'projectStartDate':\n                case 'projectEndDate':\n                    this.dataOperation.calculateProjectDates();\n                    this.updateProjectDates(this.cloneProjectStartDate, this.cloneProjectEndDate, this.isTimelineRoundOff);\n                    break;\n                case 'selectedRowIndex':\n                    if (!isNullOrUndefined(this.selectionModule)) {\n                        this.selectionModule.selectRowByIndex();\n                    }\n                    break;\n                case 'dataSource':\n                    this.closeGanttActions();\n                    if (this.dataSource instanceof Object && isCountRequired(this)) {\n                        // In order to bind the observable data at load time, hasChildMapping is necessary to be mapped.\n                        this.treeGrid.hasChildMapping = 'isParent';\n                        var count = getValue('count', this.dataSource);\n                        this.treeGrid.dataSource = { result: this.flatData, count: count };\n                    }\n                    else {\n                        this.treeGrid.hasChildMapping = null;\n                    }\n                    this.dataOperation.checkDataBinding(true);\n                    break;\n                case 'enableContextMenu':\n                case 'contextMenuItems':\n                    if (this.enableContextMenu || prop === 'contextMenuItems') {\n                        this.notify('reRender-contextMenu', { module: 'contextMenu', enable: this.contextMenuItems });\n                    }\n                    else {\n                        this.treeGrid.contextMenuItems = [];\n                    }\n                    this.treeGrid.dataBind();\n                    break;\n                case 'currencyCode':\n                case 'locale':\n                case 'enableRtl':\n                case 'readOnly':\n                case 'viewType':\n                    isRefresh = true;\n                    break;\n                case 'validateManualTasksOnLinking':\n                    this.validateManualTasksOnLinking = newProp.validateManualTasksOnLinking;\n                    break;\n                case 'showOverAllocation':\n                    this.updateOverAllocationCotainer();\n                    break;\n            }\n        }\n        if (isRefresh) {\n            this.refresh();\n        }\n    };\n    Gantt.prototype.updateOverAllocationCotainer = function () {\n        if (this.showOverAllocation && this.viewType === 'ResourceView') {\n            this.ganttChartModule.renderOverAllocationContainer();\n        }\n        else {\n            var rangeContainer = this.element.querySelector('.' + cls.rangeContainer);\n            if (rangeContainer) {\n                rangeContainer.innerHTML = '';\n            }\n        }\n    };\n    /**\n     * Get the properties to be maintained in the persisted state.\n     *\n     * @returns {string} .\n     * @private\n     */\n    Gantt.prototype.getPersistData = function () {\n        var keyEntity = ['allowSelection'];\n        return this.addOnPersist(keyEntity);\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.destroy = function () {\n        this.notify('destroy', {});\n        if (!isNullOrUndefined(this.validationDialogElement) && !this.validationDialogElement.isDestroyed) {\n            this.validationDialogElement.destroy();\n        }\n        var modules = ['ganttChartModule', 'timelineModule', 'chartRowsModule',\n            'treeGridModule', 'ganttDataUpdatesModule', 'dateValidationModule', 'tooltipModule'];\n        for (var i = 0; i < modules.length; i++) {\n            if (this[modules[i]]) {\n                this[modules[i]] = null;\n            }\n        }\n        if (this.keyboardModule) {\n            this.keyboardModule.destroy();\n        }\n        _super.prototype.destroy.call(this);\n        this.chartVerticalLineContainer = null;\n        this.element.innerHTML = '';\n        removeClass([this.element], cls.root);\n        this.element.innerHTML = '';\n        this.isTreeGridRendered = false;\n        this.resetTemplates();\n        /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n        EventHandler.remove(window, 'resize', this.windowResize);\n    };\n    /**\n     * Method to get taskbarHeight.\n     *\n     * @returns {number} .\n     * @public\n     */\n    Gantt.prototype.getTaskbarHeight = function () {\n        return this.chartRowsModule.taskBarHeight;\n    };\n    /**\n     * To provide the array of modules needed for component rendering\n     *\n     * @returns {ModuleDeclaration[]} .\n     * @hidden\n     */\n    Gantt.prototype.requiredModules = function () {\n        var modules = [];\n        if (this.isDestroyed) {\n            return modules;\n        }\n        if (this.allowSorting) {\n            modules.push({\n                member: 'sort',\n                args: [this]\n            });\n        }\n        if (this.allowFiltering || (this.toolbar && this.toolbar.indexOf('Search') !== -1)) {\n            modules.push({\n                member: 'filter',\n                args: [this]\n            });\n        }\n        if (this.allowReordering) {\n            modules.push({\n                member: 'reorder',\n                args: [this]\n            });\n        }\n        if (this.allowExcelExport) {\n            modules.push({\n                member: 'excelExport',\n                args: [this]\n            });\n        }\n        if (this.allowRowDragAndDrop) {\n            modules.push({\n                member: 'rowDragAndDrop',\n                args: [this]\n            });\n        }\n        if (this.allowResizing) {\n            modules.push({\n                member: 'resize',\n                args: [this]\n            });\n        }\n        if (this.toolbar) {\n            modules.push({\n                member: 'toolbar',\n                args: [this]\n            });\n        }\n        if (this.editSettings.allowAdding || this.editSettings.allowEditing || this.editSettings.allowDeleting\n            || this.editSettings.allowTaskbarEditing || this.allowRowDragAndDrop) {\n            modules.push({\n                member: 'edit',\n                args: [this]\n            });\n        }\n        if (this.allowSelection) {\n            modules.push({\n                member: 'selection',\n                args: [this]\n            });\n        }\n        if (this.tooltipSettings.showTooltip) {\n            modules.push({\n                member: 'tooltip',\n                args: [this]\n            });\n        }\n        if (this.highlightWeekends || (this.holidays && this.holidays.length > 0)\n            || (this.eventMarkers && this.eventMarkers.length > 0)) {\n            modules.push({\n                member: 'dayMarkers',\n                args: [this]\n            });\n        }\n        if (this.enableContextMenu) {\n            modules.push({\n                member: 'contextMenu',\n                args: [this]\n            });\n        }\n        if (this.showColumnMenu) {\n            modules.push({\n                member: 'columnMenu',\n                args: [this]\n            });\n        }\n        if (this.allowPdfExport) {\n            modules.push({\n                member: 'pdfExport',\n                args: [this]\n            });\n        }\n        if (this.enableVirtualization) {\n            modules.push({\n                member: 'virtualScroll',\n                args: [this]\n            });\n        }\n        return modules;\n    };\n    /**\n     * Sorts a column with the given options.\n     *\n     * @param {string} columnName - Defines the column name to be sorted.\n     * @param {SortDirection} direction - Defines the direction of sorting field.\n     * @param {boolean} isMultiSort - Specifies whether the previous sorted columns are to be maintained.\n     * @returns {void} .\n     */\n    Gantt.prototype.sortColumn = function (columnName, direction, isMultiSort) {\n        if (this.sortModule && this.allowSorting) {\n            this.sortModule.sortColumn(columnName, direction, isMultiSort);\n        }\n    };\n    /**\n     * Clears all the sorted columns of the Gantt.\n     *\n     * @returns {void} .\n     */\n    Gantt.prototype.clearSorting = function () {\n        this.sortModule.clearSorting();\n    };\n    /**\n     * To validate and render chart horizontal and vertical lines in the Gantt\n     *\n     * @returns {void} .\n     * @hidden\n     */\n    Gantt.prototype.renderChartGridLines = function () {\n        var className = 'e-chart-row-border';\n        var verticalLines = this.chartVerticalLineContainer;\n        var chartRowsTD = document.getElementById(this.element.id + 'GanttTaskTableBody').querySelectorAll('td');\n        if (this.gridLines === 'Vertical') {\n            if (isNullOrUndefined(verticalLines)) {\n                this.renderChartVerticalLines();\n            }\n            else {\n                if (verticalLines.style.display === 'none') {\n                    verticalLines.style.display = 'block';\n                }\n            }\n            if (chartRowsTD[0].classList.contains(className)) {\n                for (var c = 0; c < chartRowsTD.length; c++) {\n                    removeClass([chartRowsTD[c]], className);\n                }\n            }\n        }\n        else if (this.gridLines === 'Horizontal') {\n            if (!isNullOrUndefined(verticalLines)) {\n                verticalLines.style.display = 'none';\n            }\n            if (!chartRowsTD[0].classList.contains(className)) {\n                for (var c = 0; c < chartRowsTD.length; c++) {\n                    addClass([chartRowsTD[c]], className);\n                }\n            }\n        }\n        else if (this.gridLines === 'Both') {\n            if (isNullOrUndefined(verticalLines)) {\n                this.renderChartVerticalLines();\n            }\n            else {\n                if (verticalLines.style.display === 'none') {\n                    verticalLines.style.display = 'block';\n                }\n            }\n            if (!chartRowsTD[0].classList.contains(className)) {\n                for (var c = 0; c < chartRowsTD.length; c++) {\n                    addClass([chartRowsTD[c]], className);\n                }\n            }\n        }\n        else if (this.gridLines === 'None') {\n            if (!isNullOrUndefined(verticalLines) && verticalLines.style.display !== 'none') {\n                verticalLines.style.display = 'none';\n            }\n            if (chartRowsTD[0].classList.contains(className)) {\n                for (var c = 0; c < chartRowsTD.length; c++) {\n                    removeClass([chartRowsTD[c]], className);\n                }\n            }\n        }\n    };\n    /**\n     * To update height of the Grid lines in the Gantt chart side.\n     *\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.updateGridLineContainerHeight = function () {\n        if (this.chartVerticalLineContainer) {\n            this.chartVerticalLineContainer.style.height = formatUnit(this.getContentHeight());\n        }\n    };\n    /**\n     * To get actual height of grid lines, holidays, weekend and event markers.\n     *\n     * @returns {number} .\n     * @private\n     */\n    Gantt.prototype.getContentHeight = function () {\n        var scrollHeight = this.ganttChartModule.scrollElement.offsetHeight - 16; //16 is horizontal scrollbar height\n        var contentHeight = this.ganttChartModule.chartBodyContent.offsetHeight;\n        var height = contentHeight < scrollHeight ? contentHeight : scrollHeight;\n        return height;\n    };\n    /**\n     * To update height of the Grid lines in the Gantt chart side.\n     *\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.reUpdateDimention = function () {\n        var toolbarHeight = 0;\n        this.calculateDimensions();\n        if (!isNullOrUndefined(this.toolbarModule) && !isNullOrUndefined(this.toolbarModule.element)) {\n            this.toolbarModule.toolbar.refresh();\n            this.toolbarModule.refreshToolbarItems();\n            toolbarHeight = this.toolbarModule.element.offsetHeight;\n        }\n        this.treeGrid.height = this.ganttHeight - toolbarHeight -\n            this.treeGrid.grid.getHeaderContent().offsetHeight;\n        this.splitterModule.splitterObject.height = (this.ganttHeight - toolbarHeight).toString();\n        this.splitterModule.splitterObject.width = this.ganttWidth.toString();\n        this.ganttChartModule.scrollObject.\n            setHeight(this.ganttHeight - this.ganttChartModule.chartTimelineContainer.offsetHeight - toolbarHeight);\n    };\n    /**\n     * To render vertical lines in the Gantt chart side.\n     *\n     * @returns {void} .\n     */\n    Gantt.prototype.renderChartVerticalLines = function () {\n        if (!this.element.contains(this.chartVerticalLineContainer)) {\n            this.chartVerticalLineContainer = createElement('div', {\n                id: this.element.id + 'line-container',\n                styles: 'position:absolute;height:100%;z-index:1'\n            });\n            if (this.virtualScrollModule && this.enableVirtualization) {\n                this.ganttChartModule.virtualRender.appendChildElements(this.chartVerticalLineContainer);\n            }\n            else {\n                this.ganttChartModule.chartBodyContent.appendChild(this.chartVerticalLineContainer);\n            }\n        }\n        this.chartVerticalLineContainer.innerHTML = '';\n        var headerTable = this.element.getElementsByClassName('e-timeline-header-table-container')[1];\n        if (isNullOrUndefined(headerTable)) {\n            headerTable = this.element.getElementsByClassName('e-timeline-header-table-container')[0];\n        }\n        var thElements = headerTable.getElementsByTagName('th');\n        var thLength = thElements.length;\n        var thWidth;\n        var leftPos = 0;\n        var containerDiv = createElement('div');\n        for (var n = 0; n < thLength; n++) {\n            leftPos = n === 0 ? -1 : (leftPos + parseFloat(thWidth));\n            thWidth = thElements[n].style.width;\n            var divElement = createElement('div', {\n                className: 'e-line-container-cell',\n                styles: 'left:' + leftPos + 'px'\n            });\n            containerDiv.appendChild(divElement);\n        }\n        this.chartVerticalLineContainer.innerHTML = containerDiv.innerHTML;\n    };\n    /**\n     * Method to get default localized text of the Gantt.\n     *\n     * @returns {void} .\n     * @hidden\n     */\n    // eslint-disable-next-line\n    Gantt.prototype.getDefaultLocale = function () {\n        // eslint-disable-next-line\n        var ganttLocale = {\n            emptyRecord: 'No records to display',\n            id: 'ID',\n            name: 'Name',\n            startDate: 'Start Date',\n            endDate: 'End Date',\n            duration: 'Duration',\n            progress: 'Progress',\n            dependency: 'Dependency',\n            notes: 'Notes',\n            baselineStartDate: 'Baseline Start Date',\n            baselineEndDate: 'Baseline End Date',\n            taskMode: 'Task Mode',\n            changeScheduleMode: 'Change Schedule Mode',\n            subTasksStartDate: 'SubTasks Start Date',\n            subTasksEndDate: 'SubTasks End Date',\n            scheduleStartDate: 'Schedule Start Date',\n            scheduleEndDate: 'Schedule End Date',\n            auto: 'Auto',\n            manual: 'Manual',\n            type: 'Type',\n            offset: 'Offset',\n            resourceName: 'Resources',\n            resourceID: 'Resource ID',\n            day: 'day',\n            hour: 'hour',\n            minute: 'minute',\n            days: 'days',\n            hours: 'hours',\n            minutes: 'minutes',\n            generalTab: 'General',\n            customTab: 'Custom Columns',\n            writeNotes: 'Write Notes',\n            addDialogTitle: 'New Task',\n            editDialogTitle: 'Task Information',\n            add: 'Add',\n            edit: 'Edit',\n            update: 'Update',\n            delete: 'Delete',\n            cancel: 'Cancel',\n            search: 'Search',\n            task: ' task',\n            tasks: ' tasks',\n            zoomIn: 'Zoom in',\n            zoomOut: 'Zoom out',\n            zoomToFit: 'Zoom to fit',\n            excelExport: 'Excel export',\n            csvExport: 'CSV export',\n            pdfExport: 'Pdf export',\n            expandAll: 'Expand all',\n            collapseAll: 'Collapse all',\n            nextTimeSpan: 'Next timespan',\n            prevTimeSpan: 'Previous timespan',\n            saveButton: 'Save',\n            taskBeforePredecessorFS: 'You moved \"{0}\" to start before \"{1}\" finishes and the two tasks are linked.'\n                + 'As the result, the links cannot be honored. Select one action below to perform',\n            taskAfterPredecessorFS: 'You moved \"{0}\" away from \"{1}\" and the two tasks are linked.'\n                + 'As the result, the links cannot be honored. Select one action below to perform',\n            taskBeforePredecessorSS: 'You moved \"{0}\" to start before \"{1}\" starts and the two tasks are linked.'\n                + 'As the result, the links cannot be honored. Select one action below to perform',\n            taskAfterPredecessorSS: 'You moved \"{0}\" to start after \"{1}\" starts and the two tasks are linked.'\n                + 'As the result, the links cannot be honored. Select one action below to perform',\n            taskBeforePredecessorFF: 'You moved \"{0}\" to finish before \"{1}\" finishes and the two tasks are linked.'\n                + 'As the result, the links cannot be honored. Select one action below to perform',\n            taskAfterPredecessorFF: 'You moved \"{0}\" to finish after \"{1}\" finishes and the two tasks are linked.'\n                + 'As the result, the links cannot be honored. Select one action below to perform',\n            taskBeforePredecessorSF: 'You moved \"{0}\" away from \"{1}\" to starts and the two tasks are linked.'\n                + 'As the result, the links cannot be honored. Select one action below to perform',\n            taskAfterPredecessorSF: 'You moved \"{0}\" to finish after \"{1}\" starts and the two tasks are linked.'\n                + 'As the result, the links cannot be honored. Select one action below to perform',\n            okText: 'Ok',\n            confirmDelete: 'Are you sure you want to Delete Record?',\n            from: 'From',\n            to: 'To',\n            taskLink: 'Task Link',\n            lag: 'Lag',\n            start: 'Start',\n            finish: 'Finish',\n            enterValue: 'Enter the value',\n            taskInformation: 'Task Information',\n            deleteTask: 'Delete Task',\n            deleteDependency: 'Delete Dependency',\n            convert: 'Convert',\n            save: 'Save',\n            above: 'Above',\n            below: 'Below',\n            child: 'Child',\n            milestone: 'Milestone',\n            toTask: 'To Task',\n            toMilestone: 'To Milestone',\n            eventMarkers: 'Event markers',\n            leftTaskLabel: 'Left task label',\n            rightTaskLabel: 'Right task label',\n            timelineCell: 'Timeline cell',\n            confirmPredecessorDelete: 'Are you sure you want to remove dependency link?',\n            unit: 'Unit',\n            work: 'Work',\n            taskType: 'Task Type',\n            unassignedTask: 'Unassigned Task',\n            group: 'Group',\n            indent: 'Indent',\n            outdent: 'Outdent',\n            segments: 'Segments',\n            splitTask: 'Split Task',\n            mergeTask: 'Merge Task',\n            left: 'Left',\n            right: 'Right'\n        };\n        if (isBlazor()) {\n            // eslint-disable-next-line\n            var blazorLocale = {\n                zoomIn: 'Zoom In',\n                zoomOut: 'Zoom Out',\n                zoomToFit: 'Zoom To Fit',\n                excelExport: 'Excel Export',\n                csvExport: 'CSV Export',\n                pdfExport: 'Pdf Export',\n                expandAll: 'Expand All',\n                collapseAll: 'Collapse All',\n                nextTimeSpan: 'Next Timespan',\n                prevTimeSpan: 'Previous Timespan'\n            };\n            extend(ganttLocale, blazorLocale, {}, true);\n        }\n        return ganttLocale;\n    };\n    /**\n     * To remove sorted records of particular column.\n     *\n     * @param {string} columnName - Defines the sorted column name.\n     * @returns {void} .\n     */\n    Gantt.prototype.removeSortColumn = function (columnName) {\n        this.sortModule.removeSortColumn(columnName);\n    };\n    /**\n     *\n     * @param {object} args .\n     * @returns {void} .\n     * @private\n     */\n    // eslint-disable-next-line\n    Gantt.prototype.actionBeginTask = function (args) {\n        this.trigger('actionBegin', args);\n    };\n    /**\n     * To move horizontal scroll bar of Gantt to specific date.\n     *\n     * @param  {string} date - Defines the task date of data.\n     * @returns {void} .\n     */\n    Gantt.prototype.scrollToDate = function (date) {\n        var tempDate = this.dateValidationModule.getDateFromFormat(date);\n        var left = this.dataOperation.getTaskLeft(tempDate, false);\n        this.ganttChartModule.updateScrollLeft(left);\n    };\n    /**\n     * To move horizontal scroll bar of Gantt to specific task id.\n     *\n     * @param  {string} taskId - Defines the task id of data.\n     * @returns {void} .\n     */\n    Gantt.prototype.scrollToTask = function (taskId) {\n        if (this.ids.indexOf(taskId) !== -1) {\n            var left = this.flatData[this.ids.indexOf(taskId)].ganttProperties.left;\n            this.ganttChartModule.updateScrollLeft(left);\n        }\n    };\n    /**\n     * To set scroll left and top in chart side.\n     *\n     * @param  {number} left - Defines the scroll left value of chart side.\n     * @param  {number} top - Defines the scroll top value of chart side.\n     * @returns {void} .\n     */\n    Gantt.prototype.updateChartScrollOffset = function (left, top) {\n        if (!isNullOrUndefined(left)) {\n            left = this.ganttChartModule.scrollElement.scrollWidth <= left ?\n                this.ganttChartModule.scrollElement.scrollWidth : left;\n            this.ganttChartModule.scrollObject.setScrollLeft(left);\n        }\n        if (!isNullOrUndefined(top)) {\n            top = this.ganttChartModule.scrollElement.scrollHeight <= top ? this.ganttChartModule.scrollElement.scrollHeight : top;\n            this.ganttChartModule.scrollObject.setScrollTop(top);\n        }\n    };\n    /**\n     * Get parent task by clone parent item.\n     *\n     * @param {IParent} cloneParent - Defines the clone parent item.\n     * @returns {IGanttData} .\n     * @hidden\n     */\n    Gantt.prototype.getParentTask = function (cloneParent) {\n        if (!isNullOrUndefined(cloneParent)) {\n            var parent_1 = this.flatData.filter(function (val) {\n                return cloneParent.uniqueID === val.uniqueID;\n            });\n            if (parent_1.length > 0) {\n                return parent_1[0];\n            }\n            else {\n                return null;\n            }\n        }\n        else {\n            return null;\n        }\n    };\n    /**\n     * Get parent task by clone parent item.\n     *\n     * @param {IGanttData} ganttRecord .\n     * @param {number} level .\n     * @returns {IGanttData} .\n     * @hidden\n     */\n    Gantt.prototype.getRootParent = function (ganttRecord, level) {\n        if (ganttRecord.level === level) {\n            return ganttRecord;\n        }\n        return this.getRootParent(this.getParentTask(ganttRecord.parentItem), level);\n    };\n    /**\n     * Filters TreeGrid row by column name with the given options.\n     *\n     * @param  {string} fieldName - Defines the field name of the column.\n     * @param  {string} filterOperator - Defines the operator to filter records.\n     * @param  {string | number | Date | boolean | number[] | string[] | Date[] | boolean[]} filterValue - Defines the value\n     *  used to filter records.\n     * @param  {string} predicate - Defines the relationship between one filter query and another by using AND or OR predicate.\n     * @param  {boolean} matchCase - If match case is set to true, TreeGrid filters the records with exact match.if false, it filters case\n     * insensitive records (uppercase and lowercase letters treated the same).\n     * @param  {boolean} ignoreAccent - If ignoreAccent set to true,\n     * then filter ignores the diacritic characters or accents while filtering.\n     * @returns {void} .\n     */\n    Gantt.prototype.filterByColumn = function (fieldName, filterOperator, filterValue, predicate, matchCase, ignoreAccent) {\n        this.treeGrid.filterByColumn(fieldName, filterOperator, filterValue, predicate, matchCase, ignoreAccent);\n    };\n    /**\n     * Export Gantt data to Excel file(.xlsx).\n     *\n     * @param  {ExcelExportProperties} excelExportProperties - Defines the export properties of the Gantt.\n     * @param  {boolean} isMultipleExport - Define to enable multiple export.\n     * @param  {workbook} workbook - Defines the Workbook if multiple export is enabled.\n     * @param  {boolean} isBlob - If 'isBlob' set to true, then it will be returned as blob data.\n     * @returns {Promise<any>} .\n     * @blazorType void\n     */\n    Gantt.prototype.excelExport = function (excelExportProperties, isMultipleExport, \n    /* eslint-disable-next-line */\n    workbook, isBlob) {\n        return this.excelExportModule ? this.treeGrid.excelExport(excelExportProperties, isMultipleExport, workbook, isBlob) : null;\n    };\n    /**\n     * Export Gantt data to CSV file.\n     *\n     * @param  {ExcelExportProperties} excelExportProperties - Defines the export properties of the Gantt.\n     * @param  {boolean} isMultipleExport - Define to enable multiple export.\n     * @param  {workbook} workbook - Defines the Workbook if multiple export is enabled.\n     * @param  {boolean} isBlob - If 'isBlob' set to true, then it will be returned as blob data.\n     * @returns {Promise<any>} .\n     * @blazorType void\n     */\n    Gantt.prototype.csvExport = function (excelExportProperties, \n    /* eslint-disable-next-line */\n    isMultipleExport, workbook, isBlob) {\n        return this.excelExportModule ? this.treeGrid.csvExport(excelExportProperties, isMultipleExport, workbook, isBlob) : null;\n    };\n    /**\n     * Export Gantt data to PDF document.\n     *\n     * @param  {PdfExportProperties} pdfExportProperties - Defines the export properties of the Gantt.\n     * @param  {isMultipleExport} isMultipleExport - Define to enable multiple export.\n     * @param  {pdfDoc} pdfDoc - Defined the Pdf Document if multiple export is enabled.\n     * @returns {Promise<any>} .\n     * @blazorType void\n     */\n    // eslint-disable-next-line\n    Gantt.prototype.pdfExport = function (pdfExportProperties, isMultipleExport, pdfDoc) {\n        return this.pdfExportModule ? this.pdfExportModule.export(pdfExportProperties, isMultipleExport, pdfDoc)\n            : null;\n    };\n    /**\n     * Clears the filtered columns in Gantt.\n     *\n     * Can also be used to clear filtering of a specific column in Gantt.\n     *\n     * @param {string[]} fields - Defines the specific column to remove filter.\n     * @returns {void} .\n     */\n    Gantt.prototype.clearFiltering = function (fields) {\n        this.treeGrid.grid.clearFiltering(fields);\n    };\n    /**\n     * Removes filtered column by field name.\n     *\n     * @param  {string} field - Defines column field name to remove filter.\n     * @returns {void} .\n     * @hidden\n     */\n    Gantt.prototype.removeFilteredColsByField = function (field) {\n        this.treeGrid.removeFilteredColsByField(field, false);\n    };\n    /**\n     * Method to set holidays and non working days in date time and date picker controls\n     *\n     * @param {RenderDayCellEventArgs} args .\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.renderWorkingDayCell = function (args) {\n        var includeWeekend = this.taskMode !== 'Auto' ? true : this.includeWeekend ? true : false;\n        var nonWorkingDays = !includeWeekend ? this.nonWorkingDayIndex : [];\n        var holidays = this.totalHolidayDates;\n        if (nonWorkingDays.length > 0 && nonWorkingDays.indexOf(args.date.getDay()) !== -1) {\n            args.isDisabled = true;\n        }\n        else if (holidays.length > 0) {\n            var tempDate = new Date(args.date.getTime());\n            tempDate.setHours(0, 0, 0);\n            if (holidays.indexOf(tempDate.getTime()) !== -1) {\n                args.isDisabled = true;\n            }\n        }\n    };\n    /**\n     * To update timeline at start point with one unit.\n     *\n     * @param {string} mode .\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.previousTimeSpan = function (mode) {\n        this.timelineModule.performTimeSpanAction('prevTimeSpan', 'publicMethod', new Date(this.timelineModule.timelineStartDate.getTime()), new Date(this.timelineModule.timelineEndDate.getTime()), mode);\n    };\n    /**\n     * To update timeline at end point with one unit.\n     *\n     * @param {string} mode .\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.nextTimeSpan = function (mode) {\n        this.timelineModule.performTimeSpanAction('nextTimeSpan', 'publicMethod', new Date(this.timelineModule.timelineStartDate.getTime()), new Date(this.timelineModule.timelineEndDate.getTime()), mode);\n    };\n    /**\n     * To validate project start date and end date.\n     *\n     * @param  {Date} startDate - Defines start date of project.\n     * @param  {Date} endDate - Defines end date of project.\n     * @param  {boolean} isTimelineRoundOff - Defines project start date and end date need to be round off or not.\n     * @param {string} isFrom .\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.updateProjectDates = function (startDate, endDate, isTimelineRoundOff, isFrom) {\n        if (isBlazor()) {\n            startDate = this.dataOperation.getDateFromFormat(startDate);\n            endDate = this.dataOperation.getDateFromFormat(endDate);\n        }\n        this.timelineModule.totalTimelineWidth = 0;\n        this.cloneProjectStartDate = startDate;\n        this.cloneProjectEndDate = endDate;\n        this.isTimelineRoundOff = isTimelineRoundOff;\n        this.timelineModule.refreshTimelineByTimeSpan();\n        this.dataOperation.reUpdateGanttDataPosition();\n        this.timelineModule.updateChartByNewTimeline();\n        this.ganttChartModule.chartBodyContent.style.width = formatUnit(this.timelineModule.totalTimelineWidth);\n        this.ganttChartModule.updateLastRowBottomWidth();\n        if (this.gridLines === 'Vertical' || this.gridLines === 'Both') {\n            this.renderChartVerticalLines();\n        }\n        if (this.taskFields.dependency) {\n            this.ganttChartModule.reRenderConnectorLines();\n        }\n        if (isFrom !== 'beforeAdd') {\n            this.notify('selectRowByIndex', {});\n        }\n    };\n    /**\n     * Split the taskbar into segment by the given date\n     *\n     * @param  {string} taskId - Defines the id of a task to be split.\n     * @param  {string} splitDate - Defines in which date the taskbar must be split up.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.splitTask = function (taskId, splitDate) {\n        this.chartRowsModule.splitTask(taskId, splitDate);\n    };\n    /**\n     * merge the split taskbar with the given segment indexes.\n     *\n     * @param  {string} taskId - Defines the id of a task to be split.\n     * @param  {string} segmentIndexes - Defines the object array of indexes which must be merged.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.mergeTask = function (taskId, segmentIndexes) {\n        this.chartRowsModule.mergeTask(taskId, segmentIndexes);\n    };\n    /**\n     * Changes the TreeGrid column positions by field names.\n     *\n     * @param  {string} fromFName - Defines origin field name.\n     * @param  {string} toFName - Defines destination field name.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.reorderColumns = function (fromFName, toFName) {\n        this.treeGrid.reorderColumns(fromFName, toFName);\n    };\n    /**\n     * Method to clear edited collections in gantt set edit flag value\n     *\n     * @param {boolean} isStart .\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.initiateEditAction = function (isStart) {\n        this.isOnEdit = isStart;\n        this.previousRecords = {};\n        this.editedRecords = [];\n    };\n    /**\n     *\n     * @param {string} field Method to update value in Gantt record and make clone record for this\n     * @param {IGanttData | ITaskData} record .\n     * @param {boolean} isTaskData .\n     * @returns {void} .\n     * @private\n     */\n    /* eslint-disable-next-line */\n    Gantt.prototype.setRecordValue = function (field, value, record, isTaskData) {\n        if (this.isOnEdit || this.isOnDelete) {\n            this.makeCloneData(field, record, isTaskData);\n            var id = isTaskData ? record.rowUniqueID : record.ganttProperties.rowUniqueID;\n            var task = this.getRecordByID(id);\n            if (task && this.editedRecords.indexOf(task) === -1) {\n                this.editedRecords.push(task);\n                if (this.enableImmutableMode) {\n                    this.modifiedRecords.push(task);\n                }\n            }\n        }\n        value = isUndefined(value) ? null : value;\n        setValue(field, value, record);\n    };\n    Gantt.prototype.makeCloneData = function (field, record, isTaskData) {\n        var cloneData;\n        /* eslint-disable-next-line */\n        var value = getValue(field, record);\n        /* eslint-disable-next-line */\n        var prevValue;\n        /* eslint-disable-next-line */\n        var clonedValue;\n        if (isTaskData) {\n            field = 'ganttProperties.' + field;\n        }\n        if (isNullOrUndefined(this.previousRecords[record.uniqueID])) {\n            var tempData = {};\n            this.previousRecords[record.uniqueID] = tempData;\n        }\n        /* eslint-disable-next-line */\n        cloneData = this.previousRecords[record.uniqueID];\n        /* eslint-disable-next-line */\n        prevValue = getValue(field, cloneData);\n        if (isUndefined(prevValue)) {\n            if (value instanceof Date) {\n                clonedValue = new Date(value.getTime());\n            }\n            else if (isObjectArray(value)) {\n                clonedValue = extend([], value, [], true);\n            }\n            else if (isObject(value)) {\n                clonedValue = extend({}, {}, value, true);\n            }\n            else {\n                clonedValue = value;\n            }\n            if (!isUndefined(clonedValue)) {\n                setValue(field, clonedValue, cloneData);\n            }\n            else {\n                setValue(field, null, cloneData);\n            }\n        }\n    };\n    Gantt.prototype.closeGanttActions = function () {\n        if (this.editModule) {\n            if (this.editModule.cellEditModule && this.editModule.cellEditModule.isCellEdit) {\n                this.treeGrid.closeEdit();\n                this.editModule.cellEditModule.isCellEdit = false;\n                if (!isNullOrUndefined(this.toolbarModule)) {\n                    this.toolbarModule.refreshToolbarItems();\n                }\n            }\n            else if (this.editModule.dialogModule && this.editModule.dialogModule.dialogObj &&\n                this.editModule.dialogModule.dialogObj.visible) {\n                this.editModule.dialogModule.dialogObj.hide();\n                this.editModule.dialogModule.dialogClose();\n            }\n        }\n    };\n    /**\n     * Method to get task by uniqueId value.\n     *\n     * @param {string} id - Defines the task id.\n     * @returns {IGanttData} .\n     * @isGenericType true\n     */\n    Gantt.prototype.getTaskByUniqueID = function (id) {\n        var value = this.flatData.filter(function (val) {\n            return val.uniqueID === id;\n        });\n        if (value.length > 0) {\n            return value[0];\n        }\n        else {\n            return null;\n        }\n    };\n    /**\n     * Method to get record by id value.\n     *\n     * @param {string} id - Defines the id of record.\n     * @returns {IGanttData} .\n     * @isGenericType true\n     */\n    Gantt.prototype.getRecordByID = function (id) {\n        if (isNullOrUndefined(id)) {\n            return null;\n        }\n        return this.flatData[this.ids.indexOf(id.toString())];\n    };\n    /**\n     * Method to set splitter position.\n     *\n     * @param {string|number} value - Define value to splitter settings property.\n     * @param {string} type - Defines name of internal splitter settings property.\n     * @returns {void} .\n     */\n    Gantt.prototype.setSplitterPosition = function (value, type) {\n        // eslint-disable-next-line\n        var tempSplitterSettings = {};\n        tempSplitterSettings[type] = value;\n        var splitterPosition = this.splitterModule.calculateSplitterPosition(tempSplitterSettings, true);\n        var pane1 = this.splitterModule.splitterObject.element.querySelectorAll('.e-pane')[0];\n        var pane2 = this.splitterModule.splitterObject.element.querySelectorAll('.e-pane')[1];\n        this.splitterModule.splitterPreviousPositionGrid = pane1.scrollWidth + 1 + 'px';\n        this.splitterModule.splitterPreviousPositionChart = pane2.scrollWidth + 1 + 'px';\n        this.splitterModule.splitterObject.paneSettings[0].size = splitterPosition;\n        this.splitterModule.triggerCustomResizedEvent();\n    };\n    /**\n     * Expand the records by index value.\n     *\n     * @param {number[] | number} index - Defines the index of rows to be expand.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.expandByIndex = function (index) {\n        if (typeof index === 'number') {\n            // eslint-disable-next-line\n            var args = this.contructExpandCollapseArgs(null, index);\n            this.ganttChartModule.isExpandCollapseFromChart = true;\n            this.ganttChartModule.expandGanttRow(args);\n        }\n        else {\n            for (var i = 0; i < index.length; i++) {\n                if (typeof index[i] === 'number') {\n                    var ind = index[i];\n                    // eslint-disable-next-line\n                    var args = this.contructExpandCollapseArgs(null, ind);\n                    this.ganttChartModule.isExpandCollapseFromChart = true;\n                    this.ganttChartModule.expandGanttRow(args);\n                }\n            }\n        }\n    };\n    /**\n     * Expand the record by task id.\n     *\n     * @param {number} id - Defines the id of task.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.expandByID = function (id) {\n        // eslint-disable-next-line\n        var args = this.contructExpandCollapseArgs(id);\n        this.ganttChartModule.isExpandCollapseFromChart = true;\n        this.ganttChartModule.expandGanttRow(args);\n    };\n    /**\n     * Collapse the record by index value.\n     *\n     * @param {number} index - Defines the index of row.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.collapseByIndex = function (index) {\n        // eslint-disable-next-line\n        var args = this.contructExpandCollapseArgs(null, index);\n        this.ganttChartModule.isExpandCollapseFromChart = true;\n        this.ganttChartModule.collapseGanttRow(args);\n    };\n    /**\n     * Collapse the record by id value.\n     *\n     * @param {number} id - Defines the id of task.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.collapseByID = function (id) {\n        // eslint-disable-next-line\n        var args = this.contructExpandCollapseArgs(id);\n        this.ganttChartModule.isExpandCollapseFromChart = true;\n        this.ganttChartModule.collapseGanttRow(args);\n    };\n    /**\n     * Method to add record.\n     *\n     * @param {Object | IGanttData} data - Defines record to add.\n     * @param {RowPosition} rowPosition - Defines the position of row.\n     * @param {number} rowIndex - Defines the row index.\n     * @returns {void} .\n     * @public\n     */\n    // eslint-disable-next-line\n    Gantt.prototype.addRecord = function (data, rowPosition, rowIndex) {\n        if (this.editModule && this.editSettings.allowAdding) {\n            if (this.viewType === 'ResourceView') {\n                this.editModule.addRowPosition = rowPosition;\n                this.editModule.addRowIndex = rowIndex;\n                // eslint-disable-next-line\n                var resources = data[this.taskFields.resourceInfo];\n                var id = void 0;\n                var parentTask = void 0;\n                if (!isNullOrUndefined(resources) && resources.length) {\n                    for (var i = 0; i < resources.length; i++) {\n                        id = (typeof resources[i] === 'object') ? resources[i][this.resourceFields.id] :\n                            resources[0];\n                        parentTask = this.flatData[this.getTaskIds().indexOf('R' + id)];\n                        if (parentTask) {\n                            break;\n                        }\n                    }\n                    if (parentTask && parentTask.childRecords.length || parentTask.level === 0) {\n                        var dropChildRecord = parentTask.childRecords[rowIndex];\n                        if (dropChildRecord) {\n                            var position = rowPosition === 'Above' || rowPosition === 'Below' ? rowPosition :\n                                'Child';\n                            if (position === 'Child') {\n                                this.editModule.addRecord(data, position, this.getTaskIds().indexOf('R' + id));\n                            }\n                            else {\n                                this.editModule.addRecord(data, position, this.flatData.indexOf(dropChildRecord));\n                            }\n                        }\n                        else {\n                            this.editModule.addRecord(data, 'Child', this.getTaskIds().indexOf('R' + id));\n                        }\n                    }\n                    else {\n                        this.editModule.addRecord(data, 'Bottom');\n                    }\n                }\n                else {\n                    this.editModule.addRecord(data, 'Bottom');\n                }\n                this.editModule.addRowPosition = null;\n                this.editModule.addRowIndex = null;\n            }\n            else {\n                this.editModule.addRecord(data, rowPosition, rowIndex);\n            }\n        }\n    };\n    /**\n     * Method to update record by ID.\n     *\n     * @param  {Object} data - Defines the data to modify.\n     * @returns {void} .\n     * @public\n     */\n    // eslint-disable-next-line\n    Gantt.prototype.updateRecordByID = function (data) {\n        if (this.editModule && this.editSettings.allowEditing) {\n            this.editModule.updateRecordByID(data);\n        }\n    };\n    /**\n     * To update existing taskId with new unique Id.\n     *\n     * @param {number | string} currentId .\n     * @param {number | string} newId .\n     * @returns {void} .\n     */\n    Gantt.prototype.updateTaskId = function (currentId, newId) {\n        if (this.editModule && this.editSettings.allowEditing) {\n            this.editModule.updateTaskId(currentId, newId);\n        }\n    };\n    /**\n     * Public method to expand particular level of rows.\n     *\n     * @returns {void} .\n     * @param {number} level .\n     * @private\n     */\n    Gantt.prototype.expandAtLevel = function (level) {\n        this.ganttChartModule.expandAtLevel(level);\n    };\n    /**\n     * To indent the level of selected task to the hierarchical Gantt task.\n     *\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.indent = function () {\n        if (this.editModule && this.editSettings.allowEditing) {\n            this.editModule.indent();\n        }\n    };\n    /**\n     * To outdent the level of selected task from the hierarchical Gantt task.\n     *\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.outdent = function () {\n        if (this.editModule && this.editSettings.allowEditing) {\n            this.editModule.outdent();\n        }\n    };\n    /**\n     * To perform Zoom in action on Gantt timeline.\n     *\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.zoomIn = function () {\n        this.timelineModule.processZooming(true);\n    };\n    /**\n     * To perform zoom out action on Gantt timeline.\n     *\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.zoomOut = function () {\n        this.timelineModule.processZooming(false);\n    };\n    /**\n     * To show all project task in available chart width\n     *\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.fitToProject = function () {\n        this.timelineModule.processZoomToFit();\n        this.ganttChartModule.updateScrollLeft(0);\n    };\n    /**\n     * Reorder the rows based on given indexes and position\n     *\n     * @param {number[]} fromIndexes .\n     * @param {number} toIndex .\n     * @param {string} position .\n     * @returns {void} .\n     */\n    Gantt.prototype.reorderRows = function (fromIndexes, toIndex, position) {\n        this.rowDragAndDropModule.reorderRows(fromIndexes, toIndex, position);\n    };\n    /**\n     * Method to update record by Index.\n     *\n     * @param  {number} index - Defines the index of data to modify.\n     * @param  {object} data - Defines the data to modify.\n     * @returns {void} .\n     * @public\n     */\n    // eslint-disable-next-line\n    Gantt.prototype.updateRecordByIndex = function (index, data) {\n        if (this.editModule && this.editSettings.allowEditing) {\n            var tasks = this.taskFields;\n            var record = this.updatedRecords.length > 0 ?\n                !isNullOrUndefined(this.updatedRecords[index]) ? this.updatedRecords[index] : null : null;\n            if (!isNullOrUndefined(record)) {\n                data[tasks.id] = record[tasks.id];\n                this.editModule.updateRecordByID(data);\n            }\n        }\n    };\n    /**\n     * To add dependency for Task.\n     *\n     * @param  {number} id - Defines the ID of data to modify.\n     * @param  {string} predecessorString - Defines the predecessor string to add.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.addPredecessor = function (id, predecessorString) {\n        var ganttRecord = this.getRecordByID(id.toString());\n        if (this.editModule && !isNullOrUndefined(ganttRecord) && this.editSettings.allowTaskbarEditing) {\n            this.connectorLineEditModule.addPredecessor(ganttRecord, predecessorString);\n        }\n    };\n    /**\n     * To remove dependency from task.\n     *\n     * @param  {number} id - Defines the ID of task to modify.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.removePredecessor = function (id) {\n        var ganttRecord = this.getRecordByID(id.toString());\n        if (this.editModule && !isNullOrUndefined(ganttRecord) && this.editSettings.allowTaskbarEditing) {\n            this.connectorLineEditModule.removePredecessor(ganttRecord);\n        }\n    };\n    /**\n     * To modify current dependency values of Task by task id.\n     *\n     * @param  {number} id - Defines the ID of data to modify.\n     * @param  {string} predecessorString - Defines the predecessor string to update.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.updatePredecessor = function (id, predecessorString) {\n        var ganttRecord = this.getRecordByID(id.toString());\n        if (this.editModule && !isNullOrUndefined(ganttRecord) && this.editSettings.allowTaskbarEditing) {\n            this.connectorLineEditModule.updatePredecessor(ganttRecord, predecessorString);\n        }\n    };\n    /**\n     * Method to open Add dialog.\n     *\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.openAddDialog = function () {\n        if (this.editModule && this.editModule.dialogModule && this.editSettings.allowAdding) {\n            this.editModule.dialogModule.openAddDialog();\n        }\n    };\n    /**\n     * Method to open Edit dialog.\n     *\n     * @param {number } taskId - Defines the id of task.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.openEditDialog = function (taskId) {\n        if (this.editModule && this.editModule.dialogModule && this.editSettings.allowEditing) {\n            this.editModule.dialogModule.openEditDialog(taskId);\n        }\n    };\n    /**\n     * Changes the TreeGrid column positions by field names.\n     *\n     * @param {string | number} id .\n     * @param {number} index .\n     * @returns {void} .\n     * @private\n     */\n    // eslint-disable-next-line\n    Gantt.prototype.contructExpandCollapseArgs = function (id, index) {\n        var chartRow;\n        var record;\n        var rowIndex;\n        if (isNullOrUndefined(index)) {\n            record = this.getRecordByID(id.toString());\n            chartRow = this.getRowByID(id);\n            rowIndex = getValue('rowIndex', chartRow);\n        }\n        else if (!isNullOrUndefined(index)) {\n            chartRow = this.getRowByIndex(index);\n            rowIndex = getValue('rowIndex', chartRow);\n            record = this.currentViewData[rowIndex];\n        }\n        var gridRow = this.treeGrid.getRows()[rowIndex];\n        return { data: record, gridRow: gridRow, chartRow: chartRow, cancel: false };\n    };\n    /**\n     * Method to get chart row value by index.\n     *\n     * @param {number} index - Defines the index of row.\n     * @returns {HTMLElement} .\n     */\n    Gantt.prototype.getRowByIndex = function (index) {\n        try {\n            var gridRows = this.element.querySelectorAll('.e-chart-row');\n            if (!isNullOrUndefined(index)) {\n                return gridRows[index];\n            }\n            else {\n                return null;\n            }\n        }\n        catch (e) {\n            return null;\n        }\n    };\n    /**\n     * Method to get the row element by task id.\n     *\n     * @param {string | number} id - Defines the id of task.\n     * @returns {HTMLElement} .\n     */\n    Gantt.prototype.getRowByID = function (id) {\n        var record = this.getRecordByID(id.toString());\n        var index = this.updatedRecords.indexOf(record);\n        if (index !== -1) {\n            return this.getRowByIndex(index);\n        }\n        else {\n            return null;\n        }\n    };\n    /**\n     * Method to get class name for unscheduled tasks\n     *\n     * @param {ITaskData} ganttProp .\n     * @returns {string} .\n     * @private\n     */\n    Gantt.prototype.getUnscheduledTaskClass = function (ganttProp) {\n        if (isNullOrUndefined(ganttProp.startDate) && isNullOrUndefined(ganttProp.endDate) &&\n            isNullOrUndefined(ganttProp.duration)) {\n            return ' ' + cls.traceUnscheduledTask;\n        }\n        else if (isNullOrUndefined(ganttProp.startDate) || isNullOrUndefined(ganttProp.endDate) ||\n            isNullOrUndefined(ganttProp.duration)) {\n            return ' ' + cls.traceUnscheduledTask;\n        }\n        else {\n            return '';\n        }\n    };\n    /**\n     * Method to get class name for unscheduled tasks\n     *\n     * @param {ITaskData} ganttProp .\n     * @returns {boolean} .\n     * @private\n     */\n    Gantt.prototype.isUnscheduledTask = function (ganttProp) {\n        if (isNullOrUndefined(ganttProp.startDate) || isNullOrUndefined(ganttProp.endDate) ||\n            isNullOrUndefined(ganttProp.duration)) {\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    Gantt.prototype.createGanttPopUpElement = function () {\n        var popup = this.createElement('div', { className: 'e-ganttpopup', styles: 'display:none;' });\n        var content = this.createElement('div', { className: 'e-content', attrs: { tabIndex: '-1' } });\n        append([content, this.createElement('div', { className: 'e-uptail e-tail' })], popup);\n        content.appendChild(this.createElement('span'));\n        append([content, this.createElement('div', { className: 'e-downtail e-tail' })], popup);\n        document.getElementById(this.element.id + 'GanttChart').appendChild(popup);\n    };\n    /**\n     * Method to get predecessor value as string.\n     *\n     * @param {string} type .\n     * @returns {HTMLElement} .\n     * @private\n     */\n    Gantt.prototype.getPredecessorTextValue = function (type) {\n        var textValue;\n        switch (type) {\n            case 'SS':\n                textValue = this.localeObj.getConstant('start') + '-' + this.localeObj.getConstant('start');\n                break;\n            case 'FF':\n                textValue = this.localeObj.getConstant('finish') + '-' + this.localeObj.getConstant('finish');\n                break;\n            case 'SF':\n                textValue = this.localeObj.getConstant('start') + '-' + this.localeObj.getConstant('finish');\n                break;\n            case 'FS':\n                textValue = this.localeObj.getConstant('finish') + '-' + this.localeObj.getConstant('start');\n                break;\n        }\n        return textValue;\n    };\n    /**\n     * Method to perform search action in Gantt.\n     *\n     * @param {string} keyVal - Defines key value to search.\n     * @returns {void} .\n     */\n    Gantt.prototype.search = function (keyVal) {\n        if (this.filterModule) {\n            this.searchSettings.key = keyVal;\n            this.dataBind();\n        }\n    };\n    /**\n     * Method to get offset rect value\n     *\n     * @param {HTMLElement} element .\n     * @returns {number} .\n     * @hidden\n     */\n    Gantt.prototype.getOffsetRect = function (element) {\n        var box = element.getBoundingClientRect();\n        var scrollTop = window.pageYOffset || document.documentElement.scrollTop\n            || document.body.scrollTop;\n        var scrollLeft = window.pageXOffset || document.documentElement.scrollLeft ||\n            document.body.scrollLeft;\n        var clientTop = document.documentElement.clientTop || document.body.clientTop || 0;\n        var clientLeft = document.documentElement.clientLeft || document.body.clientLeft || 0;\n        var top = box.top + scrollTop - clientTop;\n        var left = box.left + scrollLeft - clientLeft;\n        return { top: Math.round(top), left: Math.round(left), width: box.width, height: box.height };\n    };\n    /**\n     * Method to expand all the rows of Gantt.\n     *\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.expandAll = function () {\n        this.ganttChartModule.expandCollapseAll('expand');\n    };\n    /**\n     * Method to update data source.\n     *\n     * @returns {void} .\n     * @param {object[]} dataSource - Defines a collection of data.\n     * @param {object} args - Defines the projectStartDate and projectEndDate values.\n     * @public\n     */\n    // eslint-disable-next-line\n    Gantt.prototype.updateDataSource = function (dataSource, args) {\n        if (!isNullOrUndefined(args)) {\n            // eslint-disable-next-line\n            for (var _i = 0, _a = Object.keys(args); _i < _a.length; _i++) {\n                var prop = _a[_i];\n                switch (prop) {\n                    case 'projectStartDate':\n                        this.setProperties({ projectStartDate: args[prop] }, true);\n                        break;\n                    case 'projectEndDate':\n                        this.setProperties({ projectEndDate: args[prop] }, true);\n                        break;\n                }\n            }\n        }\n        this.dataSource = dataSource;\n    };\n    /**\n     * Method to collapse all the rows of Gantt.\n     *\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.collapseAll = function () {\n        this.ganttChartModule.expandCollapseAll('collapse');\n    };\n    /**\n     * Gets the columns from the TreeGrid.\n     *\n     * @returns {Column[]} .\n     * @public\n     */\n    Gantt.prototype.getGridColumns = function () {\n        return this.treeGrid.getColumns();\n    };\n    /**\n     * Method to column from given column collection based on field value\n     *\n     * @param {string} field .\n     * @param {ColumnModel[]} columns .\n     * @returns {ColumnModel} .\n     * @private\n     */\n    Gantt.prototype.getColumnByField = function (field, columns) {\n        var column = columns.filter(function (value) {\n            return value.field === field;\n        });\n        return column.length > 0 ? column[0] : null;\n    };\n    /**\n     * Gets the Gantt columns.\n     *\n     * @returns {ColumnModel[]} .\n     * @public\n     */\n    Gantt.prototype.getGanttColumns = function () {\n        return this.ganttColumns;\n    };\n    /**\n     * Shows a column by its column name.\n     *\n     * @param  {string|string[]} keys - Defines a single or collection of column names.\n     * @param  {string} showBy - Defines the column key either as field name or header text.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.showColumn = function (keys, showBy) {\n        this.treeGrid.showColumns(keys, showBy);\n    };\n    /**\n     * Hides a column by column name.\n     *\n     * @param  {string|string[]} keys - Defines a single or collection of column names.\n     * @param  {string} hideBy - Defines the column key either as field name or header text.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.hideColumn = function (keys, hideBy) {\n        this.treeGrid.hideColumns(keys, hideBy);\n    };\n    /**\n     * To set scroll top for chart scroll container.\n     *\n     * @param {number} scrollTop - Defines scroll top value for scroll container.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.setScrollTop = function (scrollTop) {\n        this.ganttChartModule.scrollObject.setScrollTop(scrollTop);\n    };\n    /**\n     * Cancels edited state.\n     *\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.cancelEdit = function () {\n        this.isCancelled = true;\n        this.closeGanttActions();\n    };\n    /**\n     * Selects a cell by the given index.\n     *\n     * @param  {IIndex} cellIndex - Defines the row and column indexes.\n     * @param  {boolean} isToggle - If set to true, then it toggles the selection.\n     * @returns {void} .\n     */\n    Gantt.prototype.selectCell = function (cellIndex, isToggle) {\n        if (this.selectionModule) {\n            this.selectionModule.selectCell(cellIndex, isToggle);\n        }\n    };\n    /**\n     * Selects a collection of cells by row and column indexes.\n     *\n     * @param  {ISelectedCell[]} rowCellIndexes - Specifies the row and column indexes.\n     * @returns {void} .\n     */\n    Gantt.prototype.selectCells = function (rowCellIndexes) {\n        if (this.selectionModule) {\n            this.selectionModule.selectCells(rowCellIndexes);\n        }\n    };\n    /**\n     * Selects a row by given index.\n     *\n     * @param  {number} index - Defines the row index.\n     * @param  {boolean} isToggle - If set to true, then it toggles the selection.\n     * @returns {void} .\n     */\n    Gantt.prototype.selectRow = function (index, isToggle) {\n        if (this.selectionModule) {\n            this.selectionModule.selectRow(index, isToggle);\n        }\n    };\n    /**\n     * Selects a collection of rows by indexes.\n     *\n     * @param  {number[]} records - Defines the collection of row indexes.\n     * @returns {void} .\n     */\n    Gantt.prototype.selectRows = function (records) {\n        if (this.selectionModule) {\n            this.selectionModule.selectRows(records);\n        }\n    };\n    /**\n     * Method to delete record.\n     *\n     * @param {number | string } taskDetail - Defines the details of data to delete.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.deleteRecord = function (taskDetail) {\n        if (this.editModule) {\n            this.editModule.deleteRecord(taskDetail);\n        }\n    };\n    /**\n     * Enables or disables ToolBar items.\n     *\n     * @param {string[]} items - Defines the collection of itemID of ToolBar items.\n     * @param {boolean} isEnable - Defines the items to be enabled or disabled.\n     * @returns {void} .\n     */\n    Gantt.prototype.enableItems = function (items, isEnable) {\n        if (this.toolbarModule) {\n            this.toolbarModule.enableItems(items, isEnable);\n        }\n    };\n    /**\n     * Deselects the current selected rows and cells.\n     *\n     * @returns {void} .\n     */\n    Gantt.prototype.clearSelection = function () {\n        if (this.selectionModule) {\n            this.selectionModule.clearSelection();\n        }\n    };\n    /**\n     * @param {ITaskAddedEventArgs | IActionBeginEventArgs} args .\n     * @returns {ITaskAddedEventArgs | IActionBeginEventArgs} .\n     * @hidden\n     */\n    Gantt.prototype.updateDataArgs = function (args) {\n        if (!Array.isArray(args.data)) {\n            var customData = [];\n            customData.push(args.data);\n            setValue('data', customData, args);\n        }\n        return args;\n    };\n    /**\n     * Method to convert task data to milestone data.\n     *\n     * @param {string} id - Defines id of record.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.convertToMilestone = function (id) {\n        var rowData = this.getRecordByID(id);\n        if (!isNullOrUndefined(rowData)) {\n            // eslint-disable-next-line\n            var data = extend({}, {}, rowData.taskData, true);\n            var taskfields = this.taskFields;\n            if (!isNullOrUndefined(taskfields.duration)) {\n                data[taskfields.duration] = 0;\n            }\n            else {\n                data[taskfields.startDate] = new Date(rowData.taskData[taskfields.startDate]);\n                data[taskfields.endDate] = new Date(rowData.taskData[taskfields.startDate]);\n            }\n            if (!isNullOrUndefined(taskfields.milestone)) {\n                if (data[taskfields.milestone] === false) {\n                    data[taskfields.milestone] = true;\n                }\n            }\n            if (!isNullOrUndefined(taskfields.progress)) {\n                data[taskfields.progress] = 0;\n            }\n            if (!isNullOrUndefined(taskfields.child) && data[taskfields.child]) {\n                data[taskfields.child] = [];\n            }\n            if (!isNullOrUndefined(taskfields.parentID) && data[taskfields.parentID]) {\n                data[taskfields.parentID] = null;\n            }\n            if (!isNullOrUndefined(taskfields.segments)) {\n                data[taskfields.segments] = null;\n            }\n            if (!isNullOrUndefined(this.contextMenuModule) &&\n                this.contextMenuModule.isOpen &&\n                this.contextMenuModule.item === 'Milestone') {\n                if (!isNullOrUndefined(taskfields.dependency)) {\n                    data[taskfields.dependency] = null;\n                }\n                var position = 'Below';\n                this.addRecord(data, position);\n            }\n            else {\n                if (!rowData.hasChildRecords && !rowData.ganttProperties.isMilestone) {\n                    this.updateRecordByID(data);\n                }\n            }\n        }\n    };\n    /**\n     * To change the mode of a record.\n     *\n     * @param {object} data .\n     * @returns {void} .\n     */\n    // eslint-disable-next-line\n    Gantt.prototype.changeTaskMode = function (data) {\n        var tasks = this.taskFields;\n        var ganttData = this.getRecordByID(data[tasks.id]);\n        var ganttProp = ganttData.ganttProperties;\n        this.isOnEdit = true;\n        this.setRecordValue('isAutoSchedule', !ganttProp.isAutoSchedule, ganttProp, true);\n        this.setRecordValue('taskData.' + tasks.manual, !ganttProp.isAutoSchedule, ganttData);\n        this.setRecordValue(tasks.manual, !ganttProp.isAutoSchedule, ganttData);\n        this.editModule.updateTaskScheduleModes(ganttData);\n        var args = {\n            data: ganttData\n        };\n        this.editModule.initiateUpdateAction(args);\n    };\n    /**\n     * @returns {string[]} .\n     * @private\n     */\n    Gantt.prototype.getTaskIds = function () {\n        return this.taskIds;\n    };\n    /**\n     * @param {IGanttData} data .\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.setTaskIds = function (data) {\n        if (this.viewType !== 'ProjectView') {\n            var id = data.ganttProperties.taskId;\n            id = data.level === 0 ? 'R' + id : 'T' + id;\n            this.taskIds.push(id);\n        }\n    };\n    /**\n     * To render the react templates\n     *\n     * @returns {void} .\n     *  @hidden\n     */\n    Gantt.prototype.renderTemplates = function () {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (this.isReact) {\n            this.renderReactTemplates();\n        }\n    };\n    /**\n     * To reset the react templates\n     *\n     * @returns {void} .\n     *  @hidden\n     */\n    Gantt.prototype.resetTemplates = function () {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (this.isReact) {\n            this.clearTemplate();\n        }\n    };\n    __decorate([\n        Property(true)\n    ], Gantt.prototype, \"allowKeyboard\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"enableImmutableMode\", void 0);\n    __decorate([\n        Property(true)\n    ], Gantt.prototype, \"disableHtmlEncode\", void 0);\n    __decorate([\n        Property(true)\n    ], Gantt.prototype, \"autoFocusTasks\", void 0);\n    __decorate([\n        Property(true)\n    ], Gantt.prototype, \"allowSelection\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"allowSorting\", void 0);\n    __decorate([\n        Property(true)\n    ], Gantt.prototype, \"enablePredecessorValidation\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"showColumnMenu\", void 0);\n    __decorate([\n        Property()\n    ], Gantt.prototype, \"columnMenuItems\", void 0);\n    __decorate([\n        Property()\n    ], Gantt.prototype, \"timezone\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"collapseAllParentTasks\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"highlightWeekends\", void 0);\n    __decorate([\n        Property(0)\n    ], Gantt.prototype, \"treeColumnIndex\", void 0);\n    __decorate([\n        Property([])\n    ], Gantt.prototype, \"dataSource\", void 0);\n    __decorate([\n        Property('day')\n    ], Gantt.prototype, \"durationUnit\", void 0);\n    __decorate([\n        Property(null)\n    ], Gantt.prototype, \"query\", void 0);\n    __decorate([\n        Property(null)\n    ], Gantt.prototype, \"dateFormat\", void 0);\n    __decorate([\n        Property('auto')\n    ], Gantt.prototype, \"height\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"renderBaseline\", void 0);\n    __decorate([\n        Property('Horizontal')\n    ], Gantt.prototype, \"gridLines\", void 0);\n    __decorate([\n        Complex({}, LabelSettings)\n    ], Gantt.prototype, \"labelSettings\", void 0);\n    __decorate([\n        Property(null)\n    ], Gantt.prototype, \"taskbarTemplate\", void 0);\n    __decorate([\n        Property(null)\n    ], Gantt.prototype, \"parentTaskbarTemplate\", void 0);\n    __decorate([\n        Property(null)\n    ], Gantt.prototype, \"milestoneTemplate\", void 0);\n    __decorate([\n        Property()\n    ], Gantt.prototype, \"baselineColor\", void 0);\n    __decorate([\n        Property('auto')\n    ], Gantt.prototype, \"width\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"enableVirtualization\", void 0);\n    __decorate([\n        Property()\n    ], Gantt.prototype, \"toolbar\", void 0);\n    __decorate([\n        Property(['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday'])\n    ], Gantt.prototype, \"workWeek\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"includeWeekend\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"allowUnscheduledTasks\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"showInlineNotes\", void 0);\n    __decorate([\n        Property(36)\n    ], Gantt.prototype, \"rowHeight\", void 0);\n    __decorate([\n        Property(null)\n    ], Gantt.prototype, \"taskbarHeight\", void 0);\n    __decorate([\n        Property(null)\n    ], Gantt.prototype, \"projectStartDate\", void 0);\n    __decorate([\n        Property(null)\n    ], Gantt.prototype, \"projectEndDate\", void 0);\n    __decorate([\n        Property(null)\n    ], Gantt.prototype, \"resourceIDMapping\", void 0);\n    __decorate([\n        Property(null)\n    ], Gantt.prototype, \"resourceNameMapping\", void 0);\n    __decorate([\n        Property([])\n    ], Gantt.prototype, \"resources\", void 0);\n    __decorate([\n        Property([])\n    ], Gantt.prototype, \"segmentData\", void 0);\n    __decorate([\n        Property(null)\n    ], Gantt.prototype, \"connectorLineBackground\", void 0);\n    __decorate([\n        Property(1)\n    ], Gantt.prototype, \"connectorLineWidth\", void 0);\n    __decorate([\n        Property([])\n    ], Gantt.prototype, \"columns\", void 0);\n    __decorate([\n        Property([])\n    ], Gantt.prototype, \"addDialogFields\", void 0);\n    __decorate([\n        Property([])\n    ], Gantt.prototype, \"editDialogFields\", void 0);\n    __decorate([\n        Property(-1)\n    ], Gantt.prototype, \"selectedRowIndex\", void 0);\n    __decorate([\n        Property('hour')\n    ], Gantt.prototype, \"workUnit\", void 0);\n    __decorate([\n        Property('FixedUnit')\n    ], Gantt.prototype, \"taskType\", void 0);\n    __decorate([\n        Property('ProjectView')\n    ], Gantt.prototype, \"viewType\", void 0);\n    __decorate([\n        Collection([{ from: 8, to: 12 }, { from: 13, to: 17 }], DayWorkingTime)\n    ], Gantt.prototype, \"dayWorkingTime\", void 0);\n    __decorate([\n        Collection([], Holiday)\n    ], Gantt.prototype, \"holidays\", void 0);\n    __decorate([\n        Collection([], EventMarker)\n    ], Gantt.prototype, \"eventMarkers\", void 0);\n    __decorate([\n        Complex({}, TaskFields)\n    ], Gantt.prototype, \"taskFields\", void 0);\n    __decorate([\n        Complex({}, ResourceFields)\n    ], Gantt.prototype, \"resourceFields\", void 0);\n    __decorate([\n        Complex({}, TimelineSettings)\n    ], Gantt.prototype, \"timelineSettings\", void 0);\n    __decorate([\n        Complex({}, SortSettings)\n    ], Gantt.prototype, \"sortSettings\", void 0);\n    __decorate([\n        Complex({}, EditSettings)\n    ], Gantt.prototype, \"editSettings\", void 0);\n    __decorate([\n        Complex({}, TooltipSettings)\n    ], Gantt.prototype, \"tooltipSettings\", void 0);\n    __decorate([\n        Complex({}, SelectionSettings)\n    ], Gantt.prototype, \"selectionSettings\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"allowFiltering\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"allowExcelExport\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"allowRowDragAndDrop\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"allowReordering\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"readOnly\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"allowResizing\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"enableContextMenu\", void 0);\n    __decorate([\n        Property()\n    ], Gantt.prototype, \"contextMenuItems\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"allowPdfExport\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"validateManualTasksOnLinking\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"enableMultiTaskbar\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"showOverAllocation\", void 0);\n    __decorate([\n        Property('Auto')\n    ], Gantt.prototype, \"taskMode\", void 0);\n    __decorate([\n        Complex({}, FilterSettings)\n    ], Gantt.prototype, \"filterSettings\", void 0);\n    __decorate([\n        Complex({}, SearchSettings)\n    ], Gantt.prototype, \"searchSettings\", void 0);\n    __decorate([\n        Complex({}, SplitterSettings)\n    ], Gantt.prototype, \"splitterSettings\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"queryTaskbarInfo\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"beforeExcelExport\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"excelExportComplete\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"excelQueryCellInfo\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"excelHeaderQueryCellInfo\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"rowDrag\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"rowDragStart\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"rowDragStartHelper\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"rowDrop\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"collapsing\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"collapsed\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"expanding\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"expanded\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"actionBegin\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"actionComplete\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"actionFailure\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"dataStateChange\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"taskbarEdited\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"endEdit\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"cellEdit\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"load\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"destroyed\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"taskbarEditing\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"dataBound\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"resizeStart\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"resizing\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"resizeStop\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"splitterResizeStart\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"splitterResizing\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"splitterResized\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"columnDragStart\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"columnDrag\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"columnDrop\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"beforeTooltipRender\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"rowSelecting\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"rowSelected\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"rowDeselecting\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"rowDeselected\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"cellSelecting\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"cellSelected\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"cellDeselecting\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"cellDeselected\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"queryCellInfo\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"headerCellInfo\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"rowDataBound\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"columnMenuOpen\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"toolbarClick\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"columnMenuClick\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"contextMenuOpen\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"contextMenuClick\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"onTaskbarClick\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"recordDoubleClick\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"onMouseMove\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"beforePdfExport\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"pdfExportComplete\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"pdfQueryCellInfo\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"pdfQueryTaskbarInfo\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"pdfQueryTimelineCellInfo\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"pdfColumnHeaderQueryCellInfo\", void 0);\n    Gantt = __decorate([\n        NotifyPropertyChanges\n    ], Gantt);\n    return Gantt;\n}(Component));\nexport { Gantt };\n","/**\n * public Enum for `PdfHorizontalOverflowType`.\n *\n * @private\n */\nexport var PdfHorizontalOverflowType;\n(function (PdfHorizontalOverflowType) {\n    /**\n     * Specifies the type of `NextPage`.\n     *\n     * @private\n     */\n    PdfHorizontalOverflowType[PdfHorizontalOverflowType[\"NextPage\"] = 0] = \"NextPage\";\n    /**\n     * Specifies the type of `LastPage`.\n     *\n     * @private\n     */\n    PdfHorizontalOverflowType[PdfHorizontalOverflowType[\"LastPage\"] = 1] = \"LastPage\";\n})(PdfHorizontalOverflowType || (PdfHorizontalOverflowType = {}));\n","/**\n *  This file was to define all public and internal events\n */\n/** @hidden */\nexport var load = 'load';\n/** @hidden */\nexport var rowDataBound = 'rowDataBound';\n/** @hidden */\nexport var queryCellInfo = 'queryCellInfo';\n/** @hidden */\nexport var toolbarClick = 'toolbarClick';\n/** @hidden */\nexport var keyPressed = 'key-pressed';\n","import { isNullOrUndefined as isNOU, getValue, isBlazor, getElement, extend, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { TreeGrid, Edit } from '@syncfusion/ej2-treegrid';\nimport { Deferred } from '@syncfusion/ej2-data';\n/**\n * To handle cell edit action on default columns and custom columns\n */\nvar CellEdit = /** @class */ (function () {\n    function CellEdit(ganttObj) {\n        /**\n         * @private\n         */\n        this.isCellEdit = false;\n        this.parent = ganttObj;\n        this.bindTreeGridProperties();\n    }\n    /**\n     * Bind all editing related properties from Gantt to TreeGrid\n     *\n     * @returns {void} .\n     */\n    CellEdit.prototype.bindTreeGridProperties = function () {\n        this.parent.treeGrid.editSettings.allowEditing = this.parent.editSettings.allowEditing;\n        this.parent.treeGrid.editSettings.allowNextRowEdit = this.parent.editSettings.allowNextRowEdit;\n        this.parent.treeGrid.editSettings.mode = 'Cell';\n        this.parent.treeGrid.cellEdit = this.ensureEditCell.bind(this);\n        if (this.parent.editSettings.allowEditing) {\n            TreeGrid.Inject(Edit);\n        }\n    };\n    /**\n     * Ensure current cell was editable or not\n     *\n     * @param {CellEditArgs} args .\n     * @returns {void | Deferred} .\n     */\n    CellEdit.prototype.ensureEditCell = function (args) {\n        var _this = this;\n        var data = args.rowData;\n        var field = args.columnName;\n        this.editedColumn = this.parent.getColumnByField(field, this.parent.ganttColumns);\n        var taskSettings = this.parent.taskFields;\n        if (this.parent.readOnly) {\n            args.cancel = true;\n            return;\n        }\n        if (this.parent.editSettings.mode === 'Dialog') {\n            args.cancel = true;\n            return;\n        }\n        if (data.hasChildRecords && (field === taskSettings.endDate || field === taskSettings.duration\n            || field === taskSettings.dependency || field === taskSettings.progress\n            || field === taskSettings.work || field === 'taskType')) {\n            args.cancel = true;\n        }\n        else {\n            var callBackPromise_1 = new Deferred();\n            this.parent.trigger('cellEdit', args, function (arg) {\n                if (isBlazor()) {\n                    arg.cell = getElement(arg.cell);\n                    arg.row = getElement(arg.row);\n                }\n                if (data.level === 0 && _this.parent.viewType === 'ResourceView') {\n                    arg.cancel = true;\n                }\n                callBackPromise_1.resolve(arg);\n                if (!arg.cancel) {\n                    if (arg.columnName === _this.parent.taskFields.notes) {\n                        _this.openNotesEditor(arg);\n                    }\n                    else {\n                        _this.isCellEdit = true;\n                        if (!isNOU(_this.parent.toolbarModule)) {\n                            _this.parent.toolbarModule.refreshToolbarItems();\n                        }\n                    }\n                }\n            });\n            return callBackPromise_1;\n        }\n    };\n    /**\n     * To render edit dialog and to focus on notes tab\n     *\n     * @param {CellEditArgs} args .\n     * @returns {void} .\n     */\n    CellEdit.prototype.openNotesEditor = function (args) {\n        var taskSettings = this.parent.taskFields;\n        var data = args.rowData;\n        var field = args.columnName;\n        if ((field === taskSettings.notes && !this.parent.showInlineNotes)) {\n            args.cancel = true;\n            var columnTypes = this.parent.editModule.dialogModule.updatedEditFields.map(function (x) { return x.type; });\n            var index = columnTypes.indexOf('Notes');\n            if (index !== -1) {\n                this.parent.editModule.dialogModule.openEditDialog(data.ganttProperties.rowUniqueID);\n                var tabObj = document.getElementById(this.parent.element.id + '_Tab').ej2_instances[0];\n                tabObj.selectedItem = index;\n            }\n        }\n        if (field === taskSettings.notes && this.parent.showInlineNotes === true) {\n            this.isCellEdit = true;\n        }\n    };\n    CellEdit.prototype.isValueChange = function (args, field) {\n        var data = getValue('data', args);\n        var editedValue = data[field];\n        var previousValue = getValue('previousData', args);\n        if ((isNOU(editedValue) && !isNOU(previousValue)) || (!isNOU(editedValue) && isNOU(previousValue))) {\n            return true;\n        }\n        else if (!isNOU(editedValue) && !isNOU(previousValue)) {\n            if (editedValue instanceof Date) {\n                return editedValue.getTime() !== data.taskData[field].getTime() ? true : false;\n            }\n            else if (field === this.parent.taskFields.resourceInfo) {\n                return editedValue !== previousValue ? true : false;\n            }\n            else if (editedValue !== data.taskData[field]) {\n                return true;\n            }\n        }\n        return false;\n    };\n    /**\n     * Initiate cell save action on Gantt with arguments from TreeGrid\n     *\n     * @param {object} args .\n     * @param {object} editedObj .\n     * @returns {void} .\n     * @private\n     */\n    // eslint-disable-next-line\n    CellEdit.prototype.initiateCellEdit = function (args, editedObj) {\n        var column = getValue('column', args);\n        var data = getValue('data', args);\n        var editedArgs = {};\n        editedArgs.action = 'CellEditing';\n        editedArgs.data = this.parent.getTaskByUniqueID(data.uniqueID);\n        var previousValue = getValue('previousData', args);\n        // eslint-disable-next-line\n        var editedValue = this.parent.allowUnscheduledTasks ? data[column.field] : ((isNullOrUndefined(data[column.field])\n            || data[column.field] === '') && (this.parent.taskFields.duration === column.field ||\n            this.parent.taskFields.startDate === column.field || this.parent.taskFields.endDate === column.field)) ? previousValue\n            : data[column.field];\n        if (!isNOU(data)) {\n            data[column.field] = previousValue;\n            editedArgs.data[column.field] = previousValue;\n            this.parent.initiateEditAction(true);\n            this.parent.setRecordValue(column.field, editedValue, editedArgs.data);\n            if (column.field === this.parent.taskFields.name) {\n                this.taskNameEdited(editedArgs);\n            }\n            else if (column.field === this.parent.taskFields.startDate) {\n                this.startDateEdited(editedArgs);\n            }\n            else if (column.field === this.parent.taskFields.endDate) {\n                this.endDateEdited(editedArgs);\n            }\n            else if (column.field === this.parent.taskFields.duration) {\n                this.durationEdited(editedArgs);\n            }\n            else if (column.field === this.parent.taskFields.resourceInfo) {\n                this.resourceEdited(editedArgs, editedObj, data);\n            }\n            else if (column.field === this.parent.taskFields.progress) {\n                this.progressEdited(editedArgs);\n            }\n            else if (column.field === this.parent.taskFields.baselineStartDate\n                || column.field === this.parent.taskFields.baselineEndDate) {\n                this.baselineEdited(editedArgs);\n            }\n            else if (column.field === this.parent.taskFields.dependency) {\n                this.dependencyEdited(editedArgs, previousValue);\n            }\n            else if (column.field === this.parent.taskFields.notes) {\n                this.notedEdited(editedArgs);\n            }\n            else if (column.field === this.parent.taskFields.work) {\n                this.workEdited(editedArgs);\n            }\n            else if (column.field === 'taskType' && !isNOU(this.parent.taskFields.work)) {\n                this.typeEdited(editedArgs, editedObj);\n            }\n            else if (column.field === this.parent.taskFields.manual) {\n                this.taskmodeEdited(editedArgs);\n            }\n            else {\n                this.parent.setRecordValue('taskData.' + column.field, editedArgs.data[column.field], editedArgs.data);\n                this.parent.editModule.initiateSaveAction(editedArgs);\n            }\n        }\n        else {\n            this.parent.editModule.endEditAction(args);\n        }\n        this.isCellEdit = false;\n        if (!isNOU(this.parent.toolbarModule)) {\n            this.parent.toolbarModule.refreshToolbarItems();\n        }\n    };\n    /**\n     * To update task name cell with new value\n     *\n     * @param {ITaskbarEditedEventArgs} args .\n     * @returns {void} .\n     */\n    CellEdit.prototype.taskNameEdited = function (args) {\n        this.parent.setRecordValue('taskData.' + this.parent.taskFields.name, args.data[this.parent.taskFields.name], args.data);\n        this.parent.setRecordValue('taskName', args.data[this.parent.taskFields.name], args.data.ganttProperties, true);\n        this.updateEditedRecord(args);\n    };\n    /**\n     * To update task notes cell with new value\n     *\n     * @param {ITaskbarEditedEventArgs} args .\n     * @returns {void} .\n     */\n    CellEdit.prototype.notedEdited = function (args) {\n        this.parent.setRecordValue('taskData.' + this.parent.taskFields.notes, args.data[this.parent.taskFields.name], args.data);\n        this.parent.setRecordValue('notes', args.data[this.parent.taskFields.notes], args.data.ganttProperties, true);\n        this.updateEditedRecord(args);\n    };\n    /**\n     * To update task schedule mode cell with new value\n     *\n     * @param {ITaskbarEditedEventArgs} args .\n     * @returns {void} .\n     */\n    CellEdit.prototype.taskmodeEdited = function (args) {\n        this.parent.setRecordValue('isAutoSchedule', !args.data[this.parent.taskFields.manual], args.data.ganttProperties, true);\n        this.parent.editModule.updateTaskScheduleModes(args.data);\n        this.updateEditedRecord(args);\n    };\n    /**\n     * To update task start date cell with new value\n     *\n     * @param {ITaskbarEditedEventArgs} args .\n     * @returns {void} .\n     */\n    CellEdit.prototype.startDateEdited = function (args) {\n        var ganttData = args.data;\n        var ganttProb = args.data.ganttProperties;\n        var currentValue = args.data[this.parent.taskFields.startDate];\n        currentValue = currentValue ? new Date(currentValue.getTime()) : null;\n        currentValue = this.parent.dateValidationModule.checkStartDate(currentValue);\n        if (isNOU(currentValue)) {\n            if (!ganttData.hasChildRecords) {\n                this.parent.setRecordValue('startDate', null, ganttProb, true);\n                this.parent.setRecordValue('duration', null, ganttProb, true);\n                this.parent.setRecordValue('isMilestone', false, ganttProb, true);\n                if (this.parent.allowUnscheduledTasks && isNOU(this.parent.taskFields.endDate)) {\n                    this.parent.setRecordValue('endDate', null, ganttProb, true);\n                }\n            }\n        }\n        else if (ganttProb.endDate || !isNOU(ganttProb.duration)) {\n            this.parent.setRecordValue('startDate', new Date(currentValue.getTime()), ganttProb, true);\n            this.parent.dateValidationModule.calculateEndDate(ganttData);\n        }\n        else if (isNOU(ganttProb.endDate) && isNOU(ganttProb.duration)) {\n            this.parent.setRecordValue('startDate', new Date(currentValue.getTime()), ganttProb, true);\n        }\n        this.parent.setRecordValue('isMilestone', ganttProb.duration === 0 ? true : false, ganttProb, true);\n        this.parent.dataOperation.updateWidthLeft(args.data);\n        this.parent.dataOperation.updateMappingData(ganttData, 'startDate');\n        this.parent.dataOperation.updateMappingData(ganttData, 'endDate');\n        this.parent.dataOperation.updateMappingData(ganttData, 'duration');\n        this.updateEditedRecord(args);\n    };\n    CellEdit.prototype.validateEndDateWithSegments = function (ganttProp) {\n        var ganttSegments = [];\n        var segments = ganttProp.segments;\n        for (var i = 0; i < segments.length; i++) {\n            var segment = segments[i];\n            var endDate = segment.endDate;\n            endDate = (!isNullOrUndefined(ganttProp.endDate)) && endDate.getTime() <\n                ganttProp.endDate.getTime() && i !== segments.length - 1 ? endDate : ganttProp.endDate;\n            segment.duration = this.parent.dataOperation.getDuration(segment.startDate, endDate, ganttProp.durationUnit, ganttProp.isAutoSchedule, ganttProp.isMilestone);\n            if (segments.length > 0 && endDate.getTime() < segment.startDate.getTime()\n                && endDate.getTime() <= ganttProp.endDate.getTime()) {\n                segments[i - 1].duration = this.parent.dataOperation.getDuration(segments[i - 1].startDate, ganttProp.endDate, ganttProp.durationUnit, ganttProp.isAutoSchedule, ganttProp.isMilestone);\n                continue;\n            }\n            ganttSegments.push(segment);\n        }\n        return ganttSegments;\n    };\n    /**\n     * To update task end date cell with new value\n     *\n     * @param {ITaskbarEditedEventArgs} args .\n     * @returns {void} .\n     */\n    CellEdit.prototype.endDateEdited = function (args) {\n        var ganttProb = args.data.ganttProperties;\n        var currentValue = args.data[this.parent.taskFields.endDate];\n        currentValue = currentValue ? new Date(currentValue.getTime()) : null;\n        if (isNOU(currentValue)) {\n            this.parent.setRecordValue('endDate', currentValue, ganttProb, true);\n            this.parent.setRecordValue('duration', null, ganttProb, true);\n            this.parent.setRecordValue('isMilestone', false, ganttProb, true);\n        }\n        else {\n            if ((currentValue.getHours() === 0 && this.parent.defaultEndTime !== 86400)) {\n                this.parent.dateValidationModule.setTime(this.parent.defaultEndTime, currentValue);\n            }\n            currentValue = this.parent.dateValidationModule.checkEndDate(currentValue, ganttProb);\n            this.parent.setRecordValue('endDate', currentValue, ganttProb, true);\n            if (!isNOU(ganttProb.startDate) && isNOU(ganttProb.duration)) {\n                if (this.parent.dateValidationModule.compareDates(ganttProb.endDate, ganttProb.startDate) === -1) {\n                    this.parent.setRecordValue('endDate', new Date(ganttProb.startDate.getTime()), ganttProb, true);\n                    this.parent.dateValidationModule.setTime(this.parent.defaultEndTime, ganttProb.endDate);\n                }\n            }\n            else if (!isNOU(ganttProb.duration) && isNOU(ganttProb.startDate)) {\n                this.parent.setRecordValue('startDate', this.parent.dateValidationModule.getStartDate(ganttProb.endDate, ganttProb.duration, ganttProb.durationUnit, ganttProb), ganttProb, true);\n            }\n            if (!isNullOrUndefined(ganttProb.segments)) {\n                ganttProb.segments = this.validateEndDateWithSegments(ganttProb);\n            }\n            if (this.compareDatesFromRecord(ganttProb) === -1) {\n                this.parent.dateValidationModule.calculateDuration(args.data);\n            }\n            else {\n                this.parent.editModule.revertCellEdit(args);\n            }\n            this.parent.setRecordValue('isMilestone', (ganttProb.duration === 0 ? true : false), ganttProb, true);\n            if (ganttProb.isMilestone) {\n                this.parent.setRecordValue('startDate', this.parent.dateValidationModule.checkStartDate(ganttProb.startDate, ganttProb), ganttProb, true);\n            }\n        }\n        if (!isNullOrUndefined(args.data.ganttProperties.segments) && args.data.ganttProperties.segments.length > 0) {\n            this.parent.setRecordValue('segments', this.parent.dataOperation.setSegmentsInfo(args.data, false), args.data.ganttProperties, true);\n            this.parent.dataOperation.updateMappingData(args.data, 'segments');\n        }\n        this.parent.dataOperation.updateWidthLeft(args.data);\n        this.parent.dataOperation.updateMappingData(args.data, 'startDate');\n        this.parent.dataOperation.updateMappingData(args.data, 'endDate');\n        this.parent.dataOperation.updateMappingData(args.data, 'duration');\n        this.parent.editModule.updateResourceRelatedFields(args.data, 'endDate');\n        this.updateEditedRecord(args);\n    };\n    /**\n     * To update duration cell with new value\n     *\n     * @param {ITaskbarEditedEventArgs} args .\n     * @returns {void} .\n     */\n    CellEdit.prototype.durationEdited = function (args) {\n        var ganttProb = args.data.ganttProperties;\n        var durationString = args.data[this.parent.taskFields.duration];\n        this.parent.dataOperation.updateDurationValue(durationString, ganttProb);\n        this.updateDates(args);\n        this.parent.editModule.updateResourceRelatedFields(args.data, 'duration');\n        this.updateEditedRecord(args);\n    };\n    /**\n     * To update start date, end date based on duration\n     *\n     * @param {ITaskbarEditedEventArgs} args .\n     * @returns {void} .\n     */\n    CellEdit.prototype.updateDates = function (args) {\n        var ganttProb = args.data.ganttProperties;\n        var endDate = this.parent.dateValidationModule.getDateFromFormat(ganttProb.endDate);\n        var startDate = this.parent.dateValidationModule.getDateFromFormat(ganttProb.startDate);\n        var currentDuration = ganttProb.duration;\n        if (isNOU(currentDuration)) {\n            this.parent.setRecordValue('isMilestone', false, ganttProb, true);\n            this.parent.setRecordValue('endDate', null, ganttProb, true);\n        }\n        else {\n            if (isNOU(startDate) && !isNOU(endDate)) {\n                this.parent.setRecordValue('startDate', this.parent.dateValidationModule.getStartDate(endDate, currentDuration, ganttProb.durationUnit, ganttProb), ganttProb, true);\n            }\n            if (currentDuration !== 0 && ganttProb.isMilestone) {\n                this.parent.setRecordValue('isMilestone', false, ganttProb, true);\n                this.parent.setRecordValue('startDate', this.parent.dateValidationModule.checkStartDate(ganttProb.startDate, ganttProb), ganttProb, true);\n            }\n            if (!isNullOrUndefined(ganttProb.segments) && ganttProb.segments.length > 0) {\n                this.parent.setRecordValue('segments', this.parent.dataOperation.setSegmentsInfo(args.data, false), ganttProb, true);\n                this.parent.dataOperation.updateMappingData(args.data, 'segments');\n            }\n            this.parent.setRecordValue('isMilestone', (ganttProb.duration === 0 ? true : false), ganttProb, true);\n            this.parent.dateValidationModule.calculateEndDate(args.data);\n        }\n        this.parent.dataOperation.updateWidthLeft(args.data);\n        this.parent.dataOperation.updateMappingData(args.data, 'endDate');\n        this.parent.dataOperation.updateMappingData(args.data, 'startDate');\n        this.parent.dataOperation.updateMappingData(args.data, 'duration');\n    };\n    /**\n     * To update progress cell with new value\n     *\n     * @param {ITaskbarEditedEventArgs} args .\n     * @returns {void} .\n     */\n    CellEdit.prototype.progressEdited = function (args) {\n        var ganttRecord = args.data;\n        this.parent.setRecordValue('progress', (ganttRecord[this.parent.taskFields.progress] > 100 ? 100 : ganttRecord[this.parent.taskFields.progress]), ganttRecord.ganttProperties, true);\n        this.parent.setRecordValue('taskData.' + this.parent.taskFields.progress, (ganttRecord[this.parent.taskFields.progress] > 100 ? 100 : ganttRecord[this.parent.taskFields.progress]), args.data);\n        if (!isNullOrUndefined(args.data.ganttProperties.segments) && args.data.ganttProperties.segments.length > 0) {\n            this.parent.editModule.taskbarEditModule.updateSegmentProgress(args.data.ganttProperties);\n        }\n        if (!args.data.hasChildRecords) {\n            var width = ganttRecord.ganttProperties.isAutoSchedule ? ganttRecord.ganttProperties.width :\n                ganttRecord.ganttProperties.autoWidth;\n            this.parent.setRecordValue('progressWidth', this.parent.dataOperation.getProgressWidth(width, ganttRecord.ganttProperties.progress), ganttRecord.ganttProperties, true);\n        }\n        this.updateEditedRecord(args);\n    };\n    /**\n     * To update baselines with new baseline start date and baseline end date\n     *\n     * @param {ITaskbarEditedEventArgs} args .\n     * @returns {void} .\n     */\n    CellEdit.prototype.baselineEdited = function (args) {\n        var ganttRecord = args.data.ganttProperties;\n        var baseLineStartDate = args.data[this.parent.taskFields.baselineStartDate];\n        var baseLineEndDate = args.data[this.parent.taskFields.baselineEndDate];\n        if (baseLineEndDate && baseLineEndDate.getHours() === 0 && this.parent.defaultEndTime !== 86400) {\n            this.parent.dateValidationModule.setTime(this.parent.defaultEndTime, baseLineEndDate);\n        }\n        this.parent.setRecordValue('baselineStartDate', this.parent.dateValidationModule.checkBaselineStartDate(baseLineStartDate), ganttRecord, true);\n        this.parent.setRecordValue('baselineEndDate', this.parent.dateValidationModule.checkBaselineEndDate(baseLineEndDate), ganttRecord, true);\n        if (ganttRecord.baselineStartDate && ganttRecord.baselineEndDate) {\n            this.parent.setRecordValue('baselineLeft', this.parent.dataOperation.calculateBaselineLeft(ganttRecord), ganttRecord, true);\n            this.parent.setRecordValue('baselineWidth', this.parent.dataOperation.calculateBaselineWidth(ganttRecord), ganttRecord, true);\n        }\n        this.updateEditedRecord(args);\n    };\n    /**\n     * To update task's resource cell with new value\n     *\n     * @param {ITaskbarEditedEventArgs} args .\n     * @param {object} editedObj .\n     * @param {IGanttData} previousData .\n     * @returns {void} .\n     */\n    // eslint-disable-next-line\n    CellEdit.prototype.resourceEdited = function (args, editedObj, previousData) {\n        var resourceSettings = this.parent.resourceFields;\n        var editedResourceId = editedObj[this.parent.taskFields.resourceInfo];\n        if (editedResourceId) {\n            // eslint-disable-next-line\n            var tempResourceInfo = this.parent.dataOperation.setResourceInfo(editedObj);\n            var editedResouceLength = tempResourceInfo.length;\n            // eslint-disable-next-line\n            var previousResource = previousData.ganttProperties.resourceInfo;\n            var index = void 0;\n            // eslint-disable-next-line\n            var editedResources = [];\n            // eslint-disable-next-line\n            var resourceData = this.parent.resources;\n            var newIndex = void 0;\n            var _loop_1 = function (count) {\n                if (previousResource) {\n                    var previousResourceLength = previousResource.length;\n                    for (newIndex = 0; newIndex < previousResourceLength; newIndex++) {\n                        if (previousResource[newIndex][resourceSettings.id] === editedResourceId[count]) {\n                            index = newIndex;\n                            break;\n                        }\n                        else {\n                            index = -1;\n                        }\n                    }\n                }\n                if (!isNOU(index) && index !== -1) {\n                    editedResources.push(previousResource[index]);\n                }\n                else {\n                    // eslint-disable-next-line\n                    var resource = resourceData.filter(function (resourceInfo) {\n                        return (editedResourceId[count] === resourceInfo[resourceSettings.id]);\n                    });\n                    // eslint-disable-next-line\n                    var ganttDataResource = extend({}, resource[0]);\n                    ganttDataResource[resourceSettings.unit] = 100;\n                    editedResources.push(ganttDataResource);\n                }\n            };\n            for (var count = 0; count < editedResouceLength; count++) {\n                _loop_1(count);\n            }\n            args.data.ganttProperties.resourceInfo = editedResources;\n            this.parent.dataOperation.updateMappingData(args.data, 'resourceInfo');\n            this.parent.editModule.updateResourceRelatedFields(args.data, 'resource');\n            if (this.parent.viewType === 'ResourceView') {\n                this.parent.editModule.dialogModule.isResourceUpdate = true;\n                this.parent.editModule.dialogModule.previousResource = previousResource;\n            }\n            this.updateEditedRecord(args);\n        }\n    };\n    /**\n     * To update task's predecessor cell with new value\n     *\n     * @param {ITaskbarEditedEventArgs} editedArgs .\n     * @param {object} cellEditArgs .\n     * @returns {void} .\n     */\n    // eslint-disable-next-line\n    CellEdit.prototype.dependencyEdited = function (editedArgs, cellEditArgs) {\n        this.parent.predecessorModule.updateUnscheduledDependency(editedArgs.data);\n        if (!this.parent.connectorLineEditModule.updatePredecessor(editedArgs.data, editedArgs.data[this.parent.taskFields.dependency], editedArgs)) {\n            this.parent.editModule.revertCellEdit(cellEditArgs);\n        }\n    };\n    /**\n     * To update task's work cell with new value\n     *\n     * @param {ITaskbarEditedEventArgs} editedArgs .\n     * @returns {void} .\n     */\n    CellEdit.prototype.workEdited = function (editedArgs) {\n        var ganttProb = editedArgs.data.ganttProperties;\n        var workValue = editedArgs.data[this.parent.taskFields.work];\n        this.parent.setRecordValue('work', workValue, ganttProb, true);\n        this.parent.editModule.updateResourceRelatedFields(editedArgs.data, 'work');\n        this.updateDates(editedArgs);\n        this.updateEditedRecord(editedArgs);\n    };\n    /**\n     * To update task type cell with new value\n     *\n     * @param {ITaskbarEditedEventArgs} args .\n     * @param {object} editedObj .\n     * @returns {void} .\n     */\n    // eslint-disable-next-line\n    CellEdit.prototype.typeEdited = function (args, editedObj) {\n        var key = 'taskType';\n        var ganttProb = args.data.ganttProperties;\n        var taskType = editedObj[key];\n        this.parent.setRecordValue('taskType', taskType, ganttProb, true);\n        //this.parent.dataOperation.updateMappingData(args.data, 'taskType');\n        this.updateEditedRecord(args);\n    };\n    /**\n     * To compare start date and end date from Gantt record\n     *\n     * @param {ITaskData} ganttRecord .\n     * @returns {number} .\n     */\n    CellEdit.prototype.compareDatesFromRecord = function (ganttRecord) {\n        var sDate = this.parent.dateValidationModule.getValidStartDate(ganttRecord);\n        var eDate = this.parent.dateValidationModule.getValidEndDate(ganttRecord);\n        return this.parent.dateValidationModule.compareDates(sDate, eDate);\n    };\n    /**\n     * To start method save action with edited cell value\n     *\n     * @param {ITaskbarEditedEventArgs} args .\n     * @returns {void} .\n     */\n    CellEdit.prototype.updateEditedRecord = function (args) {\n        this.parent.editModule.initiateUpdateAction(args);\n    };\n    /**\n     * To remove all public private properties\n     *\n     * @returns {void} .\n     * @private\n     */\n    CellEdit.prototype.destroy = function () {\n        // Destroy Method\n        this.parent.editModule.cellEditModule = undefined;\n    };\n    return CellEdit;\n}());\nexport { CellEdit };\n","import { getValue, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { Tooltip } from '@syncfusion/ej2-popups';\nimport * as cls from '../base/css-constants';\n/**\n * File for handling taskbar editing tooltip in Gantt.\n */\nvar EditTooltip = /** @class */ (function () {\n    function EditTooltip(gantt, taskbarEdit) {\n        this.parent = gantt;\n        this.taskbarEdit = taskbarEdit;\n    }\n    /**\n     * To create tooltip.\n     *\n     * @param {string} opensOn .\n     * @param {boolean} mouseTrail .\n     * @param {string} target .\n     * @returns {void}\n     * @private\n     */\n    EditTooltip.prototype.createTooltip = function (opensOn, mouseTrail, target) {\n        var _this = this;\n        this.toolTipObj = new Tooltip({\n            opensOn: opensOn,\n            position: 'TopRight',\n            mouseTrail: mouseTrail,\n            cssClass: cls.ganttTooltip,\n            target: target ? target : null,\n            animation: { open: { effect: 'None' }, close: { effect: 'None' } }\n        });\n        this.toolTipObj.beforeRender = function (args) {\n            var argsData = {\n                data: _this.taskbarEdit.taskBarEditRecord,\n                args: args,\n                content: _this.toolTipObj.content\n            };\n            _this.parent.trigger('beforeTooltipRender', argsData);\n        };\n        this.toolTipObj.afterOpen = function (args) {\n            _this.updateTooltipPosition(args);\n        };\n        this.toolTipObj.isStringTemplate = true;\n        this.toolTipObj.appendTo(this.parent.chartPane);\n    };\n    /**\n     * Method to update tooltip position\n     *\n     * @param {TooltipEventArgs} args .\n     * @returns {void} .\n     */\n    EditTooltip.prototype.updateTooltipPosition = function (args) {\n        var containerPosition = this.parent.getOffsetRect(this.parent.chartPane);\n        var leftEnd = containerPosition.left + this.parent.chartPane.offsetWidth;\n        var tooltipPositionX = args.element.offsetLeft;\n        if (leftEnd < (tooltipPositionX + args.element.offsetWidth)) {\n            tooltipPositionX += leftEnd - (tooltipPositionX + args.element.offsetWidth);\n        }\n        args.element.style.left = tooltipPositionX + 'px';\n    };\n    /**\n     * To show/hide taskbar edit tooltip.\n     *\n     * @param {boolean} bool .\n     * @param {number} segmentIndex .\n     * @returns {void}\n     * @private\n     */\n    EditTooltip.prototype.showHideTaskbarEditTooltip = function (bool, segmentIndex) {\n        if (bool && this.parent.tooltipSettings.showTooltip) {\n            this.createTooltip('Custom', false);\n            this.parent.tooltipModule.toolTipObj.close();\n            this.updateTooltip(segmentIndex);\n            if (this.taskbarEdit.connectorSecondAction === 'ConnectorPointLeftDrag') {\n                this.toolTipObj.open(this.taskbarEdit.connectorSecondElement.querySelector('.' + cls.connectorPointLeft));\n            }\n            else if (this.taskbarEdit.connectorSecondAction === 'ConnectorPointRightDrag') {\n                this.toolTipObj.open(this.taskbarEdit.connectorSecondElement.querySelector('.' + cls.connectorPointRight));\n            }\n            else {\n                this.toolTipObj.open(this.taskbarEdit.taskBarEditElement);\n            }\n        }\n        else if (!isNullOrUndefined(this.toolTipObj)) {\n            this.toolTipObj.destroy();\n            this.toolTipObj = null;\n        }\n    };\n    /**\n     * To update tooltip content and position.\n     *\n     * @param {number} segmentIndex .\n     * @returns {void} .\n     * @private\n     */\n    EditTooltip.prototype.updateTooltip = function (segmentIndex) {\n        var ganttProp = this.taskbarEdit.taskBarEditRecord.ganttProperties;\n        var taskWidth = segmentIndex === -1 ? ganttProp.width :\n            ganttProp.segments[segmentIndex].width;\n        var progressWidth = segmentIndex === -1 ? ganttProp.progressWidth :\n            ganttProp.segments[segmentIndex].progressWidth;\n        var left = segmentIndex === -1 ? ganttProp.left : ganttProp.left + ganttProp.segments[segmentIndex].left;\n        if (!isNullOrUndefined(this.toolTipObj)) {\n            if (this.taskbarEdit.taskBarEditAction === 'ConnectorPointLeftDrag' ||\n                this.taskbarEdit.taskBarEditAction === 'ConnectorPointRightDrag') {\n                this.toolTipObj.content = this.getTooltipText(segmentIndex);\n                this.toolTipObj.offsetY = -3;\n            }\n            else {\n                this.toolTipObj.content = this.getTooltipText(segmentIndex);\n                this.toolTipObj.refresh(this.taskbarEdit.taskBarEditElement);\n                if (this.taskbarEdit.taskBarEditAction === 'LeftResizing') {\n                    this.toolTipObj.offsetX = -taskWidth;\n                }\n                else if (this.taskbarEdit.taskBarEditAction === 'RightResizing' ||\n                    this.taskbarEdit.taskBarEditAction === 'ParentResizing') {\n                    this.toolTipObj.offsetX = 0;\n                }\n                else if (this.taskbarEdit.taskBarEditAction === 'ProgressResizing') {\n                    this.toolTipObj.offsetX = -(taskWidth - progressWidth);\n                }\n                else if (this.taskbarEdit.taskBarEditAction === 'MilestoneDrag') {\n                    this.toolTipObj.offsetX = -(this.parent.chartRowsModule.milestoneHeight / 2);\n                }\n                else if (taskWidth > 5) {\n                    this.toolTipObj.offsetX = -(taskWidth + left - this.taskbarEdit.tooltipPositionX);\n                }\n            }\n        }\n    };\n    /**\n     * To get updated tooltip text.\n     *\n     * @param {number} segmentIndex .\n     * @returns {void} .\n     * @private\n     */\n    EditTooltip.prototype.getTooltipText = function (segmentIndex) {\n        var tooltipString = '';\n        var instance = this.parent.globalize;\n        var editRecord = this.taskbarEdit.taskBarEditRecord.ganttProperties;\n        if (!isNullOrUndefined(editRecord.segments) && editRecord.segments.length > 0 && segmentIndex !== -1\n            && this.taskbarEdit.taskBarEditAction !== 'ProgressResizing') {\n            editRecord = editRecord.segments[segmentIndex];\n        }\n        if (this.parent.tooltipSettings.editing) {\n            var templateNode = this.parent.tooltipModule.templateCompiler(this.parent.tooltipSettings.editing, this.parent, this.taskbarEdit.taskBarEditRecord, 'TooltipEditingTemplate');\n            if (getValue('tooltipEle', this.toolTipObj)) {\n                this.parent.renderTemplates();\n            }\n            tooltipString = templateNode[0];\n        }\n        else {\n            switch (this.taskbarEdit.taskBarEditAction) {\n                case 'ProgressResizing':\n                    tooltipString = this.parent.localeObj.getConstant('progress') + ' : ' + editRecord.progress;\n                    break;\n                case 'LeftResizing':\n                    tooltipString = this.parent.localeObj.getConstant('startDate') + ' : ';\n                    tooltipString += instance.formatDate(editRecord.startDate, { format: this.parent.getDateFormat() });\n                    tooltipString += '<br/>' + this.parent.localeObj.getConstant('duration') + ' : ' +\n                        this.parent.getDurationString(editRecord.duration, editRecord.durationUnit);\n                    break;\n                case 'RightResizing':\n                case 'ParentResizing':\n                    tooltipString = this.parent.localeObj.getConstant('endDate') + ' : ';\n                    tooltipString += instance.formatDate(editRecord.endDate, { format: this.parent.getDateFormat() });\n                    tooltipString += '<br/>' + this.parent.localeObj.getConstant('duration') + ' : ' +\n                        this.parent.getDurationString(editRecord.duration, editRecord.durationUnit);\n                    break;\n                case 'ChildDrag':\n                case 'ParentDrag':\n                case 'MilestoneDrag':\n                case 'ManualParentDrag':\n                    if (!isNullOrUndefined(this.taskbarEdit.taskBarEditRecord.ganttProperties.startDate)) {\n                        tooltipString = this.parent.localeObj.getConstant('startDate') + ' : ';\n                        tooltipString += instance.formatDate(editRecord.startDate, { format: this.parent.getDateFormat() });\n                    }\n                    if (!isNullOrUndefined(this.taskbarEdit.taskBarEditRecord.ganttProperties.endDate)) {\n                        tooltipString += tooltipString === '' ? '' : '<br/>';\n                        tooltipString += this.parent.localeObj.getConstant('endDate') + ' : ' + instance.formatDate(editRecord.endDate, { format: this.parent.getDateFormat() });\n                    }\n                    break;\n                case 'ConnectorPointLeftDrag':\n                case 'ConnectorPointRightDrag':\n                    tooltipString = this.parent.connectorLineModule.tooltipTable;\n                    if (isNullOrUndefined(this.toolTipObj)) {\n                        this.parent.connectorLineModule.tooltipTable.innerHTML =\n                            this.parent.connectorLineModule.getConnectorLineTooltipInnerTd(this.parent.editModule.taskbarEditModule.taskBarEditRecord.ganttProperties.taskName, this.parent.editModule.taskbarEditModule.fromPredecessorText, '', '');\n                    }\n                    break;\n            }\n        }\n        return tooltipString;\n    };\n    return EditTooltip;\n}());\nexport { EditTooltip };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { isNullOrUndefined, createElement, extend, addClass, remove, removeClass, closest, merge } from '@syncfusion/ej2-base';\nimport { parentsUntil } from '../base/utils';\nimport { DateProcessor } from '../base/date-processor';\nimport * as cls from '../base/css-constants';\nimport { EditTooltip } from '../renderer/edit-tooltip';\n/**\n * File for handling taskbar editing operation in Gantt.\n */\nvar TaskbarEdit = /** @class */ (function (_super) {\n    __extends(TaskbarEdit, _super);\n    function TaskbarEdit(ganttObj) {\n        var _this = _super.call(this, ganttObj) || this;\n        _this.isMouseDragged = false;\n        _this.dependencyCancel = false;\n        _this.editElement = null;\n        _this.elementOffsetLeft = 0;\n        _this.elementOffsetTop = 0;\n        _this.elementOffsetWidth = 0;\n        _this.elementOffsetHeight = 0;\n        _this.segmentIndex = -1;\n        _this.parent = ganttObj;\n        _this.initPublicProp();\n        _this.wireEvents();\n        _this.editTooltip = new EditTooltip(_this.parent, _this);\n        return _this;\n    }\n    TaskbarEdit.prototype.wireEvents = function () {\n        this.parent.on('chartMouseDown', this.mouseDownHandler, this);\n        this.parent.on('chartMouseUp', this.mouseUpHandler, this);\n        this.parent.on('chartMouseLeave', this.mouseLeaveHandler, this);\n        this.parent.on('chartMouseMove', this.mouseMoveAction, this);\n        this.parent.on('chartMouseClick', this.mouseClickHandler, this);\n    };\n    /**\n     * To initialize the public property.\n     *\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.initPublicProp = function () {\n        this.taskBarEditElement = null;\n        this.taskBarEditRecord = null;\n        this.taskBarEditAction = null;\n        this.connectorSecondElement = null;\n        this.connectorSecondRecord = null;\n        this.connectorSecondAction = null;\n        this.highlightedSecondElement = null;\n        this.fromPredecessorText = null;\n        this.toPredecessorText = null;\n        this.finalPredecessor = null;\n        this.drawPredecessor = false;\n        this.roundOffDuration = true;\n        this.dragMouseLeave = false;\n        this.isMouseDragged = false;\n        this.previousItemProperty = ['left', 'progress', 'duration', 'isMilestone', 'startDate', 'endDate', 'width', 'progressWidth',\n            'autoLeft', 'autoDuration', 'autoStartDate', 'autoEndDate', 'autoWidth'];\n        this.tapPointOnFocus = false;\n        this.touchEdit = false;\n    };\n    TaskbarEdit.prototype.mouseDownHandler = function (e) {\n        if (this.parent.editSettings.allowTaskbarEditing && !this.parent.readOnly) {\n            this.canDrag = false;\n            if (this.parent.isAdaptive && this.taskBarEditElement) {\n                var targetElement = this.getElementByPosition(e);\n                var element = parentsUntil(targetElement, cls.taskBarMainContainer);\n                if (element && element.innerHTML === this.taskBarEditElement.innerHTML &&\n                    !(targetElement.classList.contains(cls.connectorPointLeft) ||\n                        targetElement.classList.contains(cls.connectorPointRight)) &&\n                    !this.tapPointOnFocus) {\n                    this.updateTaskBarEditElement(e);\n                    this.canDrag = true;\n                    e.preventDefault();\n                }\n            }\n            else if (!this.parent.isAdaptive) {\n                this.updateTaskBarEditElement(e);\n            }\n        }\n    };\n    TaskbarEdit.prototype.mouseClickHandler = function (e) {\n        var targetElement = this.getElementByPosition(e);\n        var element = parentsUntil(targetElement, cls.taskBarMainContainer);\n        if (this.parent.selectionModule && this.parent.selectionModule.enableSelectMultiTouch) {\n            if (this.tapPointOnFocus) {\n                this.updateTaskBarEditElement(e);\n            }\n            return;\n        }\n        if (this.tapPointOnFocus && element && element.innerHTML !== this.taskBarEditElement.innerHTML) {\n            this.connectorSecondRecord = this.parent.ganttChartModule.getRecordByTaskBar(element);\n            this.connectorSecondAction = 'ConnectorPointLeftDrag';\n            this.connectorSecondElement = element;\n            this.fromPredecessorText = 'Finish';\n            if (this.validateConnectorPoint()) {\n                this.taskBarEditingAction(e, true);\n            }\n            this.showHideActivePredecessors(false);\n            this.initPublicProp();\n        }\n        else if (targetElement.classList.contains(cls.connectorPointLeftHover) ||\n            targetElement.classList.contains(cls.connectorPointRightHover)) {\n            this.canDrag = false;\n            this.multipleSelectionEnabled();\n            this.showHideTaskBarEditingElements(targetElement, this.taskBarEditElement);\n            this.tapPointOnFocus = true;\n            this.taskBarEditAction = 'ConnectorPointRightDrag';\n            this.connectorSecondRecord = this.taskBarEditRecord;\n            this.taskBarEditingAction(e, false);\n        }\n        else {\n            if (this.tapPointOnFocus) {\n                this.showHideActivePredecessors(false);\n                this.showHideTaskBarEditingElements(element, this.taskBarEditElement);\n            }\n            this.updateTaskBarEditElement(e);\n        }\n    };\n    TaskbarEdit.prototype.showHideActivePredecessors = function (show) {\n        var ganttProp = this.taskBarEditRecord.ganttProperties;\n        var predecessors = ganttProp.predecessor;\n        var id = this.parent.viewType === 'ResourceView' ? ganttProp.taskId : ganttProp.rowUniqueID;\n        if (predecessors) {\n            for (var i = 0; i < predecessors.length; i++) {\n                var predecessor = predecessors[i];\n                if (id.toString() === predecessor.from || id.toString() === predecessor.to) {\n                    this.applyActiveColor(predecessor.from, predecessor.to, show);\n                }\n            }\n        }\n        var chartContent = this.parent.ganttChartModule.chartBodyContainer;\n        if (show) {\n            addClass([this.taskBarEditElement], [cls.activeChildTask]);\n            addClass([chartContent], [cls.touchMode]);\n        }\n        else {\n            removeClass([this.taskBarEditElement], [cls.activeChildTask]);\n            removeClass([chartContent], [cls.touchMode]);\n        }\n        this.touchEdit = show;\n        if (!isNullOrUndefined(this.parent.toolbarModule)) {\n            this.parent.toolbarModule.refreshToolbarItems();\n        }\n    };\n    TaskbarEdit.prototype.applyActiveColor = function (from, to, enable) {\n        var taskId = this.parent.viewType === 'ProjectView' ? this.taskBarEditRecord.ganttProperties.taskId.toString() :\n            this.taskBarEditRecord.ganttProperties.rowUniqueID.toString();\n        var ganttRecord = (taskId === from) ? this.parent.connectorLineModule.getRecordByID(to) :\n            this.parent.connectorLineModule.getRecordByID(from);\n        var $tr = this.parent.ganttChartModule.getChartRows()[this.parent.currentViewData.indexOf(ganttRecord)];\n        if (!isNullOrUndefined($tr)) {\n            var $taskbar = $tr.querySelector('.' + cls.taskBarMainContainer);\n            var $connectorElement = this.parent.element.querySelector('#ConnectorLineparent' + from + 'child' + to);\n            if (enable) {\n                addClass([$taskbar], [cls.activeConnectedTask]);\n                if ($connectorElement) {\n                    addClass([$connectorElement], [cls.activeConnectedTask]);\n                }\n            }\n            else {\n                removeClass([$taskbar], [cls.activeConnectedTask]);\n                if ($connectorElement) {\n                    removeClass([$connectorElement], [cls.activeConnectedTask]);\n                }\n            }\n        }\n    };\n    TaskbarEdit.prototype.validateConnectorPoint = function () {\n        var parentRecord = this.taskBarEditRecord.ganttProperties;\n        var childRecord = this.connectorSecondRecord.ganttProperties;\n        var isValid = true;\n        var parentId = this.parent.viewType === 'ResourceView' ? parentRecord.taskId : parentRecord.rowUniqueID;\n        var childId = this.parent.viewType === 'ResourceView' ? childRecord.taskId : childRecord.rowUniqueID;\n        if (this.connectorSecondRecord.hasChildRecords) {\n            isValid = false;\n        }\n        else if (childRecord.predecessor) {\n            for (var i = 0; i < childRecord.predecessor.length; i++) {\n                var predecessor = childRecord.predecessor[i];\n                if (predecessor.from === parentId.toString() &&\n                    predecessor.to === childId.toString()) {\n                    this.parent.connectorLineEditModule.childRecord = this.connectorSecondRecord;\n                    this.parent.connectorLineEditModule.predecessorIndex = i;\n                    this.parent.connectorLineEditModule.renderPredecessorDeleteConfirmDialog();\n                    isValid = false;\n                    break;\n                }\n                else if (predecessor.from === childId.toString() &&\n                    predecessor.to === parentId.toString()) {\n                    this.parent.connectorLineEditModule.childRecord = this.taskBarEditRecord;\n                    this.parent.connectorLineEditModule.predecessorIndex = i;\n                    this.parent.connectorLineEditModule.renderPredecessorDeleteConfirmDialog();\n                    isValid = false;\n                    break;\n                }\n            }\n        }\n        return isValid;\n    };\n    // eslint-disable-next-line\n    TaskbarEdit.prototype.mouseLeaveHandler = function (e) {\n        this.dragMouseLeave = true;\n    };\n    /**\n     * To update taskbar edited elements on mouse down action.\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.updateTaskBarEditElement = function (e) {\n        var target = this.getElementByPosition(e);\n        var element;\n        if (target.classList.contains(cls.manualParentRightResizer) || target.classList.contains(cls.manualParentMainContainer)\n            || target.classList.contains(cls.manualParentTaskBar)) {\n            element = parentsUntil(target, cls.manualParentMainContainer);\n        }\n        else if (target.classList.contains(cls.manualParentMilestoneTop) || target.classList.contains(cls.manualParentMilestoneBottom)\n            || target.classList.contains(cls.manualParentMilestone)) {\n            element = parentsUntil(target, cls.manualParentMilestone);\n        }\n        else {\n            element = parentsUntil(target, cls.taskBarMainContainer);\n            if (!isNullOrUndefined(element) && !target.classList.contains('e-connectorpoint-left') &&\n                !target.classList.contains('e-connectorpoint-right')) {\n                var currentRecord = this.parent.ganttChartModule.getRecordByTaskBar(element);\n                if (!isNullOrUndefined(currentRecord.ganttProperties.segments) && currentRecord.ganttProperties.segments.length > 0) {\n                    element = parentsUntil(target, cls.childTaskBarInnerDiv);\n                }\n            }\n        }\n        if (this.parent.editSettings.allowTaskbarEditing && element) {\n            this.showHideTaskBarEditingElements(element, this.taskBarEditElement);\n            this.editElement = element;\n            this.taskBarEditElement = element;\n            var index = this.taskBarEditElement.getAttribute('data-segment-index');\n            if (!isNullOrUndefined(index)) {\n                this.segmentIndex = Number(index);\n            }\n            else {\n                this.segmentIndex = -1;\n            }\n            this.taskBarEditRecord = this.parent.ganttChartModule.getRecordByTaskBar(this.taskBarEditElement);\n            if (e.type === 'mousedown' || e.type === 'touchstart' || e.type === 'click') {\n                this.roundOffDuration = true;\n                this.taskBarEditAction = this.getTaskBarAction(e);\n                if ((this.taskBarEditAction === 'ConnectorPointLeftDrag' || this.taskBarEditAction === 'ConnectorPointRightDrag') &&\n                    isNullOrUndefined(this.parent.taskFields.dependency)) {\n                    this.taskBarEditAction = null;\n                }\n                this.updateMouseDownProperties(e);\n                if (this.parent.viewType === 'ResourceView') {\n                    if (this.taskBarEditRecord.level === 0) {\n                        return;\n                    }\n                    else if (this.parent.enableMultiTaskbar) {\n                        var parentRecord = this.parent.getTaskByUniqueID(this.taskBarEditRecord.parentItem.uniqueID);\n                        if (!isNullOrUndefined(parentRecord) && !parentRecord.expanded) {\n                            this.prevZIndex = (this.taskBarEditElement).style.zIndex;\n                            (this.taskBarEditElement).style.zIndex = '1000';\n                            addClass([this.taskBarEditElement.querySelector('.e-gantt-child-taskbar')], 'e-collapsed-taskbar-drag');\n                        }\n                    }\n                }\n            }\n        }\n        else {\n            if (this.parent.isAdaptive) {\n                if (this.taskBarEditElement) {\n                    this.showHideTaskBarEditingElements(element, this.taskBarEditElement);\n                }\n                this.initPublicProp();\n            }\n            else {\n                this.showHideTaskBarEditingElements(element, this.taskBarEditElement);\n            }\n        }\n    };\n    /**\n     * To show/hide taskbar editing elements.\n     *\n     * @param {Element} element .\n     * @param {Element} secondElement .\n     * @param {boolean} fadeConnectorLine .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.showHideTaskBarEditingElements = function (element, secondElement, fadeConnectorLine) {\n        secondElement = secondElement ? secondElement : this.editElement;\n        var isShowProgressResizer = true;\n        if (this.parent.readOnly) {\n            return;\n        }\n        if (this.parent.viewType === 'ResourceView' && this.parent.enableMultiTaskbar && element) {\n            var record = this.parent.ganttChartModule.getRecordByTaskBar(element);\n            var parentRecord = this.parent.getParentTask(record.parentItem);\n            if (!isNullOrUndefined(parentRecord)) {\n                if (!parentRecord.expanded) {\n                    isShowProgressResizer = false;\n                }\n            }\n        }\n        if (element) {\n            if (element.querySelector('.' + cls.taskBarLeftResizer)) {\n                addClass([element.querySelector('.' + cls.taskBarLeftResizer)], [cls.leftResizeGripper]);\n                addClass([element.querySelector('.' + cls.taskBarRightResizer)], [cls.rightResizeGripper]);\n                if (isShowProgressResizer) {\n                    var progresElement = !isNullOrUndefined(element.querySelector('.' + cls.childProgressResizer)) ? true : false;\n                    if (progresElement) {\n                        addClass([element.querySelector('.' + cls.childProgressResizer)], [cls.progressResizeGripper]);\n                    }\n                }\n            }\n            else if (this.parent.isAdaptive && isShowProgressResizer) {\n                var record = this.parent.ganttChartModule.getRecordByTaskBar(element);\n                if (record.hasChildRecords) {\n                    addClass([element], [cls.activeParentTask]);\n                }\n            }\n            if (isShowProgressResizer) {\n                addClass(this.parent.ganttChartModule.scrollElement.querySelectorAll('.' + cls.connectorLineContainer), [cls.connectorLineZIndex]);\n            }\n            if (!isNullOrUndefined(this.parent.taskFields.dependency)\n                && (element.querySelector('.' + cls.connectorPointLeft)\n                    || element.parentElement.querySelector('.' + cls.connectorPointLeft))\n                && isShowProgressResizer) {\n                var connectorElement = !isNullOrUndefined(element.querySelector('.' + cls.connectorPointLeft)) ?\n                    element : element.parentElement;\n                addClass([connectorElement.querySelector('.' + cls.connectorPointLeft)], [cls.connectorPointLeftHover]);\n                addClass([connectorElement.querySelector('.' + cls.connectorPointRight)], [cls.connectorPointRightHover]);\n            }\n        }\n        else if (!fadeConnectorLine) {\n            removeClass(this.parent.ganttChartModule.scrollElement.querySelectorAll('.' + cls.connectorLineContainer), [cls.connectorLineZIndex]);\n        }\n        if (secondElement && element !== secondElement) {\n            if (secondElement.querySelector('.' + cls.taskBarLeftResizer)) {\n                removeClass([secondElement.querySelector('.' + cls.taskBarLeftResizer)], [cls.leftResizeGripper]);\n                removeClass([secondElement.querySelector('.' + cls.taskBarRightResizer)], [cls.rightResizeGripper]);\n                if (secondElement.querySelector('.' + cls.childProgressResizer)) {\n                    removeClass([secondElement.querySelector('.' + cls.childProgressResizer)], [cls.progressResizeGripper]);\n                }\n            }\n            if (!isNullOrUndefined(this.parent.taskFields.dependency)\n                && (secondElement.querySelector('.' + cls.connectorPointLeft)\n                    || secondElement.parentElement.querySelector('.' + cls.connectorPointLeft))) {\n                var connectorElement = !isNullOrUndefined(secondElement.querySelector('.' + cls.connectorPointLeft)) ?\n                    secondElement : secondElement.parentElement;\n                removeClass([connectorElement.querySelector('.' + cls.connectorPointLeft)], [cls.connectorPointLeftHover]);\n                removeClass([connectorElement.querySelector('.' + cls.connectorPointRight)], [cls.connectorPointRightHover]);\n            }\n            else if (this.parent.isAdaptive) {\n                var record = this.parent.ganttChartModule.getRecordByTaskBar(secondElement);\n                if (record && record.hasChildRecords) {\n                    removeClass([secondElement], [cls.activeParentTask]);\n                }\n            }\n            this.editElement = null;\n        }\n    };\n    /**\n     * To get taskbar edit actions.\n     *\n     * @param {PointerEvent} e .\n     * @returns {string} .\n     * @private\n     */\n    TaskbarEdit.prototype.getTaskBarAction = function (e) {\n        var mouseDownElement = this.getElementByPosition(e);\n        var data = this.taskBarEditRecord;\n        var action = '';\n        if (mouseDownElement.classList.contains(cls.taskBarLeftResizer)) {\n            action = 'LeftResizing';\n        }\n        else if (mouseDownElement.classList.contains(cls.taskBarRightResizer)) {\n            action = 'RightResizing';\n        }\n        else if (mouseDownElement.classList.contains(cls.childProgressResizer) ||\n            closest(mouseDownElement, '.' + cls.childProgressResizer)) {\n            action = 'ProgressResizing';\n        }\n        else if (mouseDownElement.classList.contains(cls.connectorPointLeft)) {\n            action = 'ConnectorPointLeftDrag';\n        }\n        else if (mouseDownElement.classList.contains(cls.connectorPointRight)) {\n            action = 'ConnectorPointRightDrag';\n        }\n        else if (mouseDownElement.classList.contains(cls.manualParentRightResizer)) {\n            action = 'ParentResizing';\n        }\n        else if (mouseDownElement.classList.contains(cls.manualParentTaskBar) ||\n            mouseDownElement.classList.contains(cls.manualParentMainContainer) ||\n            mouseDownElement.classList.contains(cls.manualParentMilestone) ||\n            mouseDownElement.classList.contains(cls.manualParentMilestoneTop) ||\n            mouseDownElement.classList.contains(cls.manualParentMilestoneBottom) ||\n            mouseDownElement.classList.contains(cls.manualParentMilestone)) {\n            action = 'ManualParentDrag';\n        }\n        else if (data) {\n            action = data.hasChildRecords ? this.parent.taskMode === 'Auto' ? 'ParentDrag' : ''\n                : data.ganttProperties.isMilestone ? 'MilestoneDrag' : 'ChildDrag';\n        }\n        return action;\n    };\n    /**\n     * To update property while perform mouse down.\n     *\n     * @param {PointerEvent} event .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.updateMouseDownProperties = function (event) {\n        var e = this.getCoordinate(event);\n        if (e.pageX || e.pageY) {\n            var containerPosition = this.parent.getOffsetRect(this.parent.ganttChartModule.chartBodyContainer);\n            this.mouseDownX = (e.pageX - containerPosition.left) +\n                this.parent.ganttChartModule.scrollObject.previousScroll.left;\n            this.tooltipPositionX = this.mouseDownX;\n            this.mouseDownY = e.pageY - containerPosition.top +\n                this.parent.ganttChartModule.scrollObject.previousScroll.top;\n        }\n        if (this.taskBarEditAction === 'ConnectorPointLeftDrag' || this.taskBarEditAction === 'ConnectorPointRightDrag') {\n            this.fromPredecessorText = this.taskBarEditAction === 'ConnectorPointLeftDrag' ? 'start' : 'finish';\n            this.parent.connectorLineModule.tooltipTable.innerHTML = this.parent.connectorLineModule.getConnectorLineTooltipInnerTd(this.taskBarEditRecord.ganttProperties.taskName, this.fromPredecessorText, '', '');\n        }\n    };\n    TaskbarEdit.prototype.isMouseDragCheck = function () {\n        if (!this.isMouseDragged && this.taskBarEditAction && ((this.mouseDownX !== this.mouseMoveX) &&\n            ((this.mouseDownX + 3) < this.mouseMoveX || (this.mouseDownX - 3) > this.mouseMoveX)\n            || (this.mouseDownY !== this.mouseMoveY) &&\n                ((this.mouseDownY + 3) < this.mouseMoveY || (this.mouseDownY - 3) > this.mouseMoveY))) {\n            this.isMouseDragged = true;\n            this.parent.initiateEditAction(true);\n            var item = this.taskBarEditRecord.ganttProperties;\n            this.previousItem = this.parent.timelineModule.extendFunction(item, this.previousItemProperty);\n            if (this.taskBarEditAction !== 'ConnectorPointLeftDrag' &&\n                this.taskBarEditAction !== 'ConnectorPointRightDrag') {\n                this.editTooltip.showHideTaskbarEditTooltip(true, this.segmentIndex);\n            }\n            this.taskBarEditElement.setAttribute('aria-grabbed', 'true');\n        }\n    };\n    /**\n     * To handle mouse move action in chart\n     *\n     * @param {PointerEvent} event .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.mouseMoveAction = function (event) {\n        if (this.parent.isAdaptive) {\n            if (!this.canDrag) {\n                return;\n            }\n            else {\n                this.multipleSelectionEnabled();\n            }\n        }\n        var containerPosition = this.parent.getOffsetRect(this.parent.ganttChartModule.chartBodyContainer);\n        var e = this.getCoordinate(event);\n        this.mouseMoveX = e.pageX - containerPosition.left +\n            this.parent.ganttChartModule.scrollObject.previousScroll.left;\n        this.mouseMoveY = e.pageY - containerPosition.top +\n            this.parent.ganttChartModule.scrollObject.previousScroll.top;\n        this.dragMouseLeave = false;\n        this.isMouseDragCheck();\n        if (this.isMouseDragged && this.taskBarEditAction) {\n            this.taskBarEditingAction(event, false);\n        }\n        else if (!this.parent.isAdaptive && !this.taskBarEditAction) {\n            this.updateTaskBarEditElement(event);\n        }\n    };\n    /**\n     * Method to update taskbar editing action on mous move.\n     *\n     * @param {PointerEvent} e .\n     * @param {boolean} isMouseClick .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.taskBarEditingAction = function (e, isMouseClick) {\n        var _this = this;\n        var args = {};\n        var recordIndex = this.parent.ganttChartModule.getIndexByTaskBar(this.taskBarEditElement);\n        if (this.taskBarEditRecord !== null) {\n            args.editingFields = this.taskBarEditRecord.ganttProperties;\n            args.data = this.taskBarEditRecord;\n            if (this.parent.viewType === 'ResourceView' && args.data.level === 0) {\n                return;\n            }\n            args.recordIndex = recordIndex;\n            args.taskBarEditAction = this.taskBarEditAction;\n            args.roundOffDuration = this.roundOffDuration;\n            args.cancel = false;\n            args.previousData = this.previousItem;\n            this.roundOffDuration = args.roundOffDuration;\n            this.targetElement = args.target = closest(e.target, '.e-gantt-child-taskbar');\n            this.updateMouseMoveProperties(e);\n            if (this.taskBarEditAction === 'ProgressResizing') {\n                this.performProgressResize(e);\n            }\n            else if (this.taskBarEditAction === 'LeftResizing') {\n                this.enableLeftResizing(e);\n            }\n            else if (this.taskBarEditAction === 'RightResizing' || this.taskBarEditAction === 'ParentResizing') {\n                this.enableRightResizing(e);\n            }\n            else if (this.taskBarEditAction === 'ParentDrag' || this.taskBarEditAction === 'ChildDrag' ||\n                this.taskBarEditAction === 'MilestoneDrag' || this.taskBarEditAction === 'ManualParentDrag') {\n                this.enableDragging(e);\n            }\n            else if (this.taskBarEditAction === 'ConnectorPointLeftDrag' ||\n                this.taskBarEditAction === 'ConnectorPointRightDrag') {\n                this.updateConnectorLineSecondProperties(e);\n                this.triggerDependencyEvent(e);\n                if (!this.parent.isAdaptive) {\n                    this.drawFalseLine();\n                }\n            }\n            this.setItemPosition();\n            this.updateEditedItem();\n            this.editTooltip.updateTooltip(this.segmentIndex);\n            if (isMouseClick) {\n                this.taskBarEditedAction(e);\n            }\n            this.parent.trigger('taskbarEditing', args, function (arg) {\n                if (arg.cancel && _this.taskBarEditRecord !== null) {\n                    _this.tapPointOnFocus = false;\n                    merge(_this.taskBarEditRecord.ganttProperties, arg.previousData);\n                }\n            });\n        }\n    };\n    /**\n     * To update property while perform mouse move.\n     *\n     * @param {PointerEvent} event .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.updateMouseMoveProperties = function (event) {\n        var containerPosition = this.parent.getOffsetRect(this.parent.ganttChartModule.chartBodyContainer);\n        var e = this.getCoordinate(event);\n        if (e.pageX || e.pageY) {\n            this.mouseMoveX = e.pageX - containerPosition.left +\n                this.parent.ganttChartModule.scrollObject.previousScroll.left;\n            this.tooltipPositionX = this.mouseMoveX;\n            this.mouseMoveY = e.pageY - containerPosition.top +\n                this.parent.ganttChartModule.scrollObject.previousScroll.top;\n        }\n        var isConnectorLineEdit = (this.taskBarEditAction === 'ConnectorPointLeftDrag' ||\n            this.taskBarEditAction === 'ConnectorPointRightDrag') ?\n            true : false;\n        if ((this.taskBarEditRecord.ganttProperties.width > 3 && !(this.taskBarEditAction === 'ProgressResizing' &&\n            (this.taskBarEditRecord.ganttProperties.progress === 0 || this.taskBarEditRecord.ganttProperties.progress === 100))) ||\n            isConnectorLineEdit) {\n            var mouseX = this.mouseMoveX - this.parent.ganttChartModule.scrollObject.previousScroll.left +\n                containerPosition.left;\n            var mouseY = this.mouseMoveY - this.parent.ganttChartModule.scrollObject.previousScroll.top +\n                containerPosition.top;\n            if ((mouseX + 20) >\n                containerPosition.left + this.parent.ganttChartModule.chartBodyContainer.offsetWidth) {\n                this.timerCount = this.parent.ganttChartModule.scrollObject.previousScroll.left;\n                this.startScrollTimer('right');\n            }\n            else if ((mouseX - 20) < containerPosition.left) {\n                this.timerCount = this.parent.ganttChartModule.scrollObject.previousScroll.left;\n                this.startScrollTimer('left');\n            }\n            else if (isConnectorLineEdit && ((mouseY + 20) >\n                containerPosition.top + this.parent.ganttChartModule.chartBodyContainer.offsetHeight)) {\n                this.timerCount = this.parent.ganttChartModule.scrollObject.previousScroll.top;\n                this.startScrollTimer('bottom');\n            }\n            else if (isConnectorLineEdit && ((mouseY - 20) < containerPosition.top)) {\n                this.timerCount = this.parent.ganttChartModule.scrollObject.previousScroll.top;\n                this.startScrollTimer('top');\n            }\n            else {\n                this.stopScrollTimer();\n            }\n        }\n        else {\n            this.stopScrollTimer();\n        }\n    };\n    /**\n     * To start the scroll timer.\n     *\n     * @param {string} direction .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.startScrollTimer = function (direction) {\n        var _this = this;\n        this.stopScrollTimer();\n        this.scrollTimer = window.setInterval(function () {\n            if (direction === 'right' || direction === 'bottom') {\n                _this.timerCount = (_this.timerCount + 1) >= _this.parent.timelineModule.totalTimelineWidth ?\n                    _this.parent.timelineModule.totalTimelineWidth : (_this.timerCount + 1);\n            }\n            else {\n                _this.timerCount = (_this.timerCount - 1) < 0 ? 0 : (_this.timerCount - 1);\n            }\n            if (direction === 'bottom' || direction === 'top') {\n                _this.parent.ganttChartModule.scrollObject.setScrollTop(_this.timerCount);\n            }\n            else {\n                _this.parent.ganttChartModule.scrollObject.setScrollLeft(_this.timerCount);\n            }\n            if (_this.taskBarEditAction === 'ConnectorPointLeftDrag'\n                || _this.taskBarEditAction === 'ConnectorPointRightDrag') {\n                _this.drawFalseLine();\n            }\n        }, 0);\n    };\n    /**\n     * To stop the scroll timer.\n     *\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.stopScrollTimer = function () {\n        window.clearInterval(this.scrollTimer);\n        this.scrollTimer = null;\n    };\n    /**\n     * To update left and width while perform taskbar drag operation.\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     * @private\n     */\n    // eslint-disable-next-line\n    TaskbarEdit.prototype.enableDragging = function (e) {\n        var item = this.taskBarEditRecord.ganttProperties;\n        var differenceWidth = 0;\n        if (this.taskBarEditElement.classList.contains('e-segmented-taskbar') &&\n            !this.taskBarEditElement.classList.contains('e-segment-first')) {\n            var segments = this.taskBarEditRecord.ganttProperties.segments.map(function (e) { return (__assign({}, e)); });\n            var segment = segments[this.segmentIndex];\n            if (this.mouseDownX > this.mouseMoveX) {\n                differenceWidth = isNullOrUndefined(this.previousMouseMove) ?\n                    (this.mouseDownX - this.mouseMoveX) : (this.previousMouseMove - this.mouseMoveX);\n                this.previousMouseMove = this.mouseMoveX;\n                segment.left = segment.left - differenceWidth;\n            }\n            else {\n                differenceWidth = isNullOrUndefined(this.previousMouseMove) ?\n                    (this.mouseMoveX - this.mouseDownX) : (this.mouseMoveX - this.previousMouseMove);\n                this.previousMouseMove = this.mouseMoveX;\n                segment.left = segment.left + differenceWidth;\n            }\n            var previousSegment = segments[this.segmentIndex - 1];\n            var nextSegment = segments[this.segmentIndex + 1];\n            var left = void 0;\n            if (this.taskBarEditElement.classList.contains('e-segment-inprogress')) {\n                left = segment.left < (previousSegment.left + previousSegment.width) ? (previousSegment.left + previousSegment.width) :\n                    ((segment.width + segment.left) > (nextSegment.left)) ? nextSegment.left - segment.width : segment.left;\n            }\n            else {\n                left = segment.left < (previousSegment.left + previousSegment.width) ? (previousSegment.left + previousSegment.width) :\n                    (item.left + segment.width + segment.left) >= this.parent.timelineModule.totalTimelineWidth ?\n                        (this.parent.timelineModule.totalTimelineWidth - segment.width) : segment.left;\n            }\n            segment.left = left;\n            this.parent.setRecordValue('segments', segments, item, true);\n            this.parent.dataOperation.updateMappingData(this.taskBarEditRecord, 'segments');\n        }\n        else {\n            if (this.mouseDownX > this.mouseMoveX) {\n                differenceWidth = this.mouseDownX - this.mouseMoveX;\n                if (differenceWidth > 0) {\n                    this.parent.setRecordValue('left', this.previousItem.left - differenceWidth, item, true);\n                }\n            }\n            else {\n                differenceWidth = this.mouseMoveX - this.mouseDownX;\n                this.parent.setRecordValue('left', this.previousItem.left + differenceWidth, item, true);\n            }\n            var left = item.left < 0 ? 0 : (item.left + item.width) >= this.parent.timelineModule.totalTimelineWidth ?\n                (this.parent.timelineModule.totalTimelineWidth - item.width) : item.left;\n            this.parent.setRecordValue('left', left, item, true);\n        }\n    };\n    /**\n     * To update left and width while perform progress resize operation.\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     * @private\n     */\n    // eslint-disable-next-line\n    TaskbarEdit.prototype.performProgressResize = function (e) {\n        var item = this.taskBarEditRecord.ganttProperties;\n        var diffrenceWidth = 0;\n        if (this.mouseDownX > this.mouseMoveX) {\n            if (this.mouseMoveX > item.left &&\n                (this.mouseMoveX < (item.left + item.width)) && item.left > 0) {\n                diffrenceWidth = this.mouseMoveX - item.left;\n                this.parent.setRecordValue('progressWidth', diffrenceWidth, item, true);\n            }\n            else {\n                if (this.mouseMoveX >= (item.left + item.width)) {\n                    this.parent.setRecordValue('progressWidth', item.width, item, true);\n                }\n                else {\n                    this.parent.setRecordValue('progressWidth', 0, item, true);\n                }\n            }\n        }\n        else {\n            if (this.mouseMoveX > item.left &&\n                (this.mouseMoveX < (item.left + item.width))) {\n                diffrenceWidth = this.mouseMoveX - item.left;\n                this.parent.setRecordValue('progressWidth', diffrenceWidth, item, true);\n            }\n            else {\n                if (this.mouseMoveX <= item.left) {\n                    this.parent.setRecordValue('progressWidth', 0, item, true);\n                }\n                else {\n                    this.parent.setRecordValue('progressWidth', item.width, item, true);\n                }\n            }\n        }\n        var widthValue = item.progressWidth > item.width ?\n            item.width : item.progressWidth;\n        widthValue = item.progressWidth < 0 ? 0 : item.progressWidth;\n        this.parent.setRecordValue('progressWidth', widthValue, item, true);\n        var diff = item.width - item.progressWidth;\n        if (diff <= 4) {\n            this.progressBorderRadius = 4 - diff;\n        }\n        else {\n            this.progressBorderRadius = 0;\n        }\n    };\n    /**\n     * To update left and width while perform taskbar left resize operation.\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.enableLeftResizing = function (e) {\n        var item = this.taskBarEditRecord.ganttProperties;\n        var differenceWidth = 0;\n        if (this.taskBarEditElement.classList.contains('e-segmented-taskbar')) {\n            this.enableSplitTaskLeftResize(item);\n        }\n        else {\n            if (this.mouseDownX > this.mouseMoveX) {\n                if (this.mouseMoveX < (item.left + item.width)) {\n                    differenceWidth = this.mouseDownX - this.mouseMoveX;\n                    if (item.left > 0) {\n                        this.parent.setRecordValue('left', this.previousItem.left - differenceWidth, item, true);\n                        this.parent.setRecordValue('width', this.previousItem.width + differenceWidth, item, true);\n                    }\n                }\n                else {\n                    if (this.mouseMoveX > (item.left + item.width)) {\n                        differenceWidth = this.mouseDownX - this.mouseMoveX;\n                        this.parent.setRecordValue('left', this.previousItem.left - differenceWidth, item, true);\n                        this.parent.setRecordValue('width', 3, item, true);\n                    }\n                }\n            }\n            else {\n                if (this.mouseMoveX < (item.left + item.width)) {\n                    differenceWidth = this.mouseMoveX - this.mouseDownX;\n                    if ((item.left) < (item.left + item.width) &&\n                        ((this.previousItem.left + differenceWidth) <= (this.previousItem.left + this.previousItem.width))) {\n                        this.parent.setRecordValue('left', this.previousItem.left + differenceWidth, item, true);\n                        this.parent.setRecordValue('width', this.previousItem.width - differenceWidth, item, true);\n                    }\n                }\n                else {\n                    differenceWidth = this.mouseMoveX - this.mouseDownX;\n                    this.parent.setRecordValue('left', this.previousItem.left + differenceWidth, item, true);\n                    this.parent.setRecordValue('width', 3, item, true);\n                }\n            }\n            this.updateEditPosition(e, item);\n            this.parent.setRecordValue('left', (this.previousItem.left + this.previousItem.width - item.width), item, true);\n        }\n    };\n    TaskbarEdit.prototype.enableSplitTaskLeftResize = function (item) {\n        var segments = this.taskBarEditRecord.ganttProperties.segments.map(function (e) { return (__assign({}, e)); });\n        var segment = segments[this.segmentIndex];\n        var differenceWidth = 0;\n        //when decrease the left and increase the width\n        if (this.mouseDownX > this.mouseMoveX) {\n            if (this.mouseMoveX < (item.left + segment.width + segment.left)) {\n                differenceWidth = isNullOrUndefined(this.previousMouseMove) ?\n                    (this.mouseDownX - this.mouseMoveX) : (this.previousMouseMove - this.mouseMoveX);\n                this.previousMouseMove = this.mouseMoveX;\n                // when resize other than 0th segment\n                if (segment.left > 0) {\n                    segment.left = segment.left - differenceWidth;\n                    segment.width = segment.width + differenceWidth;\n                    if (this.segmentIndex !== 0) {\n                        var previousSegment = segments[this.segmentIndex - 1];\n                        if ((item.left + segment.left) < (item.left + previousSegment.left + previousSegment.width)) {\n                            var difference = (item.left + previousSegment.left + previousSegment.width) - (item.left + segment.left);\n                            segment.width -= difference;\n                            segment.left = segment.left + difference;\n                        }\n                    }\n                }\n                else if (segment.left <= 0 && this.segmentIndex === 0) {\n                    this.parent.setRecordValue('left', item.left - differenceWidth, item, true);\n                    this.parent.setRecordValue('width', item.width + differenceWidth, item, true);\n                    segment.width = segment.width + differenceWidth;\n                    for (var i = 1; i < item.segments.length; i++) {\n                        var segment_1 = segments[i];\n                        segment_1.left = segment_1.left + differenceWidth;\n                    }\n                }\n            }\n            else {\n                if (this.mouseMoveX > (item.left + segment.width + segment.left)) {\n                    differenceWidth = isNullOrUndefined(this.previousMouseMove) ?\n                        (this.mouseDownX - this.mouseMoveX) : (this.previousMouseMove - this.mouseMoveX);\n                    this.previousMouseMove = this.mouseMoveX;\n                    segment.left = segment.left - differenceWidth;\n                    segment.width = this.parent.perDayWidth;\n                }\n            }\n        }\n        else {\n            // when increase left value and decrease width of segment\n            if (this.mouseMoveX < (item.left + segment.width + segment.left - this.parent.perDayWidth)) {\n                differenceWidth = isNullOrUndefined(this.previousMouseMove) ?\n                    (this.mouseMoveX - this.mouseDownX) : (this.mouseMoveX - this.previousMouseMove);\n                this.previousMouseMove = this.mouseMoveX;\n                // when decrease the first segment width\n                if (this.segmentIndex === 0 && segment.left <= 0) {\n                    this.parent.setRecordValue('left', item.left + differenceWidth, item, true);\n                    this.parent.setRecordValue('width', item.width - differenceWidth, item, true);\n                    segment.width = segment.width - differenceWidth;\n                    for (var i = 1; i < item.segments.length; i++) {\n                        var segment_2 = segments[i];\n                        segment_2.left = segment_2.left - differenceWidth;\n                    }\n                    // when decrease remaining segments\n                }\n                else if ((segment.left) < (segment.left + segment.width) &&\n                    ((segment.left + differenceWidth) <= (segment.left + segment.width))) {\n                    segment.left = segment.left + differenceWidth;\n                    segment.width = segment.width - differenceWidth;\n                }\n                // when mouse move goes beyond one day width of task bar.\n            }\n            else {\n                if (this.mouseMoveX < (item.left + segment.left + segment.width)) {\n                    if (segment.width > this.parent.perDayWidth) {\n                        differenceWidth = isNullOrUndefined(this.previousMouseMove) ?\n                            (this.mouseMoveX - this.mouseDownX) : (this.mouseMoveX - this.previousMouseMove);\n                        this.previousMouseMove = this.mouseMoveX;\n                        var singleDayDifference = (segment.width - differenceWidth) < this.parent.perDayWidth ?\n                            this.parent.perDayWidth > segment.width ?\n                                this.parent.perDayWidth - segment.width : segment.width - this.parent.perDayWidth : 0;\n                        differenceWidth -= singleDayDifference;\n                        if (this.segmentIndex === 0) {\n                            this.parent.setRecordValue('width', item.width - differenceWidth, item, true);\n                            this.parent.setRecordValue('left', item.left + differenceWidth, item, true);\n                            for (var i = 1; i < item.segments.length; i++) {\n                                var segment_3 = segments[i];\n                                segment_3.left = segment_3.left - differenceWidth;\n                            }\n                        }\n                        else {\n                            segment.left = segment.left + differenceWidth;\n                            segment.width = segment.width - differenceWidth;\n                        }\n                    }\n                }\n            }\n        }\n        this.parent.setRecordValue('segments', segments, item, true);\n        this.parent.dataOperation.updateMappingData(this.taskBarEditRecord, 'segments');\n    };\n    /**\n     * Update mouse position and edited item value\n     *\n     * @param {PointerEvent} e .\n     * @param {ITaskData} item .\n     * @returns {void} .\n     */\n    TaskbarEdit.prototype.updateEditPosition = function (e, item) {\n        this.updateIsMilestone(item);\n        this.parent.setRecordValue('progressWidth', this.parent.dataOperation.getProgressWidth(item.width, item.progress), item, true);\n    };\n    /**\n     *  To update milestone property.\n     *\n     * @param {ITaskData} item .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.updateIsMilestone = function (item) {\n        if (item.width <= 3) {\n            this.parent.setRecordValue('width', 3, item, true);\n            this.parent.setRecordValue('isMilestone', true, item, true);\n        }\n        else {\n            this.parent.setRecordValue('width', item.width, item, true);\n            this.parent.setRecordValue('isMilestone', false, item, true);\n        }\n    };\n    /**\n     * To update left and width while perform taskbar right resize operation.\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.enableRightResizing = function (e) {\n        var item = this.taskBarEditRecord.ganttProperties;\n        var differenceWidth = 0;\n        if (this.taskBarEditElement.classList.contains('e-segmented-taskbar')) {\n            var segments = this.taskBarEditRecord.ganttProperties.segments.map(function (e) { return (__assign({}, e)); });\n            var segment = segments[this.segmentIndex];\n            if (this.mouseDownX > this.mouseMoveX) {\n                if (this.mouseMoveX > (item.left + segment.left) && (this.mouseDownX - this.mouseMoveX) > 3) {\n                    differenceWidth = isNullOrUndefined(this.previousMouseMove) ?\n                        (this.mouseDownX - this.mouseMoveX) : (this.previousMouseMove - this.mouseMoveX);\n                    this.previousMouseMove = this.mouseMoveX;\n                    segment.width = segment.width - differenceWidth;\n                }\n                else {\n                    if (this.mouseMoveX < (item.left + segment.left)) {\n                        segment.width = this.parent.perDayWidth;\n                    }\n                }\n            }\n            else {\n                if (this.mouseMoveX > segment.left) {\n                    differenceWidth = isNullOrUndefined(this.previousMouseMove) ?\n                        (this.mouseMoveX - this.mouseDownX) : (this.mouseMoveX - this.previousMouseMove);\n                    this.previousMouseMove = this.mouseMoveX;\n                    segment.width = segment.width + differenceWidth;\n                }\n            }\n            var width = void 0;\n            var nextSegment = this.segmentIndex !== segments.length - 1 ? segments[this.segmentIndex + 1] : null;\n            if (!isNullOrUndefined(nextSegment)) {\n                if (!this.taskBarEditElement.classList.contains('e-segment-last')) {\n                    width = (segment.left + segment.width) > nextSegment.left ? (nextSegment.left - segment.left) : segment.width;\n                }\n                segment.width = width;\n            }\n            if (this.segmentIndex === item.segments.length - 1) {\n                if (this.segmentIndex === 0) {\n                    this.parent.setRecordValue('width', segment.width, item, true);\n                }\n            }\n            this.parent.setRecordValue('segments', segments, item, true);\n            this.parent.dataOperation.updateMappingData(this.taskBarEditRecord, 'segments');\n        }\n        else {\n            if (this.mouseDownX > this.mouseMoveX) {\n                if (this.mouseMoveX > item.left && (this.mouseDownX - this.mouseMoveX) > 3) {\n                    differenceWidth = this.mouseDownX - this.mouseMoveX;\n                    this.parent.setRecordValue('width', this.previousItem.width - differenceWidth, item, true);\n                }\n                else {\n                    if (this.mouseMoveX < item.left) {\n                        this.parent.setRecordValue('width', 3, item, true);\n                    }\n                }\n            }\n            else {\n                if (this.mouseMoveX > item.left) {\n                    differenceWidth = this.mouseMoveX - this.mouseDownX;\n                    this.parent.setRecordValue('width', this.previousItem.width + differenceWidth, item, true);\n                }\n            }\n            this.updateEditPosition(e, item);\n        }\n    };\n    /**\n     * To updated startDate and endDate while perform taskbar edit operation.\n     *\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.updateEditedItem = function () {\n        var item = this.taskBarEditRecord.ganttProperties;\n        var left;\n        var projectStartDate;\n        var endDate;\n        var startDate;\n        switch (this.taskBarEditAction) {\n            case 'ProgressResizing':\n                this.parent.setRecordValue('progress', this.getProgressPercent(item.width, item.progressWidth), item, true);\n                break;\n            case 'LeftResizing':\n                if (this.segmentIndex === -1) {\n                    left = this.getRoundOffStartLeft(item, this.roundOffDuration);\n                    projectStartDate = this.getDateByLeft(left);\n                    if (isNullOrUndefined(item.endDate)) {\n                        endDate = this.parent.dateValidationModule.getValidEndDate(item);\n                        this.parent.setRecordValue('endDate', endDate, item, true);\n                    }\n                    startDate = this.parent.dateValidationModule.checkStartDate(projectStartDate, item, null);\n                    this.parent.setRecordValue('startDate', new Date(startDate.getTime()), item, true);\n                    if (this.parent.dateValidationModule.compareDates(item.startDate, item.endDate) === 0\n                        && isNullOrUndefined(item.isMilestone) && item.isMilestone === false && item.duration === 0) {\n                        this.parent.setRecordValue('duration', 1, item, true);\n                    }\n                    if (item.isMilestone) {\n                        this.parent.setRecordValue('endDate', new Date(startDate.getTime()), item, true);\n                    }\n                    this.parent.dateValidationModule.calculateDuration(this.taskBarEditRecord);\n                    this.parent.editModule.updateResourceRelatedFields(this.taskBarEditRecord, 'duration');\n                }\n                else {\n                    this.updateSplitLeftResize(item);\n                }\n                break;\n            case 'RightResizing':\n            case 'ParentResizing':\n                if (this.segmentIndex === -1) {\n                    left = this.getRoundOffEndLeft(item, this.roundOffDuration);\n                    var tempEndDate = this.getDateByLeft(left);\n                    if (isNullOrUndefined(item.startDate)) {\n                        startDate = this.parent.dateValidationModule.getValidStartDate(item);\n                        this.parent.setRecordValue('startDate', startDate, item, true);\n                    }\n                    var tempdate = isNullOrUndefined(item.startDate) ? startDate : item.startDate;\n                    endDate = item.isMilestone ? tempdate :\n                        this.parent.dateValidationModule.checkEndDate(tempEndDate, this.taskBarEditRecord.ganttProperties);\n                    this.parent.setRecordValue('endDate', new Date(endDate.getTime()), item, true);\n                    this.parent.dateValidationModule.calculateDuration(this.taskBarEditRecord);\n                    this.parent.editModule.updateResourceRelatedFields(this.taskBarEditRecord, 'duration');\n                }\n                else {\n                    this.updateSplitRightResizing(item);\n                }\n                break;\n            case 'ParentDrag':\n            case 'ChildDrag':\n            case 'MilestoneDrag':\n            case 'ManualParentDrag':\n                if (this.segmentIndex === -1 || this.segmentIndex === 0) {\n                    this.updateChildDrag(item);\n                }\n                else {\n                    this.setSplitTaskDrag(item);\n                }\n                break;\n        }\n    };\n    TaskbarEdit.prototype.updateChildDrag = function (item) {\n        var left = this.getRoundOffStartLeft(item, this.roundOffDuration);\n        var projectStartDate = this.getDateByLeft(left);\n        var endDate;\n        if (this.segmentIndex === 0) {\n            this.parent.setRecordValue('startDate', this.parent.dateValidationModule.checkStartDate(projectStartDate, item, null), item, true);\n            item.segments[0].startDate = projectStartDate;\n            item.segments[0].endDate = this.parent.dataOperation.getEndDate(item.segments[0].startDate, item.segments[0].duration, item.durationUnit, item, false);\n            this.parent.setRecordValue('segments', item.segments, item, true);\n            this.parent.dataOperation.updateMappingData(this.taskBarEditRecord, 'segments');\n            this.parent.chartRowsModule.incrementSegments(item.segments, 0, this.taskBarEditRecord);\n            this.parent.setRecordValue('endDate', item.segments[item.segments.length - 1].endDate, item, true);\n        }\n        else {\n            if (!isNullOrUndefined(item.endDate) && isNullOrUndefined(item.startDate)) {\n                endDate = this.parent.dateValidationModule.checkStartDate(projectStartDate, item, null);\n                endDate = this.parent.dateValidationModule.checkEndDate(endDate, this.taskBarEditRecord.ganttProperties);\n                this.parent.setRecordValue('endDate', endDate, item, true);\n            }\n            else {\n                this.parent.setRecordValue('startDate', this.parent.dateValidationModule.checkStartDate(projectStartDate, item, null), item, true);\n                if (!isNullOrUndefined(item.duration)) {\n                    this.parent.dateValidationModule.calculateEndDate(this.taskBarEditRecord);\n                }\n            }\n        }\n    };\n    TaskbarEdit.prototype.updateSplitLeftResize = function (item) {\n        var segment = item.segments[this.segmentIndex];\n        var left = this.segmentIndex === 0 ? this.getRoundOffStartLeft(item, this.roundOffDuration) :\n            this.getRoundOffStartLeft(segment, this.roundOffDuration);\n        var projectStartDate = this.segmentIndex === 0 ? this.getDateByLeft(left) : this.getDateByLeft(item.left + left);\n        var startDate = this.parent.dataOperation.checkStartDate(projectStartDate, item, false);\n        var duration = this.parent.dataOperation.getDuration(startDate, segment.endDate, item.durationUnit, item.isAutoSchedule, item.isMilestone);\n        segment.startDate = new Date(startDate.getTime());\n        segment.duration = duration;\n        this.parent.setRecordValue('duration', this.sumOfDuration(item.segments), item, true);\n        if (this.segmentIndex === 0) {\n            this.parent.setRecordValue('startDate', segment.startDate, item, true);\n        }\n        this.parent.editModule.updateResourceRelatedFields(this.taskBarEditRecord, 'duration');\n        if (!isNullOrUndefined(item.segments[this.segmentIndex - 1])) {\n            var segmentOffsetDuration = this.parent.dataOperation.getDuration(item.segments[this.segmentIndex - 1].endDate, item.segments[this.segmentIndex].startDate, item.durationUnit, item.isAutoSchedule, item.isMilestone);\n            segment.offsetDuration = segmentOffsetDuration;\n        }\n        this.parent.setRecordValue('segments', item.segments, item, true);\n        this.parent.dataOperation.updateMappingData(this.taskBarEditRecord, 'segments');\n    };\n    TaskbarEdit.prototype.updateSplitRightResizing = function (item) {\n        var segment = item.segments[this.segmentIndex];\n        var left = this.getRoundOffEndLeft(item, this.roundOffDuration);\n        var tempEndDate = this.getDateByLeft(left);\n        var endDate = this.parent.dataOperation.checkEndDate(tempEndDate, item, false);\n        var duration = this.parent.dataOperation.getDuration(segment.startDate, endDate, item.durationUnit, item.isAutoSchedule, item.isMilestone);\n        segment.endDate = new Date(endDate.getTime());\n        segment.duration = duration;\n        // update next segment offset duration\n        if (!isNullOrUndefined(item.segments[this.segmentIndex + 1])) {\n            var nextSegment = item.segments[this.segmentIndex + 1];\n            var segmentOffset = this.parent.dataOperation.getDuration(item.segments[this.segmentIndex].endDate, nextSegment.startDate, item.durationUnit, item.isAutoSchedule, item.isMilestone);\n            segment.offsetDuration = segmentOffset;\n        }\n        this.parent.setRecordValue('segments', item.segments, item, true);\n        this.parent.dataOperation.updateMappingData(this.taskBarEditRecord, 'segments');\n        this.parent.setRecordValue('duration', this.sumOfDuration(item.segments), item, true);\n        this.parent.setRecordValue('endDate', item.segments[item.segments.length - 1].endDate, item, true);\n        this.parent.editModule.updateResourceRelatedFields(this.taskBarEditRecord, 'duration');\n    };\n    TaskbarEdit.prototype.sumOfDuration = function (segments) {\n        var duration = 0;\n        for (var i = 0; i < segments.length; i++) {\n            var segment = segments[i];\n            duration += segment.duration;\n        }\n        return duration;\n    };\n    TaskbarEdit.prototype.setSplitTaskDrag = function (item) {\n        var segment = item.segments[this.segmentIndex];\n        var left = this.getRoundOffStartLeft(segment, this.roundOffDuration);\n        var projectStartDate = this.getDateByLeft(item.left + left);\n        projectStartDate = this.parent.dateValidationModule.checkStartDate(projectStartDate, item, null);\n        segment.startDate = projectStartDate;\n        segment.endDate = this.parent.dataOperation.getEndDate(segment.startDate, segment.duration, item.durationUnit, item, false);\n        segment.duration = this.parent.dataOperation.getDuration(segment.startDate, segment.endDate, item.durationUnit, item.isAutoSchedule, item.isMilestone);\n        this.parent.setRecordValue('duration', this.sumOfDuration(item.segments), item, true);\n        this.parent.setRecordValue('endDate', item.segments[item.segments.length - 1].endDate, item, true);\n        if (!isNullOrUndefined(this.parent.taskFields.endDate)) {\n            this.parent.dataOperation.updateMappingData(this.taskBarEditRecord, 'endDate');\n        }\n        //set offset if previous record present\n        if (!isNullOrUndefined(item.segments[this.segmentIndex - 1])) {\n            var offsetDuration = this.parent.dataOperation.getDuration(item.segments[this.segmentIndex - 1].endDate, item.segments[this.segmentIndex].startDate, item.durationUnit, item.isAutoSchedule, item.isMilestone);\n            if (segment.startDate.getDay() === 1 && offsetDuration === 0 && !this.parent.includeWeekend) {\n                offsetDuration = 1;\n            }\n            segment.offsetDuration = offsetDuration;\n        }\n        //set next record  offset if present\n        if (!isNullOrUndefined(item.segments[this.segmentIndex + 1])) {\n            var nextSegment = item.segments[this.segmentIndex + 1];\n            var offsetDuration = this.parent.dataOperation.getDuration(item.segments[this.segmentIndex].endDate, nextSegment.startDate, item.durationUnit, item.isAutoSchedule, item.isMilestone);\n            if (nextSegment.startDate.getDay() === 1 && offsetDuration === 0 && !this.parent.includeWeekend) {\n                offsetDuration = 1;\n            }\n            nextSegment.offsetDuration = offsetDuration;\n        }\n        this.parent.setRecordValue('segments', item.segments, item, true);\n        this.parent.dataOperation.updateMappingData(this.taskBarEditRecord, 'segments');\n    };\n    /**\n     * To get roundoff enddate.\n     *\n     * @param {ITaskData} ganttRecord .\n     * @param {boolean} isRoundOff .\n     * @returns {number} .\n     * @private\n     */\n    TaskbarEdit.prototype.getRoundOffEndLeft = function (ganttRecord, isRoundOff) {\n        var tierMode = this.parent.timelineModule.bottomTier !== 'None' ? this.parent.timelineModule.bottomTier :\n            this.parent.timelineModule.topTier;\n        var totalLeft = ganttRecord.width + ganttRecord.left;\n        if (this.segmentIndex !== -1) {\n            var segment = ganttRecord.segments[this.segmentIndex];\n            totalLeft = totalLeft - ganttRecord.width + segment.width + segment.left;\n        }\n        var remainingContribution = (1 / (this.parent.timelineModule.getIncrement(this.getDateByLeft(totalLeft), 1, 'Day') / (1000 * 60 * 60 * 24)));\n        var remainingLeft = this.parent.perDayWidth - (this.parent.perDayWidth / remainingContribution);\n        var positionValue = remainingLeft / this.parent.perDayWidth;\n        if (isRoundOff === undefined) {\n            isRoundOff = false;\n        }\n        /*Rounding the decimal value for week-month-year schedule mode*/\n        if (!isRoundOff) {\n            if ((tierMode !== 'Hour' && tierMode !== 'Minutes')) {\n                if (positionValue > 0.5) {\n                    totalLeft = totalLeft - remainingLeft + this.parent.perDayWidth;\n                }\n                else if (positionValue < 0.5) {\n                    totalLeft = (totalLeft - remainingLeft) + (this.parent.perDayWidth / 2);\n                }\n            }\n        }\n        else if (isRoundOff) {\n            if (tierMode === 'Hour') {\n                var inHour = (this.parent.perDayWidth / 24);\n                remainingContribution =\n                    (1 / (this.parent.timelineModule.getIncrement(this.getDateByLeft(totalLeft), 1, 'Hour') / (1000 * 60 * 60)));\n                remainingLeft = (this.parent.perDayWidth / 24) - ((this.parent.perDayWidth / 24) / remainingContribution);\n                if (remainingLeft !== 0) {\n                    totalLeft = (totalLeft - remainingLeft) + inHour;\n                }\n            }\n            else if (tierMode === 'Minutes') {\n                var inMinutes = (this.parent.perDayWidth / (24 * 60));\n                remainingContribution =\n                    (1 / (this.parent.timelineModule.getIncrement(this.getDateByLeft(totalLeft), 1, 'Minutes') / (1000 * 60)));\n                remainingLeft = (this.parent.perDayWidth / (24 * 60)) - ((this.parent.perDayWidth / (24 * 60)) / remainingContribution);\n                if (remainingLeft !== 0) {\n                    totalLeft = (totalLeft - remainingLeft) + inMinutes;\n                }\n            }\n            else {\n                if (remainingLeft !== 0) {\n                    totalLeft = (totalLeft - remainingLeft) + this.parent.perDayWidth;\n                }\n            }\n        }\n        return totalLeft;\n    };\n    /**\n     * To get roundoff startdate.\n     *\n     * @param {ITaskData | ITaskSegment} ganttRecord .\n     * @param {boolean} isRoundOff .\n     * @returns {number} .\n     * @private\n     */\n    TaskbarEdit.prototype.getRoundOffStartLeft = function (ganttRecord, isRoundOff) {\n        var left = isNullOrUndefined(ganttRecord) ? ganttRecord.left\n            : ganttRecord.left;\n        var tierMode = this.parent.timelineModule.bottomTier !== 'None' ? this.parent.timelineModule.bottomTier :\n            this.parent.timelineModule.topTier;\n        var remainingContribution = (1 / (this.parent.timelineModule.getIncrement(this.getDateByLeft(left), 1, 'Day') / (1000 * 60 * 60 * 24)));\n        var remainDays = this.parent.perDayWidth - (this.parent.perDayWidth / remainingContribution);\n        var remainDaysInDecimal = remainDays / this.parent.perDayWidth;\n        if (isRoundOff === undefined) {\n            isRoundOff = false;\n        }\n        /*Rounding the decimal value for week-month-year schedule mode*/\n        if (!isRoundOff) {\n            if ((tierMode !== 'Hour' && tierMode !== 'Minutes')) {\n                if (remainDaysInDecimal <= 0.5) {\n                    left = left - remainDays;\n                }\n                else if (remainDaysInDecimal > 0.5) {\n                    left = (left - remainDays) + this.parent.perDayWidth / 2;\n                }\n            }\n        }\n        else if (isRoundOff) {\n            if (tierMode === 'Hour') {\n                remainingContribution =\n                    (1 / (this.parent.timelineModule.getIncrement(this.getDateByLeft(left), 1, 'Hour') / (1000 * 60 * 60)));\n                remainDays = (this.parent.perDayWidth / 24) - ((this.parent.perDayWidth / 24) / remainingContribution);\n                left = left - remainDays;\n            }\n            else if (tierMode === 'Minutes') {\n                remainingContribution =\n                    (1 / (this.parent.timelineModule.getIncrement(this.getDateByLeft(left), 1, 'Minutes') / (1000 * 60)));\n                remainDays = (this.parent.perDayWidth / (24 * 60)) - ((this.parent.perDayWidth / (24 * 60)) / remainingContribution);\n                left = left - remainDays;\n            }\n            else {\n                left = left - remainDays;\n            }\n        }\n        return left;\n    };\n    /**\n     * To get date by left value.\n     *\n     * @param {number} left .\n     * @returns {Date} .\n     * @private\n     */\n    TaskbarEdit.prototype.getDateByLeft = function (left) {\n        var pStartDate = new Date(this.parent.timelineModule.timelineStartDate.toString());\n        var milliSecondsPerPixel = (24 * 60 * 60 * 1000) / this.parent.perDayWidth;\n        pStartDate.setTime(pStartDate.getTime() + (left * milliSecondsPerPixel));\n        var tierMode = this.parent.timelineModule.bottomTier !== 'None' ? this.parent.timelineModule.topTier :\n            this.parent.timelineModule.bottomTier;\n        if (tierMode !== 'Hour' && tierMode !== 'Minutes') {\n            if (this.isInDst(new Date(this.parent.timelineModule.timelineStartDate.toString())) && !this.isInDst(pStartDate)) {\n                pStartDate.setTime(pStartDate.getTime() + (60 * 60 * 1000));\n            }\n            else if (!this.isInDst(new Date(this.parent.timelineModule.timelineStartDate.toString())) && this.isInDst(pStartDate)) {\n                pStartDate.setTime(pStartDate.getTime() - (60 * 60 * 1000));\n            }\n        }\n        return pStartDate;\n    };\n    /**\n     * To get timezone offset.\n     *\n     * @returns {number} .\n     * @private\n     */\n    TaskbarEdit.prototype.getDefaultTZOffset = function () {\n        var janMonth = new Date(new Date().getFullYear(), 0, 1);\n        var julMonth = new Date(new Date().getFullYear(), 6, 1); //Because there is no reagions DST inbetwwen this range\n        return Math.max(janMonth.getTimezoneOffset(), julMonth.getTimezoneOffset());\n    };\n    /**\n     * To check whether the date is in DST.\n     *\n     * @param {Date} date .\n     * @returns {boolean} .\n     * @private\n     */\n    TaskbarEdit.prototype.isInDst = function (date) {\n        return date.getTimezoneOffset() < this.getDefaultTZOffset();\n    };\n    /**\n     * To set item position.\n     *\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.setItemPosition = function () {\n        var item = this.taskBarEditRecord.ganttProperties;\n        var segment = !isNullOrUndefined(item.segments) ? item.segments[this.segmentIndex] : null;\n        var width = this.taskBarEditAction === 'MilestoneDrag' || item.isMilestone ?\n            this.parent.chartRowsModule.milestoneHeight : item.width;\n        var rightResizer = this.parent.isAdaptive ? (width - 2) : (width - 10);\n        if (!isNullOrUndefined(segment)) {\n            rightResizer = this.parent.isAdaptive ? (segment.width - 2) : (segment.width - 10);\n        }\n        var taskBarMainContainer = (!this.taskBarEditElement.classList.contains(cls.taskBarMainContainer)) ? closest(this.taskBarEditElement, 'tr.' + cls.chartRow)\n            .querySelector('.' + cls.taskBarMainContainer) : this.taskBarEditElement;\n        var segmentedTaskBarContainer = this.taskBarEditElement.classList.contains('e-segmented-taskbar');\n        var leftLabelContainer = closest(this.taskBarEditElement, 'tr.' + cls.chartRow)\n            .querySelector('.' + cls.leftLabelContainer);\n        var rightLabelContainer = closest(this.taskBarEditElement, 'tr.' + cls.chartRow)\n            .querySelector('.' + cls.rightLabelContainer);\n        var traceChildProgressBar = this.taskBarEditElement.querySelector('.' + cls.traceChildProgressBar);\n        var traceChildTaskBar = this.taskBarEditElement.querySelector('.' + cls.traceChildTaskBar);\n        var childProgressResizer = this.taskBarEditElement.querySelector('.' + cls.childProgressResizer);\n        var taskBarRightResizer = this.taskBarEditElement.querySelector('.' + cls.taskBarRightResizer);\n        var traceParentTaskBar = this.taskBarEditElement.querySelector('.' + cls.traceParentTaskBar);\n        var traceParentProgressBar = this.taskBarEditElement.querySelector('.' + cls.traceParentProgressBar);\n        var traceConnectorPointRight = this.taskBarEditElement.querySelector('.' + cls.rightConnectorPointOuterDiv);\n        var manualParentTaskbar = this.taskBarEditElement;\n        var manualTaskbar = this.taskBarEditElement.querySelector('.' + cls.manualParentTaskBar);\n        var manualParentRight = this.taskBarEditElement.querySelector('.' + cls.manualParentRightResizer);\n        var manualParentLeft = this.taskBarEditElement.querySelector('.' + cls.manualParentLeftResizer);\n        if (this.taskBarEditAction !== 'ConnectorPointRightDrag' &&\n            this.taskBarEditAction !== 'ConnectorPointLeftDrag') {\n            if (this.taskBarEditAction !== 'ParentResizing' && this.taskBarEditAction !== 'ManualParentDrag') {\n                if (segmentedTaskBarContainer && !isNullOrUndefined(item.segments)\n                    && (this.taskBarEditAction === 'RightResizing' || this.segmentIndex !== 0)) {\n                    this.taskBarEditElement.style.width = (segment.width) + 'px';\n                    this.taskBarEditElement.style.left = (segment.left) + 'px';\n                }\n                taskBarMainContainer.style.width = (width) + 'px';\n                taskBarMainContainer.style.left = (item.left) + 'px';\n                leftLabelContainer.style.width = (item.left) + 'px';\n                if (this.taskBarEditAction === 'LeftResizing' && this.segmentIndex === 0) {\n                    var parent_1 = this.taskBarEditElement.parentElement;\n                    var segmentedTasks = parent_1.getElementsByClassName('e-segmented-taskbar');\n                    for (var i = 0; i < item.segments.length; i++) {\n                        var segment_4 = item.segments[i];\n                        var segmentElement = segmentedTasks[i];\n                        segmentElement.style.width = (segment_4.width) + 'px';\n                        segmentElement.style.left = (segment_4.left) + 'px';\n                    }\n                }\n                if (!isNullOrUndefined(rightLabelContainer)) {\n                    rightLabelContainer.style.left = (item.left + width) + 'px';\n                }\n            }\n            if (traceConnectorPointRight) {\n                traceConnectorPointRight.style.left = (this.parent.isAdaptive ? (width + 10) : (width + 2)) + 'px';\n            }\n            if (this.taskBarEditAction === 'MilestoneDrag' || item.isMilestone) {\n                taskBarMainContainer.style.left = (item.left - (width / 2)) + 'px';\n                leftLabelContainer.style.width = (item.left - (width / 2)) + 'px';\n                if (!isNullOrUndefined(rightLabelContainer)) {\n                    rightLabelContainer.style.left = (item.left + (width / 2)) + 'px';\n                }\n            }\n            else if (this.taskBarEditAction === 'ProgressResizing') {\n                if (this.segmentIndex === -1) {\n                    traceChildTaskBar.style.left = (item.left + item.progressWidth - 10) + 'px';\n                    if (!isNullOrUndefined(traceChildProgressBar)) {\n                        traceChildProgressBar.style.width = item.progressWidth + 'px';\n                        traceChildProgressBar.style.borderBottomRightRadius = this.progressBorderRadius + 'px';\n                        traceChildProgressBar.style.borderTopRightRadius = this.progressBorderRadius + 'px';\n                        childProgressResizer.style.left = item.progressWidth - 8 + 'px';\n                    }\n                }\n            }\n            else if (this.taskBarEditAction === 'RightResizing' && !isNullOrUndefined(traceChildTaskBar)) {\n                traceChildTaskBar.style.width = (width) + 'px';\n                if (!isNullOrUndefined(traceChildProgressBar)) {\n                    traceChildProgressBar.style.width = (item.progressWidth) + 'px';\n                    taskBarRightResizer.style.left = rightResizer + 'px';\n                    if (!isNullOrUndefined(childProgressResizer)) {\n                        childProgressResizer.style.left = (item.progressWidth - 10) + 'px';\n                    }\n                }\n            }\n            else if (this.taskBarEditAction === 'ParentDrag') {\n                if (!isNullOrUndefined(traceParentTaskBar)) {\n                    traceParentTaskBar.style.width = (width) + 'px';\n                }\n                if (!isNullOrUndefined(traceChildProgressBar)) {\n                    traceParentProgressBar.style.width = (item.progressWidth) + 'px';\n                }\n            }\n            else if (this.taskBarEditAction === 'ParentResizing') {\n                manualParentTaskbar.style.width = manualTaskbar.style.width = (item.width) + 'px';\n                manualParentRight.style.left = (item.width - manualParentLeft.offsetLeft) + 'px';\n            }\n            else if (this.taskBarEditAction === 'ManualParentDrag') {\n                manualParentTaskbar.style.left = (item.left - item.autoLeft) + 'px';\n            }\n            else {\n                if (!isNullOrUndefined(traceChildTaskBar) && !segmentedTaskBarContainer) {\n                    traceChildTaskBar.style.width = (width) + 'px';\n                }\n                if (!isNullOrUndefined(traceChildProgressBar)) {\n                    taskBarRightResizer.style.left = rightResizer + 'px';\n                    traceChildProgressBar.style.width = (item.progressWidth) + 'px';\n                    if (!isNullOrUndefined(childProgressResizer)) {\n                        childProgressResizer.style.left = item.progressWidth - 10 + 'px';\n                    }\n                }\n                if (segmentedTaskBarContainer) {\n                    taskBarRightResizer.style.left = rightResizer + 'px';\n                    traceChildProgressBar.style.width = (segment.progressWidth) + 'px';\n                    if (!isNullOrUndefined(childProgressResizer)) {\n                        childProgressResizer.style.left = segment.progressWidth - 10 + 'px';\n                    }\n                }\n            }\n        }\n    };\n    /**\n     * To handle mouse up event in chart\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.mouseUpHandler = function (e) {\n        var mouseDragged = this.isMouseDragged;\n        this.previousMouseMove = null;\n        this.editTooltip.showHideTaskbarEditTooltip(false, this.segmentIndex);\n        if (this.taskBarEditAction && this.isMouseDragged) {\n            if (!this.dragMouseLeave && this.taskBarEditedAction) {\n                this.taskBarEditedAction(e);\n                this.isMouseDragged = false;\n            }\n            else {\n                this.cancelTaskbarEditActionInMouseLeave();\n            }\n        }\n        if (this.parent.viewType === 'ResourceView' && this.parent.enableMultiTaskbar && !isNullOrUndefined(this.taskBarEditElement)) {\n            if (!isNullOrUndefined(this.taskBarEditElement.querySelector('.e-gantt-child-taskbar'))) {\n                if (this.taskBarEditElement.querySelector('.e-gantt-child-taskbar').classList.contains('e-collapsed-taskbar-drag')) {\n                    removeClass([this.taskBarEditElement.querySelector('.e-gantt-child-taskbar')], 'e-collapsed-taskbar-drag');\n                    this.taskBarEditElement.style.zIndex = this.prevZIndex;\n                    this.prevZIndex = '';\n                }\n            }\n        }\n        if (!this.parent.isAdaptive || mouseDragged) {\n            this.initPublicProp();\n        }\n        this.stopScrollTimer();\n    };\n    /**\n     * To perform taskbar edit operation.\n     *\n     * @param {PointerEvent} event .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.taskBarEditedAction = function (event) {\n        var args = {};\n        var x1 = this.mouseDownX;\n        var y1 = this.mouseDownY;\n        var item = this.taskBarEditRecord;\n        var recordIndex = this.parent.ganttChartModule.getIndexByTaskBar(this.taskBarEditElement);\n        var x2 = this.mouseMoveX;\n        var e = this.getCoordinate(event);\n        var resMouseY = e.pageY - this.parent.ganttChartModule.chartBodyContainer.offsetTop;\n        if ((this.taskBarEditAction === 'ConnectorPointLeftDrag' ||\n            this.taskBarEditAction === 'ConnectorPointRightDrag') && !this.drawPredecessor) {\n            this.dependencyCancel = true;\n        }\n        if ((this.taskBarEditAction === 'ConnectorPointLeftDrag' ||\n            this.taskBarEditAction === 'ConnectorPointRightDrag') && this.drawPredecessor) {\n            this.parent.connectorLineEditModule.updatePredecessor(this.connectorSecondRecord, this.finalPredecessor);\n        }\n        else {\n            if (x1 !== x2 || (Math.abs(y1 - resMouseY) >= (this.parent.rowHeight - this.parent.taskbarHeight) / 2)) {\n                if (item !== null) {\n                    args.editingFields = item.ganttProperties;\n                    args.data = item;\n                    args.recordIndex = recordIndex;\n                    args.previousData = this.previousItem;\n                    args.taskBarEditAction = this.taskBarEditAction;\n                    args.action = 'TaskbarEditing';\n                    args.roundOffDuration = this.roundOffDuration;\n                    args.target = this.targetElement;\n                    this.taskbarEditedArgs = args;\n                    this.taskbarEdited(args);\n                }\n            }\n        }\n    };\n    /**\n     * To cancel the taskbar edt action.\n     *\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.cancelTaskbarEditActionInMouseLeave = function () {\n        this.parent.editModule.reUpdatePreviousRecords(true);\n    };\n    TaskbarEdit.prototype.updateSegmentProgress = function (taskData) {\n        var segments = taskData.segments;\n        var fixedWidth = true;\n        var totalTaskWidth = this.splitTasksDuration(segments) * this.parent.perDayWidth;\n        var totalProgressWidth = this.parent.dataOperation.getProgressWidth(totalTaskWidth, taskData.progress);\n        for (var i = 0; i < segments.length; i++) {\n            var segment = segments[i];\n            delete segment.progressWidth;\n            if (totalProgressWidth > 0 && totalProgressWidth > segment.width) {\n                totalProgressWidth = totalProgressWidth - segment.width;\n                segment.progressWidth = segment.width;\n                segment.showProgress = false;\n            }\n            else if (fixedWidth) {\n                segment.progressWidth = totalProgressWidth;\n                segment.showProgress = true;\n                totalProgressWidth = totalProgressWidth - segment.width;\n                fixedWidth = false;\n            }\n        }\n    };\n    /**\n     * To trigger taskbar edited event.\n     *\n     * @param {ITaskbarEditedEventArgs} arg .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.taskbarEdited = function (arg) {\n        var args = extend({}, arg);\n        var ganttRecord = args.data;\n        var taskData = ganttRecord.ganttProperties;\n        if (args.taskBarEditAction === 'ProgressResizing') {\n            if (args.previousData.progress !== taskData.progress) {\n                this.parent.setRecordValue('progress', this.getProgressPercent(taskData.width, taskData.progressWidth), taskData, true);\n                if (ganttRecord.parentItem) {\n                    this.parent.editModule.updateParentProgress(ganttRecord.parentItem);\n                }\n                if (!isNullOrUndefined(taskData.segments)) {\n                    this.updateSegmentProgress(taskData);\n                }\n            }\n        }\n        else {\n            var segments = args.data.ganttProperties.segments;\n            if (!isNullOrUndefined(segments) && segments.length > 0\n                && ((this.taskBarEditAction === 'LeftResizing' && this.segmentIndex !== 0)\n                    || (this.taskBarEditAction === 'ChildDrag' && this.segmentIndex !== 0)\n                    || (this.taskBarEditAction === 'RightResizing'))) {\n                var segment = segments[this.segmentIndex];\n                var ganttProp = this.taskBarEditRecord.ganttProperties;\n                var previousSegment = this.segmentIndex === 0 ? null\n                    : segments[this.segmentIndex - 1];\n                var nextSegment = this.segmentIndex === segments.length - 1 ? null\n                    : segments[this.segmentIndex + 1];\n                var sDate = !isNullOrUndefined(nextSegment) ?\n                    new Date(nextSegment.startDate.getTime()) : this.parent.cloneProjectEndDate;\n                var eDate = !isNullOrUndefined(previousSegment) ?\n                    new Date(previousSegment.endDate.getTime()) : this.parent.cloneProjectStartDate;\n                sDate.setHours(0, 0, 0, 0);\n                eDate.setHours(0, 0, 0, 0);\n                var cStartDate = new Date(segment.startDate.getTime());\n                var cEndDate = new Date(segment.endDate.getTime());\n                cStartDate.setDate(cStartDate.getDate() - 1);\n                cEndDate.setDate(cEndDate.getDate() + 1);\n                cStartDate.setHours(0, 0, 0, 0);\n                cEndDate.setHours(0, 0, 0, 0);\n                if (cStartDate.getTime() <= eDate.getTime()) {\n                    var segmentIndexes = [\n                        { 'firstSegmentIndex': previousSegment.segmentIndex, 'secondSegmentIndex': segment.segmentIndex }\n                    ];\n                    this.parent.chartRowsModule.mergeTask(ganttProp.taskId, segmentIndexes);\n                }\n                else if (cEndDate.getTime() >= sDate.getTime() && this.segmentIndex !== segments.length - 1) {\n                    var segmentIndexes = [\n                        { 'firstSegmentIndex': segment.segmentIndex, 'secondSegmentIndex': nextSegment.segmentIndex }\n                    ];\n                    this.parent.chartRowsModule.mergeTask(ganttProp.taskId, segmentIndexes);\n                }\n                else if (cEndDate.getTime() >= sDate.getTime()) {\n                    segment.endDate.setDate(this.parent.cloneProjectEndDate.getDate() - 1);\n                    segment.startDate = this.parent.dataOperation.getStartDate(segment.endDate, segment.duration, ganttProp.durationUnit, ganttProp);\n                    // eslint-disable-next-line\n                    for (var i = segments.length - 2; i >= 0; i++) {\n                        var segment_5 = segments[i];\n                        var eDate_1 = segment_5.endDate;\n                        eDate_1.setDate(eDate_1.getDate() - segment_5.offsetDuration);\n                        segment_5.endDate = eDate_1;\n                        segment_5.startDate = this.parent.dataOperation.getStartDate(segment_5.endDate, segment_5.duration, ganttProp.durationUnit, ganttProp);\n                    }\n                }\n            }\n            this.parent.dataOperation.updateWidthLeft(args.data);\n        }\n        this.parent.dataOperation.updateTaskData(ganttRecord);\n        this.parent.editModule.initiateUpdateAction(args);\n    };\n    /**\n     * To get progress in percentage.\n     *\n     * @param {number} parentwidth .\n     * @param {number} progresswidth .\n     * @returns {number} .\n     * @private\n     */\n    TaskbarEdit.prototype.getProgressPercent = function (parentwidth, progresswidth) {\n        return Math.ceil(((progresswidth / parentwidth) * 100));\n    };\n    /**\n     * false line implementation.\n     *\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.drawFalseLine = function () {\n        var x1 = this.mouseDownX;\n        var y1 = this.mouseDownY;\n        var x2 = this.mouseMoveX;\n        var y2 = this.mouseMoveY;\n        var length = Math.sqrt((x1 - x2) * (x1 - x2) + (y1 - y2) * (y1 - y2));\n        var angle = Math.atan2(y2 - y1, x2 - x1) * 180 / Math.PI;\n        var transform = 'rotate(' + angle + 'deg)';\n        var left;\n        if (this.taskBarEditAction === 'ConnectorPointLeftDrag') {\n            left = (this.elementOffsetLeft - (this.parent.chartRowsModule.connectorPointWidth / 2)) -\n                this.parent.ganttChartModule.scrollObject.previousScroll.left;\n        }\n        if (this.taskBarEditAction === 'ConnectorPointRightDrag') {\n            left = (this.elementOffsetLeft + this.elementOffsetWidth) +\n                (this.parent.chartRowsModule.connectorPointWidth / 2) - this.parent.ganttChartModule.scrollObject.previousScroll.left;\n        }\n        var top = ((this.elementOffsetTop) + (this.elementOffsetHeight / 2) +\n            this.parent.ganttChartModule.chartBodyContainer.offsetTop) - this.parent.ganttChartModule.scrollObject.previousScroll.top;\n        this.removeFalseLine(false);\n        this.falseLine = createElement('div', {\n            className: cls.falseLine, id: 'ganttfalseline' + this.parent.element.id,\n            styles: 'transform-origin: 0% 100%;right: auto;position: absolute;transform:' + transform + ';' +\n                'border-top-width: 1px;border-top-style: dashed;z-index: 5;width:' + (length - 3) + 'px;' +\n                'left:' + left + 'px;top:' + top + 'px;'\n        });\n        this.parent.ganttChartModule.chartBodyContainer.appendChild(this.falseLine);\n    };\n    /**\n     *\n     * @param {boolean} isRemoveConnectorPointDisplay .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.removeFalseLine = function (isRemoveConnectorPointDisplay) {\n        if (this.falseLine) {\n            remove(this.falseLine);\n            this.falseLine = null;\n            if (isRemoveConnectorPointDisplay) {\n                this.elementOffsetLeft = 0;\n                this.elementOffsetTop = 0;\n                this.elementOffsetWidth = 0;\n                this.elementOffsetHeight = 0;\n                removeClass(this.parent.ganttChartModule.scrollElement.querySelectorAll('.' + cls.connectorLineContainer), [cls.connectorLineZIndex]);\n            }\n        }\n    };\n    /**\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.updateConnectorLineSecondProperties = function (e) {\n        var target = this.getElementByPosition(e);\n        var element = parentsUntil(target, cls.taskBarMainContainer);\n        this.connectorSecondAction = null;\n        var scrollTop = 0;\n        if (parentsUntil(target, cls.connectorPointLeft)) {\n            this.connectorSecondAction = 'ConnectorPointLeftDrag';\n            this.toPredecessorText = 'Start';\n        }\n        else if (parentsUntil(target, cls.connectorPointRight)) {\n            this.connectorSecondAction = 'ConnectorPointRightDrag';\n            this.toPredecessorText = 'Finish';\n        }\n        else {\n            this.connectorSecondAction = null;\n            this.toPredecessorText = null;\n        }\n        if (this.taskBarEditElement !== element && this.taskBarEditElement !== this.highlightedSecondElement) {\n            if (this.parent.virtualScrollModule && this.parent.enableVirtualization) {\n                var top_1 = this.parent.virtualScrollModule.getTopPosition();\n                scrollTop = top_1;\n            }\n            if ((this.parent.virtualScrollModule && this.parent.enableVirtualization &&\n                !this.elementOffsetLeft) || !this.parent.enableVirtualization) {\n                this.elementOffsetLeft = this.taskBarEditElement.offsetLeft;\n                this.elementOffsetTop = this.taskBarEditElement.offsetTop + scrollTop;\n                this.elementOffsetWidth = this.taskBarEditElement.offsetWidth;\n                this.elementOffsetHeight = this.taskBarEditElement.offsetHeight;\n            }\n            this.showHideTaskBarEditingElements(element, this.highlightedSecondElement, true);\n        }\n        if (isNullOrUndefined(this.connectorSecondAction) && !isNullOrUndefined(this.connectorSecondElement)) {\n            this.editTooltip.showHideTaskbarEditTooltip(false, this.segmentIndex);\n            removeClass([this.connectorSecondElement.querySelector('.' + cls.connectorPointLeft)], [cls.connectorPointAllowBlock]);\n            removeClass([this.connectorSecondElement.querySelector('.' + cls.connectorPointRight)], [cls.connectorPointAllowBlock]);\n        }\n        this.connectorSecondElement = this.connectorSecondAction ? element : null;\n        this.highlightedSecondElement = element;\n        this.connectorSecondRecord = isNullOrUndefined(this.connectorSecondElement) ?\n            null : this.parent.ganttChartModule.getRecordByTaskBar(this.connectorSecondElement);\n    };\n    // eslint-disable-next-line\n    TaskbarEdit.prototype.triggerDependencyEvent = function (e, mouseUp) {\n        var fromItem = this.taskBarEditRecord.ganttProperties;\n        var toItem = this.connectorSecondRecord ? this.connectorSecondRecord.ganttProperties : null;\n        var predecessor;\n        var currentTarget;\n        var target = this.getElementByPosition(e);\n        var element = target;\n        var uniqueId = this.parent.viewType === 'ResourceView' ? fromItem.taskId : fromItem.rowUniqueID;\n        if (this.taskBarEditAction === 'ConnectorPointLeftDrag') {\n            predecessor = uniqueId + 'S';\n        }\n        else if (this.taskBarEditAction === 'ConnectorPointRightDrag') {\n            predecessor = uniqueId + 'F';\n        }\n        if (this.connectorSecondAction) {\n            if (this.connectorSecondAction === 'ConnectorPointLeftDrag') {\n                predecessor += 'S';\n                currentTarget = 'start';\n            }\n            else if (this.connectorSecondAction === 'ConnectorPointRightDrag') {\n                predecessor += 'F';\n                currentTarget = 'finish';\n            }\n        }\n        if (isNullOrUndefined(toItem)) {\n            this.drawPredecessor = false;\n            return;\n        }\n        if (toItem.predecessorsName) {\n            this.finalPredecessor = toItem.predecessorsName + ',' + predecessor;\n        }\n        else {\n            this.finalPredecessor = predecessor;\n        }\n        var isValidLink = this.parent.connectorLineEditModule.validatePredecessorRelation(this.connectorSecondRecord, this.finalPredecessor);\n        // eslint-disable-next-line\n        var predecessorArray = this.parent.predecessorModule.calculatePredecessor(predecessor, this.connectorSecondRecord);\n        var args = {};\n        args.fromItem = fromItem;\n        args.toItem = toItem;\n        args.newPredecessorString = this.finalPredecessor;\n        args.predecessor = predecessorArray && predecessorArray[0];\n        args.isValidLink = isValidLink;\n        args.requestType = 'ValidateDependency';\n        this.parent.trigger('actionBegin', args);\n        args.isValidLink = !isValidLink && args.isValidLink ? false : args.isValidLink;\n        if (args.isValidLink) {\n            if (!this.editTooltip.toolTipObj && !this.parent.isAdaptive) {\n                this.editTooltip.showHideTaskbarEditTooltip(true, this.segmentIndex);\n            }\n            if (this.editTooltip.toolTipObj) {\n                this.parent.connectorLineModule.tooltipTable.innerHTML = this.parent.connectorLineModule.getConnectorLineTooltipInnerTd(this.parent.editModule.taskbarEditModule.taskBarEditRecord.ganttProperties.taskName, this.parent.editModule.taskbarEditModule.fromPredecessorText, '', '');\n                var table = this.parent.connectorLineModule.tooltipTable.querySelector('#toPredecessor').querySelectorAll('td');\n                table[1].innerText = toItem.taskName;\n                table[2].innerText = this.parent.localeObj.getConstant(currentTarget);\n                var tooltipElement = this.parent.connectorLineModule.tooltipTable.parentElement.parentElement;\n                if (tooltipElement.offsetTop + tooltipElement.offsetHeight > e.pageY) {\n                    tooltipElement.style.top = (e.pageY - tooltipElement.offsetHeight - 20) + 'px';\n                }\n            }\n            this.drawPredecessor = true;\n        }\n        else {\n            if (this.parent.isAdaptive) {\n                if (target.classList.contains(cls.connectorPointLeft) ||\n                    target.classList.contains(cls.connectorPointRight)) {\n                    this.showHideActivePredecessors(true);\n                }\n            }\n            else {\n                addClass([element], [cls.connectorPointAllowBlock]);\n            }\n            this.drawPredecessor = false;\n        }\n    };\n    // Get XY coordinates for touch and non-touch device\n    TaskbarEdit.prototype.getCoordinate = function (event) {\n        var coordinates = {};\n        if (this.parent.isAdaptive && event && event.type !== 'click') {\n            var e = event;\n            if (e.type === 'touchmove' || e.type === 'touchstart' || e.type === 'touchend') {\n                coordinates.pageX = e.changedTouches[0].pageX;\n                coordinates.pageY = e.changedTouches[0].pageY;\n            }\n        }\n        else if (event) {\n            var e = event;\n            coordinates.pageX = e.pageX;\n            coordinates.pageY = e.pageY;\n        }\n        return coordinates;\n    };\n    // Get current target element by mouse position\n    // window.pageXOffset && window.pageYOffset is used to find the accurate element position in IPad/IPhone\n    TaskbarEdit.prototype.getElementByPosition = function (event) {\n        if (!this.parent.isAdaptive) {\n            return event.target;\n        }\n        else {\n            var e = this.getCoordinate(event);\n            return document.elementFromPoint((e.pageX - window.pageXOffset), (e.pageY - window.pageYOffset));\n        }\n    };\n    TaskbarEdit.prototype.multipleSelectionEnabled = function () {\n        if (this.parent.selectionModule &&\n            this.parent.selectionSettings.mode !== 'Cell'\n            && this.parent.selectionSettings.type === 'Multiple') {\n            this.parent.selectionModule.hidePopUp();\n        }\n    };\n    TaskbarEdit.prototype.unWireEvents = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off('chartMouseDown', this.mouseDownHandler);\n        this.parent.off('chartMouseUp', this.mouseUpHandler);\n        this.parent.off('chartMouseLeave', this.mouseLeaveHandler);\n        this.parent.off('chartMouseMove', this.mouseMoveAction);\n        this.parent.off('chartMouseClick', this.mouseClickHandler);\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.destroy = function () {\n        this.unWireEvents();\n        this.stopScrollTimer();\n        this.parent.editModule.taskbarEditModule = undefined;\n    };\n    return TaskbarEdit;\n}(DateProcessor));\nexport { TaskbarEdit };\n","import { remove, extend, isNullOrUndefined, createElement, getValue, setValue, closest, isBlazor } from '@syncfusion/ej2-base';\nimport { DataManager, DataUtil } from '@syncfusion/ej2-data';\nimport { Dialog } from '@syncfusion/ej2-popups';\nimport { Tab } from '@syncfusion/ej2-navigations';\nimport { Grid, Edit, Toolbar as GridToolbar, Page, getObject } from '@syncfusion/ej2-grids';\nimport { ForeignKey, getActualProperties } from '@syncfusion/ej2-grids';\nimport { RichTextEditor, Toolbar as RTEToolbar, Link, HtmlEditor, QuickToolbar, Count } from '@syncfusion/ej2-richtexteditor';\nimport { TextBox, NumericTextBox, MaskedTextBox } from '@syncfusion/ej2-inputs';\nimport { CheckBox } from '@syncfusion/ej2-buttons';\nimport { DatePicker, DateTimePicker } from '@syncfusion/ej2-calendars';\nimport { DropDownList, ComboBox } from '@syncfusion/ej2-dropdowns';\nimport { isScheduledTask } from '../base/utils';\nimport { TreeGrid, Selection, Filter, Edit as TreeGridEdit, VirtualScroll } from '@syncfusion/ej2-treegrid';\nimport { getUid } from '../base/utils';\n/**\n *\n * @hidden\n */\nvar DialogEdit = /** @class */ (function () {\n    /**\n     * Constructor for render module\n     *\n     * @param {Gantt} parent .\n     * @returns {void} .\n     */\n    function DialogEdit(parent) {\n        /**\n         * @private\n         */\n        this.updatedEditFields = null;\n        this.updatedAddFields = null;\n        this.addedRecord = null;\n        this.dialogEditValidationFlag = false;\n        // eslint-disable-next-line\n        this.ganttResources = [];\n        /**\n         * @private\n         */\n        // eslint-disable-next-line\n        this.previousResource = [];\n        /**\n         * @private\n         */\n        this.isResourceUpdate = false;\n        this.parent = parent;\n        this.localeObj = this.parent.localeObj;\n        this.beforeOpenArgs = { cancel: false };\n        this.types = this.getPredecessorType();\n        this.rowData = {};\n        this.editedRecord = {};\n        this.inputs = {\n            booleanedit: CheckBox,\n            dropdownedit: DropDownList,\n            datepickeredit: DatePicker,\n            datetimepickeredit: DateTimePicker,\n            maskededit: MaskedTextBox,\n            numericedit: NumericTextBox,\n            stringedit: TextBox\n        };\n        this.processDialogFields();\n        this.wireEvents();\n    }\n    DialogEdit.prototype.wireEvents = function () {\n        this.parent.on('chartDblClick', this.dblClickHandler, this);\n    };\n    DialogEdit.prototype.dblClickHandler = function (e) {\n        var ganttData = this.parent.ganttChartModule.getRecordByTarget(e);\n        if (!isNullOrUndefined(ganttData)) {\n            this.openEditDialog(ganttData);\n        }\n    };\n    /**\n     * Method to validate add and edit dialog fields property.\n     *\n     * @returns {void} .\n     * @private\n     */\n    DialogEdit.prototype.processDialogFields = function () {\n        if (isNullOrUndefined(this.parent.editDialogFields) ||\n            this.parent.editDialogFields && this.parent.editDialogFields.length === 0) {\n            this.updatedEditFields = this.getDefaultDialogFields();\n            this.updatedEditFields = this.validateDialogFields(this.updatedEditFields);\n        }\n        else {\n            this.updatedEditFields = this.validateDialogFields(this.parent.editDialogFields);\n        }\n        if (isNullOrUndefined(this.parent.addDialogFields) ||\n            this.parent.addDialogFields && this.parent.addDialogFields.length === 0) {\n            this.updatedAddFields = this.getDefaultDialogFields();\n            this.updatedAddFields = this.validateDialogFields(this.updatedAddFields);\n        }\n        else {\n            this.updatedAddFields = this.validateDialogFields(this.parent.addDialogFields);\n        }\n    };\n    DialogEdit.prototype.validateDialogFields = function (dialogFields) {\n        var newDialogFields = [];\n        var emptyCustomColumn = 0;\n        for (var i = 0; i < dialogFields.length; i++) {\n            var fieldItem = getActualProperties(dialogFields[i]);\n            if (fieldItem.type === 'General' && (isNullOrUndefined(fieldItem.fields) || fieldItem.fields.length === 0)) {\n                fieldItem.fields = this.getGeneralColumnFields();\n            }\n            if (fieldItem.type === 'Dependency' && isNullOrUndefined(this.parent.taskFields.dependency)\n                || fieldItem.type === 'Resources' && isNullOrUndefined(this.parent.taskFields.resourceInfo)\n                || fieldItem.type === 'Notes' && isNullOrUndefined(this.parent.taskFields.notes)) {\n                continue;\n            }\n            if (fieldItem.type === 'Custom' && (isNullOrUndefined(fieldItem.fields) || fieldItem.fields.length === 0)) {\n                emptyCustomColumn += 1;\n                fieldItem.fields = this.getCustomColumnFields();\n            }\n            if (emptyCustomColumn > 1) {\n                continue;\n            }\n            newDialogFields.push(fieldItem);\n        }\n        return newDialogFields;\n    };\n    /**\n     * Method to get general column fields\n     *\n     * @returns {string[]} .\n     */\n    DialogEdit.prototype.getGeneralColumnFields = function () {\n        var fields = [];\n        for (var _i = 0, _a = Object.keys(this.parent.columnMapping); _i < _a.length; _i++) {\n            var key = _a[_i];\n            if (key === 'dependency' || key === 'resourceInfo' || key === 'notes') {\n                continue;\n            }\n            fields.push(this.parent.columnMapping[key]);\n        }\n        return fields;\n    };\n    /**\n     * Method to get custom column fields\n     *\n     * @returns {void} .\n     */\n    DialogEdit.prototype.getCustomColumnFields = function () {\n        var fields = [];\n        for (var i = 0; i < this.parent.customColumns.length; i++) {\n            fields.push(this.parent.customColumns[i]);\n        }\n        return fields;\n    };\n    /**\n     * Get default dialog fields when fields are not defined for add and edit dialogs\n     *\n     * @returns {AddDialogFieldSettings} .\n     */\n    DialogEdit.prototype.getDefaultDialogFields = function () {\n        var dialogFields = [];\n        var fieldItem = {};\n        var taskFields = this.parent.taskFields;\n        var columnMapping = this.parent.columnMapping;\n        if (Object.keys(columnMapping).length !== 0) {\n            fieldItem.type = 'General';\n            dialogFields.push(fieldItem);\n        }\n        if (!isNullOrUndefined(getValue('dependency', columnMapping))) {\n            fieldItem = {};\n            if (this.parent.columnByField[columnMapping.dependency.valueOf()].visible !== false) {\n                fieldItem.type = 'Dependency';\n            }\n            dialogFields.push(fieldItem);\n        }\n        if (!isNullOrUndefined(getValue('resourceInfo', columnMapping))) {\n            fieldItem = {};\n            if (this.parent.columnByField[columnMapping.resourceInfo.valueOf()].visible !== false) {\n                fieldItem.type = 'Resources';\n            }\n            dialogFields.push(fieldItem);\n        }\n        if (!isNullOrUndefined(getValue('notes', columnMapping))) {\n            fieldItem = {};\n            if (this.parent.columnByField[columnMapping.notes.valueOf()].visible !== false) {\n                fieldItem.type = 'Notes';\n            }\n            dialogFields.push(fieldItem);\n        }\n        if (!isNullOrUndefined(getValue('segments', taskFields))) {\n            fieldItem = {};\n            fieldItem.type = 'Segments';\n            dialogFields.push(fieldItem);\n        }\n        if (this.parent.customColumns.length > 0) {\n            fieldItem = {};\n            fieldItem.type = 'Custom';\n            dialogFields.push(fieldItem);\n        }\n        return dialogFields;\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    DialogEdit.prototype.openAddDialog = function () {\n        this.isEdit = false;\n        this.editedRecord = this.composeAddRecord();\n        this.createDialog();\n    };\n    /**\n     *\n     * @returns {Date} .\n     * @private\n     */\n    DialogEdit.prototype.getMinimumStartDate = function () {\n        var minDate = DataUtil.aggregates.min(this.parent.flatData, 'ganttProperties.startDate');\n        if (!isNullOrUndefined(minDate)) {\n            minDate = new Date(minDate.getTime());\n        }\n        else {\n            minDate = new Date(this.parent.timelineModule.timelineStartDate.getTime());\n        }\n        minDate = this.parent.dateValidationModule.checkStartDate(minDate);\n        return new Date(minDate.getTime());\n    };\n    /**\n     * @returns {IGanttData} .\n     * @private\n     */\n    DialogEdit.prototype.composeAddRecord = function () {\n        var tempData = {};\n        tempData.ganttProperties = {};\n        var columns = this.parent.ganttColumns;\n        var taskSettings = this.parent.taskFields;\n        var id = this.parent.editModule.getNewTaskId();\n        for (var i = 0; i < columns.length; i++) {\n            var field = columns[i].field;\n            if (field === taskSettings.id) {\n                tempData[field] = id;\n                tempData.ganttProperties.rowUniqueID = tempData[field];\n            }\n            else if (columns[i].field === taskSettings.startDate) {\n                if (isNullOrUndefined(tempData[taskSettings.endDate])) {\n                    tempData[field] = this.getMinimumStartDate();\n                }\n                else {\n                    tempData[field] = new Date(tempData[taskSettings.endDate]);\n                }\n                tempData.ganttProperties.startDate = new Date(tempData[field]);\n            }\n            else if (columns[i].field === taskSettings.endDate) {\n                if (isNullOrUndefined(tempData[taskSettings.startDate])) {\n                    tempData[field] = this.getMinimumStartDate();\n                }\n                else {\n                    tempData[field] = new Date(tempData[taskSettings.startDate]);\n                }\n                tempData.ganttProperties.endDate = new Date(tempData[field]);\n            }\n            else if (columns[i].field === taskSettings.duration) {\n                tempData[field] = 1;\n                tempData.ganttProperties.duration = tempData[field];\n                tempData.ganttProperties.durationUnit = this.parent.durationUnit.toLocaleLowerCase();\n            }\n            else if (columns[i].field === taskSettings.name) {\n                tempData[field] = 'New Task ' + id;\n                tempData.ganttProperties.taskName = tempData[field];\n            }\n            else if (columns[i].field === taskSettings.progress) {\n                tempData[field] = 0;\n                tempData.ganttProperties.progress = tempData[field];\n            }\n            else if (columns[i].field === taskSettings.work) {\n                tempData[field] = 0;\n                tempData.ganttProperties.work = tempData[field];\n            }\n            else if (columns[i].field === 'taskType') {\n                tempData[field] = this.parent.taskType;\n                tempData.ganttProperties.taskType = tempData[field];\n            }\n            else {\n                tempData[this.parent.ganttColumns[i].field] = '';\n            }\n        }\n        tempData.ganttProperties.isAutoSchedule = (this.parent.taskMode === 'Auto') ? true :\n            (this.parent.taskMode === 'Manual') ? false :\n                tempData[taskSettings.manual] === true ? false : true;\n        return tempData;\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    DialogEdit.prototype.openToolbarEditDialog = function () {\n        var gObj = this.parent;\n        if (gObj.editModule && gObj.editSettings.allowEditing) {\n            if (this.parent.ganttChartModule.focusedRowIndex > -1 && gObj.selectionModule) {\n                gObj.selectionModule.selectRow(this.parent.ganttChartModule.focusedRowIndex, false, false);\n            }\n            var selectedRowId = gObj.selectionModule ?\n                (gObj.selectionSettings.mode === 'Row' || gObj.selectionSettings.mode === 'Both') &&\n                    gObj.selectionModule.selectedRowIndexes.length === 1 ?\n                    gObj.updatedRecords[gObj.selectionModule.selectedRowIndexes[0]].ganttProperties.rowUniqueID :\n                    gObj.selectionSettings.mode === 'Cell' &&\n                        gObj.selectionModule.getSelectedRowCellIndexes().length === 1 ?\n                        gObj.updatedRecords[gObj.selectionModule.getSelectedRowCellIndexes()[0].rowIndex].ganttProperties.rowUniqueID :\n                        null : null;\n            if (!isNullOrUndefined(selectedRowId)) {\n                this.openEditDialog(selectedRowId);\n            }\n        }\n    };\n    /**\n     * @param { number | string | object} taskId .\n     * @returns {void} .\n     * @private\n     */\n    // eslint-disable-next-line\n    DialogEdit.prototype.openEditDialog = function (taskId) {\n        var ganttObj = this.parent;\n        if (typeof taskId === 'object' && !isNullOrUndefined(taskId)) {\n            this.rowIndex = this.parent.currentViewData.indexOf(taskId);\n            if (this.rowIndex > -1) {\n                this.rowData = taskId;\n            }\n        }\n        else if (!isNullOrUndefined(taskId)) {\n            this.rowIndex = ganttObj.ids.indexOf(taskId.toString());\n            if (this.rowIndex > -1) {\n                this.rowData = ganttObj.flatData[this.rowIndex];\n            }\n        }\n        else if (ganttObj.selectedRowIndex > -1) {\n            this.rowData = ganttObj.currentViewData[ganttObj.selectedRowIndex];\n            this.rowIndex = ganttObj.selectedRowIndex;\n        }\n        this.isEdit = true;\n        if (this.parent.viewType === 'ResourceView' && this.rowData.level === 0) {\n            return;\n        }\n        if (Object.keys(this.rowData).length !== 0) {\n            this.editedRecord = extend({}, {}, this.rowData, true);\n            this.createDialog();\n        }\n    };\n    DialogEdit.prototype.createDialog = function () {\n        var _this = this;\n        var ganttObj = this.parent;\n        var dialogModel = {};\n        this.beforeOpenArgs.dialogModel = dialogModel;\n        this.beforeOpenArgs.rowData = this.editedRecord;\n        this.beforeOpenArgs.rowIndex = this.rowIndex;\n        var dialogMaxWidth = this.parent.isAdaptive ? '' : '600px';\n        var dialog = this.parent.createElement('div', { id: ganttObj.element.id + '_dialog', styles: 'max-width:' + dialogMaxWidth });\n        ganttObj.element.appendChild(dialog);\n        dialogModel.animationSettings = { effect: 'None' };\n        dialogModel.header = this.localeObj.getConstant(this.isEdit ? 'editDialogTitle' : 'addDialogTitle');\n        dialogModel.isModal = true;\n        dialogModel.cssClass = 'e-gantt-dialog';\n        dialogModel.allowDragging = this.parent.isAdaptive ? false : true;\n        dialogModel.showCloseIcon = true;\n        var position = this.parent.isAdaptive ? { X: 'top', Y: 'left' } : { X: 'center', Y: 'center' };\n        dialogModel.position = position;\n        //dialogModel.width = '750px';\n        dialogModel.height = this.parent.isAdaptive ? '100%' : 'auto';\n        dialogModel.target = this.parent.element;\n        dialogModel.close = this.dialogClose.bind(this);\n        dialogModel.closeOnEscape = true;\n        dialogModel.open = function (args) {\n            var dialogElement = getValue('element', args);\n            var generalTabElement = dialogElement.querySelector('#' + _this.parent.element.id + 'GeneralTabContainer');\n            if (generalTabElement && generalTabElement.scrollHeight > generalTabElement.offsetHeight) {\n                generalTabElement.classList.add('e-scroll');\n            }\n            if (_this.tabObj.selectedItem === 0) {\n                _this.tabObj.select(0);\n            }\n            if (_this.parent.isAdaptive) {\n                dialogElement.style.maxHeight = 'none';\n            }\n            if (_this.parent.focusModule) {\n                _this.parent.focusModule.setActiveElement(dialogElement);\n            }\n        };\n        dialogModel.locale = this.parent.locale;\n        dialogModel.buttons = [{\n                buttonModel: {\n                    content: this.localeObj.getConstant('saveButton'), cssClass: 'e-primary'\n                },\n                click: this.buttonClick.bind(this)\n            }, {\n                buttonModel: { cssClass: 'e-flat', content: this.localeObj.getConstant('cancel') },\n                click: this.buttonClick.bind(this)\n            }];\n        this.createTab(dialogModel, dialog);\n    };\n    DialogEdit.prototype.buttonClick = function (e) {\n        var target = e.target;\n        target.style.pointerEvents = 'none';\n        if ((this.localeObj.getConstant('cancel')).toLowerCase() === e.target.innerText.trim().toLowerCase()) {\n            if (this.dialog && !this.dialogObj.isDestroyed) {\n                this.dialogObj.hide();\n                this.dialogClose();\n            }\n        }\n        else {\n            this.initiateDialogSave();\n            target.style.pointerEvents = 'auto';\n        }\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    DialogEdit.prototype.dialogClose = function () {\n        if (this.dialog) {\n            this.resetValues();\n        }\n        if (!isNullOrUndefined(this.parent.focusModule) &&\n            !isNullOrUndefined(this.parent.focusModule.getActiveElement(true))) {\n            this.parent.focusModule.getActiveElement(true).focus();\n        }\n    };\n    DialogEdit.prototype.resetValues = function () {\n        this.isEdit = false;\n        this.isAddNewResource = false;\n        this.editedRecord = {};\n        this.rowData = {};\n        this.rowIndex = -1;\n        this.addedRecord = null;\n        this.ganttResources = [];\n        if (this.dialog && !this.dialogObj.isDestroyed) {\n            this.destroyDialogInnerElements();\n            this.dialogObj.destroy();\n            remove(this.dialog);\n        }\n    };\n    DialogEdit.prototype.destroyDialogInnerElements = function () {\n        var ganttObj = this.parent;\n        var tabModel = this.beforeOpenArgs.tabModel;\n        var items = tabModel.items;\n        for (var i = 0; i < items.length; i++) {\n            var element = items[i].content;\n            var id = element.id;\n            if (!isNullOrUndefined(id) || id !== '') {\n                id = id.replace(ganttObj.element.id, '');\n                id = id.replace('TabContainer', '');\n                if (id === 'General') {\n                    this.destroyCustomField(element);\n                }\n                else if (id === 'Dependency') {\n                    var gridObj = element.ej2_instances[0];\n                    gridObj.destroy();\n                }\n                else if (id === 'Notes') {\n                    var rte = element.ej2_instances[0];\n                    rte.destroy();\n                }\n                else if (id === 'Resources') {\n                    var treeGridObj = element.ej2_instances[0];\n                    treeGridObj.destroy();\n                }\n                else if (id.indexOf('Custom') !== -1) {\n                    this.destroyCustomField(element);\n                }\n            }\n        }\n    };\n    DialogEdit.prototype.destroyCustomField = function (element) {\n        var childNodes = element.childNodes;\n        var ganttObj = this.parent;\n        for (var i = 0; i < childNodes.length; i++) {\n            var div = childNodes[i];\n            var inputElement = div.querySelector('input[id^=\"' + ganttObj.element.id + '\"]');\n            if (inputElement) {\n                var fieldName = inputElement.id.replace(ganttObj.element.id, '');\n                /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n                var controlObj = div.querySelector('#' + ganttObj.element.id + fieldName).ej2_instances[0];\n                if (!isNullOrUndefined(controlObj)) {\n                    var column = ganttObj.columnByField[fieldName];\n                    if (!isNullOrUndefined(column.edit) && isNullOrUndefined(column.edit.params)) {\n                        // eslint-disable-next-line\n                        var destroy = column.edit.destroy;\n                        if (typeof destroy === 'string') {\n                            destroy = getObject(destroy, window);\n                            destroy();\n                        }\n                        else {\n                            column.edit.destroy();\n                        }\n                    }\n                    else {\n                        controlObj.destroy();\n                    }\n                }\n            }\n        }\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    DialogEdit.prototype.destroy = function () {\n        this.resetValues();\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off('chartDblClick', this.dblClickHandler);\n        this.parent.editModule.dialogModule = undefined;\n    };\n    /**\n     * Method to get current edit dialog fields value\n     *\n     * @returns {AddDialogFieldSettings} .\n     */\n    DialogEdit.prototype.getEditFields = function () {\n        if (this.isEdit) {\n            return this.updatedEditFields;\n        }\n        else {\n            return this.updatedAddFields;\n        }\n    };\n    DialogEdit.prototype.createTab = function (dialogModel, dialog) {\n        var _this = this;\n        var ganttObj = this.parent;\n        var tabModel = {};\n        var tabItems = [];\n        var dialogSettings = this.getEditFields();\n        var tabElement;\n        var tasks = ganttObj.taskFields;\n        var length = dialogSettings.length;\n        tabModel.items = tabItems;\n        tabModel.locale = this.parent.locale;\n        this.beforeOpenArgs.tabModel = tabModel;\n        var count = 0;\n        var index = 0;\n        if (length > 0) {\n            for (var i = 0; i < length; i++) {\n                var dialogField = dialogSettings[i];\n                var tabItem = {};\n                if (dialogField.type === 'General') {\n                    if (Object.keys(ganttObj.columnMapping).length === 0) {\n                        continue;\n                    }\n                    if (isNullOrUndefined(dialogField.headerText)) {\n                        dialogField.headerText = this.localeObj.getConstant('generalTab');\n                    }\n                    tabItem.content = 'General';\n                    this.beforeOpenArgs[tabItem.content] = this.getFieldsModel(dialogField.fields);\n                }\n                else if (dialogField.type === 'Segments') {\n                    if (isNullOrUndefined(tasks.segments)) {\n                        continue;\n                    }\n                    if (isNullOrUndefined(dialogField.headerText)) {\n                        dialogField.headerText = this.localeObj.getConstant('segments');\n                    }\n                    tabItem.content = 'Segments';\n                    this.beforeOpenArgs[tabItem.content] = this.getSegmentsModel(dialogField.fields);\n                }\n                else if (dialogField.type === 'Dependency') {\n                    if (isNullOrUndefined(tasks.dependency)) {\n                        continue;\n                    }\n                    if (isNullOrUndefined(dialogField.headerText)) {\n                        dialogField.headerText = this.localeObj.getConstant('dependency');\n                    }\n                    tabItem.content = 'Dependency';\n                    this.beforeOpenArgs[tabItem.content] = this.getPredecessorModel(dialogField.fields);\n                }\n                else if (dialogField.type === 'Resources') {\n                    if (isNullOrUndefined(tasks.resourceInfo)) {\n                        continue;\n                    }\n                    if (isNullOrUndefined(dialogField.headerText)) {\n                        dialogField.headerText = this.localeObj.getConstant('resourceName');\n                    }\n                    tabItem.content = 'Resources';\n                    this.beforeOpenArgs[tabItem.content] = this.getResourcesModel(dialogField.fields);\n                }\n                else if (dialogField.type === 'Notes') {\n                    if (isNullOrUndefined(tasks.notes)) {\n                        continue;\n                    }\n                    if (isNullOrUndefined(dialogField.headerText)) {\n                        dialogField.headerText = this.localeObj.getConstant('notes');\n                    }\n                    tabItem.content = 'Notes';\n                    this.beforeOpenArgs[tabItem.content] = this.getNotesModel(dialogField.fields);\n                }\n                else {\n                    if (isNullOrUndefined(dialogField.fields) || dialogField.fields.length === 0) {\n                        continue;\n                    }\n                    if (isNullOrUndefined(dialogField.headerText)) {\n                        dialogField.headerText = this.localeObj.getConstant('customTab');\n                        // eslint-disable-next-line\n                        count++;\n                    }\n                    tabItem.content = 'Custom' + '' + index++;\n                    this.beforeOpenArgs[tabItem.content] = this.getFieldsModel(dialogField.fields);\n                }\n                tabItem.header = { text: dialogField.headerText };\n                tabItems.push(tabItem);\n            }\n        }\n        this.beforeOpenArgs.requestType = this.isEdit ? 'beforeOpenEditDialog' : 'beforeOpenAddDialog';\n        var args = {\n            rowData: this.beforeOpenArgs.rowData,\n            name: this.beforeOpenArgs.name,\n            requestType: this.beforeOpenArgs.requestType,\n            cancel: this.beforeOpenArgs.cancel\n        };\n        this.parent.trigger('actionBegin', isBlazor() ? args : this.beforeOpenArgs, function (arg) {\n            _this.renderTabItems();\n            if (!arg.cancel) {\n                tabModel.selected = _this.tabSelectedEvent.bind(_this);\n                tabModel.height = _this.parent.isAdaptive ? '100%' : 'auto';\n                tabModel.overflowMode = 'Scrollable';\n                _this.tabObj = new Tab(tabModel);\n                _this.tabObj.isStringTemplate = true;\n                tabElement = _this.parent.createElement('div', { id: ganttObj.element.id + '_Tab' });\n                _this.tabObj.appendTo(tabElement);\n                dialogModel.content = tabElement;\n                _this.dialog = dialog;\n                _this.dialogObj = new Dialog(dialogModel);\n                _this.dialogObj.isStringTemplate = true;\n                _this.dialogObj.appendTo(_this.dialog);\n                var actionCompleteArgs = {\n                    action: 'OpenDialog',\n                    requestType: _this.isEdit ? 'openEditDialog' : 'openAddDialog',\n                    data: _this.beforeOpenArgs.rowData,\n                    element: _this.dialog,\n                    cancel: false\n                };\n                if (isBlazor()) {\n                    _this.parent.updateDataArgs(actionCompleteArgs);\n                }\n                _this.parent.trigger('actionComplete', actionCompleteArgs, function (actionCompleteArg) {\n                    if (actionCompleteArg.cancel) {\n                        _this.resetValues();\n                    }\n                });\n            }\n        });\n    };\n    DialogEdit.prototype.tabSelectedEvent = function (args) {\n        var ganttObj = this.parent;\n        var id = args.selectedContent.childNodes[0].id;\n        if (this.parent.isAdaptive) {\n            this.responsiveTabContent(id, ganttObj);\n        }\n        if (id === ganttObj.element.id + 'ResourcesTabContainer') {\n            var resourceTreeGrid_1 = ganttObj.element.querySelector('#' + id).ej2_instances[0];\n            // eslint-disable-next-line\n            var resources_1 = this.ganttResources;\n            // eslint-disable-next-line\n            var currentViewData = resourceTreeGrid_1.getCurrentViewRecords();\n            if (resources_1 && resources_1.length > 0) {\n                currentViewData.forEach(function (data, index) {\n                    for (var i = 0; i < resources_1.length; i++) {\n                        if (data.taskData[ganttObj.resourceFields.id] === resources_1[i][ganttObj.resourceFields.id] &&\n                            !isNullOrUndefined(resourceTreeGrid_1.selectionModule) &&\n                            resourceTreeGrid_1.getSelectedRowIndexes().indexOf(index) === -1) {\n                            resourceTreeGrid_1.selectRow(index);\n                        }\n                    }\n                });\n            }\n        }\n        else if (id === ganttObj.element.id + 'NotesTabContainer') {\n            ganttObj.element.querySelector('#' + id).ej2_instances[0].refresh();\n        }\n        else if (id === ganttObj.element.id + 'SegmentsTabContainer') {\n            if (isNullOrUndefined(this.beforeOpenArgs.rowData.ganttProperties.startDate)) {\n                ganttObj.element.querySelector('#' + id).ej2_instances[0]\n                    .enableToolbarItems([this.parent.element.id + 'SegmentsTabContainer' + '_add'], false);\n            }\n            else {\n                ganttObj.element.querySelector('#' + id).ej2_instances[0]\n                    .enableToolbarItems([this.parent.element.id + 'SegmentsTabContainer' + '_add'], true);\n            }\n        }\n    };\n    DialogEdit.prototype.responsiveTabContent = function (id, ganttObj) {\n        var dialogContent = document.getElementById(ganttObj.element.id + '_dialog_dialog-content');\n        var dialogContentHeight = dialogContent.clientHeight;\n        dialogContentHeight -= dialogContent.querySelector('.e-tab-header').offsetHeight;\n        var grid = document.querySelector('#' + id);\n        if (grid.classList.contains('e-grid')) {\n            dialogContentHeight -= grid.ej2_instances[0].getHeaderContent().offsetHeight;\n            var toolbar_1 = grid.querySelector('.e-toolbar');\n            if (toolbar_1) {\n                dialogContentHeight -= toolbar_1.offsetHeight;\n            }\n        }\n        grid.parentElement.style.height = dialogContentHeight + 'px';\n    };\n    DialogEdit.prototype.getFieldsModel = function (fields) {\n        var fieldsModel = {};\n        // eslint-disable-next-line\n        var columnByField = this.parent.columnByField;\n        for (var i = 0; i < fields.length; i++) {\n            if (fields[i] === this.parent.taskFields.dependency ||\n                fields[i] === this.parent.taskFields.resourceInfo ||\n                fields[i] === this.parent.taskFields.notes) {\n                continue;\n            }\n            if (!isNullOrUndefined(columnByField[fields[i]])) {\n                var fieldName = fields[i];\n                this.createInputModel(columnByField[fieldName], fieldsModel);\n            }\n        }\n        return fieldsModel;\n    };\n    DialogEdit.prototype.createInputModel = function (column, fieldsModel) {\n        var _this = this;\n        var ganttObj = this.parent;\n        var locale = this.parent.locale;\n        var taskSettings = this.parent.taskFields;\n        // eslint-disable-next-line\n        var common = {\n            placeholder: column.headerText,\n            floatLabelType: 'Auto'\n        };\n        switch (column.editType) {\n            case 'booleanedit':\n                {\n                    var checkboxModel = {\n                        label: column.headerText,\n                        locale: locale\n                    };\n                    fieldsModel[column.field] = checkboxModel;\n                    break;\n                }\n            case 'stringedit':\n                {\n                    var textBox = common;\n                    if (column.field === ganttObj.columnMapping.duration || column.field === ganttObj.columnMapping.startDate ||\n                        column.field === ganttObj.columnMapping.endDate) {\n                        textBox.change = function (args) {\n                            _this.validateScheduleFields(args, column, ganttObj);\n                        };\n                    }\n                    fieldsModel[column.field] = common;\n                    break;\n                }\n            case 'numericedit':\n                {\n                    var numeric = common;\n                    if (taskSettings.progress === column.field) {\n                        numeric.min = 0;\n                        numeric.max = 100;\n                    }\n                    if (taskSettings.work === column.field) {\n                        numeric.change = function (args) {\n                            _this.validateScheduleFields(args, column, ganttObj);\n                        };\n                    }\n                    fieldsModel[column.field] = numeric;\n                    break;\n                }\n            case 'datepickeredit':\n                {\n                    var datePickerObj = common;\n                    datePickerObj.format = this.parent.getDateFormat();\n                    datePickerObj.strictMode = true;\n                    datePickerObj.firstDayOfWeek = ganttObj.timelineModule.customTimelineSettings.weekStartDay;\n                    if (column.field === ganttObj.columnMapping.startDate ||\n                        column.field === ganttObj.columnMapping.endDate) {\n                        datePickerObj.renderDayCell = this.parent.renderWorkingDayCell.bind(this.parent);\n                        datePickerObj.change = function (args) {\n                            _this.validateScheduleFields(args, column, ganttObj);\n                        };\n                    }\n                    fieldsModel[column.field] = datePickerObj;\n                    break;\n                }\n            case 'datetimepickeredit':\n                {\n                    var dateTimePickerObj = common;\n                    dateTimePickerObj.format = this.parent.getDateFormat();\n                    dateTimePickerObj.strictMode = true;\n                    dateTimePickerObj.firstDayOfWeek = ganttObj.timelineModule.customTimelineSettings.weekStartDay;\n                    if (column.field === ganttObj.columnMapping.startDate ||\n                        column.field === ganttObj.columnMapping.endDate) {\n                        dateTimePickerObj.renderDayCell = this.parent.renderWorkingDayCell.bind(this.parent);\n                        dateTimePickerObj.change = function (args) {\n                            _this.validateScheduleFields(args, column, ganttObj);\n                        };\n                    }\n                    fieldsModel[column.field] = dateTimePickerObj;\n                    break;\n                }\n            case 'dropdownedit':\n                if (column.field === 'taskType' || column.field === ganttObj.columnMapping.manual) {\n                    var dataKey = 'dataSource';\n                    var fieldsKey = 'fields';\n                    var types = [\n                        { 'ID': 1, 'Value': 'FixedUnit' }, { 'ID': 2, 'Value': 'FixedWork' }, { 'ID': 3, 'Value': 'FixedDuration' }\n                    ];\n                    common[dataKey] = types;\n                    common[fieldsKey] = { value: 'Value' };\n                    var dropDownListObj = common;\n                    dropDownListObj.change = function (args) {\n                        if (column.field === taskSettings.manual) {\n                            _this.editedRecord.ganttProperties.isAutoSchedule = !args.value;\n                        }\n                        _this.validateScheduleFields(args, column, ganttObj);\n                    };\n                }\n                fieldsModel[column.field] = common;\n                break;\n            case 'maskededit':\n                fieldsModel[column.field] = common;\n                break;\n        }\n        if (!isNullOrUndefined(column.edit) && !isNullOrUndefined(column.edit.params)) {\n            extend(fieldsModel[column.field], column.edit.params);\n        }\n        return fieldsModel;\n    };\n    DialogEdit.prototype.validateScheduleFields = function (args, column, ganttObj) {\n        var dialog = ganttObj.editModule.dialogModule.dialog;\n        var targetId = null;\n        var inputElement;\n        var currentData = ganttObj.editModule.dialogModule.editedRecord;\n        if (!isNullOrUndefined(args.element)) {\n            inputElement = args.element;\n            targetId = inputElement.getAttribute('id');\n        }\n        else if (!isNullOrUndefined(args.container)) {\n            inputElement = args.container;\n            targetId = inputElement.querySelector('input').getAttribute('id');\n            inputElement = inputElement.querySelector('#' + targetId);\n        }\n        else if (!isNullOrUndefined(args.event.path[1])) {\n            inputElement = args.event.path[1];\n            targetId = inputElement.querySelector('input').getAttribute('id');\n            inputElement = inputElement.querySelector('#' + targetId);\n        }\n        var cellValue = inputElement.value;\n        var colName = targetId.replace(ganttObj.element.id, '');\n        if (colName.search('Segments') === 0) {\n            colName = colName.replace('SegmentsTabContainer', '');\n            this.validateSegmentFields(ganttObj, colName, cellValue, args);\n            return true;\n        }\n        else {\n            this.validateScheduleValuesByCurrentField(colName, cellValue, this.editedRecord);\n            var ganttProp = currentData.ganttProperties;\n            var tasks = ganttObj.taskFields;\n            if (!isNullOrUndefined(tasks.startDate)) {\n                this.updateScheduleFields(dialog, ganttProp, 'startDate');\n            }\n            if (!isNullOrUndefined(tasks.endDate)) {\n                this.updateScheduleFields(dialog, ganttProp, 'endDate');\n            }\n            if (!isNullOrUndefined(tasks.duration)) {\n                this.updateScheduleFields(dialog, ganttProp, 'duration');\n            }\n            if (!isNullOrUndefined(tasks.work)) {\n                this.updateScheduleFields(dialog, ganttProp, 'work');\n            }\n            this.dialogEditValidationFlag = false;\n            return true;\n        }\n    };\n    DialogEdit.prototype.updateScheduleFields = function (dialog, ganttProp, ganttField) {\n        var ganttObj = this.parent;\n        var ganttId = ganttObj.element.id;\n        var columnName = getValue(ganttField, ganttObj.columnMapping);\n        var col = ganttObj.columnByField[columnName];\n        var tempValue;\n        var taskField = this.parent.taskFields;\n        if (col.editType === 'stringedit') {\n            var textBox = dialog.querySelector('#' + ganttId + columnName).ej2_instances[0];\n            tempValue = !isNullOrUndefined(col.edit) && !isNullOrUndefined(col.edit.read) ? col.edit.read() :\n                // eslint-disable-next-line\n                !isNullOrUndefined(col.valueAccessor) ? col.valueAccessor(columnName, ganttObj.editModule.dialogModule.editedRecord, col) :\n                    this.parent.dataOperation.getDurationString(ganttProp.duration, ganttProp.durationUnit);\n            if (textBox.value !== tempValue.toString() && taskField.duration === columnName) {\n                textBox.value = tempValue;\n                textBox.dataBind();\n            }\n            else if (taskField.startDate === columnName || taskField.endDate === columnName) {\n                textBox.value = taskField.startDate === columnName ? ganttProp.startDate.toString() : ganttProp.endDate.toString();\n                textBox.dataBind();\n            }\n        }\n        else if (col.editType === 'datepickeredit' || col.editType === 'datetimepickeredit') {\n            var picker = col.editType === 'datepickeredit' ?\n                dialog.querySelector('#' + ganttId + columnName).ej2_instances[0] :\n                dialog.querySelector('#' + ganttId + columnName).ej2_instances[0];\n            tempValue = ganttProp[ganttField];\n            if (((isNullOrUndefined(picker.value)) && !isNullOrUndefined(tempValue)) ||\n                (isNullOrUndefined(tempValue) && !isNullOrUndefined(picker.value)) ||\n                (picker.value !== tempValue && !isNullOrUndefined(picker.value) && !isNullOrUndefined(tempValue)\n                    && picker.value.toString() !== tempValue.toString())) {\n                picker.value = tempValue;\n                picker.dataBind();\n            }\n        }\n        else if (col.editType === 'numericedit') {\n            var numericTextBox = dialog.querySelector('#' + ganttId + columnName).ej2_instances[0];\n            tempValue = ganttProp[ganttField];\n            if (!isNullOrUndefined(tempValue)) {\n                numericTextBox.value = tempValue;\n                numericTextBox.dataBind();\n            }\n        }\n    };\n    /**\n     * @param {IGanttData} ganttData .\n     * @returns {void} .\n     * @private\n     */\n    DialogEdit.prototype.validateDuration = function (ganttData) {\n        var ganttProp = ganttData.ganttProperties;\n        if (!this.dialogEditValidationFlag) {\n            if (isNullOrUndefined(ganttProp.duration)) {\n                this.parent.setRecordValue('endDate', null, ganttProp, true);\n                this.parent.setRecordValue('isMilestone', false, ganttProp, true);\n            }\n            else if (isScheduledTask(ganttProp) || !isNullOrUndefined(ganttProp.startDate)) {\n                if (ganttData.ganttProperties.isMilestone && ganttData.ganttProperties.duration !== 0) {\n                    this.parent.dateValidationModule.calculateStartDate(ganttData);\n                }\n                this.parent.dateValidationModule.calculateEndDate(ganttData);\n            }\n            else if (!isScheduledTask(ganttProp) && !isNullOrUndefined(ganttProp.endDate)) {\n                this.parent.dateValidationModule.calculateStartDate(ganttData);\n            }\n            var milestone = ganttProp.duration === 0 ? true : false;\n            this.parent.setRecordValue('isMilestone', milestone, ganttProp, true);\n            this.dialogEditValidationFlag = true;\n        }\n    };\n    DialogEdit.prototype.validateStartDate = function (ganttData) {\n        var ganttProp = ganttData.ganttProperties;\n        var tasks = this.parent.taskFields;\n        if (!this.dialogEditValidationFlag) {\n            if (isNullOrUndefined(ganttProp.startDate)) {\n                this.parent.setRecordValue('duration', null, ganttProp, true);\n                this.parent.setRecordValue('isMilestone', false, ganttProp, true);\n                if (this.parent.allowUnscheduledTasks && isNullOrUndefined(tasks.endDate)) {\n                    this.parent.setRecordValue('endDate', null, ganttProp, true);\n                }\n            }\n            else if (isScheduledTask(ganttProp)) {\n                if (isNullOrUndefined(tasks.duration)) {\n                    this.parent.dateValidationModule.calculateDuration(ganttData);\n                }\n                else if (isNullOrUndefined(tasks.endDate)) {\n                    this.parent.dateValidationModule.calculateEndDate(ganttData);\n                }\n                else {\n                    this.parent.dateValidationModule.calculateEndDate(ganttData);\n                }\n            }\n            else {\n                if (!isNullOrUndefined(ganttProp.endDate)) {\n                    this.parent.dateValidationModule.calculateDuration(ganttData);\n                }\n                else if (!isNullOrUndefined(ganttProp.duration)) {\n                    this.parent.dateValidationModule.calculateEndDate(ganttData);\n                }\n            }\n            this.dialogEditValidationFlag = true;\n        }\n    };\n    DialogEdit.prototype.validateEndDate = function (ganttData) {\n        var ganttProp = ganttData.ganttProperties;\n        var tasks = this.parent.taskFields;\n        if (!this.dialogEditValidationFlag) {\n            if (isNullOrUndefined(ganttProp.endDate)) {\n                this.parent.setRecordValue('duration', null, ganttProp, true);\n                this.parent.setRecordValue('isMilestone', false, ganttProp, true);\n            }\n            else if (isScheduledTask(ganttProp)) {\n                if (isNullOrUndefined(tasks.duration)) {\n                    this.parent.dateValidationModule.calculateDuration(ganttData);\n                }\n                else if (isNullOrUndefined(ganttProp.startDate)) {\n                    this.parent.dateValidationModule.calculateStartDate(ganttData);\n                }\n                else {\n                    if (!isNullOrUndefined(ganttProp.segments) && ganttProp.segments.length > 0) {\n                        ganttProp.segments = this.parent.editModule.cellEditModule.validateEndDateWithSegments(ganttProp);\n                    }\n                    this.parent.dateValidationModule.calculateDuration(ganttData);\n                }\n            }\n            else {\n                if (!isNullOrUndefined(ganttProp.duration)) {\n                    this.parent.dateValidationModule.calculateStartDate(ganttData);\n                }\n                else if (!isNullOrUndefined(ganttProp.startDate)) {\n                    this.parent.dateValidationModule.calculateDuration(ganttData);\n                }\n            }\n            this.dialogEditValidationFlag = true;\n        }\n    };\n    /**\n     *\n     * @param {string} columnName .\n     * @param {string} value .\n     * @param {IGanttData} currentData .\n     * @returns {boolean} .\n     * @private\n     */\n    DialogEdit.prototype.validateScheduleValuesByCurrentField = function (columnName, value, currentData) {\n        var ganttObj = this.parent;\n        var ganttProp = currentData.ganttProperties;\n        var taskSettings = ganttObj.taskFields;\n        if (taskSettings.duration === columnName) {\n            if (!isNullOrUndefined(value) && value !== '') {\n                ganttObj.dataOperation.updateDurationValue(value, ganttProp);\n            }\n            else {\n                if (ganttObj.allowUnscheduledTasks) {\n                    this.parent.setRecordValue('duration', null, ganttProp, true);\n                }\n            }\n            this.validateDuration(currentData);\n            this.parent.editModule.updateResourceRelatedFields(currentData, 'duration');\n        }\n        if (taskSettings.startDate === columnName) {\n            if (value !== '') {\n                var startDate = this.parent.dateValidationModule.getDateFromFormat(value);\n                startDate = this.parent.dateValidationModule.checkStartDate(startDate, ganttProp);\n                this.parent.setRecordValue('startDate', startDate, ganttProp, true);\n            }\n            else {\n                if (ganttObj.allowUnscheduledTasks && !(currentData.hasChildRecords)) {\n                    this.parent.setRecordValue('startDate', null, ganttProp, true);\n                }\n            }\n            this.validateStartDate(currentData);\n        }\n        if (taskSettings.endDate === columnName) {\n            if (value !== '') {\n                var endDate = this.parent.dateValidationModule.getDateFromFormat(value);\n                if (endDate.getHours() === 0 && ganttObj.defaultEndTime !== 86400) {\n                    this.parent.dateValidationModule.setTime(ganttObj.defaultEndTime, endDate);\n                }\n                endDate = this.parent.dateValidationModule.checkEndDate(endDate, ganttProp);\n                if (isNullOrUndefined(ganttProp.startDate) || endDate.getTime() > (ganttProp.startDate).getTime()) {\n                    this.parent.setRecordValue('endDate', endDate, ganttProp, true);\n                }\n            }\n            else {\n                if (ganttObj.allowUnscheduledTasks) {\n                    this.parent.setRecordValue('endDate', null, ganttProp, true);\n                }\n            }\n            this.validateEndDate(currentData);\n        }\n        if (taskSettings.work === columnName) {\n            if (!isNullOrUndefined(value) && value !== '') {\n                this.parent.setRecordValue('work', value, ganttProp, true);\n                this.parent.editModule.updateResourceRelatedFields(currentData, 'work');\n                this.validateDuration(currentData);\n            }\n        }\n        if (columnName === 'taskType') {\n            this.parent.setRecordValue('taskType', value, ganttProp, true);\n        }\n        if (taskSettings.manual === columnName) {\n            this.parent.editModule.updateTaskScheduleModes(currentData);\n        }\n        return true;\n    };\n    // eslint-disable-next-line\n    DialogEdit.prototype.getSegmentsModel = function (fields) {\n        var _this = this;\n        var taskSettings = this.parent.taskFields;\n        if (isNullOrUndefined(fields) || fields.length === 0) {\n            fields = [];\n            if (!isNullOrUndefined(taskSettings.startDate)) {\n                fields.push('startDate');\n            }\n            if (!isNullOrUndefined(taskSettings.endDate)) {\n                fields.push('endDate');\n            }\n            if (!isNullOrUndefined(taskSettings.duration)) {\n                fields.push('duration');\n            }\n        }\n        var segmentInputModel = {};\n        segmentInputModel.editSettings = {\n            allowEditing: true, allowAdding: true, allowDeleting: true, mode: 'Normal', newRowPosition: 'Bottom'\n        };\n        segmentInputModel.locale = this.parent.locale;\n        segmentInputModel.dataSource = [];\n        segmentInputModel.rowHeight = this.parent.isAdaptive ? 48 : null;\n        segmentInputModel.toolbar = [\n            {\n                id: this.parent.element.id + 'SegmentsTabContainer' + '_add', prefixIcon: 'e-add',\n                tooltipText: this.localeObj.getConstant('add'), align: 'Right',\n                text: this.parent.isAdaptive ? '' : this.localeObj.getConstant('add')\n            },\n            {\n                id: this.parent.element.id + 'SegmentsTabContainer' + '_delete', prefixIcon: 'e-delete',\n                tooltipText: this.localeObj.getConstant('delete'), align: 'Right',\n                text: this.parent.isAdaptive ? '' : this.localeObj.getConstant('delete')\n            }\n        ];\n        var gridColumns = [];\n        var _loop_1 = function (i) {\n            var gridColumn = {};\n            var generalTabString = 'General';\n            switch (fields[i]) {\n                case 'startDate':\n                case 'endDate':\n                    gridColumn = {\n                        field: fields[i], headerText: this_1.localeObj.getConstant(fields[i]), editType: 'stringedit', width: '200px',\n                        edit: {\n                            write: function (args) {\n                                // eslint-disable-next-line\n                                var datePickerModel = _this.beforeOpenArgs[generalTabString][_this.parent.taskFields[fields[i]]];\n                                var value = args.rowData[args.column.field];\n                                setValue('value', value, datePickerModel);\n                                var datePicker = new DatePicker(datePickerModel);\n                                datePicker.appendTo(args.element);\n                            },\n                            read: function (args) {\n                                var ej2Instance = args.ej2_instances[0];\n                                return ej2Instance.value;\n                            }\n                        },\n                        format: this_1.parent.getDateFormat()\n                    };\n                    if (fields[i] === 'startDate') {\n                        gridColumn.validationRules = { required: true };\n                    }\n                    gridColumns.push(gridColumn);\n                    break;\n                case 'duration':\n                    gridColumn = {\n                        field: fields[i], headerText: this_1.localeObj.getConstant(fields[i]), editType: 'stringedit', width: '100px',\n                        edit: {\n                            write: function (args) {\n                                // eslint-disable-next-line\n                                var inputTextModel = _this.beforeOpenArgs[generalTabString][_this.parent.taskFields[fields[i]]];\n                                inputTextModel.floatLabelType = 'Never';\n                                var value = args.rowData[args.column.field];\n                                if (!isNullOrUndefined(value)) {\n                                    setValue('value', value, inputTextModel);\n                                }\n                                else {\n                                    setValue('value', null, inputTextModel);\n                                }\n                                setValue('value', value, inputTextModel);\n                                var inputModel = new TextBox(inputTextModel);\n                                inputModel.appendTo(args.element);\n                            },\n                            read: function (args) {\n                                var ej2Instance = args.ej2_instances[0];\n                                return ej2Instance.value.toString();\n                            }\n                        }\n                    };\n                    gridColumns.push(gridColumn);\n                    break;\n            }\n        };\n        var this_1 = this;\n        for (var i = 0; i < fields.length; i++) {\n            _loop_1(i);\n        }\n        segmentInputModel.columns = gridColumns;\n        segmentInputModel.height = this.parent.isAdaptive ? '100%' : '153px';\n        return segmentInputModel;\n    };\n    DialogEdit.prototype.getGridColumnByField = function (fieldName, columns) {\n        var column;\n        for (var i = 0; i < columns.length; i++) {\n            if (columns[i].field === fieldName) {\n                column = columns[i];\n            }\n        }\n        return column;\n    };\n    DialogEdit.prototype.updateSegmentField = function (columnName, args, segment) {\n        var dialog = this.parent.editModule.dialogModule.dialog;\n        var gridModel = getValue('Segments', this.beforeOpenArgs);\n        var col = this.getGridColumnByField(columnName, gridModel.columns);\n        var ganttId = this.parent.element.id;\n        var tempValue = segment[columnName];\n        var inputValue;\n        if (col.editType === 'stringedit') {\n            inputValue = dialog.querySelector('#' + ganttId + 'SegmentsTabContainer' + columnName)\n                .ej2_instances[0];\n        }\n        else if (col.editType === 'datepickeredit') {\n            inputValue = dialog.querySelector('#' + ganttId + 'SegmentsTabContainer' + columnName)\n                .ej2_instances[0];\n        }\n        if (inputValue.value !== tempValue.toString()) {\n            inputValue.value = tempValue;\n            inputValue.dataBind();\n        }\n    };\n    DialogEdit.prototype.validateSegmentFields = function (ganttObj, columnName, cellValue, args) {\n        var taskSettings = this.parent.taskFields;\n        if (!isNullOrUndefined(taskSettings.duration) && taskSettings.duration.toLowerCase() === columnName.toLowerCase()) {\n            if (!isNullOrUndefined(cellValue) && cellValue !== '') {\n                this.selectedSegment.duration = Number(cellValue);\n                var endDate = ganttObj.dataOperation.getEndDate(this.selectedSegment.startDate, Number(cellValue), this.editedRecord.ganttProperties.durationUnit, this.editedRecord.ganttProperties, false);\n                endDate = ganttObj.dataOperation.checkEndDate(endDate, this.editedRecord.ganttProperties, false);\n                this.selectedSegment.endDate = endDate;\n            }\n        }\n        if (!isNullOrUndefined(taskSettings.startDate) && taskSettings.startDate.toLowerCase() === columnName.toLowerCase()) {\n            if (cellValue !== '') {\n                var startDate = this.parent.dateValidationModule.getDateFromFormat(cellValue);\n                startDate = this.parent.dateValidationModule.checkStartDate(startDate);\n                this.selectedSegment.startDate = startDate;\n                if (!isNullOrUndefined(taskSettings.endDate)) {\n                    this.selectedSegment.endDate = this.parent.dataOperation.getEndDate(startDate, this.selectedSegment.duration, this.editedRecord.ganttProperties.durationUnit, this.editedRecord.ganttProperties, false);\n                }\n            }\n        }\n        if (!isNullOrUndefined(taskSettings.endDate) && taskSettings.endDate.toLowerCase() === columnName.toLowerCase()) {\n            if (cellValue !== '') {\n                var endDate = this.parent.dateValidationModule.getDateFromFormat(cellValue);\n                if (endDate.getHours() === 0 && ganttObj.defaultEndTime !== 86400) {\n                    this.parent.dateValidationModule.setTime(ganttObj.defaultEndTime, endDate);\n                }\n                endDate = this.parent.dateValidationModule.checkEndDate(endDate, this.editedRecord.ganttProperties);\n                this.selectedSegment.endDate = endDate;\n                this.selectedSegment.duration = this.parent.dataOperation.getDuration(this.selectedSegment.startDate, this.selectedSegment.endDate, this.editedRecord.ganttProperties.durationUnit, true, false, true);\n            }\n        }\n        if (!isNullOrUndefined(taskSettings.startDate)) {\n            this.updateSegmentField('startDate', args, this.selectedSegment);\n        }\n        if (!isNullOrUndefined(taskSettings.endDate)) {\n            this.updateSegmentField('endDate', args, this.selectedSegment);\n        }\n        if (!isNullOrUndefined(taskSettings.duration)) {\n            this.updateSegmentField('duration', args, this.selectedSegment);\n        }\n    };\n    // eslint-disable-next-line\n    DialogEdit.prototype.getPredecessorModel = function (fields) {\n        if (isNullOrUndefined(fields) || fields.length === 0) {\n            fields = ['ID', 'Name', 'Type', 'Offset', 'UniqueId'];\n        }\n        var inputModel = {};\n        inputModel.editSettings = { allowEditing: true, allowAdding: true, allowDeleting: true, mode: 'Normal' };\n        inputModel.locale = this.parent.locale;\n        inputModel.dataSource = [];\n        inputModel.rowHeight = this.parent.isAdaptive ? 48 : null;\n        inputModel.toolbar = [\n            {\n                id: this.parent.element.id + 'DependencyTabContainer' + '_add', prefixIcon: 'e-add',\n                tooltipText: this.localeObj.getConstant('add'), align: 'Right',\n                text: this.parent.isAdaptive ? '' : this.localeObj.getConstant('add')\n            },\n            {\n                id: this.parent.element.id + 'DependencyTabContainer' + '_delete', prefixIcon: 'e-delete',\n                tooltipText: this.localeObj.getConstant('delete'), align: 'Right',\n                text: this.parent.isAdaptive ? '' : this.localeObj.getConstant('delete')\n            }\n        ];\n        var columns = [];\n        for (var i = 0; i < fields.length; i++) {\n            var column = {};\n            if (fields[i].toLowerCase() === 'id') {\n                column = {\n                    field: 'id', headerText: this.localeObj.getConstant('id'), allowEditing: false, width: '70px'\n                };\n                columns.push(column);\n            }\n            else if (fields[i].toLowerCase() === 'name') {\n                column = {\n                    field: 'name', headerText: this.localeObj.getConstant('name'), editType: 'stringedit', width: '250px',\n                    validationRules: { required: true }\n                };\n                columns.push(column);\n            }\n            else if (fields[i].toLowerCase() === 'type') {\n                column = {\n                    field: 'type', headerText: this.localeObj.getConstant('type'), editType: 'dropdownedit',\n                    dataSource: this.types, foreignKeyField: 'id', foreignKeyValue: 'text',\n                    defaultValue: 'FS', validationRules: { required: true }, width: '150px'\n                };\n                columns.push(column);\n            }\n            else if (fields[i].toLowerCase() === 'offset') {\n                column = {\n                    field: 'offset', headerText: this.localeObj.getConstant('offset'), editType: 'stringedit',\n                    defaultValue: this.parent.dataOperation.getDurationString(0, this.beforeOpenArgs.rowData.ganttProperties.durationUnit),\n                    validationRules: { required: true }, width: '100px'\n                };\n                columns.push(column);\n            }\n            else if (fields[i].toLowerCase() === 'uniqueid') {\n                column = {\n                    field: 'uniqueId', isPrimaryKey: true, visible: false, defaultValue: getUid().toString()\n                };\n                columns.push(column);\n            }\n        }\n        inputModel.columns = columns;\n        inputModel.height = this.parent.isAdaptive ? '100%' : '153px';\n        return inputModel;\n    };\n    // eslint-disable-next-line\n    DialogEdit.prototype.getResourcesModel = function (fields) {\n        var ganttObj = this.parent;\n        var resourceSettings = ganttObj.resourceFields;\n        if (isNullOrUndefined(fields) || fields.length === 0) {\n            fields = [resourceSettings.id, resourceSettings.name, resourceSettings.unit, resourceSettings.group];\n        }\n        var inputModel = {\n            allowFiltering: true,\n            treeColumnIndex: -1,\n            childMapping: '',\n            editSettings: { allowEditing: true, mode: 'Cell' },\n            locale: this.parent.locale,\n            allowSelection: true,\n            rowHeight: this.parent.isAdaptive ? 48 : null,\n            filterSettings: { type: 'Menu' },\n            selectionSettings: { checkboxOnly: true, checkboxMode: 'Default', persistSelection: true, type: 'Multiple' }\n        };\n        var columns = [\n            { type: 'checkbox', allowEditing: false, allowSorting: false, allowFiltering: false, width: 60 }\n        ];\n        for (var i = 0; i < fields.length; i++) {\n            var column = {};\n            if (fields[i] === resourceSettings.id) {\n                column = {\n                    field: resourceSettings.id,\n                    headerText: this.localeObj.getConstant('id'), isPrimaryKey: true, width: '100px',\n                    allowEditing: false\n                };\n                columns.push(column);\n            }\n            else if (fields[i] === resourceSettings.name) {\n                column = {\n                    field: resourceSettings.name, headerText: this.localeObj.getConstant('name'),\n                    allowEditing: false\n                };\n                columns.push(column);\n            }\n            else if (fields[i] === resourceSettings.unit) {\n                column = {\n                    field: resourceSettings.unit,\n                    headerText: this.localeObj.getConstant('unit'),\n                    editType: 'numericedit',\n                    edit: { params: { min: 0 } }\n                };\n                columns.push(column);\n            }\n            else if (fields[i] === resourceSettings.group && !isNullOrUndefined(resourceSettings.group)) {\n                column = {\n                    field: resourceSettings.group,\n                    headerText: this.localeObj.getConstant('group'),\n                    allowEditing: false\n                };\n                columns.push(column);\n            }\n        }\n        inputModel.columns = columns;\n        inputModel.height = this.parent.isAdaptive ? '100%' : '196px';\n        return inputModel;\n    };\n    // eslint-disable-next-line\n    DialogEdit.prototype.getNotesModel = function (fields) {\n        if (isNullOrUndefined(fields) || fields.length === 0) {\n            fields = ['Bold', 'Italic', 'Underline', 'StrikeThrough',\n                'FontName', 'FontSize', 'FontColor', 'BackgroundColor',\n                'LowerCase', 'UpperCase', '|',\n                'Alignments', 'OrderedList', 'UnorderedList',\n                'Outdent', 'Indent', '|', 'CreateTable',\n                'CreateLink', '|', 'ClearFormat', 'Print',\n                '|', 'Undo', 'Redo'];\n        }\n        var inputModel = {\n            placeholder: this.localeObj.getConstant('writeNotes'),\n            toolbarSettings: {\n                items: fields\n            },\n            height: this.parent.isAdaptive ? '100%' : 'auto',\n            locale: this.parent.locale\n        };\n        return inputModel;\n    };\n    DialogEdit.prototype.createDivElement = function (className, id) {\n        return createElement('div', { className: className, id: id });\n    };\n    DialogEdit.prototype.createInputElement = function (className, id, fieldName, type) {\n        return createElement(type || 'input', {\n            className: className, attrs: {\n                type: 'text', id: id, name: fieldName,\n                title: fieldName\n            }\n        });\n    };\n    DialogEdit.prototype.renderTabItems = function () {\n        var tabModel = this.beforeOpenArgs.tabModel;\n        var items = tabModel.items;\n        var index = 0;\n        for (var i = 0; i < items.length; i++) {\n            var item = items[i];\n            if (item.content instanceof HTMLElement) {\n                continue;\n            }\n            else if (item.content === 'General') {\n                item.content = this.renderGeneralTab(item.content);\n            }\n            else if (item.content === 'Dependency') {\n                if (this.editedRecord.hasChildRecords) {\n                    item.disabled = true;\n                }\n                item.content = this.renderPredecessorTab(item.content);\n            }\n            else if (item.content === 'Resources') {\n                item.content = this.renderResourceTab(item.content);\n            }\n            else if (item.content === ('Custom' + '' + index)) {\n                item.content = this.renderCustomTab(item.content);\n                index++;\n            }\n            else if (item.content === 'Notes') {\n                item.content = this.renderNotesTab(item.content);\n            }\n            else if (item.content === 'Segments') {\n                if (this.editedRecord.hasChildRecords) {\n                    item.disabled = true;\n                }\n                item.content = this.renderSegmentsTab(item.content);\n            }\n        }\n    };\n    DialogEdit.prototype.segmentGridActionBegin = function (args) {\n        var taskFields = this.parent.taskFields;\n        var itemName = 'Segments';\n        var gridModel = this.beforeOpenArgs[itemName];\n        if (args.requestType === 'add' || args.requestType === 'beginEdit' || args.requestType === 'save') {\n            var gridData = gridModel.dataSource;\n            var selectedItem = getValue('rowData', args);\n            var startDate = this.beforeOpenArgs.rowData.ganttProperties.startDate;\n            if (!isNullOrUndefined(startDate)) {\n                if (args.requestType === 'add') {\n                    var arg = {};\n                    var sDate = getValue('startDate', selectedItem);\n                    var eDate = getValue('endDate', selectedItem);\n                    var duration = getValue('duration', selectedItem);\n                    var startDate_1 = !isNullOrUndefined(gridData) && gridData.length > 0 ?\n                        !isNullOrUndefined(taskFields.endDate) ? new Date(getValue('endDate', gridData[0]).getTime()) :\n                            new Date(getValue('startDate', gridData[0]).getTime()) :\n                        !isNullOrUndefined(this.beforeOpenArgs.rowData.ganttProperties.startDate) &&\n                            new Date(this.beforeOpenArgs.rowData.ganttProperties.startDate.getTime());\n                    startDate_1.setHours(0, 0, 0, 0);\n                    if (!isNullOrUndefined(gridData) && gridData.length > 0) {\n                        startDate_1.setDate(startDate_1.getDate() + 2);\n                    }\n                    sDate = this.parent.dataOperation.checkStartDate(startDate_1);\n                    eDate = this.parent.dateValidationModule.getDateFromFormat(sDate);\n                    if (eDate.getHours() === 0 && this.parent.defaultEndTime !== 86400) {\n                        this.parent.dateValidationModule.setTime(this.parent.defaultEndTime, eDate);\n                    }\n                    eDate = !isNullOrUndefined(taskFields.endDate) && !isNullOrUndefined(gridData) && gridData.length <= 0 ?\n                        this.beforeOpenArgs.rowData.ganttProperties.endDate : eDate;\n                    duration = !isNullOrUndefined(taskFields.duration) && !isNullOrUndefined(gridData) && gridData.length <= 0 ?\n                        this.beforeOpenArgs.rowData.ganttProperties.duration : 1;\n                    arg = {\n                        startDate: sDate,\n                        endDate: eDate,\n                        duration: duration\n                    };\n                    args.rowData = arg;\n                }\n            }\n            this.selectedSegment = args.rowData;\n            // if (args.requestType === 'save') {\n            //     // let duration: string = 'duration';\n            //     // let tempDuration: Object = this.parent.dataOperation.getDurationValue(args.data[duration]);\n            //     // args.data[duration] = getValue('duration', tempDuration);\n            //     this.selectedSegment = !isNullOrUndefined(this.editedRecord.ganttProperties.segments[args.rowIndex]) ?\n            //         this.editedRecord.ganttProperties.segments[args.rowIndex] : !isNullOrUndefined(gridData[args.rowIndex]) ?\n            //             gridData[args.rowIndex] : gridData;\n            // }\n        }\n    };\n    DialogEdit.prototype.renderSegmentsTab = function (itemName) {\n        var ganttObj = this.parent;\n        var gridModel = this.beforeOpenArgs[itemName];\n        var ganttData = this.beforeOpenArgs.rowData;\n        var preData = [];\n        if (this.isEdit) {\n            preData = isNullOrUndefined(ganttData.ganttProperties.segments) ? [] : ganttData.ganttProperties.segments;\n        }\n        gridModel.dataSource = preData;\n        gridModel.actionBegin = this.segmentGridActionBegin.bind(this);\n        Grid.Inject(Edit, Page, GridToolbar, ForeignKey);\n        var gridObj = new Grid(gridModel);\n        var divElement = this.createDivElement('', ganttObj.element.id + '' + itemName + 'TabContainer');\n        gridObj.appendTo(divElement);\n        return divElement;\n    };\n    DialogEdit.prototype.renderGeneralTab = function (itemName) {\n        var ganttObj = this.parent;\n        // eslint-disable-next-line\n        var itemModel = this.beforeOpenArgs[itemName];\n        var divElement = this.createDivElement('e-edit-form-row', ganttObj.element.id\n            + '' + itemName + 'TabContainer');\n        for (var _i = 0, _a = Object.keys(itemModel); _i < _a.length; _i++) {\n            var key = _a[_i];\n            if (this.parent.columnByField[key].visible === false) {\n                continue;\n            }\n            var column = this.parent.columnByField[key];\n            var inputModel = itemModel[key];\n            divElement.appendChild(this.renderInputElements(inputModel, column));\n        }\n        return divElement;\n    };\n    DialogEdit.prototype.isCheckIsDisabled = function (column) {\n        var disabled = false;\n        if (column.allowEditing === false || column.isPrimaryKey || this.parent.readOnly) {\n            if (this.parent.customColumns.indexOf(column.field) !== -1) {\n                disabled = true;\n            }\n            else {\n                if (column.field === this.parent.taskFields.id || column.field === this.parent.taskFields.name ||\n                    column.field === this.parent.taskFields.duration || column.field === this.parent.taskFields.progress ||\n                    column.field === this.parent.taskFields.startDate || column.field === this.parent.taskFields.endDate ||\n                    column.field === this.parent.taskFields.baselineStartDate || column.field === this.parent.taskFields.baselineEndDate ||\n                    column.field === this.parent.taskFields.work || column.field === 'taskType') {\n                    disabled = true;\n                }\n            }\n        }\n        if (this.isEdit) {\n            if (column.field === this.parent.taskFields.id) {\n                disabled = true;\n            }\n            if (this.editedRecord.hasChildRecords) {\n                if (column.field === this.parent.taskFields.endDate || column.field === this.parent.taskFields.duration ||\n                    column.field === this.parent.taskFields.progress || column.field === this.parent.taskFields.work ||\n                    column.field === 'taskType') {\n                    disabled = true;\n                }\n            }\n        }\n        return disabled;\n    };\n    DialogEdit.prototype.renderPredecessorTab = function (itemName) {\n        var _this = this;\n        var ganttObj = this.parent;\n        var gridModel = this.beforeOpenArgs[itemName];\n        var dependencyColumn = this.parent.columnByField[this.parent.taskFields.dependency];\n        if (dependencyColumn.allowEditing === false || dependencyColumn.isPrimaryKey || this.parent.readOnly) {\n            gridModel.editSettings.allowEditing = false;\n            gridModel.editSettings.allowAdding = false;\n            gridModel.editSettings.allowDeleting = false;\n        }\n        var ganttData = this.beforeOpenArgs.rowData;\n        var preData = [];\n        this.taskNameCollection();\n        if (this.isEdit) {\n            preData = this.predecessorEditCollection(ganttData);\n            this.updatePredecessorDropDownData(ganttData);\n        }\n        gridModel.dataSource = preData;\n        gridModel.actionBegin = this.gridActionBegin.bind(this);\n        var columns = gridModel.columns;\n        columns[1].edit = {\n            write: function (args) {\n                if (getValue('requestType', args) === 'add') {\n                    setValue('rowData.uniqueId', getUid(), args);\n                }\n                var field = 'name';\n                var autoObj = new ComboBox({\n                    dataSource: new DataManager(_this.idCollection),\n                    popupHeight: '180px',\n                    allowCustom: false,\n                    fields: { value: 'text' },\n                    value: args.rowData[field],\n                    change: function (arg) {\n                        var tr = closest(arg.element, 'tr');\n                        var idInput = tr.querySelector('#' + _this.parent.element.id + 'DependencyTabContainerid');\n                        if (idInput) {\n                            if (!isNullOrUndefined(arg.itemData) && !isNullOrUndefined(arg.item)) {\n                                idInput.value = arg.itemData.id;\n                            }\n                            else {\n                                idInput.value = '';\n                            }\n                        }\n                    },\n                    autofill: true\n                });\n                autoObj.appendTo(args.element);\n            },\n            read: function (args) {\n                var ej2Instance = args.ej2_instances[0];\n                return ej2Instance.value;\n            }\n        };\n        Grid.Inject(Edit, Page, GridToolbar, ForeignKey);\n        var gridObj = new Grid(gridModel);\n        var divElement = this.createDivElement('e-dependent-div', ganttObj.element.id + '' + itemName + 'TabContainer');\n        gridObj.appendTo(divElement);\n        return divElement;\n    };\n    DialogEdit.prototype.gridActionBegin = function (args) {\n        var _this = this;\n        var itemName = 'Dependency';\n        var gridModel = this.beforeOpenArgs[itemName];\n        if (args.requestType === 'add' || args.requestType === 'beginEdit') {\n            var isEdit_1 = args.requestType === 'add' ? false : true;\n            this.idCollection = extend([], [], this.preTableCollection, true);\n            var gridData_1 = gridModel.dataSource;\n            var _loop_2 = function (i) {\n                // eslint-disable-next-line\n                this_2.idCollection.forEach(function (data, index) {\n                    if (data.id === getValue('id', gridData_1[i])) {\n                        // eslint-disable-next-line\n                        var selectedItem = getValue('rowData', args);\n                        if (isEdit_1 && getValue('id', selectedItem) === data.id) {\n                            return;\n                        }\n                        _this.idCollection.splice(_this.idCollection.indexOf(data), 1);\n                    }\n                });\n            };\n            var this_2 = this;\n            for (var i = 0; i <= gridData_1.length; i++) {\n                _loop_2(i);\n            }\n        }\n    };\n    DialogEdit.prototype.updateResourceCollection = function (args, resourceTreeGridId) {\n        if (!isNullOrUndefined(args.data) && Object.keys(args.data).length) {\n            var ganttObj = this.parent;\n            var treeGridId = ganttObj.element.querySelector('#' + resourceTreeGridId);\n            var resourceTreeGrid = treeGridId.ej2_instances[0];\n            if (!isNullOrUndefined(resourceTreeGrid) && resourceTreeGrid.getSelectedRecords().length > 0) {\n                var tempRecords = resourceTreeGrid.getSelectedRecords();\n                var index = void 0;\n                var selectedItems = [];\n                for (index = 0; index < tempRecords.length; index++) {\n                    selectedItems.push(tempRecords[index].taskData);\n                }\n                this.ganttResources = extend([], selectedItems);\n            }\n            else {\n                this.ganttResources = [];\n            }\n        }\n        else {\n            this.ganttResources = [];\n        }\n    };\n    DialogEdit.prototype.renderResourceTab = function (itemName) {\n        var _this = this;\n        var ganttObj = this.parent;\n        var resourceSettings = ganttObj.resourceFields;\n        var ganttData = this.beforeOpenArgs.rowData;\n        // eslint-disable-next-line\n        var rowResource = ganttData.ganttProperties.resourceInfo;\n        var inputModel = this.beforeOpenArgs[itemName];\n        var resourceTreeGridId = ganttObj.element.id + '' + itemName + 'TabContainer';\n        var resourceData = extend([], [], ganttObj.resources, true);\n        this.parent.dataOperation.updateResourceUnit(resourceData);\n        if (!isNullOrUndefined(rowResource)) {\n            var count = void 0;\n            var rowResourceLength = rowResource.length;\n            var index = void 0;\n            var resourceDataLength = resourceData.length;\n            for (count = 0; count < rowResourceLength; count++) {\n                for (index = 0; index < resourceDataLength; index++) {\n                    if (rowResource[count][resourceSettings.id] === resourceData[index][resourceSettings.id]) {\n                        resourceData[index][resourceSettings.unit] = rowResource[count][resourceSettings.unit];\n                    }\n                }\n            }\n        }\n        inputModel.dataSource = resourceData;\n        // eslint-disable-next-line\n        var resourceInfo = ganttData.ganttProperties.resourceInfo;\n        if (this.isEdit && !isNullOrUndefined(resourceInfo)) {\n            for (var i = 0; i < resourceInfo.length; i++) {\n                this.ganttResources.push(resourceInfo[i]);\n            }\n        }\n        inputModel.rowSelected = function (args) {\n            _this.updateResourceCollection(args, resourceTreeGridId);\n        };\n        inputModel.rowDeselected = function (args) {\n            _this.updateResourceCollection(args, resourceTreeGridId);\n        };\n        var divElement = this.createDivElement('e-resource-div', resourceTreeGridId);\n        TreeGrid.Inject(Selection, Filter, TreeGridEdit, VirtualScroll);\n        var treeGridObj = new TreeGrid(inputModel);\n        var resourceColumn = this.parent.columnByField[this.parent.taskFields.resourceInfo];\n        if (resourceColumn.allowEditing === false || resourceColumn.isPrimaryKey || this.parent.readOnly) {\n            treeGridObj.allowSelection = false;\n            treeGridObj.allowFiltering = false;\n            treeGridObj.editSettings.allowEditing = false;\n        }\n        treeGridObj.appendTo(divElement);\n        return divElement;\n    };\n    DialogEdit.prototype.renderCustomTab = function (itemName) {\n        return this.renderGeneralTab(itemName);\n    };\n    DialogEdit.prototype.renderNotesTab = function (itemName) {\n        var ganttObj = this.parent;\n        var inputModel = this.beforeOpenArgs[itemName];\n        var ganttProp = this.editedRecord.ganttProperties;\n        var divElement = this.createDivElement('', ganttObj.element.id + '' + itemName + 'TabContainer');\n        RichTextEditor.Inject(RTEToolbar, Link, HtmlEditor, QuickToolbar, Count);\n        inputModel.value = ganttProp.notes;\n        var notesColumn = this.parent.columnByField[this.parent.taskFields.notes];\n        if (notesColumn.allowEditing === false || notesColumn.isPrimaryKey || this.parent.readOnly) {\n            inputModel.enabled = false;\n        }\n        var rteObj = new RichTextEditor(inputModel);\n        rteObj.appendTo(divElement);\n        return divElement;\n    };\n    DialogEdit.prototype.renderInputElements = function (inputModel, column) {\n        var _this = this;\n        var ganttId = this.parent.element.id;\n        var ganttData = this.editedRecord;\n        var divElement = this.createDivElement('e-edit-form-column');\n        var inputElement;\n        var editArgs = { column: column, data: ganttData };\n        if (!isNullOrUndefined(column.edit) && isNullOrUndefined(column.edit.params)) {\n            // eslint-disable-next-line\n            var create = column.edit.create;\n            if (typeof create === 'string') {\n                create = getObject(create, window);\n                inputElement = create(editArgs);\n            }\n            else {\n                // eslint-disable-next-line\n                inputElement = column.edit.create(editArgs);\n            }\n            inputElement.className = '';\n            inputElement.setAttribute('type', 'text');\n            inputElement.setAttribute('id', ganttId + '' + column.field);\n            inputElement.setAttribute('name', column.field);\n            inputElement.setAttribute('title', column.field);\n            divElement.appendChild(inputElement);\n        }\n        else {\n            inputElement = this.createInputElement('', ganttId + '' + column.field, column.field);\n            divElement.appendChild(inputElement);\n        }\n        inputModel.enabled = !this.isCheckIsDisabled(column);\n        if (column.field === this.parent.taskFields.duration) {\n            if (!isNullOrUndefined(column.valueAccessor)) {\n                // eslint-disable-next-line\n                if (typeof column.valueAccessor === 'string') {\n                    var valueAccessor = getObject(column.valueAccessor, window);\n                    inputModel.value = valueAccessor(column.field, ganttData, column);\n                }\n                else {\n                    inputModel.value = column.valueAccessor(column.field, ganttData, column);\n                }\n            }\n            else if (isNullOrUndefined(column.edit)) {\n                var ganttProp = ganttData.ganttProperties;\n                inputModel.value = this.parent.dataOperation.getDurationString(ganttProp.duration, ganttProp.durationUnit);\n            }\n        }\n        else {\n            if (column.editType === 'booleanedit') {\n                if (ganttData[column.field] === true) {\n                    inputModel.checked = true;\n                }\n                else {\n                    inputModel.checked = false;\n                }\n            }\n            else {\n                inputModel.value = ganttData[column.field];\n            }\n        }\n        if (!isNullOrUndefined(column.edit) && isNullOrUndefined(column.edit.params)) {\n            // eslint-disable-next-line\n            var write = column.edit.write;\n            var inputObj = void 0;\n            if (typeof write === 'string') {\n                write = getObject(write, window);\n                inputObj = write({\n                    column: column, rowData: ganttData, element: inputElement\n                });\n            }\n            else {\n                // eslint-disable-next-line\n                inputObj = column.edit.write({\n                    column: column, rowData: ganttData, element: inputElement\n                });\n            }\n            if (column.field === this.parent.taskFields.duration) {\n                inputObj.change = function (args) {\n                    _this.validateScheduleFields(args, column, _this.parent);\n                };\n            }\n        }\n        else {\n            var inputObj = new this.inputs[column.editType](inputModel);\n            inputObj.appendTo(inputElement);\n        }\n        return divElement;\n    };\n    DialogEdit.prototype.taskNameCollection = function () {\n        var flatData = this.parent.flatData;\n        this.preTaskIds = [];\n        this.preTableCollection = [];\n        for (var i = 0; i < flatData.length; i++) {\n            var data = flatData[i];\n            if (data.hasChildRecords) {\n                continue;\n            }\n            var taskId = this.parent.viewType === 'ResourceView' ? data.ganttProperties.taskId.toString()\n                : data.ganttProperties.rowUniqueID.toString();\n            var tempObject = {\n                id: taskId,\n                text: (taskId + '-' + data.ganttProperties.taskName),\n                value: taskId\n            };\n            this.preTaskIds.push(tempObject.id);\n            this.preTableCollection.push(tempObject);\n        }\n    };\n    DialogEdit.prototype.predecessorEditCollection = function (ganttData) {\n        var preDataCollection = [];\n        var ganttProp = ganttData.ganttProperties;\n        if (this.isEdit && !isNullOrUndefined(this.parent.taskFields.dependency) && !isNullOrUndefined(ganttData) &&\n            !isNullOrUndefined(ganttProp.predecessor)) {\n            var predecessor = ganttProp.predecessor;\n            var idCollection = this.preTableCollection;\n            for (var i = 0; i < predecessor.length; i++) {\n                var from = predecessor[i].from.toString();\n                var preData = {};\n                var taskID = this.parent.viewType === 'ResourceView' ? ganttProp.taskId : ganttProp.rowUniqueID;\n                if (taskID.toString() !== from) {\n                    preData.id = from;\n                    for (var index = 0; index < idCollection.length; index++) {\n                        if (idCollection[index].value === from) {\n                            preData.name = idCollection[index].text;\n                            break;\n                        }\n                    }\n                    preData.type = predecessor[i].type;\n                    var offset = predecessor[i].offset;\n                    var offsetUnit = predecessor[i].offsetUnit;\n                    preData.offset = this.parent.dataOperation.getDurationString(offset, offsetUnit);\n                    preData.uniqueId = getUid();\n                    preDataCollection.push(preData);\n                }\n            }\n        }\n        return preDataCollection;\n    };\n    DialogEdit.prototype.updatePredecessorDropDownData = function (ganttData) {\n        var index = -1;\n        var id = this.parent.viewType === 'ResourceView' ? ganttData.ganttProperties.taskId.toString()\n            : ganttData.ganttProperties.rowUniqueID.toString();\n        index = this.preTaskIds.indexOf(id);\n        this.preTableCollection.splice(index, 1);\n        this.preTaskIds.splice(index, 1);\n        this.validSuccessorTasks(ganttData, this.preTaskIds, this.preTableCollection);\n    };\n    DialogEdit.prototype.validSuccessorTasks = function (data, ids, idCollection) {\n        var _this = this;\n        var ganttProp = data.ganttProperties;\n        if (ganttProp.predecessor && ganttProp.predecessor.length > 0) {\n            var predecessor = ganttProp.predecessor;\n            var fromId_1 = this.parent.viewType === 'ResourceView' ? ganttProp.taskId.toString() : ganttProp.rowUniqueID.toString();\n            predecessor.forEach(function (item) {\n                if (item.from.toString() === fromId_1) {\n                    var toId = item.to;\n                    var idIndex = -1;\n                    idIndex = ids.indexOf(toId);\n                    if (idIndex > -1) {\n                        ids.splice(idIndex, 1);\n                        idCollection.splice(idIndex, 1);\n                    }\n                    var ganttData = _this.parent.connectorLineModule.getRecordByID(toId);\n                    _this.validSuccessorTasks(ganttData, ids, idCollection);\n                }\n            });\n        }\n    };\n    DialogEdit.prototype.getPredecessorType = function () {\n        var typeText = [this.parent.getPredecessorTextValue('SS'), this.parent.getPredecessorTextValue('SF'),\n            this.parent.getPredecessorTextValue('FS'), this.parent.getPredecessorTextValue('FF')];\n        var types = [\n            { id: 'FS', text: typeText[2], value: typeText[2] },\n            { id: 'FF', text: typeText[3], value: typeText[3] },\n            { id: 'SS', text: typeText[0], value: typeText[0] },\n            { id: 'SF', text: typeText[1], value: typeText[1] }\n        ];\n        return types;\n    };\n    DialogEdit.prototype.initiateDialogSave = function () {\n        if (this.isEdit) {\n            this.parent.initiateEditAction(true);\n        }\n        else {\n            this.addedRecord = {};\n        }\n        var ganttObj = this.parent;\n        var tabModel = this.beforeOpenArgs.tabModel;\n        var items = tabModel.items;\n        for (var i = 0; i < items.length; i++) {\n            var element = items[i].content;\n            var id = element.id;\n            if (!isNullOrUndefined(id) || id !== '') {\n                id = id.replace(ganttObj.element.id, '');\n                id = id.replace('TabContainer', '');\n                if (id === 'General') {\n                    this.updateGeneralTab(element, false);\n                }\n                else if (id === 'Dependency') {\n                    this.updatePredecessorTab(element);\n                }\n                else if (id === 'Notes') {\n                    this.updateNotesTab(element);\n                }\n                else if (id === 'Resources') {\n                    this.updateResourceTab(element);\n                }\n                else if (id.indexOf('Custom') !== -1) {\n                    this.updateCustomTab(element);\n                }\n                else if (id === 'Segments') {\n                    this.updateSegmentsData(element, this.beforeOpenArgs.rowData);\n                }\n            }\n        }\n        if (this.isEdit) {\n            /**\n             * If any update on edited task do it here\n             */\n            this.parent.dataOperation.updateWidthLeft(this.rowData);\n            var editArgs = {\n                data: this.rowData,\n                action: 'DialogEditing'\n            };\n            this.parent.editModule.initiateUpdateAction(editArgs);\n        }\n        else {\n            if (this.parent.viewType === 'ResourceView') {\n                // eslint-disable-next-line\n                var newRecords = extend({}, this.addedRecord, true);\n                if (newRecords[this.parent.taskFields.resourceInfo].length) {\n                    for (var i = 0; i < newRecords[this.parent.taskFields.resourceInfo].length; i++) {\n                        var id = newRecords[this.parent.taskFields.resourceInfo][i].toString();\n                        var parentRecordIndex = this.parent.getTaskIds().indexOf('R' + id.toString());\n                        if (parentRecordIndex !== -1) {\n                            this.parent.editModule.addRecord(this.addedRecord, 'Child', parentRecordIndex);\n                            break;\n                        }\n                    }\n                }\n                else {\n                    this.parent.editModule.addRecord(this.addedRecord, 'Bottom');\n                }\n            }\n            else {\n                this.parent.editModule.addRecord(this.addedRecord, this.parent.editSettings.newRowPosition);\n            }\n        }\n        return true;\n    };\n    DialogEdit.prototype.updateSegmentTaskData = function (dataSource) {\n        var userData = [];\n        var taskSettings = this.parent.taskFields;\n        for (var i = 0; i < dataSource.length; i++) {\n            // eslint-disable-next-line\n            var taskData = {};\n            if (!isNullOrUndefined(taskSettings.startDate)) {\n                taskData[this.parent.taskFields.startDate] = dataSource[i].startDate;\n            }\n            if (!isNullOrUndefined(taskSettings.endDate)) {\n                taskData[this.parent.taskFields.endDate] = dataSource[i].endDate;\n            }\n            if (!isNullOrUndefined(taskSettings.duration)) {\n                taskData[this.parent.taskFields.duration] = Number(dataSource[i].duration);\n                dataSource[i].duration = taskData[this.parent.taskFields.duration];\n            }\n            userData.push(taskData);\n        }\n        if (!this.isEdit) {\n            this.addedRecord[taskSettings.segments] = userData;\n        }\n        else {\n            this.rowData.ganttProperties.segments = dataSource;\n            this.parent.setRecordValue('segments', this.parent.dataOperation.setSegmentsInfo(this.rowData, false), this.rowData.ganttProperties, true);\n            this.parent.setRecordValue('taskData.' + this.parent.taskFields.segments, userData, this.rowData);\n        }\n    };\n    // eslint-disable-next-line\n    DialogEdit.prototype.updateSegmentsData = function (segmentForm, data) {\n        var gridObj = segmentForm.ej2_instances[0];\n        if (gridObj.isEdit) {\n            gridObj.endEdit();\n        }\n        var dataSource = gridObj.currentViewData;\n        this.updateSegmentTaskData(dataSource);\n    };\n    DialogEdit.prototype.updateGeneralTab = function (generalForm, isCustom) {\n        var ganttObj = this.parent;\n        var childNodes = generalForm.childNodes;\n        var tasksData = {};\n        if (!this.isEdit) {\n            tasksData = this.addedRecord;\n        }\n        for (var i = 0; i < childNodes.length; i++) {\n            var div = childNodes[i];\n            var inputElement = div.querySelector('input[id^=\"' + ganttObj.element.id + '\"]');\n            if (inputElement) {\n                var fieldName = inputElement.id.replace(ganttObj.element.id, '');\n                var controlObj = div.querySelector('#' + ganttObj.element.id + fieldName).ej2_instances[0];\n                var column = ganttObj.columnByField[fieldName];\n                if (!isNullOrUndefined(column.edit) && isNullOrUndefined(column.edit.params)) {\n                    // eslint-disable-next-line\n                    var read = column.edit.read;\n                    if (typeof read === 'string') {\n                        read = getObject(read, window);\n                        tasksData[fieldName] = read(inputElement, controlObj.value);\n                    }\n                    else {\n                        // eslint-disable-next-line\n                        tasksData[fieldName] = column.edit.read(inputElement, controlObj.value);\n                    }\n                }\n                else if (isCustom && column.editType === 'booleanedit') {\n                    if (inputElement.checked === true) {\n                        tasksData[fieldName] = true;\n                    }\n                    else {\n                        tasksData[fieldName] = false;\n                    }\n                }\n                else {\n                    tasksData[fieldName] = controlObj.value;\n                }\n            }\n        }\n        if (this.isEdit) {\n            this.updateScheduleProperties(this.editedRecord, this.rowData);\n            ganttObj.editModule.validateUpdateValues(tasksData, this.rowData, true);\n        }\n    };\n    DialogEdit.prototype.updateScheduleProperties = function (fromRecord, toRecord) {\n        this.parent.setRecordValue('startDate', fromRecord.ganttProperties.startDate, toRecord.ganttProperties, true);\n        this.parent.setRecordValue('endDate', fromRecord.ganttProperties.endDate, toRecord.ganttProperties, true);\n        this.parent.setRecordValue('duration', fromRecord.ganttProperties.duration, toRecord.ganttProperties, true);\n        this.parent.setRecordValue('durationUnit', fromRecord.ganttProperties.durationUnit, toRecord.ganttProperties, true);\n        this.parent.setRecordValue('work', fromRecord.ganttProperties.work, toRecord.ganttProperties, true);\n        if (!isNullOrUndefined(this.parent.taskFields.startDate)) {\n            this.parent.dataOperation.updateMappingData(this.rowData, this.parent.taskFields.startDate);\n        }\n        if (!isNullOrUndefined(this.parent.taskFields.endDate)) {\n            this.parent.dataOperation.updateMappingData(this.rowData, this.parent.taskFields.endDate);\n        }\n        if (!isNullOrUndefined(this.parent.taskFields.duration)) {\n            this.parent.dataOperation.updateMappingData(this.rowData, this.parent.taskFields.duration);\n            this.parent.setRecordValue('durationUnit', fromRecord.ganttProperties.durationUnit, this.rowData, true);\n            if (this.rowData.ganttProperties.duration === 0) {\n                this.parent.setRecordValue('isMilestone', true, this.rowData.ganttProperties, true);\n            }\n            else {\n                this.parent.setRecordValue('isMilestone', false, this.rowData.ganttProperties, true);\n            }\n        }\n        if (!isNullOrUndefined(this.parent.taskFields.work)) {\n            this.parent.dataOperation.updateMappingData(this.rowData, this.parent.taskFields.work);\n        }\n        if (!isNullOrUndefined(this.parent.taskFields.manual)) {\n            this.parent.dataOperation.updateMappingData(this.rowData, this.parent.taskFields.manual);\n        }\n    };\n    DialogEdit.prototype.updatePredecessorTab = function (preElement) {\n        var gridObj = preElement.ej2_instances[0];\n        if (gridObj.isEdit) {\n            gridObj.endEdit();\n        }\n        var dataSource = gridObj.dataSource;\n        var predecessorName = [];\n        var newValues = [];\n        var predecessorString = '';\n        var ids = [];\n        for (var i = 0; i < dataSource.length; i++) {\n            var preData = dataSource[i];\n            var newId = preData.name.split('-')[0];\n            if (preData.id !== newId) {\n                preData.id = newId;\n            }\n            if (ids.indexOf(preData.id) === -1) {\n                var name_1 = preData.id + preData.type;\n                if (preData.offset && preData.offset.indexOf('-') !== -1) {\n                    name_1 += preData.offset;\n                }\n                else {\n                    name_1 += ('+' + preData.offset);\n                }\n                predecessorName.push(name_1);\n                ids.push(preData.id);\n            }\n        }\n        if (this.isEdit) {\n            if (predecessorName.length > 0) {\n                newValues = this.parent.predecessorModule.calculatePredecessor(predecessorName.join(','), this.rowData);\n                this.parent.setRecordValue('predecessor', newValues, this.rowData.ganttProperties, true);\n                predecessorString = this.parent.predecessorModule.getPredecessorStringValue(this.rowData);\n            }\n            else {\n                newValues = [];\n                this.parent.setRecordValue('predecessor', newValues, this.rowData.ganttProperties, true);\n                predecessorString = '';\n            }\n            this.parent.setRecordValue('predecessorsName', predecessorString, this.rowData.ganttProperties, true);\n            this.parent.setRecordValue('taskData.' + this.parent.taskFields.dependency, predecessorString, this.rowData);\n            this.parent.setRecordValue(this.parent.taskFields.dependency, predecessorString, this.rowData);\n            this.parent.predecessorModule.updateUnscheduledDependency(this.rowData);\n        }\n        else {\n            this.addedRecord[this.parent.taskFields.dependency] = predecessorName.length > 0 ? predecessorName.join(',') : '';\n        }\n    };\n    DialogEdit.prototype.updateResourceTab = function (resourceElement) {\n        var treeGridObj = resourceElement.ej2_instances[0];\n        if (treeGridObj) {\n            treeGridObj.grid.endEdit();\n        }\n        var selectedItems = this.ganttResources;\n        if (this.parent.viewType === 'ResourceView' && !isNullOrUndefined(this.rowData.ganttProperties)) {\n            if (JSON.stringify(this.ganttResources) !== JSON.stringify(this.rowData.ganttProperties.resourceInfo)) {\n                this.isResourceUpdate = true;\n                this.previousResource = !isNullOrUndefined(this.rowData.ganttProperties.resourceInfo) ? this.rowData.ganttProperties.resourceInfo.slice() : [];\n            }\n            else {\n                this.isResourceUpdate = false;\n            }\n        }\n        // eslint-disable-next-line\n        var idArray = [];\n        if (this.isEdit) {\n            this.parent.setRecordValue('resourceInfo', selectedItems, this.rowData.ganttProperties, true);\n            this.parent.dataOperation.updateMappingData(this.rowData, 'resourceInfo');\n            this.parent.editModule.updateResourceRelatedFields(this.rowData, 'resource');\n            this.validateDuration(this.rowData);\n        }\n        else {\n            for (var i = 0; i < selectedItems.length; i++) {\n                idArray.push(selectedItems[i][this.parent.resourceFields.id]);\n                this.isAddNewResource = true;\n            }\n            this.addedRecord[this.parent.taskFields.resourceInfo] = idArray;\n        }\n    };\n    DialogEdit.prototype.updateNotesTab = function (notesElement) {\n        var ganttObj = this.parent;\n        var rte = notesElement.ej2_instances[0];\n        if (this.isEdit) {\n            this.parent.setRecordValue('notes', rte.getHtml(), this.rowData.ganttProperties, true);\n            ganttObj.dataOperation.updateMappingData(this.rowData, 'notes');\n        }\n        else {\n            this.addedRecord[this.parent.taskFields.notes] = rte.getHtml();\n        }\n    };\n    DialogEdit.prototype.updateCustomTab = function (customElement) {\n        this.updateGeneralTab(customElement, true);\n    };\n    return DialogEdit;\n}());\nexport { DialogEdit };\n","import { isNullOrUndefined, isUndefined, addClass } from '@syncfusion/ej2-base';\nimport { removeClass, getValue, createElement, extend } from '@syncfusion/ej2-base';\nimport * as cls from '../base/css-constants';\nimport { parentsUntil, formatString, isScheduledTask, getIndex } from '../base/utils';\nimport { Dialog } from '@syncfusion/ej2-popups';\n/**\n * File for handling connector line edit operation in Gantt.\n *\n */\nvar ConnectorLineEdit = /** @class */ (function () {\n    function ConnectorLineEdit(ganttObj) {\n        /**\n         * @private\n         */\n        this.validationPredecessor = null;\n        /** @private */\n        this.confirmPredecessorDialog = null;\n        /** @private */\n        this.predecessorIndex = null;\n        /** @private */\n        this.childRecord = null;\n        this.parent = ganttObj;\n        this.dateValidateModule = this.parent.dateValidationModule;\n        this.parent.on('initPredessorDialog', this.initPredecessorValidationDialog, this);\n    }\n    /**\n     * To update connector line edit element.\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.updateConnectorLineEditElement = function (e) {\n        var element = this.getConnectorLineHoverElement(e.target);\n        if (!getValue('editModule.taskbarEditModule.taskBarEditAction', this.parent)) {\n            this.highlightConnectorLineElements(element);\n        }\n    };\n    /**\n     * To get hovered connector line element.\n     *\n     * @param {EventTarget} target .\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.getConnectorLineHoverElement = function (target) {\n        var isOnLine = parentsUntil(target, cls.connectorLine);\n        var isOnRightArrow = parentsUntil(target, cls.connectorLineRightArrow);\n        var isOnLeftArrow = parentsUntil(target, cls.connectorLineLeftArrow);\n        if (isOnLine || isOnRightArrow || isOnLeftArrow) {\n            return parentsUntil(target, cls.connectorLineContainer);\n        }\n        else {\n            return null;\n        }\n    };\n    /**\n     * To highlight connector line while hover.\n     *\n     * @param {Element} element .\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.highlightConnectorLineElements = function (element) {\n        if (element) {\n            if (element !== this.connectorLineElement) {\n                this.removeHighlight();\n                this.addHighlight(element);\n            }\n        }\n        else {\n            this.removeHighlight();\n        }\n    };\n    /**\n     * To add connector line highlight class.\n     *\n     * @param {Element} element .\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.addHighlight = function (element) {\n        this.connectorLineElement = element;\n        addClass([element], [cls.connectorLineHoverZIndex]);\n        addClass(element.querySelectorAll('.' + cls.connectorLine), [cls.connectorLineHover]);\n        addClass(element.querySelectorAll('.' + cls.connectorLineRightArrow), [cls.connectorLineRightArrowHover]);\n        addClass(element.querySelectorAll('.' + cls.connectorLineLeftArrow), [cls.connectorLineLeftArrowHover]);\n    };\n    /**\n     * To remove connector line highlight class.\n     *\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.removeHighlight = function () {\n        if (!isNullOrUndefined(this.connectorLineElement)) {\n            removeClass([this.connectorLineElement], [cls.connectorLineHoverZIndex]);\n            removeClass(this.connectorLineElement.querySelectorAll('.' + cls.connectorLine), [cls.connectorLineHover]);\n            removeClass(this.connectorLineElement.querySelectorAll('.' + cls.connectorLineRightArrow), [cls.connectorLineRightArrowHover]);\n            removeClass(this.connectorLineElement.querySelectorAll('.' + cls.connectorLineLeftArrow), [cls.connectorLineLeftArrowHover]);\n            this.connectorLineElement = null;\n        }\n    };\n    /**\n     * To remove connector line highlight class.\n     *\n     * @param {IGanttData[]} records .\n     * @returns {string} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.getEditedConnectorLineString = function (records) {\n        var ganttRecord;\n        var predecessorsCollection;\n        var predecessor;\n        var parentGanttRecord;\n        var childGanttRecord;\n        var connectorObj;\n        var idArray = [];\n        var lineArray = [];\n        var editedConnectorLineString = '';\n        for (var count = 0; count < records.length; count++) {\n            ganttRecord = records[count];\n            predecessorsCollection = ganttRecord.ganttProperties.predecessor;\n            if (predecessorsCollection) {\n                for (var predecessorCount = 0; predecessorCount < predecessorsCollection.length; predecessorCount++) {\n                    predecessor = predecessorsCollection[predecessorCount];\n                    var from = 'from';\n                    var to = 'to';\n                    this.parent.connectorLineModule.removeConnectorLineById('parent' + predecessor[from] + 'child' + predecessor[to]);\n                    parentGanttRecord = this.parent.connectorLineModule.getRecordByID(predecessor[from]);\n                    childGanttRecord = this.parent.connectorLineModule.getRecordByID(predecessor[to]);\n                    if ((parentGanttRecord && parentGanttRecord.expanded === true) ||\n                        (childGanttRecord && childGanttRecord.expanded === true)) {\n                        connectorObj =\n                            this.parent.predecessorModule.updateConnectorLineObject(parentGanttRecord, childGanttRecord, predecessor);\n                        if (!isNullOrUndefined(connectorObj)) {\n                            var lineIndex = idArray.indexOf(connectorObj.connectorLineId);\n                            var lineString = this.parent.connectorLineModule.getConnectorLineTemplate(connectorObj);\n                            if (lineIndex !== -1) {\n                                lineArray[lineIndex] = lineString;\n                            }\n                            else {\n                                idArray.push(connectorObj.connectorLineId);\n                                lineArray.push(lineString);\n                            }\n                        }\n                    }\n                }\n                editedConnectorLineString = lineArray.join('');\n            }\n        }\n        return editedConnectorLineString;\n    };\n    /**\n     * Tp refresh connector lines of edited records\n     *\n     * @param {IGanttData[]} editedRecord .\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.refreshEditedRecordConnectorLine = function (editedRecord) {\n        this.parent.connectorLineModule.removePreviousConnectorLines(this.parent.previousRecords);\n        this.parent.connectorLineModule.expandedRecords = this.parent.virtualScrollModule && this.parent.enableVirtualization ?\n            this.parent.updatedRecords : this.parent.getExpandedRecords(this.parent.updatedRecords);\n        var editedConnectorLineString = this.getEditedConnectorLineString(editedRecord);\n        this.parent.connectorLineModule.dependencyViewContainer.innerHTML =\n            this.parent.connectorLineModule.dependencyViewContainer.innerHTML + editedConnectorLineString;\n    };\n    ConnectorLineEdit.prototype.idFromPredecessor = function (pre) {\n        var preArray = pre.split(',');\n        var preIdArray = [];\n        for (var j = 0; j < preArray.length; j++) {\n            var strArray = [];\n            for (var i = 0; i < preArray[j].length; i++) {\n                if (!isNullOrUndefined(preArray[j].charAt(i)) && parseInt(preArray[j].charAt(i), 10).toString() !== 'NaN') {\n                    strArray.push(preArray[j].charAt(i));\n                }\n                else {\n                    break;\n                }\n            }\n            preIdArray.push((strArray.join('')));\n        }\n        return preIdArray;\n    };\n    ConnectorLineEdit.prototype.predecessorValidation = function (predecessor, record) {\n        var recordId = record.rowUniqueID;\n        var currentId;\n        var currentRecord;\n        for (var count = 0; count < predecessor.length; count++) {\n            currentId = predecessor[count];\n            var visitedIdArray = [];\n            var predecessorCollection = predecessor.slice(0);\n            predecessorCollection.splice(count, 1);\n            var _loop_1 = function () {\n                var currentIdArray = [];\n                if (visitedIdArray.indexOf(currentId) === -1) {\n                    //Predecessor id not in records collection\n                    if (isNullOrUndefined(this_1.parent.connectorLineModule.getRecordByID(currentId))) {\n                        return { value: false };\n                    }\n                    currentRecord = this_1.parent.connectorLineModule.getRecordByID(currentId).ganttProperties;\n                    if (!isNullOrUndefined(currentRecord.predecessor) && currentRecord.predecessor.length > 0) {\n                        currentRecord.predecessor.forEach(function (value) {\n                            if (currentRecord.rowUniqueID.toString() !== value.from) {\n                                currentIdArray.push(value.from.toString());\n                            }\n                        });\n                    }\n                    /* eslint-disable-next-line */\n                    if (recordId.toString() === currentRecord.rowUniqueID.toString() || currentIdArray.indexOf(recordId.toString()) !== -1) {\n                        return { value: false };\n                    }\n                    visitedIdArray.push(currentId);\n                    if (!isNullOrUndefined(currentRecord.predecessor) && currentRecord.predecessor.length > 0) {\n                        currentId = currentRecord.predecessor[0].from;\n                    }\n                    else {\n                        return \"break\";\n                    }\n                }\n                else {\n                    return \"break\";\n                }\n            };\n            var this_1 = this;\n            while (currentId !== null) {\n                var state_1 = _loop_1();\n                if (typeof state_1 === \"object\")\n                    return state_1.value;\n                if (state_1 === \"break\")\n                    break;\n            }\n        }\n        return true;\n    };\n    /**\n     * To validate predecessor relations\n     *\n     * @param {IGanttData} ganttRecord .\n     * @param {string} predecessorString .\n     * @returns {boolean} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.validatePredecessorRelation = function (ganttRecord, predecessorString) {\n        var flag = true;\n        var recordId = this.parent.viewType === 'ResourceView' ? ganttRecord.ganttProperties.taskId\n            : ganttRecord.ganttProperties.rowUniqueID;\n        var predecessorIdArray;\n        var currentId;\n        if (!isNullOrUndefined(predecessorString) && predecessorString.length > 0) {\n            predecessorIdArray = this.idFromPredecessor(predecessorString);\n            var _loop_2 = function (count) {\n                //Check edited item has parent item in predecessor collection\n                var checkParent = this_2.checkParentRelation(ganttRecord, predecessorIdArray);\n                if (!checkParent) {\n                    return { value: false };\n                }\n                // Check if predecessor exist more then one\n                var tempIdArray = predecessorIdArray.slice(0);\n                var checkArray = [];\n                var countFlag = true;\n                tempIdArray.forEach(function (value) {\n                    if (checkArray.indexOf(value) === -1) {\n                        checkArray.push(value);\n                    }\n                    else {\n                        countFlag = false;\n                    }\n                });\n                if (!countFlag) {\n                    return { value: false };\n                }\n                //Cyclick check\n                currentId = predecessorIdArray[count];\n                var visitedIdArray = [];\n                var predecessorCollection = predecessorIdArray.slice(0);\n                predecessorCollection.splice(count, 1);\n                var _loop_3 = function () {\n                    var currentIdArray = [];\n                    var currentIdIndex;\n                    var currentRecord;\n                    if (visitedIdArray.indexOf(currentId) === -1) {\n                        //Predecessor id not in records collection\n                        if (isNullOrUndefined(this_2.parent.connectorLineModule.getRecordByID(currentId.toString()))) {\n                            return { value: false };\n                        }\n                        currentRecord = this_2.parent.connectorLineModule.getRecordByID(currentId.toString()).ganttProperties;\n                        //  let currentPredecessor='';\n                        if (!isNullOrUndefined(currentRecord.predecessor) && currentRecord.predecessor.length > 0) {\n                            currentRecord.predecessor.forEach(function (value, index) {\n                                if (currentRecord.rowUniqueID.toString() !== value.from) {\n                                    currentIdArray.push(value.from.toString());\n                                    currentIdIndex = index;\n                                }\n                            });\n                            //    currentPredecessor=currentRecord.predecessor[0].from\n                        }\n                        if (recordId.toString() === currentRecord.rowUniqueID.toString() ||\n                            currentIdArray.indexOf(recordId.toString()) !== -1) {\n                            return { value: false };\n                        }\n                        visitedIdArray.push(currentId);\n                        if (!isNullOrUndefined(currentRecord.predecessor) && currentRecord.predecessor.length > 0) {\n                            var result = void 0;\n                            if (currentIdArray.length > 1) {\n                                result = this_2.predecessorValidation(currentIdArray, ganttRecord.ganttProperties);\n                            }\n                            else if (currentIdArray.length === 1) {\n                                currentId = currentRecord.predecessor[currentIdIndex].from;\n                            }\n                            if (result === false) {\n                                return { value: false };\n                            }\n                        }\n                        else {\n                            return \"break\";\n                        }\n                    }\n                    else {\n                        return \"break\";\n                    }\n                };\n                while (currentId !== null) {\n                    var state_3 = _loop_3();\n                    if (typeof state_3 === \"object\")\n                        return state_3;\n                    if (state_3 === \"break\")\n                        break;\n                }\n            };\n            var this_2 = this;\n            for (var count = 0; count < predecessorIdArray.length; count++) {\n                var state_2 = _loop_2(count);\n                if (typeof state_2 === \"object\")\n                    return state_2.value;\n            }\n        }\n        return flag;\n    };\n    /**\n     * To add dependency for Task\n     *\n     * @param {IGanttData} ganttRecord .\n     * @param {string} predecessorString .\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.addPredecessor = function (ganttRecord, predecessorString) {\n        var tempPredecessorString = isNullOrUndefined(ganttRecord.ganttProperties.predecessorsName) ||\n            ganttRecord.ganttProperties.predecessorsName === '' ?\n            predecessorString : (ganttRecord.ganttProperties.predecessorsName + ',' + predecessorString);\n        this.updatePredecessorHelper(ganttRecord, tempPredecessorString);\n    };\n    /**\n     * To remove dependency from task\n     *\n     * @param {IGanttData} ganttRecord .\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.removePredecessor = function (ganttRecord) {\n        this.updatePredecessorHelper(ganttRecord, null);\n    };\n    /**\n     * To modify current dependency values of Task\n     *\n     * @param {IGanttData} ganttRecord .\n     * @param {string} predecessorString .\n     * @param {ITaskbarEditedEventArgs} editedArgs .\n     * @returns {boolean} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.updatePredecessor = function (ganttRecord, predecessorString, editedArgs) {\n        return this.updatePredecessorHelper(ganttRecord, predecessorString, editedArgs);\n    };\n    ConnectorLineEdit.prototype.updatePredecessorHelper = function (ganttRecord, predecessorString, editedArgs) {\n        if (isUndefined(predecessorString) || this.validatePredecessorRelation(ganttRecord, predecessorString)) {\n            this.parent.isOnEdit = true;\n            var predecessorCollection = [];\n            if (!isNullOrUndefined(predecessorString) && predecessorString !== '') {\n                predecessorCollection = this.parent.predecessorModule.calculatePredecessor(predecessorString, ganttRecord);\n            }\n            this.parent.setRecordValue('predecessor', predecessorCollection, ganttRecord.ganttProperties, true);\n            var stringValue = this.parent.predecessorModule.getPredecessorStringValue(ganttRecord);\n            this.parent.setRecordValue('predecessorsName', stringValue, ganttRecord.ganttProperties, true);\n            this.parent.setRecordValue('taskData.' + this.parent.taskFields.dependency, stringValue, ganttRecord);\n            this.parent.setRecordValue(this.parent.taskFields.dependency, stringValue, ganttRecord);\n            var args = {};\n            args.action = editedArgs && editedArgs.action && editedArgs.action === 'CellEditing' ? editedArgs.action : 'DrawConnectorLine';\n            args.data = ganttRecord;\n            this.parent.editModule.initiateUpdateAction(args);\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    ConnectorLineEdit.prototype.checkParentRelation = function (ganttRecord, predecessorIdArray) {\n        var editingData = ganttRecord;\n        var checkParent = true;\n        if (editingData && editingData.parentItem) {\n            if (predecessorIdArray.indexOf(editingData.parentItem.taskId.toString()) !== -1) {\n                return false;\n            }\n        }\n        var _loop_4 = function (p) {\n            var record = this_3.parent.currentViewData.filter(function (item) {\n                return item && item.ganttProperties.rowUniqueID.toString() === predecessorIdArray[p].toString();\n            });\n            if (record[0] && record[0].hasChildRecords) {\n                return { value: false };\n            }\n        };\n        var this_3 = this;\n        for (var p = 0; p < predecessorIdArray.length; p++) {\n            var state_4 = _loop_4(p);\n            if (typeof state_4 === \"object\")\n                return state_4.value;\n        }\n        return checkParent;\n    };\n    ConnectorLineEdit.prototype.initPredecessorValidationDialog = function () {\n        if (this.parent.taskFields.dependency && this.parent.isInPredecessorValidation) {\n            var dialogElement = createElement('div', {\n                id: this.parent.element.id + '_dialogValidationRule'\n            });\n            this.parent.element.appendChild(dialogElement);\n            this.renderValidationDialog();\n        }\n    };\n    /**\n     * To render validation dialog\n     *\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.renderValidationDialog = function () {\n        var validationDialog = new Dialog({\n            header: 'Validate Editing',\n            isModal: true,\n            visible: false,\n            width: '50%',\n            showCloseIcon: true,\n            close: this.validationDialogClose.bind(this),\n            content: '',\n            buttons: [\n                {\n                    click: this.validationDialogOkButton.bind(this),\n                    buttonModel: { content: this.parent.localeObj.getConstant('okText'), isPrimary: true }\n                },\n                {\n                    click: this.validationDialogCancelButton.bind(this),\n                    buttonModel: { content: this.parent.localeObj.getConstant('cancel') }\n                }\n            ],\n            target: this.parent.element,\n            animationSettings: { effect: 'None' }\n        });\n        document.getElementById(this.parent.element.id + '_dialogValidationRule').innerHTML = '';\n        validationDialog.isStringTemplate = true;\n        validationDialog.appendTo('#' + this.parent.element.id + '_dialogValidationRule');\n        this.parent.validationDialogElement = validationDialog;\n    };\n    ConnectorLineEdit.prototype.validationDialogOkButton = function () {\n        var currentArgs = this.parent.currentEditedArgs;\n        currentArgs.validateMode.preserveLinkWithEditing =\n            document.getElementById(this.parent.element.id + '_ValidationAddlineOffset').checked;\n        currentArgs.validateMode.removeLink =\n            document.getElementById(this.parent.element.id + '_ValidationRemoveline').checked;\n        currentArgs.validateMode.respectLink =\n            document.getElementById(this.parent.element.id + '_ValidationCancel').checked;\n        this.applyPredecessorOption();\n        this.parent.validationDialogElement.hide();\n    };\n    ConnectorLineEdit.prototype.validationDialogCancelButton = function () {\n        this.parent.currentEditedArgs.validateMode.respectLink = true;\n        this.applyPredecessorOption();\n        this.parent.validationDialogElement.hide();\n    };\n    // eslint-disable-next-line\n    ConnectorLineEdit.prototype.validationDialogClose = function (e) {\n        if (getValue('isInteraction', e)) {\n            this.parent.currentEditedArgs.validateMode.respectLink = true;\n            this.applyPredecessorOption();\n        }\n    };\n    /**\n     * Validate and apply the predecessor option from validation dialog\n     *\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.applyPredecessorOption = function () {\n        var args = this.parent.currentEditedArgs;\n        var ganttRecord = args.data;\n        if (args.validateMode.respectLink) {\n            this.parent.editModule.reUpdatePreviousRecords();\n            this.parent.chartRowsModule.refreshRecords([args.data]);\n        }\n        else if (args.validateMode.removeLink) {\n            this.removePredecessors(ganttRecord, this.validationPredecessor);\n            this.parent.editModule.updateEditedTask(args.editEventArgs);\n        }\n        else if (args.validateMode.preserveLinkWithEditing) {\n            this.calculateOffset(ganttRecord);\n            this.parent.editModule.updateEditedTask(args.editEventArgs);\n        }\n    };\n    ConnectorLineEdit.prototype.calculateOffset = function (record) {\n        var prevPredecessor = extend([], record.ganttProperties.predecessor, [], true);\n        var validPredecessor = this.parent.predecessorModule.getValidPredecessor(record);\n        for (var i = 0; i < validPredecessor.length; i++) {\n            var predecessor = validPredecessor[i];\n            var parentTask = this.parent.connectorLineModule.getRecordByID(predecessor.from);\n            var offset = void 0;\n            if (isScheduledTask(parentTask.ganttProperties) && isScheduledTask(record.ganttProperties)) {\n                var tempStartDate = void 0;\n                var tempEndDate = void 0;\n                var tempDuration = void 0;\n                var isNegativeOffset = void 0;\n                switch (predecessor.type) {\n                    case 'FS':\n                        tempStartDate = new Date(parentTask.ganttProperties.endDate.getTime());\n                        tempEndDate = new Date(record.ganttProperties.startDate.getTime());\n                        break;\n                    case 'SS':\n                        tempStartDate = new Date(parentTask.ganttProperties.startDate.getTime());\n                        tempEndDate = new Date(record.ganttProperties.startDate.getTime());\n                        break;\n                    case 'SF':\n                        tempStartDate = new Date(parentTask.ganttProperties.startDate.getTime());\n                        tempEndDate = new Date(record.ganttProperties.endDate.getTime());\n                        break;\n                    case 'FF':\n                        tempStartDate = new Date(parentTask.ganttProperties.endDate.getTime());\n                        tempEndDate = new Date(record.ganttProperties.endDate.getTime());\n                        break;\n                }\n                if (tempStartDate.getTime() < tempEndDate.getTime()) {\n                    tempStartDate = this.dateValidateModule.checkStartDate(tempStartDate);\n                    tempEndDate = this.dateValidateModule.checkEndDate(tempEndDate, null);\n                    isNegativeOffset = false;\n                }\n                else {\n                    var tempDate = new Date(tempStartDate.getTime());\n                    tempStartDate = this.dateValidateModule.checkStartDate(tempEndDate);\n                    tempEndDate = this.dateValidateModule.checkEndDate(tempDate, null);\n                    isNegativeOffset = true;\n                }\n                if (tempStartDate.getTime() < tempEndDate.getTime()) {\n                    tempDuration = this.dateValidateModule.getDuration(tempStartDate, tempEndDate, predecessor.offsetUnit, true, false);\n                    offset = isNegativeOffset ? (tempDuration * -1) : tempDuration;\n                }\n                else {\n                    offset = 0;\n                }\n            }\n            else {\n                offset = 0;\n            }\n            var preIndex = getIndex(predecessor, 'from', prevPredecessor, 'to');\n            prevPredecessor[preIndex].offset = offset;\n            // Update predecessor in predecessor task\n            var parentPredecessors = extend([], parentTask.ganttProperties.predecessor, [], true);\n            var parentPreIndex = getIndex(predecessor, 'from', parentPredecessors, 'to');\n            parentPredecessors[parentPreIndex].offset = offset;\n            this.parent.setRecordValue('predecessor', parentPredecessors, parentTask.ganttProperties, true);\n        }\n        this.parent.setRecordValue('predecessor', prevPredecessor, record.ganttProperties, true);\n        var predecessorString = this.parent.predecessorModule.getPredecessorStringValue(record);\n        this.parent.setRecordValue('taskData.' + this.parent.taskFields.dependency, predecessorString, record);\n        this.parent.setRecordValue(this.parent.taskFields.dependency, predecessorString, record);\n        this.parent.setRecordValue('predecessorsName', predecessorString, record.ganttProperties, true);\n    };\n    /**\n     * Update predecessor value with user selection option in predecessor validation dialog\n     *\n     * @param {IGanttData} ganttRecord .\n     * @param {IPredecessor[]} predecessor .\n     * @returns {void} .\n     */\n    ConnectorLineEdit.prototype.removePredecessors = function (ganttRecord, predecessor) {\n        var prevPredecessor = extend([], [], ganttRecord.ganttProperties.predecessor, true);\n        var preLength = predecessor.length;\n        for (var i = 0; i < preLength; i++) {\n            var parentGanttRecord = this.parent.connectorLineModule.getRecordByID(predecessor[i].from);\n            var parentPredecessor = extend([], [], parentGanttRecord.ganttProperties.predecessor, true);\n            var index = getIndex(predecessor[i], 'from', prevPredecessor, 'to');\n            prevPredecessor.splice(index, 1);\n            var parentIndex = getIndex(predecessor[i], 'from', parentPredecessor, 'to');\n            parentPredecessor.splice(parentIndex, 1);\n            this.parent.setRecordValue('predecessor', parentPredecessor, parentGanttRecord.ganttProperties, true);\n        }\n        if (prevPredecessor.length !== ganttRecord.ganttProperties.predecessor.length) {\n            this.parent.setRecordValue('predecessor', prevPredecessor, ganttRecord.ganttProperties, true);\n            var predecessorString = this.parent.predecessorModule.getPredecessorStringValue(ganttRecord);\n            this.parent.setRecordValue('predecessorsName', predecessorString, ganttRecord.ganttProperties, true);\n            this.parent.setRecordValue('taskData.' + this.parent.taskFields.dependency, predecessorString, ganttRecord);\n            this.parent.setRecordValue(this.parent.taskFields.dependency, predecessorString, ganttRecord);\n        }\n    };\n    /**\n     * To open predecessor validation dialog\n     *\n     * @param {object} args .\n     * @returns {void} .\n     * @private\n     */\n    // eslint-disable-next-line\n    ConnectorLineEdit.prototype.openValidationDialog = function (args) {\n        var contentTemplate = this.validationDialogTemplate(args);\n        this.parent.validationDialogElement.setProperties({ content: contentTemplate });\n        this.parent.validationDialogElement.show();\n    };\n    /**\n     * Predecessor link validation dialog template\n     *\n     * @param {object} args .\n     * @returns {HTMLElement} .\n     * @private\n     */\n    // eslint-disable-next-line\n    ConnectorLineEdit.prototype.validationDialogTemplate = function (args) {\n        var ganttId = this.parent.element.id;\n        var contentdiv = createElement('div', {\n            className: 'e-ValidationContent'\n        });\n        var taskData = getValue('task', args);\n        var parenttaskData = getValue('parentTask', args);\n        var violationType = getValue('violationType', args);\n        var recordName = taskData.ganttProperties.taskName;\n        var recordNewStartDate = this.parent.getFormatedDate(taskData.ganttProperties.startDate, 'MM/dd/yyyy');\n        var parentName = parenttaskData.ganttProperties.taskName;\n        var recordArgs = [recordName, parentName];\n        var topContentText;\n        if (violationType === 'taskBeforePredecessor_FS') {\n            topContentText = this.parent.localeObj.getConstant('taskBeforePredecessor_FS');\n        }\n        else if (violationType === 'taskAfterPredecessor_FS') {\n            topContentText = this.parent.localeObj.getConstant('taskAfterPredecessor_FS');\n        }\n        else if (violationType === 'taskBeforePredecessor_SS') {\n            topContentText = this.parent.localeObj.getConstant('taskBeforePredecessor_SS');\n        }\n        else if (violationType === 'taskAfterPredecessor_SS') {\n            topContentText = this.parent.localeObj.getConstant('taskAfterPredecessor_SS');\n        }\n        else if (violationType === 'taskBeforePredecessor_FF') {\n            topContentText = this.parent.localeObj.getConstant('taskBeforePredecessor_FF');\n        }\n        else if (violationType === 'taskAfterPredecessor_FF') {\n            topContentText = this.parent.localeObj.getConstant('taskAfterPredecessor_FF');\n        }\n        else if (violationType === 'taskBeforePredecessor_SF') {\n            topContentText = this.parent.localeObj.getConstant('taskBeforePredecessor_SF');\n        }\n        else if (violationType === 'taskAfterPredecessor_SF') {\n            topContentText = this.parent.localeObj.getConstant('taskAfterPredecessor_SF');\n        }\n        topContentText = formatString(topContentText, recordArgs);\n        var topContent = '<div id=\"' + ganttId + '_ValidationText\">' + topContentText + '<div>';\n        var innerTable = '<table>' +\n            '<tr><td><input type=\"radio\" id=\"' + ganttId + '_ValidationCancel\" name=\"ValidationRule\" checked/><label for=\"'\n            + ganttId + '_ValidationCancel\" id= \"' + ganttId + '_cancelLink\">Cancel, keep the existing link</label></td></tr>' +\n            '<tr><td><input type=\"radio\" id=\"' + ganttId + '_ValidationRemoveline\" name=\"ValidationRule\"/><label for=\"'\n            + ganttId + '_ValidationRemoveline\" id=\"' + ganttId + '_removeLink\">Remove the link and move <b>'\n            + recordName + '</b> to start on <b>' + recordNewStartDate + '</b>.</label></td></tr>' +\n            '<tr><td><input type=\"radio\" id=\"' + ganttId + '_ValidationAddlineOffset\" name=\"ValidationRule\"/><label for=\"'\n            + ganttId + '_ValidationAddlineOffset\" id=\"' + ganttId + '_preserveLink\">Move the <b>'\n            + recordName + '</b> to start on <b>' + recordNewStartDate + '</b> and keep the link.</label></td></tr></table>';\n        contentdiv.innerHTML = topContent + innerTable;\n        return contentdiv;\n    };\n    /**\n     * To validate the types while editing the taskbar\n     *\n     * @param {IGanttData} ganttRecord .\n     * @returns {boolean} .\n     * @private\n     */\n    // eslint-disable-next-line\n    ConnectorLineEdit.prototype.validateTypes = function (ganttRecord) {\n        var predecessor = this.parent.predecessorModule.getValidPredecessor(ganttRecord);\n        var parentGanttRecord;\n        this.validationPredecessor = [];\n        var violatedParent;\n        var violateType;\n        var startDate = this.parent.predecessorModule.getPredecessorDate(ganttRecord, predecessor);\n        var ganttTaskData = ganttRecord.ganttProperties;\n        var endDate = this.parent.allowUnscheduledTasks && isNullOrUndefined(startDate) ?\n            ganttTaskData.endDate :\n            this.dateValidateModule.getEndDate(startDate, ganttTaskData.duration, ganttTaskData.durationUnit, ganttTaskData, false);\n        for (var i = 0; i < predecessor.length; i++) {\n            parentGanttRecord = this.parent.connectorLineModule.getRecordByID(predecessor[i].from);\n            var violationType = null;\n            if (predecessor[i].type === 'FS') {\n                if (ganttTaskData.startDate < startDate) {\n                    this.validationPredecessor.push(predecessor[i]);\n                    violationType = 'taskBeforePredecessor_FS';\n                }\n                else if (ganttTaskData.startDate > startDate) {\n                    this.validationPredecessor.push(predecessor[i]);\n                    violationType = 'taskAfterPredecessor_FS';\n                }\n            }\n            else if (predecessor[i].type === 'SS') {\n                if (ganttTaskData.startDate < startDate) {\n                    this.validationPredecessor.push(predecessor[i]);\n                    violationType = 'taskBeforePredecessor_SS';\n                }\n                else if (ganttTaskData.startDate > startDate) {\n                    this.validationPredecessor.push(predecessor[i]);\n                    violationType = 'taskAfterPredecessor_SS';\n                }\n            }\n            else if (predecessor[i].type === 'FF') {\n                if (endDate <= parentGanttRecord.ganttProperties.endDate) {\n                    this.validationPredecessor.push(predecessor[i]);\n                    violationType = 'taskBeforePredecessor_FF';\n                }\n                else if (endDate > parentGanttRecord.ganttProperties.endDate) {\n                    this.validationPredecessor.push(predecessor[i]);\n                    violationType = 'taskAfterPredecessor_FF';\n                }\n            }\n            else if (predecessor[i].type === 'SF') {\n                if (endDate < parentGanttRecord.ganttProperties.startDate) {\n                    this.validationPredecessor.push(predecessor[i]);\n                    violationType = 'taskBeforePredecessor_SF';\n                }\n                else if (endDate >= parentGanttRecord.ganttProperties.startDate) {\n                    this.validationPredecessor.push(predecessor[i]);\n                    violationType = 'taskAfterPredecessor_SF';\n                }\n            }\n            if (!isNullOrUndefined(violationType) && isNullOrUndefined(violateType)) {\n                violatedParent = parentGanttRecord;\n                violateType = violationType;\n            }\n        }\n        // eslint-disable-next-line\n        var validateArgs = {\n            parentTask: violatedParent,\n            task: ganttRecord,\n            violationType: violateType\n        };\n        return validateArgs;\n    };\n    /**\n     * Method to remove and update new predecessor collection in successor record\n     *\n     * @param {IGanttData} data .\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.addRemovePredecessor = function (data) {\n        var prevData = this.parent.previousRecords[data.uniqueID];\n        var newPredecessor = data.ganttProperties.predecessor.slice();\n        // eslint-disable-next-line\n        if (prevData && prevData.ganttProperties && prevData.ganttProperties.hasOwnProperty('predecessor')) {\n            var prevPredecessor = prevData.ganttProperties.predecessor;\n            if (!isNullOrUndefined(prevPredecessor)) {\n                for (var p = 0; p < prevPredecessor.length; p++) {\n                    var parentGanttRecord = this.parent.connectorLineModule.getRecordByID(prevPredecessor[p].from);\n                    if (parentGanttRecord === data) {\n                        data.ganttProperties.predecessor.push(prevPredecessor[p]);\n                    }\n                    else {\n                        var parentPredecessor = extend([], [], parentGanttRecord.ganttProperties.predecessor, true);\n                        var parentIndex = getIndex(prevPredecessor[p], 'from', parentPredecessor, 'to');\n                        if (parentIndex !== -1) {\n                            parentPredecessor.splice(parentIndex, 1);\n                            this.parent.setRecordValue('predecessor', parentPredecessor, parentGanttRecord.ganttProperties, true);\n                        }\n                    }\n                }\n            }\n            if (!isNullOrUndefined(newPredecessor)) {\n                for (var n = 0; n < newPredecessor.length; n++) {\n                    var parentGanttRecord = this.parent.connectorLineModule.getRecordByID(newPredecessor[n].from);\n                    var parentPredecessor = extend([], [], parentGanttRecord.ganttProperties.predecessor, true);\n                    parentPredecessor.push(newPredecessor[n]);\n                    this.parent.setRecordValue('predecessor', parentPredecessor, parentGanttRecord.ganttProperties, true);\n                }\n            }\n        }\n    };\n    /**\n     * Method to remove a predecessor from a record.\n     *\n     * @param {IGanttData} childRecord .\n     * @param {number} index .\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.removePredecessorByIndex = function (childRecord, index) {\n        var childPredecessor = childRecord.ganttProperties.predecessor;\n        var predecessor = childPredecessor.splice(index, 1);\n        var parentRecord = this.parent.connectorLineModule.getRecordByID(predecessor[0].from);\n        var parentPredecessor = parentRecord.ganttProperties.predecessor;\n        var parentIndex = getIndex(predecessor[0], 'from', parentPredecessor, 'to');\n        parentPredecessor.splice(parentIndex, 1);\n        var predecessorString = this.parent.predecessorModule.getPredecessorStringValue(childRecord);\n        childPredecessor.push(predecessor[0]);\n        this.parent.connectorLineEditModule.updatePredecessor(childRecord, predecessorString);\n    };\n    /**\n     * To render predecessor delete confirmation dialog\n     *\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.renderPredecessorDeleteConfirmDialog = function () {\n        this.confirmPredecessorDialog = new Dialog({\n            width: '320px',\n            isModal: true,\n            content: this.parent.localeObj.getConstant('confirmPredecessorDelete'),\n            buttons: [\n                {\n                    click: this.confirmOkDeleteButton.bind(this),\n                    buttonModel: { content: this.parent.localeObj.getConstant('okText'), isPrimary: true }\n                },\n                {\n                    click: this.confirmCloseDialog.bind(this),\n                    buttonModel: { content: this.parent.localeObj.getConstant('cancel') }\n                }\n            ],\n            target: this.parent.element,\n            animationSettings: { effect: 'None' }\n        });\n        var confirmDialog = createElement('div', {\n            id: this.parent.element.id + '_deletePredecessorConfirmDialog'\n        });\n        this.parent.element.appendChild(confirmDialog);\n        this.confirmPredecessorDialog.isStringTemplate = true;\n        this.confirmPredecessorDialog.appendTo(confirmDialog);\n    };\n    ConnectorLineEdit.prototype.confirmCloseDialog = function () {\n        this.confirmPredecessorDialog.destroy();\n    };\n    ConnectorLineEdit.prototype.confirmOkDeleteButton = function () {\n        this.removePredecessorByIndex(this.childRecord, this.predecessorIndex);\n        this.confirmPredecessorDialog.destroy();\n    };\n    return ConnectorLineEdit;\n}());\nexport { ConnectorLineEdit };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { isNullOrUndefined, isUndefined, extend, setValue, getValue, deleteObject, createElement, isBlazor } from '@syncfusion/ej2-base';\nimport { DataManager, DataUtil, Query, ODataAdaptor, WebApiAdaptor } from '@syncfusion/ej2-data';\nimport { getUid } from '@syncfusion/ej2-grids';\nimport { getSwapKey, isScheduledTask, getTaskData, isRemoteData, getIndex, isCountRequired } from '../base/utils';\nimport { CellEdit } from './cell-edit';\nimport { TaskbarEdit } from './taskbar-edit';\nimport { DialogEdit } from './dialog-edit';\nimport { Dialog } from '@syncfusion/ej2-popups';\nimport { MultiSelect, CheckBoxSelection, DropDownList } from '@syncfusion/ej2-dropdowns';\nimport { ConnectorLineEdit } from './connector-line-edit';\n/**\n * The Edit Module is used to handle editing actions.\n *\n */\nvar Edit = /** @class */ (function () {\n    function Edit(parent) {\n        this.isFromDeleteMethod = false;\n        this.targetedRecords = [];\n        /** @hidden */\n        this.updateParentRecords = [];\n        /** @hidden */\n        this.isaddtoBottom = false;\n        this.confirmDialog = null;\n        this.taskbarMoved = false;\n        this.predecessorUpdated = false;\n        this.isBreakLoop = false;\n        /**\n         * @private\n         */\n        this.deletedTaskDetails = [];\n        this.parent = parent;\n        this.validatedChildItems = [];\n        if (this.parent.editSettings.allowEditing && this.parent.editSettings.mode === 'Auto') {\n            this.cellEditModule = new CellEdit(this.parent);\n        }\n        if (this.parent.taskFields.dependency) {\n            this.parent.connectorLineEditModule = new ConnectorLineEdit(this.parent);\n        }\n        if (this.parent.editSettings.allowAdding || (this.parent.editSettings.allowEditing &&\n            (this.parent.editSettings.mode === 'Dialog' || this.parent.editSettings.mode === 'Auto'))) {\n            this.dialogModule = new DialogEdit(this.parent);\n        }\n        if (this.parent.editSettings.allowTaskbarEditing) {\n            this.taskbarEditModule = new TaskbarEdit(this.parent);\n        }\n        if (this.parent.editSettings.allowDeleting) {\n            var confirmDialog = createElement('div', {\n                id: this.parent.element.id + '_deleteConfirmDialog'\n            });\n            this.parent.element.appendChild(confirmDialog);\n            this.renderDeleteConfirmDialog();\n        }\n        this.parent.treeGrid.recordDoubleClick = this.recordDoubleClick.bind(this);\n        this.parent.treeGrid.editSettings.allowAdding = this.parent.editSettings.allowAdding;\n        this.parent.treeGrid.editSettings.allowDeleting = this.parent.editSettings.allowDeleting;\n        this.parent.treeGrid.editSettings.showDeleteConfirmDialog = this.parent.editSettings.showDeleteConfirmDialog;\n        this.parent.treeGrid.editSettings.allowNextRowEdit = this.parent.editSettings.allowNextRowEdit;\n        this.updateDefaultColumnEditors();\n    }\n    Edit.prototype.getModuleName = function () {\n        return 'edit';\n    };\n    /**\n     * Method to update default edit params and editors for Gantt\n     *\n     * @returns {void} .\n     */\n    Edit.prototype.updateDefaultColumnEditors = function () {\n        var customEditorColumns = [this.parent.taskFields.id, this.parent.taskFields.progress, this.parent.taskFields.resourceInfo, 'taskType'];\n        for (var i = 0; i < customEditorColumns.length; i++) {\n            if (!isNullOrUndefined(customEditorColumns[i]) && customEditorColumns[i].length > 0) {\n                // eslint-disable-next-line\n                var column = this.parent.getColumnByField(customEditorColumns[i], this.parent.treeGridModule.treeGridColumns);\n                if (column) {\n                    if (column.field === this.parent.taskFields.id) {\n                        this.updateIDColumnEditParams(column);\n                    }\n                    else if (column.field === this.parent.taskFields.progress) {\n                        this.updateProgessColumnEditParams(column);\n                    }\n                    else if (column.field === this.parent.taskFields.resourceInfo) {\n                        this.updateResourceColumnEditor(column);\n                    }\n                    else if (column.field === 'taskType') {\n                        this.updateTaskTypeColumnEditor(column);\n                    }\n                }\n            }\n        }\n    };\n    /**\n     * Method to update editors for id column in Gantt\n     *\n     * @param {ColumnModel} column .\n     * @returns {void} .\n     */\n    Edit.prototype.updateIDColumnEditParams = function (column) {\n        var editParam = {\n            min: 0,\n            decimals: 0,\n            validateDecimalOnType: true,\n            format: 'n0',\n            showSpinButton: false\n        };\n        this.updateEditParams(column, editParam);\n    };\n    /**\n     * Method to update edit params of default progress column\n     *\n     * @param {ColumnModel} column .\n     * @returns {void} .\n     */\n    Edit.prototype.updateProgessColumnEditParams = function (column) {\n        var editParam = {\n            min: 0,\n            decimals: 0,\n            validateDecimalOnType: true,\n            max: 100,\n            format: 'n0'\n        };\n        this.updateEditParams(column, editParam);\n    };\n    /**\n     * Assign edit params for id and progress columns\n     *\n     * @param {ColumnModel} column .\n     * @param {object} editParam .\n     * @returns {void} .\n     */\n    // eslint-disable-next-line\n    Edit.prototype.updateEditParams = function (column, editParam) {\n        if (isNullOrUndefined(column.edit)) {\n            column.edit = {};\n            column.edit.params = {};\n        }\n        else if (isNullOrUndefined(column.edit.params)) {\n            column.edit.params = {};\n        }\n        extend(editParam, column.edit.params);\n        column.edit.params = editParam;\n        var ganttColumn = this.parent.getColumnByField(column.field, this.parent.ganttColumns);\n        ganttColumn.edit = column.edit;\n    };\n    /**\n     * Method to update resource column editor for default resource column\n     *\n     * @param {ColumnModel} column .\n     * @returns {void} .\n     */\n    Edit.prototype.updateResourceColumnEditor = function (column) {\n        if (this.parent.editSettings.allowEditing && isNullOrUndefined(column.edit) && this.parent.editSettings.mode === 'Auto') {\n            column.editType = 'dropdownedit';\n            column.edit = this.getResourceEditor();\n            var ganttColumn = this.parent.getColumnByField(column.field, this.parent.ganttColumns);\n            ganttColumn.editType = 'dropdownedit';\n            ganttColumn.edit = column.edit;\n        }\n    };\n    /**\n     * Method to create resource custom editor\n     *\n     * @returns {IEditCell} .\n     */\n    Edit.prototype.getResourceEditor = function () {\n        var _this = this;\n        var resourceSettings = this.parent.resourceFields;\n        var editObject = {};\n        var editor;\n        MultiSelect.Inject(CheckBoxSelection);\n        // eslint-disable-next-line\n        editObject.write = function (args) {\n            _this.parent.treeGridModule.currentEditRow = {};\n            editor = new MultiSelect({\n                dataSource: new DataManager(_this.parent.resources),\n                fields: { text: resourceSettings.name, value: resourceSettings.id },\n                mode: 'CheckBox',\n                showDropDownIcon: true,\n                popupHeight: '350px',\n                delimiterChar: ',',\n                value: _this.parent.treeGridModule.getResourceIds(args.rowData)\n            });\n            editor.appendTo(args.element);\n        };\n        editObject.read = function (element) {\n            // eslint-disable-next-line\n            var value = element.ej2_instances[0].value;\n            var resourcesName = [];\n            if (isNullOrUndefined(value)) {\n                value = [];\n            }\n            for (var i = 0; i < value.length; i++) {\n                for (var j = 0; j < _this.parent.resources.length; j++) {\n                    if (_this.parent.resources[j][resourceSettings.id] === value[i]) {\n                        resourcesName.push(_this.parent.resources[j][resourceSettings.name]);\n                        break;\n                    }\n                }\n            }\n            _this.parent.treeGridModule.currentEditRow[_this.parent.taskFields.resourceInfo] = value;\n            return resourcesName.join(',');\n        };\n        editObject.destroy = function () {\n            if (editor) {\n                editor.destroy();\n            }\n        };\n        return editObject;\n    };\n    /**\n     * Method to update task type column editor for task type\n     *\n     * @param {ColumnModel} column .\n     * @returns {void} .\n     */\n    Edit.prototype.updateTaskTypeColumnEditor = function (column) {\n        if (this.parent.editSettings.allowEditing && isNullOrUndefined(column.edit) && this.parent.editSettings.mode === 'Auto') {\n            column.editType = 'dropdownedit';\n            column.edit = this.getTaskTypeEditor();\n            var ganttColumn = this.parent.getColumnByField(column.field, this.parent.ganttColumns);\n            ganttColumn.editType = 'dropdownedit';\n            ganttColumn.edit = column.edit;\n        }\n    };\n    /**\n     * Method to create task type custom editor\n     *\n     * @returns {IEditCell} .\n     */\n    Edit.prototype.getTaskTypeEditor = function () {\n        var _this = this;\n        var editObject = {};\n        var editor;\n        // eslint-disable-next-line\n        var types = [{ 'ID': 1, 'Value': 'FixedUnit' }, { 'ID': 2, 'Value': 'FixedWork' }, { 'ID': 3, 'Value': 'FixedDuration' }];\n        // eslint-disable-next-line\n        editObject.write = function (args) {\n            _this.parent.treeGridModule.currentEditRow = {};\n            editor = new DropDownList({\n                dataSource: new DataManager(types),\n                fields: { value: 'Value' },\n                popupHeight: '350px',\n                value: getValue('taskType', args.rowData.ganttProperties)\n            });\n            editor.appendTo(args.element);\n        };\n        editObject.read = function (element) {\n            var value = element.ej2_instances[0].value;\n            var key = 'taskType';\n            _this.parent.treeGridModule.currentEditRow[key] = value;\n            return value;\n        };\n        editObject.destroy = function () {\n            if (editor) {\n                editor.destroy();\n            }\n        };\n        return editObject;\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.reUpdateEditModules = function () {\n        var editSettings = this.parent.editSettings;\n        if (editSettings.allowEditing) {\n            if (this.parent.editModule.cellEditModule && editSettings.mode === 'Dialog') {\n                this.cellEditModule.destroy();\n                this.parent.treeGrid.recordDoubleClick = this.recordDoubleClick.bind(this);\n            }\n            else if (isNullOrUndefined(this.parent.editModule.cellEditModule) && editSettings.mode === 'Auto') {\n                this.cellEditModule = new CellEdit(this.parent);\n            }\n            if (this.parent.editModule.dialogModule && editSettings.mode === 'Auto') {\n                this.parent.treeGrid.recordDoubleClick = undefined;\n            }\n            else if (isNullOrUndefined(this.parent.editModule.dialogModule)) {\n                this.dialogModule = new DialogEdit(this.parent);\n            }\n        }\n        else {\n            if (this.cellEditModule) {\n                this.cellEditModule.destroy();\n            }\n            if (this.dialogModule) {\n                this.dialogModule.destroy();\n            }\n        }\n        if (editSettings.allowDeleting && editSettings.showDeleteConfirmDialog) {\n            if (isNullOrUndefined(this.confirmDialog)) {\n                var confirmDialog = createElement('div', {\n                    id: this.parent.element.id + '_deleteConfirmDialog'\n                });\n                this.parent.element.appendChild(confirmDialog);\n                this.renderDeleteConfirmDialog();\n            }\n        }\n        else if (!editSettings.allowDeleting || !editSettings.showDeleteConfirmDialog) {\n            if (this.confirmDialog && !this.confirmDialog.isDestroyed) {\n                this.confirmDialog.destroy();\n            }\n        }\n        if (editSettings.allowTaskbarEditing) {\n            if (isNullOrUndefined(this.parent.editModule.taskbarEditModule)) {\n                this.taskbarEditModule = new TaskbarEdit(this.parent);\n            }\n        }\n        else {\n            if (this.taskbarEditModule) {\n                this.taskbarEditModule.destroy();\n            }\n        }\n    };\n    Edit.prototype.recordDoubleClick = function (args) {\n        if (this.parent.editSettings.allowEditing && this.parent.editSettings.mode === 'Dialog') {\n            var ganttData = void 0;\n            if (args.row) {\n                var rowIndex = getValue('rowIndex', args.row);\n                ganttData = this.parent.currentViewData[rowIndex];\n            }\n            if (!isNullOrUndefined(ganttData)) {\n                this.dialogModule.openEditDialog(ganttData);\n            }\n        }\n        this.parent.ganttChartModule.recordDoubleClick(args);\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.destroy = function () {\n        if (this.cellEditModule) {\n            this.cellEditModule.destroy();\n        }\n        if (this.taskbarEditModule) {\n            this.taskbarEditModule.destroy();\n        }\n        if (this.dialogModule) {\n            this.dialogModule.destroy();\n        }\n        if (this.confirmDialog && !this.confirmDialog.isDestroyed) {\n            this.confirmDialog.destroy();\n        }\n    };\n    /**\n     * Method to update record with new values.\n     *\n     * @param {Object} data - Defines new data to update.\n     * @returns {void} .\n     */\n    // eslint-disable-next-line\n    Edit.prototype.updateRecordByID = function (data) {\n        if (!this.parent.readOnly) {\n            var tasks = this.parent.taskFields;\n            if (isNullOrUndefined(data) || isNullOrUndefined(data[tasks.id])) {\n                return;\n            }\n            var ganttData = this.parent.viewType === 'ResourceView' ?\n                this.parent.flatData[this.parent.getTaskIds().indexOf('T' + data[tasks.id])] : this.parent.getRecordByID(data[tasks.id]);\n            if (isBlazor()) {\n                var keys = Object.keys(data);\n                if (keys.indexOf(tasks.startDate) !== -1 && !isNullOrUndefined(getValue(this.parent.taskFields.startDate, data))) {\n                    setValue(this.parent.taskFields.startDate, this.parent.dataOperation.getDateFromFormat(getValue(this.parent.taskFields.startDate, data)), data);\n                }\n                if (keys.indexOf(tasks.endDate) !== -1 && !isNullOrUndefined(getValue(this.parent.taskFields.endDate, data))) {\n                    setValue(this.parent.taskFields.endDate, this.parent.dataOperation.getDateFromFormat(getValue(this.parent.taskFields.endDate, data)), data);\n                }\n                /* eslint-disable-next-line */\n                if (keys.indexOf(tasks.baselineStartDate) !== -1 && !isNullOrUndefined(getValue(this.parent.taskFields.baselineStartDate, data))) {\n                    setValue(this.parent.taskFields.baselineStartDate, this.parent.dataOperation.getDateFromFormat(getValue(this.parent.taskFields.baselineStartDate, data)), data);\n                }\n                if (keys.indexOf(tasks.baselineEndDate) !== -1 && !isNullOrUndefined(getValue(this.parent.taskFields.baselineEndDate, data))) {\n                    setValue(this.parent.taskFields.baselineEndDate, this.parent.dataOperation.getDateFromFormat(getValue(this.parent.taskFields.baselineEndDate, data)), data);\n                }\n            }\n            if (!isNullOrUndefined(this.parent.editModule) && ganttData) {\n                this.parent.isOnEdit = true;\n                this.validateUpdateValues(data, ganttData, true);\n                var keys = Object.keys(data);\n                if (keys.indexOf(tasks.startDate) !== -1 || keys.indexOf(tasks.endDate) !== -1 ||\n                    keys.indexOf(tasks.duration) !== -1) {\n                    this.parent.dataOperation.calculateScheduledValues(ganttData, ganttData.taskData, false);\n                }\n                this.parent.dataOperation.updateWidthLeft(ganttData);\n                if (!isUndefined(data[this.parent.taskFields.dependency]) &&\n                    data[this.parent.taskFields.dependency] !== ganttData.ganttProperties.predecessorsName) {\n                    this.parent.connectorLineEditModule.updatePredecessor(ganttData, data[this.parent.taskFields.dependency]);\n                }\n                else {\n                    var args = {};\n                    args.data = ganttData;\n                    if (this.parent.viewType === 'ResourceView') {\n                        args.action = 'methodUpdate';\n                    }\n                    this.parent.editModule.initiateUpdateAction(args);\n                }\n            }\n        }\n    };\n    /**\n     *\n     * @param {object} data .\n     * @param {IGanttData} ganttData .\n     * @param {boolean} isFromDialog .\n     * @returns {void} .\n     * @private\n     */\n    // eslint-disable-next-line\n    Edit.prototype.validateUpdateValues = function (data, ganttData, isFromDialog) {\n        var ganttObj = this.parent;\n        var tasks = ganttObj.taskFields;\n        // eslint-disable-next-line\n        var ganttPropByMapping = getSwapKey(ganttObj.columnMapping);\n        var scheduleFieldNames = [];\n        var isScheduleValueUpdated = false;\n        for (var _i = 0, _a = Object.keys(data); _i < _a.length; _i++) {\n            var key = _a[_i];\n            if ([tasks.startDate, tasks.endDate, tasks.duration].indexOf(key) !== -1) {\n                if (isNullOrUndefined(data[key]) && !ganttObj.allowUnscheduledTasks) {\n                    continue;\n                }\n                if (isFromDialog) {\n                    if (tasks.duration === key) {\n                        ganttObj.dataOperation.updateDurationValue(data[key], ganttData.ganttProperties);\n                        if (ganttData.ganttProperties.duration > 0 && ganttData.ganttProperties.isMilestone) {\n                            this.parent.setRecordValue('isMilestone', false, ganttData.ganttProperties, true);\n                        }\n                        ganttObj.dataOperation.updateMappingData(ganttData, ganttPropByMapping[key]);\n                    }\n                    else {\n                        var tempDate = typeof data[key] === 'string' ? new Date(data[key]) : data[key];\n                        ganttObj.setRecordValue(ganttPropByMapping[key], tempDate, ganttData.ganttProperties, true);\n                        ganttObj.dataOperation.updateMappingData(ganttData, ganttPropByMapping[key]);\n                    }\n                }\n                else {\n                    scheduleFieldNames.push(key);\n                    isScheduleValueUpdated = true;\n                }\n            }\n            else if (tasks.resourceInfo === key) {\n                // eslint-disable-next-line\n                var resourceData = ganttObj.dataOperation.setResourceInfo(data);\n                if (this.parent.viewType === 'ResourceView') {\n                    if (JSON.stringify(resourceData) !== JSON.stringify(ganttData.ganttProperties.resourceInfo)) {\n                        this.parent.editModule.dialogModule.isResourceUpdate = true;\n                        this.parent.editModule.dialogModule.previousResource = !isNullOrUndefined(ganttData.ganttProperties.resourceInfo) ? ganttData.ganttProperties.resourceInfo.slice() : [];\n                    }\n                    else {\n                        this.parent.editModule.dialogModule.isResourceUpdate = false;\n                    }\n                }\n                ganttData.ganttProperties.resourceInfo = resourceData;\n                ganttObj.dataOperation.updateMappingData(ganttData, 'resourceInfo');\n            }\n            else if (tasks.dependency === key) {\n                //..\n            }\n            else if ([tasks.progress, tasks.notes, tasks.durationUnit, tasks.expandState,\n                tasks.milestone, tasks.name, tasks.baselineStartDate,\n                tasks.baselineEndDate, tasks.id, tasks.segments].indexOf(key) !== -1) {\n                var column = ganttObj.columnByField[key];\n                /* eslint-disable-next-line */\n                var value = data[key];\n                if (!isNullOrUndefined(column) && (column.editType === 'datepickeredit' || column.editType === 'datetimepickeredit')) {\n                    value = ganttObj.dataOperation.getDateFromFormat(value);\n                }\n                var ganttPropKey = ganttPropByMapping[key];\n                if (key === tasks.id) {\n                    ganttPropKey = 'taskId';\n                }\n                else if (key === tasks.name) {\n                    ganttPropKey = 'taskName';\n                }\n                else if (key === tasks.segments) {\n                    ganttPropKey = 'segments';\n                }\n                if (!isNullOrUndefined(ganttPropKey)) {\n                    ganttObj.setRecordValue(ganttPropKey, value, ganttData.ganttProperties, true);\n                }\n                if ((key === tasks.baselineStartDate || key === tasks.baselineEndDate) &&\n                    (ganttData.ganttProperties.baselineStartDate && ganttData.ganttProperties.baselineEndDate)) {\n                    ganttObj.setRecordValue('baselineLeft', ganttObj.dataOperation.calculateBaselineLeft(ganttData.ganttProperties), ganttData.ganttProperties, true);\n                    ganttObj.setRecordValue('baselineWidth', ganttObj.dataOperation.calculateBaselineWidth(ganttData.ganttProperties), ganttData.ganttProperties, true);\n                }\n                ganttObj.setRecordValue('taskData.' + key, value, ganttData);\n                ganttObj.setRecordValue(key, value, ganttData);\n            }\n            else if (tasks.indicators === key) {\n                // eslint-disable-next-line\n                var value = data[key];\n                ganttObj.setRecordValue('indicators', value, ganttData.ganttProperties, true);\n                ganttObj.setRecordValue('taskData.' + key, value, ganttData);\n                ganttObj.setRecordValue(key, value, ganttData);\n            }\n            else if (tasks.work === key) {\n                ganttObj.setRecordValue('work', data[key], ganttData.ganttProperties, true);\n                this.parent.dataOperation.updateMappingData(ganttData, 'work');\n                this.parent.dataOperation.updateMappingData(ganttData, 'duration');\n                this.parent.dataOperation.updateMappingData(ganttData, 'endDate');\n            }\n            else if (key === 'taskType') {\n                ganttObj.setRecordValue('taskType', data[key], ganttData.ganttProperties, true);\n                //this.parent.dataOperation.updateMappingData(ganttData, 'taskType');\n            }\n            else if (ganttObj.customColumns.indexOf(key) !== -1) {\n                var column = ganttObj.columnByField[key];\n                /* eslint-disable-next-line */\n                var value = data[key];\n                if (isNullOrUndefined(column.edit)) {\n                    if (column.editType === 'datepickeredit' || column.editType === 'datetimepickeredit') {\n                        value = ganttObj.dataOperation.getDateFromFormat(value);\n                    }\n                }\n                ganttObj.setRecordValue('taskData.' + key, value, ganttData);\n                ganttObj.setRecordValue(key, value, ganttData);\n            }\n            else if (tasks.manual === key) {\n                ganttObj.setRecordValue('isAutoSchedule', !data[key], ganttData.ganttProperties, true);\n                this.parent.setRecordValue(key, data[key], ganttData);\n                this.updateTaskScheduleModes(ganttData);\n            }\n        }\n        if (isScheduleValueUpdated) {\n            this.validateScheduleValues(scheduleFieldNames, ganttData, data);\n        }\n    };\n    /**\n     * To update duration, work, resource unit\n     *\n     * @param {IGanttData} currentData .\n     * @param {string} column .\n     * @returns {void} .\n     */\n    Edit.prototype.updateResourceRelatedFields = function (currentData, column) {\n        var ganttProp = currentData.ganttProperties;\n        var taskType = ganttProp.taskType;\n        var isEffectDriven;\n        var isAutoSchedule = ganttProp.isAutoSchedule;\n        if (!isNullOrUndefined(ganttProp.resourceInfo)) {\n            if (ganttProp.work > 0 || column === 'work') {\n                switch (taskType) {\n                    case 'FixedUnit':\n                        if (isAutoSchedule && ganttProp.resourceInfo.length &&\n                            (column === 'work' || (column === 'resource'))) {\n                            this.parent.dataOperation.updateDurationWithWork(currentData);\n                        }\n                        else if (!isAutoSchedule && column === 'work') {\n                            this.parent.dataOperation.updateUnitWithWork(currentData);\n                        }\n                        else {\n                            this.parent.dataOperation.updateWorkWithDuration(currentData);\n                        }\n                        break;\n                    case 'FixedWork':\n                        if (ganttProp.resourceInfo.length === 0) {\n                            return;\n                        }\n                        else if (isAutoSchedule) {\n                            if (column === 'duration' || column === 'endDate') {\n                                this.parent.dataOperation.updateUnitWithWork(currentData);\n                                if (ganttProp.duration === 0) {\n                                    this.parent.setRecordValue('work', 0, ganttProp, true);\n                                    if (!isNullOrUndefined(this.parent.taskFields.work)) {\n                                        this.parent.dataOperation.updateMappingData(currentData, 'work');\n                                    }\n                                }\n                            }\n                            else {\n                                this.parent.dataOperation.updateDurationWithWork(currentData);\n                            }\n                        }\n                        else {\n                            if (column === 'work') {\n                                this.parent.dataOperation.updateUnitWithWork(currentData);\n                            }\n                            else {\n                                this.parent.dataOperation.updateWorkWithDuration(currentData);\n                            }\n                        }\n                        break;\n                    case 'FixedDuration':\n                        if (ganttProp.resourceInfo.length && (column === 'work' || (isAutoSchedule &&\n                            isEffectDriven && (column === 'resource')))) {\n                            this.parent.dataOperation.updateUnitWithWork(currentData);\n                        }\n                        else {\n                            this.parent.dataOperation.updateWorkWithDuration(currentData);\n                        }\n                        break;\n                }\n            }\n            else {\n                this.parent.dataOperation.updateWorkWithDuration(currentData);\n            }\n        }\n    };\n    // eslint-disable-next-line\n    Edit.prototype.validateScheduleValues = function (fieldNames, ganttData, data) {\n        var ganttObj = this.parent;\n        if (fieldNames.length > 2) {\n            ganttObj.dataOperation.calculateScheduledValues(ganttData, data, false);\n        }\n        else if (fieldNames.length > 1) {\n            this.validateScheduleByTwoValues(data, fieldNames, ganttData);\n        }\n        else {\n            this.dialogModule.validateScheduleValuesByCurrentField(fieldNames[0], data[fieldNames[0]], ganttData);\n        }\n    };\n    // eslint-disable-next-line\n    Edit.prototype.validateScheduleByTwoValues = function (data, fieldNames, ganttData) {\n        var ganttObj = this.parent;\n        var startDate;\n        var endDate;\n        var duration;\n        var tasks = ganttObj.taskFields;\n        var ganttProp = ganttData.ganttProperties;\n        var isUnscheduledTask = ganttObj.allowUnscheduledTasks;\n        if (fieldNames.indexOf(tasks.startDate) !== -1) {\n            startDate = data[tasks.startDate];\n        }\n        if (fieldNames.indexOf(tasks.endDate) !== -1) {\n            endDate = data[tasks.endDate];\n        }\n        if (fieldNames.indexOf(tasks.duration) !== -1) {\n            duration = data[tasks.duration];\n        }\n        if (startDate && endDate || (isUnscheduledTask && (fieldNames.indexOf(tasks.startDate) !== -1) &&\n            (fieldNames.indexOf(tasks.endDate) !== -1))) {\n            ganttObj.setRecordValue('startDate', ganttObj.dataOperation.getDateFromFormat(startDate), ganttProp, true);\n            ganttObj.setRecordValue('endDate', ganttObj.dataOperation.getDateFromFormat(endDate), ganttProp, true);\n            ganttObj.dataOperation.calculateDuration(ganttData);\n        }\n        else if (endDate && duration || (isUnscheduledTask &&\n            (fieldNames.indexOf(tasks.endDate) !== -1) && (fieldNames.indexOf(tasks.duration) !== -1))) {\n            ganttObj.setRecordValue('endDate', ganttObj.dataOperation.getDateFromFormat(endDate), ganttProp, true);\n            ganttObj.dataOperation.updateDurationValue(duration, ganttProp);\n        }\n        else if (startDate && duration || (isUnscheduledTask && (fieldNames.indexOf(tasks.startDate) !== -1)\n            && (fieldNames.indexOf(tasks.duration) !== -1))) {\n            ganttObj.setRecordValue('startDate', ganttObj.dataOperation.getDateFromFormat(startDate), ganttProp, true);\n            ganttObj.dataOperation.updateDurationValue(duration, ganttProp);\n        }\n    };\n    Edit.prototype.isTaskbarMoved = function (data) {\n        var isMoved = false;\n        var taskData = data.ganttProperties;\n        var prevData = this.parent.previousRecords &&\n            this.parent.previousRecords[data.uniqueID];\n        if (prevData && prevData.ganttProperties) {\n            var prevStart = getValue('ganttProperties.startDate', prevData);\n            var prevEnd = getValue('ganttProperties.endDate', prevData);\n            var prevDuration = getValue('ganttProperties.duration', prevData);\n            var prevDurationUnit = getValue('ganttProperties.durationUnit', prevData);\n            var keys = Object.keys(prevData.ganttProperties);\n            if (keys.indexOf('startDate') !== -1 || keys.indexOf('endDate') !== -1 ||\n                keys.indexOf('duration') !== -1 || keys.indexOf('durationUnit') !== -1) {\n                if ((isNullOrUndefined(prevStart) && !isNullOrUndefined(taskData.startDate)) ||\n                    (isNullOrUndefined(prevEnd) && !isNullOrUndefined(taskData.endDate)) ||\n                    (isNullOrUndefined(taskData.startDate) && !isNullOrUndefined(prevStart)) ||\n                    (isNullOrUndefined(taskData.endDate) && !isNullOrUndefined(prevEnd)) ||\n                    (prevStart && prevStart.getTime() !== taskData.startDate.getTime())\n                    || (prevEnd && prevEnd.getTime() !== taskData.endDate.getTime())\n                    || (!isNullOrUndefined(prevDuration) && prevDuration !== taskData.duration)\n                    || (!isNullOrUndefined(prevDuration) && prevDuration === taskData.duration &&\n                        prevDurationUnit !== taskData.durationUnit)) {\n                    isMoved = true;\n                }\n            }\n        }\n        return isMoved;\n    };\n    Edit.prototype.isPredecessorUpdated = function (data) {\n        var isPredecessorUpdated = false;\n        var prevData = this.parent.previousRecords[data.uniqueID];\n        // eslint-disable-next-line\n        if (prevData && prevData.ganttProperties && prevData.ganttProperties.hasOwnProperty('predecessor')) {\n            if (data.ganttProperties.predecessorsName !== prevData.ganttProperties.predecessorsName) {\n                isPredecessorUpdated = true;\n            }\n            else {\n                this.parent.setRecordValue('predecessor', prevData.ganttProperties.predecessor, data.ganttProperties, true);\n            }\n        }\n        return isPredecessorUpdated;\n    };\n    /**\n     * Method to check need to open predecessor validate dialog\n     *\n     * @param {IGanttData} data .\n     * @returns {boolean} .\n     */\n    Edit.prototype.isCheckPredecessor = function (data) {\n        var isValidatePredecessor = false;\n        var prevData = this.parent.previousRecords[data.uniqueID];\n        if (prevData && this.parent.taskFields.dependency && this.parent.isInPredecessorValidation &&\n            this.parent.predecessorModule.getValidPredecessor(data).length > 0) {\n            if (this.isTaskbarMoved(data)) {\n                isValidatePredecessor = true;\n            }\n        }\n        return isValidatePredecessor;\n    };\n    /**\n     * Method to copy the ganttProperties values\n     *\n     * @param {IGanttData} data .\n     * @param {IGanttData} updateData .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.updateGanttProperties = function (data, updateData) {\n        var skipProperty = ['taskId', 'uniqueID', 'rowUniqueID', 'parentId'];\n        Object.keys(data.ganttProperties).forEach(function (property) {\n            if (skipProperty.indexOf(property) === -1) {\n                updateData.ganttProperties[property] = data.ganttProperties[property];\n            }\n        });\n    };\n    /**\n     * Method to update all dependent record on edit action\n     *\n     * @param {ITaskAddedEventArgs} args .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.initiateUpdateAction = function (args) {\n        var isValidatePredecessor = this.isCheckPredecessor(args.data);\n        this.taskbarMoved = this.isTaskbarMoved(args.data);\n        this.predecessorUpdated = this.isPredecessorUpdated(args.data);\n        if (this.predecessorUpdated) {\n            this.parent.isConnectorLineUpdate = true;\n            this.parent.connectorLineEditModule.addRemovePredecessor(args.data);\n        }\n        // eslint-disable-next-line\n        var validateObject = {};\n        if (isValidatePredecessor) {\n            validateObject = this.parent.connectorLineEditModule.validateTypes(args.data);\n            this.parent.isConnectorLineUpdate = true;\n            if (!isNullOrUndefined(getValue('violationType', validateObject))) {\n                var newArgs = this.validateTaskEvent(args);\n                if (newArgs.validateMode.preserveLinkWithEditing === false &&\n                    newArgs.validateMode.removeLink === false &&\n                    newArgs.validateMode.respectLink === false) {\n                    this.parent.connectorLineEditModule.openValidationDialog(validateObject);\n                }\n                else {\n                    this.parent.connectorLineEditModule.applyPredecessorOption();\n                }\n            }\n            else {\n                this.updateEditedTask(args);\n            }\n        }\n        else {\n            if (this.taskbarMoved) {\n                this.parent.isConnectorLineUpdate = true;\n            }\n            this.updateEditedTask(args);\n        }\n    };\n    /**\n     *\n     * @param {ITaskbarEditedEventArgs} editedEventArgs method to trigger validate predecessor link by dialog\n     * @returns {IValidateArgs} .\n     */\n    Edit.prototype.validateTaskEvent = function (editedEventArgs) {\n        var newArgs = {};\n        var blazorArgs = {};\n        this.resetValidateArgs();\n        this.parent.currentEditedArgs = newArgs;\n        newArgs.cancel = false;\n        newArgs.data = editedEventArgs.data;\n        newArgs.requestType = 'validateLinkedTask';\n        newArgs.validateMode = this.parent.dialogValidateMode;\n        newArgs.editEventArgs = editedEventArgs;\n        if (isBlazor()) {\n            blazorArgs = __assign({}, newArgs);\n            this.parent.updateDataArgs(newArgs);\n            this.parent.currentEditedArgs = blazorArgs;\n        }\n        this.parent.actionBeginTask(newArgs);\n        return isBlazor() ? blazorArgs : newArgs;\n    };\n    Edit.prototype.resetValidateArgs = function () {\n        this.parent.dialogValidateMode.preserveLinkWithEditing = true;\n        this.parent.dialogValidateMode.removeLink = false;\n        this.parent.dialogValidateMode.respectLink = false;\n    };\n    /**\n     *\n     * @param {ITaskAddedEventArgs} args - Edited event args like taskbar editing, dialog editing, cell editing\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.updateEditedTask = function (args) {\n        var ganttRecord = args.data;\n        this.updateParentChildRecord(ganttRecord);\n        if (this.parent.isConnectorLineUpdate) {\n            /* validating predecessor for updated child items */\n            for (var i = 0; i < this.validatedChildItems.length; i++) {\n                var child = this.validatedChildItems[i];\n                if (child.ganttProperties.predecessor && child.ganttProperties.predecessor.length > 0) {\n                    this.parent.editedTaskBarItem = child;\n                    this.parent.predecessorModule.validatePredecessor(child, [], '');\n                }\n            }\n            /** validating predecessor for current edited records */\n            if (ganttRecord.ganttProperties.predecessor) {\n                this.parent.isMileStoneEdited = ganttRecord.ganttProperties.isMilestone;\n                if (this.taskbarMoved) {\n                    this.parent.editedTaskBarItem = ganttRecord;\n                }\n                this.parent.predecessorModule.validatePredecessor(ganttRecord, [], '');\n            }\n        }\n        /** Update parent up-to zeroth level */\n        if (ganttRecord.parentItem || this.parent.taskMode !== 'Auto') {\n            this.parent.dataOperation.updateParentItems(ganttRecord, true);\n        }\n        this.initiateSaveAction(args);\n    };\n    /**\n     * To update parent records while perform drag action.\n     *\n     * @param {IGanttData} data .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.updateParentChildRecord = function (data) {\n        var ganttRecord = data;\n        if (ganttRecord.hasChildRecords && this.taskbarMoved && this.parent.taskMode === 'Auto') {\n            this.updateChildItems(ganttRecord);\n        }\n    };\n    /**\n     * To update records while changing schedule mode.\n     *\n     * @param {IGanttData} data .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.updateTaskScheduleModes = function (data) {\n        var currentValue = data[this.parent.taskFields.startDate];\n        var ganttProp = data.ganttProperties;\n        if (data.hasChildRecords && ganttProp.isAutoSchedule) {\n            this.parent.setRecordValue('startDate', ganttProp.autoStartDate, ganttProp, true);\n            this.parent.setRecordValue('endDate', ganttProp.autoEndDate, ganttProp, true);\n            this.parent.setRecordValue('width', this.parent.dataOperation.calculateWidth(data, true), ganttProp, true);\n            this.parent.setRecordValue('left', this.parent.dataOperation.calculateLeft(ganttProp, true), ganttProp, true);\n            this.parent.setRecordValue('progressWidth', this.parent.dataOperation.getProgressWidth(ganttProp.width, ganttProp.progress), ganttProp, true);\n            this.parent.dataOperation.calculateDuration(data);\n        }\n        else if (data.hasChildRecords && !ganttProp.isAutoSchedule) {\n            this.parent.dataOperation.updateWidthLeft(data);\n            this.parent.dataOperation.calculateDuration(data);\n            this.parent.setRecordValue('autoStartDate', ganttProp.startDate, ganttProp, true);\n            this.parent.setRecordValue('autoEndDate', ganttProp.endDate, ganttProp, true);\n            this.parent.setRecordValue('autoDuration', this.parent.dataOperation.calculateAutoDuration(data), ganttProp, true);\n            this.parent.dataOperation.updateAutoWidthLeft(data);\n        }\n        else {\n            var startDate = this.parent.dateValidationModule.checkStartDate(currentValue, data.ganttProperties);\n            this.parent.setRecordValue('startDate', startDate, data.ganttProperties, true);\n            this.parent.dataOperation.updateMappingData(data, 'startDate');\n            this.parent.dateValidationModule.calculateEndDate(data);\n            this.parent.setRecordValue('taskData.' + this.parent.taskFields.manual, data[this.parent.taskFields.manual], data);\n            this.parent.dataOperation.updateWidthLeft(data);\n        }\n    };\n    /**\n     *\n     * @param {IGanttData} data .\n     * @param {Date} newStartDate .\n     * @returns {void} .\n     */\n    Edit.prototype.calculateDateByRoundOffDuration = function (data, newStartDate) {\n        var ganttRecord = data;\n        var taskData = ganttRecord.ganttProperties;\n        var projectStartDate = new Date(newStartDate.getTime());\n        if (!isNullOrUndefined(taskData.endDate) && isNullOrUndefined(taskData.startDate)) {\n            var endDate = this.parent.dateValidationModule.checkStartDate(projectStartDate, taskData, null);\n            this.parent.setRecordValue('endDate', this.parent.dateValidationModule.checkEndDate(endDate, ganttRecord.ganttProperties), taskData, true);\n        }\n        else {\n            this.parent.setRecordValue('startDate', this.parent.dateValidationModule.checkStartDate(projectStartDate, taskData, false), taskData, true);\n            if (!isNullOrUndefined(taskData.duration)) {\n                this.parent.dateValidationModule.calculateEndDate(ganttRecord);\n            }\n        }\n        this.parent.dataOperation.updateWidthLeft(data);\n        this.parent.dataOperation.updateTaskData(ganttRecord);\n    };\n    /**\n     * To update progress value of parent tasks\n     *\n     * @param {IParent} cloneParent .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.updateParentProgress = function (cloneParent) {\n        var parentProgress = 0;\n        var parent = this.parent.getParentTask(cloneParent);\n        var childRecords = parent.childRecords;\n        var childCount = childRecords ? childRecords.length : 0;\n        var totalProgress = 0;\n        var milesStoneCount = 0;\n        var taskCount = 0;\n        var totalDuration = 0;\n        // eslint-disable-next-line\n        var progressValues = {};\n        if (childRecords) {\n            for (var i = 0; i < childCount; i++) {\n                if ((!childRecords[i].ganttProperties.isMilestone || childRecords[i].hasChildRecords) &&\n                    isScheduledTask(childRecords[i].ganttProperties)) {\n                    progressValues = this.parent.dataOperation.getParentProgress(childRecords[i]);\n                    totalProgress += getValue('totalProgress', progressValues);\n                    totalDuration += getValue('totalDuration', progressValues);\n                }\n                else {\n                    milesStoneCount += 1;\n                }\n            }\n            taskCount = childCount - milesStoneCount;\n            parentProgress = taskCount > 0 ? Math.round(totalProgress / totalDuration) : 0;\n            if (isNaN(parentProgress)) {\n                parentProgress = 0;\n            }\n            this.parent.setRecordValue('progressWidth', this.parent.dataOperation.getProgressWidth(parent.ganttProperties.isAutoSchedule ? parent.ganttProperties.width : parent.ganttProperties.autoWidth, parentProgress), parent.ganttProperties, true);\n            this.parent.setRecordValue('progress', Math.floor(parentProgress), parent.ganttProperties, true);\n            this.parent.setRecordValue('totalProgress', totalProgress, parent.ganttProperties, true);\n            this.parent.setRecordValue('totalDuration', totalDuration, parent.ganttProperties, true);\n        }\n        this.parent.dataOperation.updateTaskData(parent);\n        if (parent.parentItem) {\n            this.updateParentProgress(parent.parentItem);\n        }\n    };\n    /**\n     * Method to revert cell edit action\n     *\n     * @param {object} args .\n     * @returns {void} .\n     * @private\n     */\n    // eslint-disable-next-line\n    Edit.prototype.revertCellEdit = function (args) {\n        this.parent.editModule.reUpdatePreviousRecords(false, true);\n        this.resetEditProperties();\n    };\n    /**\n     * @param {boolean} isRefreshChart .\n     * @param {boolean} isRefreshGrid .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.reUpdatePreviousRecords = function (isRefreshChart, isRefreshGrid) {\n        // eslint-disable-next-line\n        var collection = this.parent.previousRecords;\n        var keys = Object.keys(collection);\n        for (var i = 0; i < keys.length; i++) {\n            var uniqueId = keys[i];\n            var prevTask = collection[uniqueId];\n            var originalData = this.parent.getTaskByUniqueID(uniqueId);\n            this.copyTaskData(originalData.taskData, prevTask.taskData);\n            delete prevTask.taskData;\n            this.copyTaskData(originalData.ganttProperties, prevTask.ganttProperties);\n            delete prevTask.ganttProperties;\n            this.copyTaskData(originalData, prevTask);\n            var rowIndex = this.parent.currentViewData.indexOf(originalData);\n            if (isRefreshChart) {\n                this.parent.chartRowsModule.refreshRow(rowIndex);\n            }\n            if (isRefreshGrid) {\n                var dataId = this.parent.viewType === 'ProjectView' ? originalData.ganttProperties.taskId : originalData.ganttProperties.rowUniqueID;\n                this.parent.treeGrid.grid.setRowData(dataId, originalData);\n                var row = this.parent.treeGrid.grid.getRowObjectFromUID(this.parent.treeGrid.grid.getDataRows()[rowIndex].getAttribute('data-uid'));\n                row.data = originalData;\n            }\n        }\n    };\n    /**\n     * Copy previous task data value to edited task data\n     *\n     * @param {object} existing .\n     * @param {object} newValue .\n     * @returns {void} .\n     */\n    // eslint-disable-next-line\n    Edit.prototype.copyTaskData = function (existing, newValue) {\n        if (!isNullOrUndefined(newValue)) {\n            extend(existing, newValue);\n        }\n    };\n    /**\n     * To update schedule date on editing.\n     *\n     * @param {ITaskbarEditedEventArgs} args .\n     * @returns {void} .\n     * @private\n     */\n    // eslint-disable-next-line\n    Edit.prototype.updateScheduleDatesOnEditing = function (args) {\n        //..\n    };\n    /**\n     *\n     * @param {IGanttData} ganttRecord .\n     * @returns {void} .\n     */\n    Edit.prototype.updateChildItems = function (ganttRecord) {\n        var previousData = this.parent.previousRecords[ganttRecord.uniqueID];\n        var previousStartDate;\n        if (isNullOrUndefined(previousData) ||\n            (isNullOrUndefined(previousData) && !isNullOrUndefined(previousData.ganttProperties))) {\n            previousStartDate = new Date(ganttRecord.ganttProperties.startDate.getTime());\n        }\n        else {\n            previousStartDate = new Date(previousData.ganttProperties.startDate.getTime());\n        }\n        var currentStartDate = ganttRecord.ganttProperties.startDate;\n        var childRecords = [];\n        var validStartDate;\n        var validEndDate;\n        var calcEndDate;\n        var isRightMove;\n        var durationDiff;\n        this.getUpdatableChildRecords(ganttRecord, childRecords);\n        if (childRecords.length === 0) {\n            return;\n        }\n        if (previousStartDate.getTime() > currentStartDate.getTime()) {\n            validStartDate = this.parent.dateValidationModule.checkStartDate(currentStartDate);\n            validEndDate = this.parent.dateValidationModule.checkEndDate(previousStartDate, ganttRecord.ganttProperties);\n            isRightMove = false;\n        }\n        else {\n            validStartDate = this.parent.dateValidationModule.checkStartDate(previousStartDate);\n            validEndDate = this.parent.dateValidationModule.checkEndDate(currentStartDate, ganttRecord.ganttProperties);\n            isRightMove = true;\n        }\n        //Get Duration\n        if (validStartDate.getTime() >= validEndDate.getTime()) {\n            durationDiff = 0;\n        }\n        else {\n            durationDiff = this.parent.dateValidationModule.getDuration(validStartDate, validEndDate, 'minute', true, false);\n        }\n        for (var i = 0; i < childRecords.length; i++) {\n            if (childRecords[i].ganttProperties.isAutoSchedule) {\n                if (durationDiff > 0) {\n                    var startDate = isScheduledTask(childRecords[i].ganttProperties) ?\n                        childRecords[i].ganttProperties.startDate : childRecords[i].ganttProperties.startDate ?\n                        childRecords[i].ganttProperties.startDate : childRecords[i].ganttProperties.endDate ?\n                        childRecords[i].ganttProperties.endDate : new Date(previousStartDate.toString());\n                    if (isRightMove) {\n                        calcEndDate = this.parent.dateValidationModule.getEndDate(this.parent.dateValidationModule.checkStartDate(startDate, childRecords[i].ganttProperties, childRecords[i].ganttProperties.isMilestone), durationDiff, 'minute', childRecords[i].ganttProperties, false);\n                    }\n                    else {\n                        calcEndDate = this.parent.dateValidationModule.getStartDate(this.parent.dateValidationModule.checkEndDate(startDate, childRecords[i].ganttProperties), durationDiff, 'minute', childRecords[i].ganttProperties);\n                    }\n                    this.calculateDateByRoundOffDuration(childRecords[i], calcEndDate);\n                    if (this.parent.isOnEdit && this.validatedChildItems.indexOf(childRecords[i]) === -1) {\n                        this.validatedChildItems.push(childRecords[i]);\n                    }\n                }\n                else if (isNullOrUndefined(previousData)) {\n                    calcEndDate = previousStartDate;\n                    this.calculateDateByRoundOffDuration(childRecords[i], calcEndDate);\n                    if (this.parent.isOnEdit && this.validatedChildItems.indexOf(childRecords[i]) === -1) {\n                        this.validatedChildItems.push(childRecords[i]);\n                    }\n                }\n            }\n        }\n        if (childRecords.length) {\n            this.parent.dataOperation.updateParentItems(ganttRecord, true);\n        }\n    };\n    /**\n     * To get updated child records.\n     *\n     * @param {IGanttData} parentRecord .\n     * @param {IGanttData} childLists .\n     * @returns {void} .\n     */\n    Edit.prototype.getUpdatableChildRecords = function (parentRecord, childLists) {\n        var childRecords = parentRecord.childRecords;\n        for (var i = 0; i < childRecords.length; i++) {\n            if (childRecords[i].ganttProperties.isAutoSchedule) {\n                childLists.push(childRecords[i]);\n                if (childRecords[i].hasChildRecords) {\n                    this.getUpdatableChildRecords(childRecords[i], childLists);\n                }\n            }\n        }\n    };\n    /**\n     * @param {ITaskbarEditedEventArgs} args .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.initiateSaveAction = function (args) {\n        var _this = this;\n        this.parent.showSpinner();\n        var eventArgs = {};\n        eventArgs.requestType = 'beforeSave';\n        eventArgs.data = args.data;\n        eventArgs.modifiedRecords = this.parent.editedRecords;\n        if (!isNullOrUndefined(args.target)) {\n            eventArgs.target = args.target;\n        }\n        eventArgs.modifiedTaskData = getTaskData(this.parent.editedRecords, true);\n        if (args.action && args.action === 'DrawConnectorLine') {\n            eventArgs.action = 'DrawConnectorLine';\n        }\n        if (isBlazor()) {\n            eventArgs = this.parent.updateDataArgs(eventArgs);\n        }\n        this.parent.trigger('actionBegin', eventArgs, function (eventArg) {\n            if (eventArg.cancel) {\n                _this.reUpdatePreviousRecords();\n                _this.parent.chartRowsModule.refreshRecords([args.data]);\n                _this.resetEditProperties();\n                // Trigger action complete event with save canceled request type\n            }\n            else {\n                eventArg.modifiedTaskData = getTaskData(eventArg.modifiedRecords);\n                if (isRemoteData(_this.parent.dataSource)) {\n                    var data = _this.parent.dataSource;\n                    // eslint-disable-next-line\n                    var updatedData = {\n                        changedRecords: eventArg.modifiedTaskData\n                    };\n                    var query = _this.parent.query instanceof Query ? _this.parent.query : new Query();\n                    // eslint-disable-next-line\n                    var crud = null;\n                    var dataAdaptor = data.adaptor;\n                    if (!(dataAdaptor instanceof WebApiAdaptor && dataAdaptor instanceof ODataAdaptor) || data.dataSource.batchUrl) {\n                        // eslint-disable-next-line\n                        crud = data.saveChanges(updatedData, _this.parent.taskFields.id, null, query);\n                    }\n                    else {\n                        var changedRecords = 'changedRecords';\n                        // eslint-disable-next-line\n                        crud = data.update(_this.parent.taskFields.id, updatedData[changedRecords], null, query);\n                    }\n                    crud.then(function (e) { return _this.dmSuccess(e, args); })\n                        // eslint-disable-next-line\n                        .catch(function (e) { return _this.dmFailure(e, args); });\n                }\n                else {\n                    _this.saveSuccess(args);\n                }\n            }\n        });\n    };\n    Edit.prototype.dmSuccess = function (e, args) {\n        this.saveSuccess(args);\n    };\n    // eslint-disable-next-line\n    Edit.prototype.dmFailure = function (e, args) {\n        if (this.deletedTaskDetails.length) {\n            var deleteRecords = this.deletedTaskDetails;\n            for (var d = 0; d < deleteRecords.length; d++) {\n                deleteRecords[d].isDelete = false;\n            }\n            this.deletedTaskDetails = [];\n        }\n        this.reUpdatePreviousRecords(true, true);\n        this.resetEditProperties();\n        this.parent.trigger('actionFailure', { error: e });\n    };\n    Edit.prototype.updateSharedTask = function (data) {\n        var ids = data.ganttProperties.sharedTaskUniqueIds;\n        for (var i = 0; i < ids.length; i++) {\n            var editRecord = this.parent.flatData[this.parent.ids.indexOf(ids[i].toString())];\n            if (editRecord.uniqueID !== data.uniqueID) {\n                this.updateGanttProperties(data, editRecord);\n                this.parent.setRecordValue('taskData', data.taskData, editRecord, true);\n                this.parent.dataOperation.updateTaskData(editRecord);\n                this.parent.dataOperation.updateResourceName(editRecord);\n                if (!isNullOrUndefined(editRecord.parentItem)) {\n                    this.parent.dataOperation.updateParentItems(editRecord.parentItem);\n                }\n            }\n        }\n    };\n    /**\n     * Method for save action success for local and remote data\n     *\n     * @param {ITaskAddedEventArgs} args .\n     * @returns {void} .\n     */\n    Edit.prototype.saveSuccess = function (args) {\n        var eventArgs = {};\n        if (this.parent.timelineSettings.updateTimescaleView) {\n            var tempArray = this.parent.editedRecords;\n            this.parent.timelineModule.updateTimeLineOnEditing(tempArray, args.action);\n        }\n        if (this.parent.viewType === 'ResourceView') {\n            if (args.action === 'TaskbarEditing') {\n                this.updateSharedTask(args.data);\n            }\n            else if (args.action === 'DialogEditing' || args.action === 'CellEditing' || args.action === 'methodUpdate') {\n                if (this.parent.editModule.dialogModule.isResourceUpdate) {\n                    /* eslint-disable-next-line */\n                    this.updateResoures(this.parent.editModule.dialogModule.previousResource, args.data.ganttProperties.resourceInfo, args.data);\n                    this.updateSharedTask(args.data);\n                    this.isTreeGridRefresh = true;\n                }\n                else {\n                    this.updateSharedTask(args.data);\n                }\n            }\n            // method to update the edited parent records\n            for (var k = 0; k < this.updateParentRecords.length; k++) {\n                this.parent.dataOperation.updateParentItems(this.updateParentRecords[k]);\n            }\n            this.updateParentRecords = [];\n            this.parent.editModule.dialogModule.isResourceUpdate = false;\n            this.parent.editModule.dialogModule.previousResource = [];\n        }\n        if (!this.isTreeGridRefresh) {\n            this.parent.chartRowsModule.refreshRecords(this.parent.editedRecords);\n            if (this.parent.isConnectorLineUpdate && !isNullOrUndefined(this.parent.connectorLineEditModule)) {\n                this.parent.updatedConnectorLineCollection = [];\n                this.parent.connectorLineIds = [];\n                this.parent.connectorLineEditModule.refreshEditedRecordConnectorLine(this.parent.editedRecords);\n                this.updateScheduleDatesOnEditing(args);\n            }\n        }\n        if (!this.parent.editSettings.allowTaskbarEditing || (this.parent.editSettings.allowTaskbarEditing &&\n            !this.taskbarEditModule.dependencyCancel)) {\n            eventArgs.requestType = 'save';\n            eventArgs.data = args.data;\n            eventArgs.modifiedRecords = this.parent.editedRecords;\n            eventArgs.modifiedTaskData = getTaskData(this.parent.editedRecords);\n            if (!isNullOrUndefined(args.action)) {\n                setValue('action', args.action, eventArgs);\n            }\n            if (args.action === 'TaskbarEditing') {\n                eventArgs.taskBarEditAction = args.taskBarEditAction;\n            }\n            this.endEditAction(args);\n            if (isBlazor()) {\n                this.parent.updateDataArgs(eventArgs);\n            }\n            this.parent.trigger('actionComplete', eventArgs);\n        }\n        else {\n            this.taskbarEditModule.dependencyCancel = false;\n            this.resetEditProperties();\n            if (isBlazor()) {\n                this.parent.updateDataArgs(eventArgs);\n            }\n        }\n        if (this.parent.viewType === 'ResourceView' && this.isTreeGridRefresh) {\n            this.parent.treeGrid.parentData = [];\n            this.parent.treeGrid.refresh();\n            this.isTreeGridRefresh = false;\n        }\n    };\n    // eslint-disable-next-line\n    Edit.prototype.updateResoures = function (prevResource, currentResource, updateRecord) {\n        var flatRecords = this.parent.flatData;\n        var currentLength = currentResource ? currentResource.length : 0;\n        var previousLength = prevResource ? prevResource.length : 0;\n        if (currentLength === 0 && previousLength === 0) {\n            return;\n        }\n        for (var index = 0; index < currentLength; index++) {\n            var recordIndex = [];\n            var resourceID = parseInt(currentResource[index][this.parent.resourceFields.id], 10);\n            for (var i = 0; i < prevResource.length; i++) {\n                if (parseInt(prevResource[i][this.parent.resourceFields.id], 10) === resourceID) {\n                    recordIndex.push(i);\n                    break;\n                }\n            }\n            if (recordIndex.length === 0) {\n                var parentRecord = flatRecords[this.parent.getTaskIds().indexOf('R' + resourceID)];\n                if (parentRecord) {\n                    this.addNewRecord(updateRecord, parentRecord);\n                }\n            }\n            else {\n                prevResource.splice(parseInt(recordIndex[0].toString(), 10), 1);\n            }\n        }\n        var prevLength = prevResource ? prevResource.length : 0;\n        for (var index = 0; index < prevLength; index++) {\n            var taskID = updateRecord.ganttProperties.taskId;\n            var resourceID = prevResource[index][this.parent.resourceFields.id];\n            var record = flatRecords[this.parent.getTaskIds().indexOf('R' + resourceID)];\n            for (var j = 0; j < record.childRecords.length; j++) {\n                if (record.childRecords[j].ganttProperties.taskId === taskID) {\n                    this.removeChildRecord(record.childRecords[j]);\n                }\n            }\n        }\n        if (currentLength > 0) {\n            var parentTask = this.parent.getParentTask(updateRecord.parentItem);\n            if (parentTask) {\n                if (parentTask.ganttProperties.taskName === this.parent.localeObj.getConstant('unassignedTask')) {\n                    this.removeChildRecord(updateRecord);\n                }\n            }\n        }\n        //Assign resource to unassigned task\n        if (currentLength === 0) {\n            this.checkWithUnassignedTask(updateRecord);\n        }\n    };\n    /**\n     * @param {IGanttData} updateRecord .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.checkWithUnassignedTask = function (updateRecord) {\n        var unassignedTasks = null;\n        // Block for check the unassigned task.\n        for (var i = 0; i < this.parent.flatData.length; i++) {\n            if (this.parent.flatData[i].ganttProperties.taskName === this.parent.localeObj.getConstant('unassignedTask')) {\n                unassignedTasks = this.parent.flatData[i];\n            }\n        }\n        if (!isNullOrUndefined(unassignedTasks)) {\n            this.addNewRecord(updateRecord, unassignedTasks);\n        }\n        else {\n            // Block for create the unassigned task.\n            // eslint-disable-next-line\n            var unassignTaskObj = {};\n            unassignTaskObj[this.parent.taskFields.id] = 0;\n            unassignTaskObj[this.parent.taskFields.name] = this.parent.localeObj.getConstant('unassignedTask');\n            var beforeEditStatus = this.parent.isOnEdit;\n            this.parent.isOnEdit = false;\n            var cAddedRecord = this.parent.dataOperation.createRecord(unassignTaskObj, 0);\n            this.parent.isOnEdit = beforeEditStatus;\n            this.addRecordAsBottom(cAddedRecord);\n            var parentRecord = this.parent.flatData[this.parent.flatData.length - 1];\n            this.addNewRecord(updateRecord, parentRecord);\n        }\n    };\n    Edit.prototype.addRecordAsBottom = function (cAddedRecord) {\n        var recordIndex1 = this.parent.flatData.length;\n        if (this.parent.taskFields.parentID && this.parent.dataSource.length > 0) {\n            this.parent.dataSource.splice(recordIndex1 + 1, 0, cAddedRecord.taskData);\n        }\n        this.parent.currentViewData.splice(recordIndex1 + 1, 0, cAddedRecord);\n        this.parent.flatData.splice(recordIndex1 + 1, 0, cAddedRecord);\n        this.parent.ids.splice(recordIndex1 + 1, 0, cAddedRecord.ganttProperties.rowUniqueID.toString());\n        var taskId = cAddedRecord.level === 0 ? 'R' + cAddedRecord.ganttProperties.taskId : 'T' + cAddedRecord.ganttProperties.taskId;\n        this.parent.getTaskIds().splice(recordIndex1 + 1, 0, taskId);\n        this.updateTreeGridUniqueID(cAddedRecord, 'add');\n    };\n    Edit.prototype.addNewRecord = function (updateRecord, parentRecord) {\n        var cAddedRecord = null;\n        cAddedRecord = extend({}, {}, updateRecord, true);\n        this.parent.setRecordValue('uniqueID', getUid(this.parent.element.id + '_data_'), cAddedRecord);\n        this.parent.setRecordValue('uniqueID', cAddedRecord.uniqueID, cAddedRecord.ganttProperties, true);\n        var uniqueId = cAddedRecord.uniqueID.replace(this.parent.element.id + '_data_', '');\n        this.parent.setRecordValue('rowUniqueID', uniqueId, cAddedRecord);\n        this.parent.setRecordValue('rowUniqueID', uniqueId, cAddedRecord.ganttProperties, true);\n        this.parent.setRecordValue('level', 1, cAddedRecord);\n        if (this.parent.taskFields.parentID) {\n            this.parent.setRecordValue('parentId', parentRecord.ganttProperties.taskId, cAddedRecord.ganttProperties, true);\n        }\n        this.parent.setRecordValue('parentItem', this.parent.dataOperation.getCloneParent(parentRecord), cAddedRecord);\n        var parentUniqId = cAddedRecord.parentItem ? cAddedRecord.parentItem.uniqueID : null;\n        this.parent.setRecordValue('parentUniqueID', parentUniqId, cAddedRecord);\n        updateRecord.ganttProperties.sharedTaskUniqueIds.push(uniqueId);\n        cAddedRecord.ganttProperties.sharedTaskUniqueIds = updateRecord.ganttProperties.sharedTaskUniqueIds;\n        this.addRecordAsChild(parentRecord, cAddedRecord);\n    };\n    Edit.prototype.removeChildRecord = function (record) {\n        var gObj = this.parent;\n        var data = [];\n        if (this.parent.dataSource instanceof DataManager && this.parent.dataSource.dataSource.json.length > 0) {\n            data = this.parent.dataSource.dataSource.json;\n        }\n        else {\n            data = this.parent.currentViewData;\n        }\n        // eslint-disable-next-line\n        var dataSource = this.parent.dataSource;\n        var deletedRow = record;\n        var flatParentData = this.parent.getParentTask(deletedRow.parentItem);\n        if (deletedRow) {\n            if (deletedRow.parentItem) {\n                var deleteChildRecords = flatParentData ? flatParentData.childRecords : [];\n                var childIndex = 0;\n                if (deleteChildRecords && deleteChildRecords.length > 0) {\n                    if (deleteChildRecords.length === 1) {\n                        //For updating the parent record which has no child reords.\n                        this.parent.isOnDelete = true;\n                        deleteChildRecords[0].isDelete = true;\n                        this.parent.dataOperation.updateParentItems(flatParentData);\n                        this.parent.isOnDelete = false;\n                        deleteChildRecords[0].isDelete = false;\n                    }\n                    childIndex = deleteChildRecords.indexOf(deletedRow);\n                    flatParentData.childRecords.splice(childIndex, 1);\n                    // collection for updating parent record\n                    this.updateParentRecords.push(flatParentData);\n                }\n            }\n            if (deletedRow.ganttProperties.sharedTaskUniqueIds.length) {\n                // eslint-disable-next-line\n                var uniqueIDIndex = deletedRow.ganttProperties.sharedTaskUniqueIds.indexOf(deletedRow.ganttProperties.rowUniqueID);\n                deletedRow.ganttProperties.sharedTaskUniqueIds.splice(uniqueIDIndex, 1);\n            }\n            this.updateTreeGridUniqueID(deletedRow, 'delete');\n            //method to delete the record from datasource collection\n            if (!this.parent.taskFields.parentID) {\n                var deleteRecordIDs = [];\n                deleteRecordIDs.push(deletedRow.ganttProperties.rowUniqueID.toString());\n                this.parent.editModule.removeFromDataSource(deleteRecordIDs);\n            }\n            if (gObj.taskFields.parentID) {\n                var idx = void 0;\n                var ganttData = this.parent.currentViewData;\n                for (var i = 0; i < ganttData.length; i++) {\n                    if (ganttData[i].ganttProperties.rowUniqueID === deletedRow.ganttProperties.rowUniqueID) {\n                        idx = i;\n                    }\n                }\n                if (idx !== -1) {\n                    if (dataSource.length > 0) {\n                        dataSource.splice(idx, 1);\n                    }\n                    data.splice(idx, 1);\n                    this.parent.flatData.splice(idx, 1);\n                    this.parent.ids.splice(idx, 1);\n                    this.parent.getTaskIds().splice(idx, 1);\n                }\n            }\n            var recordIndex = data.indexOf(deletedRow);\n            if (!gObj.taskFields.parentID) {\n                var deletedRecordCount = this.parent.editModule.getChildCount(deletedRow, 0);\n                data.splice(recordIndex, deletedRecordCount + 1);\n                this.parent.flatData.splice(recordIndex, deletedRecordCount + 1);\n                this.parent.ids.splice(recordIndex, deletedRecordCount + 1);\n                this.parent.getTaskIds().splice(recordIndex, deletedRecordCount + 1);\n            }\n            if (deletedRow.parentItem && flatParentData && flatParentData.childRecords && !flatParentData.childRecords.length) {\n                this.parent.setRecordValue('expanded', false, flatParentData);\n                this.parent.setRecordValue('hasChildRecords', false, flatParentData);\n            }\n        }\n    };\n    // Method to add new record after resource edit\n    Edit.prototype.addRecordAsChild = function (droppedRecord, draggedRecord) {\n        var gObj = this.parent;\n        var recordIndex1 = this.parent.flatData.indexOf(droppedRecord);\n        var childRecords = this.parent.editModule.getChildCount(droppedRecord, 0);\n        var childRecordsLength;\n        if (!isNullOrUndefined(this.addRowIndex) && this.addRowPosition && droppedRecord.childRecords && this.addRowPosition !== 'Child') {\n            var dropChildRecord = droppedRecord.childRecords[this.addRowIndex];\n            var position = this.addRowPosition === 'Above' || this.addRowPosition === 'Below' ? this.addRowPosition :\n                'Child';\n            childRecordsLength = dropChildRecord ? this.addRowIndex + recordIndex1 + 1 :\n                childRecords + recordIndex1 + 1;\n            childRecordsLength = position === 'Above' ? childRecordsLength : childRecordsLength + 1;\n        }\n        else {\n            childRecordsLength = (isNullOrUndefined(childRecords) ||\n                childRecords === 0) ? recordIndex1 + 1 :\n                childRecords + recordIndex1 + 1;\n        }\n        if (gObj.taskFields.parentID && this.parent.dataSource.length > 0) {\n            this.parent.dataSource.splice(childRecordsLength, 0, draggedRecord.taskData);\n        }\n        //this.ganttData.splice(childRecordsLength, 0, this.draggedRecord);\n        this.parent.currentViewData.splice(childRecordsLength, 0, draggedRecord);\n        this.parent.flatData.splice(childRecordsLength, 0, draggedRecord);\n        this.parent.ids.splice(childRecordsLength, 0, draggedRecord.ganttProperties.rowUniqueID.toString());\n        this.updateTreeGridUniqueID(draggedRecord, 'add');\n        var recordId = draggedRecord.level === 0 ? 'R' + draggedRecord.ganttProperties.taskId : 'T' + draggedRecord.ganttProperties.taskId;\n        this.parent.getTaskIds().splice(childRecordsLength, 0, recordId);\n        if (!droppedRecord.hasChildRecords) {\n            this.parent.setRecordValue('hasChildRecords', true, draggedRecord);\n            this.parent.setRecordValue('expanded', true, draggedRecord);\n            if (!droppedRecord.childRecords.length) {\n                droppedRecord.childRecords = [];\n                if (!gObj.taskFields.parentID && isNullOrUndefined(droppedRecord.taskData[this.parent.taskFields.child])) {\n                    droppedRecord.taskData[this.parent.taskFields.child] = [];\n                }\n            }\n        }\n        droppedRecord.childRecords.splice(droppedRecord.childRecords.length, 0, draggedRecord);\n        if (!isNullOrUndefined(draggedRecord) && !this.parent.taskFields.parentID\n            && !isNullOrUndefined(droppedRecord.taskData[this.parent.taskFields.child])) {\n            droppedRecord.taskData[this.parent.taskFields.child].splice(droppedRecord.childRecords.length, 0, draggedRecord.taskData);\n        }\n        if (!isNullOrUndefined(draggedRecord.parentItem)) {\n            //collection to update the parent records\n            this.updateParentRecords.push(droppedRecord);\n        }\n    };\n    Edit.prototype.resetEditProperties = function () {\n        this.parent.currentEditedArgs = {};\n        this.resetValidateArgs();\n        this.parent.editedTaskBarItem = null;\n        this.parent.isOnEdit = false;\n        this.validatedChildItems = [];\n        this.parent.isConnectorLineUpdate = false;\n        this.parent.editedTaskBarItem = null;\n        this.taskbarMoved = false;\n        this.predecessorUpdated = false;\n        if (!isNullOrUndefined(this.dialogModule)) {\n            if (this.dialogModule.dialog && !this.dialogModule.dialogObj.isDestroyed) {\n                this.dialogModule.dialogObj.hide();\n            }\n            this.dialogModule.dialogClose();\n        }\n        this.parent.hideSpinner();\n        this.parent.initiateEditAction(false);\n    };\n    /**\n     * @param {ITaskAddedEventArgs} args .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.endEditAction = function (args) {\n        this.resetEditProperties();\n        if (args.action === 'TaskbarEditing') {\n            this.parent.trigger('taskbarEdited', args);\n        }\n        else if (args.action === 'CellEditing') {\n            this.parent.trigger('endEdit', args);\n        }\n        else if (args.action === 'DialogEditing') {\n            if (this.dialogModule.dialog && !this.dialogModule.dialogObj.isDestroyed) {\n                this.dialogModule.dialogObj.hide();\n            }\n            this.dialogModule.dialogClose();\n        }\n    };\n    // eslint-disable-next-line\n    Edit.prototype.saveFailed = function (args) {\n        this.reUpdatePreviousRecords();\n        this.parent.hideSpinner();\n        //action failure event trigger\n    };\n    /**\n     * To render delete confirmation dialog\n     *\n     * @returns {void} .\n     */\n    Edit.prototype.renderDeleteConfirmDialog = function () {\n        var dialogObj = new Dialog({\n            width: '320px',\n            isModal: true,\n            visible: false,\n            content: this.parent.localeObj.getConstant('confirmDelete'),\n            buttons: [\n                {\n                    click: this.confirmDeleteOkButton.bind(this),\n                    buttonModel: { content: this.parent.localeObj.getConstant('okText'), isPrimary: true }\n                },\n                {\n                    click: this.closeConfirmDialog.bind(this),\n                    buttonModel: { content: this.parent.localeObj.getConstant('cancel') }\n                }\n            ],\n            target: this.parent.element,\n            animationSettings: { effect: 'None' }\n        });\n        dialogObj.appendTo('#' + this.parent.element.id + '_deleteConfirmDialog');\n        this.confirmDialog = dialogObj;\n    };\n    Edit.prototype.closeConfirmDialog = function () {\n        this.confirmDialog.hide();\n    };\n    Edit.prototype.confirmDeleteOkButton = function () {\n        this.deleteSelectedItems();\n        this.confirmDialog.hide();\n        var focussedElement = this.parent.element.querySelector('.e-treegrid');\n        focussedElement.focus();\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.startDeleteAction = function () {\n        if (this.parent.editSettings.allowDeleting && !this.parent.readOnly) {\n            if (this.parent.editSettings.showDeleteConfirmDialog) {\n                this.confirmDialog.show();\n            }\n            else {\n                this.deleteSelectedItems();\n            }\n        }\n    };\n    /**\n     *\n     * @param {IGanttData[]} selectedRecords - Defines the deleted records\n     * @returns {void} .\n     * Method to delete the records from resource view Gantt.\n     */\n    Edit.prototype.deleteResourceRecords = function (selectedRecords) {\n        var deleteRecords = [];\n        for (var i = 0; i < selectedRecords.length; i++) {\n            if (selectedRecords[i].parentItem) {\n                var data = selectedRecords[i];\n                var ids = data.ganttProperties.sharedTaskUniqueIds;\n                for (var j = 0; j < ids.length; j++) {\n                    deleteRecords.push(this.parent.flatData[this.parent.ids.indexOf(ids[j].toString())]);\n                }\n            }\n        }\n        this.deleteRow(deleteRecords);\n    };\n    Edit.prototype.deleteSelectedItems = function () {\n        if (!this.isFromDeleteMethod) {\n            var selectedRecords = [];\n            if (this.parent.selectionSettings.mode !== 'Cell') {\n                selectedRecords = this.parent.selectionModule.getSelectedRecords();\n            }\n            else if (this.parent.selectionSettings.mode === 'Cell') {\n                selectedRecords = this.parent.selectionModule.getCellSelectedRecords();\n            }\n            if (this.parent.viewType === 'ResourceView') {\n                this.deleteResourceRecords(selectedRecords);\n            }\n            else {\n                this.deleteRow(selectedRecords);\n            }\n        }\n        else {\n            if (this.targetedRecords.length) {\n                if (this.parent.viewType === 'ResourceView') {\n                    this.deleteResourceRecords(this.targetedRecords);\n                }\n                else {\n                    this.deleteRow(this.targetedRecords);\n                }\n            }\n            this.isFromDeleteMethod = false;\n        }\n    };\n    /**\n     * Method to delete record.\n     *\n     * @param {number | string | number[] | string[] | IGanttData | IGanttData[]} taskDetail - Defines the details of data to delete.\n     * @returns {void} .\n     * @public\n     */\n    Edit.prototype.deleteRecord = function (taskDetail) {\n        this.isFromDeleteMethod = true;\n        var variableType = typeof (taskDetail);\n        this.targetedRecords = [];\n        switch (variableType) {\n            case 'number':\n            case 'string':\n                {\n                    var taskId = taskDetail.toString();\n                    if (this.parent.viewType === 'ResourceView') {\n                        if (!isNullOrUndefined(taskId) && this.parent.getTaskIds().indexOf('T' + taskId) !== -1) {\n                            this.targetedRecords.push(this.parent.flatData[this.parent.getTaskIds().indexOf('T' + taskId)]);\n                        }\n                    }\n                    else {\n                        if (!isNullOrUndefined(taskId) && this.parent.ids.indexOf(taskId) !== -1) {\n                            this.targetedRecords.push(this.parent.getRecordByID(taskId));\n                        }\n                    }\n                    break;\n                }\n            case 'object':\n                if (!Array.isArray(taskDetail)) {\n                    this.targetedRecords.push(taskDetail.valueOf());\n                }\n                else {\n                    // eslint-disable-next-line\n                    this.updateTargetedRecords(taskDetail);\n                }\n                break;\n            default:\n        }\n        this.startDeleteAction();\n    };\n    /**\n     * To update 'targetedRecords collection' from given array collection\n     *\n     * @param {object[]} taskDetailArray .\n     * @returns {void} .\n     */\n    // eslint-disable-next-line\n    Edit.prototype.updateTargetedRecords = function (taskDetailArray) {\n        if (taskDetailArray.length) {\n            var variableType = typeof (taskDetailArray[0]);\n            if (variableType === 'object') {\n                this.targetedRecords = taskDetailArray;\n            }\n            else {\n                // Get record from array of task ids\n                for (var i = 0; i < taskDetailArray.length; i++) {\n                    var id = taskDetailArray[i].toString();\n                    if (this.parent.viewType === 'ResourceView') {\n                        if (!isNullOrUndefined(id) && this.parent.getTaskIds().indexOf('T' + id) !== -1) {\n                            this.targetedRecords.push(this.parent.flatData[this.parent.getTaskIds().indexOf('T' + id)]);\n                        }\n                    }\n                    else if (!isNullOrUndefined(id) && this.parent.ids.indexOf(id) !== -1) {\n                        this.targetedRecords.push(this.parent.getRecordByID(id));\n                    }\n                }\n            }\n        }\n    };\n    Edit.prototype.deleteRow = function (tasks) {\n        var rowItems = tasks && tasks.length ? tasks :\n            this.parent.selectionModule.getSelectedRecords();\n        if (rowItems.length) {\n            this.parent.isOnDelete = true;\n            rowItems.forEach(function (item) {\n                item.isDelete = true;\n            });\n            if (this.parent.viewType === 'ResourceView' && !tasks.length) {\n                rowItems = [];\n            }\n            for (var i = 0; i < rowItems.length; i++) {\n                var deleteRecord = rowItems[i];\n                if (this.deletedTaskDetails.indexOf(deleteRecord) !== -1) {\n                    continue;\n                }\n                if (deleteRecord.parentItem) {\n                    var childRecord = this.parent.getParentTask(deleteRecord.parentItem).childRecords;\n                    var filteredRecord = childRecord.length === 1 ?\n                        childRecord : childRecord.filter(function (data) {\n                        return !data.isDelete;\n                    });\n                    if (filteredRecord.length > 0) {\n                        this.parent.dataOperation.updateParentItems(deleteRecord.parentItem);\n                    }\n                }\n                var predecessor = deleteRecord.ganttProperties.predecessor;\n                if (predecessor && predecessor.length) {\n                    this.removePredecessorOnDelete(deleteRecord);\n                }\n                this.deletedTaskDetails.push(deleteRecord);\n                if (deleteRecord.hasChildRecords) {\n                    this.deleteChildRecords(deleteRecord);\n                }\n            }\n            if (this.parent.selectionModule && this.parent.allowSelection) {\n                // clear selection\n                this.parent.selectionModule.clearSelection();\n            }\n            var delereArgs = {};\n            delereArgs.deletedRecordCollection = this.deletedTaskDetails;\n            delereArgs.updatedRecordCollection = this.parent.editedRecords;\n            delereArgs.cancel = false;\n            delereArgs.action = 'delete';\n            this.initiateDeleteAction(delereArgs);\n            this.parent.isOnDelete = false;\n        }\n        if (!isNullOrUndefined(this.parent.toolbarModule)) {\n            this.parent.toolbarModule.refreshToolbarItems();\n        }\n    };\n    Edit.prototype.removePredecessorOnDelete = function (record) {\n        var predecessors = record.ganttProperties.predecessor;\n        for (var i = 0; i < predecessors.length; i++) {\n            var predecessor = predecessors[i];\n            var recordId = this.parent.viewType === 'ResourceView' ? record.ganttProperties.taskId :\n                record.ganttProperties.rowUniqueID;\n            if (predecessor.from.toString() === recordId.toString()) {\n                var toRecord = this.parent.connectorLineModule.getRecordByID(predecessor.to.toString());\n                if (!isNullOrUndefined(toRecord)) {\n                    var toRecordPredcessor = extend([], [], toRecord.ganttProperties.predecessor, true);\n                    var index = void 0;\n                    for (var t = 0; t < toRecordPredcessor.length; t++) {\n                        var toId = this.parent.viewType === 'ResourceView' ? toRecord.ganttProperties.taskId :\n                            toRecord.ganttProperties.rowUniqueID;\n                        if (toRecordPredcessor[t].to.toString() === toId.toString()\n                            && toRecordPredcessor[t].from.toString() === recordId.toString()) {\n                            index = t;\n                            break;\n                        }\n                    }\n                    toRecordPredcessor.splice(index, 1);\n                    this.updatePredecessorValues(toRecord, toRecordPredcessor);\n                }\n            }\n            else if (predecessor.to.toString() === recordId.toString()) {\n                var fromRecord = this.parent.connectorLineModule.getRecordByID(predecessor.from.toString());\n                if (!isNullOrUndefined(fromRecord)) {\n                    var fromRecordPredcessor = extend([], [], fromRecord.ganttProperties.predecessor, true);\n                    var index = void 0;\n                    for (var t = 0; t < fromRecordPredcessor.length; t++) {\n                        var fromId = this.parent.viewType === 'ResourceView' ? fromRecord.ganttProperties.taskId :\n                            fromRecord.ganttProperties.rowUniqueID;\n                        if (fromRecordPredcessor[t].from.toString() === fromId.toString()\n                            && fromRecordPredcessor[t].to.toString() === recordId.toString()) {\n                            index = t;\n                            break;\n                        }\n                    }\n                    fromRecordPredcessor.splice(index, 1);\n                    this.updatePredecessorValues(fromRecord, fromRecordPredcessor);\n                }\n            }\n        }\n    };\n    Edit.prototype.updatePredecessorValues = function (record, predcessorArray) {\n        this.parent.setRecordValue('predecessor', predcessorArray, record.ganttProperties, true);\n        var predecessorString = this.parent.predecessorModule.getPredecessorStringValue(record);\n        this.parent.setRecordValue('predecessorsName', predecessorString, record.ganttProperties, true);\n        this.parent.setRecordValue('taskData.' + this.parent.taskFields.dependency, predecessorString, record);\n        this.parent.setRecordValue(this.parent.taskFields.dependency, predecessorString, record);\n    };\n    /**\n     * Method to update TaskID of a gantt record\n     *\n     * @param {string | number} currentId .\n     * @param {number | string} newId .\n     * @returns {void} .\n     */\n    Edit.prototype.updateTaskId = function (currentId, newId) {\n        if (!this.parent.readOnly) {\n            var cId = typeof currentId === 'number' ? currentId.toString() : currentId;\n            var nId = typeof newId === 'number' ? newId.toString() : newId;\n            var ids = this.parent.ids;\n            if (!isNullOrUndefined(cId) && !isNullOrUndefined(nId)) {\n                var cIndex = ids.indexOf(cId);\n                var nIndex = ids.indexOf(nId);\n                // return false for invalid taskID\n                if (cIndex === -1 || nIndex > -1) {\n                    return;\n                }\n                var thisRecord = this.parent.flatData[cIndex];\n                thisRecord.ganttProperties.taskId = thisRecord.ganttProperties.rowUniqueID = nId;\n                thisRecord.taskData[this.parent.taskFields.id] = nId;\n                thisRecord[this.parent.taskFields.id] = nId;\n                ids[cIndex] = nId;\n                if (thisRecord.hasChildRecords && this.parent.taskFields.parentID) {\n                    var childRecords = thisRecord.childRecords;\n                    for (var count = 0; count < childRecords.length; count++) {\n                        var childRecord = childRecords[count];\n                        childRecord[this.parent.taskFields.parentID] = newId;\n                        this.parent.chartRowsModule.refreshRecords([childRecord]);\n                    }\n                }\n                if (this.parent.taskFields.dependency && !isNullOrUndefined(thisRecord.ganttProperties.predecessor)) {\n                    var predecessors = thisRecord.ganttProperties.predecessor;\n                    var currentGanttRecord = void 0;\n                    for (var i = 0; i < predecessors.length; i++) {\n                        var predecessor = predecessors[i];\n                        if (predecessor.to === cId) {\n                            currentGanttRecord = this.parent.flatData[ids.indexOf(predecessor.from)];\n                        }\n                        else if (predecessor.from === cId) {\n                            currentGanttRecord = this.parent.flatData[ids.indexOf(predecessor.to)];\n                        }\n                        this.updatePredecessorOnUpdateId(currentGanttRecord, cId, nId);\n                    }\n                }\n                this.updatePredecessorOnUpdateId(thisRecord, cId, nId);\n                this.parent.treeGrid.parentData = [];\n                this.parent.treeGrid.refresh();\n            }\n        }\n    };\n    Edit.prototype.updatePredecessorOnUpdateId = function (currentGanttRecord, cId, nId) {\n        if (this.parent.flatData.indexOf(currentGanttRecord) > -1) {\n            var pred = currentGanttRecord.ganttProperties.predecessor;\n            for (var j = 0; j < pred.length; j++) {\n                var pre = pred[j];\n                if (pre.to === cId) {\n                    pre.to = nId;\n                }\n                else if (pre.from === cId) {\n                    pre.from = nId;\n                }\n            }\n        }\n        this.updatePredecessorValues(currentGanttRecord, currentGanttRecord.ganttProperties.predecessor);\n    };\n    Edit.prototype.deleteChildRecords = function (record) {\n        var childRecords = record.childRecords;\n        for (var c = 0; c < childRecords.length; c++) {\n            var childRecord = childRecords[c];\n            if (this.deletedTaskDetails.indexOf(childRecord) !== -1) {\n                continue;\n            }\n            var predecessor = childRecord.ganttProperties.predecessor;\n            if (predecessor && predecessor.length) {\n                this.removePredecessorOnDelete(childRecord);\n            }\n            this.deletedTaskDetails.push(childRecord);\n            if (childRecord.hasChildRecords) {\n                this.deleteChildRecords(childRecord);\n            }\n        }\n    };\n    Edit.prototype.removeFromDataSource = function (deleteRecordIDs) {\n        // eslint-disable-next-line\n        var dataSource;\n        if (this.parent.dataSource instanceof DataManager) {\n            dataSource = this.parent.dataSource.dataSource.json;\n        }\n        else {\n            dataSource = this.parent.dataSource; // eslint-disable-line\n        }\n        this.removeData(dataSource, deleteRecordIDs);\n        this.isBreakLoop = false;\n    };\n    // eslint-disable-next-line\n    Edit.prototype.removeData = function (dataCollection, record) {\n        for (var i = 0; i < dataCollection.length; i++) {\n            if (this.isBreakLoop) {\n                break;\n            }\n            if (record.indexOf(getValue(this.parent.taskFields.id, dataCollection[i]).toString()) !== -1) {\n                if (dataCollection[i][this.parent.taskFields.child]) {\n                    var childRecords = dataCollection[i][this.parent.taskFields.child];\n                    this.removeData(childRecords, record);\n                }\n                record.splice(record.indexOf(getValue(this.parent.taskFields.id, dataCollection[i]).toString()), 1);\n                dataCollection.splice(i, 1);\n                if (record.length === 0) {\n                    this.isBreakLoop = true;\n                    break;\n                }\n            }\n            else if (dataCollection[i][this.parent.taskFields.child]) {\n                var childRecords = dataCollection[i][this.parent.taskFields.child];\n                this.removeData(childRecords, record);\n            }\n        }\n    };\n    Edit.prototype.initiateDeleteAction = function (args) {\n        var _this = this;\n        this.parent.showSpinner();\n        var eventArgs = {};\n        eventArgs.requestType = 'beforeDelete';\n        eventArgs.data = args.deletedRecordCollection;\n        eventArgs.modifiedRecords = args.updatedRecordCollection;\n        eventArgs.modifiedTaskData = getTaskData(args.updatedRecordCollection);\n        var blazorArgs = {};\n        if (isBlazor()) {\n            eventArgs = this.parent.updateDataArgs(eventArgs);\n            blazorArgs.modifiedTaskData = eventArgs.modifiedTaskData;\n            blazorArgs.data = eventArgs.data;\n        }\n        this.parent.trigger('actionBegin', eventArgs, function (eventArg) {\n            if (eventArg.cancel) {\n                var deleteRecords = _this.deletedTaskDetails;\n                for (var d = 0; d < deleteRecords.length; d++) {\n                    deleteRecords[d].isDelete = false;\n                }\n                _this.deletedTaskDetails = [];\n                _this.reUpdatePreviousRecords();\n                _this.parent.initiateEditAction(false);\n                _this.parent.hideSpinner();\n            }\n            else {\n                if (isRemoteData(_this.parent.dataSource)) {\n                    var data_1 = _this.parent.dataSource;\n                    // eslint-disable-next-line\n                    var updatedData_1 = {\n                        /* eslint-disable-next-line */\n                        deletedRecords: isBlazor() ? getTaskData(blazorArgs.data) : getTaskData(eventArg.data),\n                        changedRecords: isBlazor() ? blazorArgs.modifiedTaskData : eventArg.modifiedTaskData\n                    };\n                    if (isBlazor()) {\n                        var blazAddedRec = 'addedRecords';\n                        updatedData_1[blazAddedRec] = [];\n                    }\n                    var adaptor = data_1.adaptor;\n                    if (!(adaptor instanceof WebApiAdaptor && adaptor instanceof ODataAdaptor) || data_1.dataSource.batchUrl) {\n                        // eslint-disable-next-line\n                        var crud = data_1.saveChanges(updatedData_1, _this.parent.taskFields.id);\n                        /* eslint-disable-next-line */\n                        crud.then(function (e) { return _this.deleteSuccess(args); })\n                            // eslint-disable-next-line\n                            .catch(function (e) { return _this.dmFailure(e, args); });\n                    }\n                    else {\n                        var query_1 = _this.parent.query instanceof Query ? _this.parent.query : new Query();\n                        var deletedRecords = 'deletedRecords';\n                        // eslint-disable-next-line\n                        var deleteCrud = null;\n                        for (var i = 0; i < updatedData_1[deletedRecords].length; i++) {\n                            /* eslint-disable-next-line */\n                            deleteCrud = data_1.remove(_this.parent.taskFields.id, updatedData_1[deletedRecords][i], null, query_1);\n                        }\n                        /* eslint-disable-next-line */\n                        deleteCrud.then(function (e) {\n                            var changedRecords = 'changedRecords';\n                            /* eslint-disable-next-line */\n                            var updateCrud = data_1.update(_this.parent.taskFields.id, updatedData_1[changedRecords], null, query_1);\n                            /* eslint-disable-next-line */\n                            updateCrud.then(function (e) { return _this.deleteSuccess(args); })\n                                // eslint-disable-next-line\n                                .catch(function (e) { return _this.dmFailure(e, args); });\n                            // eslint-disable-next-line\n                        }).catch(function (e) { return _this.dmFailure(e, args); });\n                    }\n                }\n                else {\n                    _this.deleteSuccess(args);\n                }\n            }\n        });\n    };\n    Edit.prototype.deleteSuccess = function (args) {\n        var flatData = this.parent.flatData;\n        var currentData = this.parent.currentViewData;\n        var deletedRecords = this.parent.getRecordFromFlatdata(args.deletedRecordCollection);\n        var deleteRecordIDs = [];\n        for (var i = 0; i < deletedRecords.length; i++) {\n            var deleteRecord = deletedRecords[i];\n            var currentIndex = currentData.indexOf(deleteRecord);\n            var flatIndex = flatData.indexOf(deleteRecord);\n            var treeGridParentIndex = this.parent.treeGrid.parentData.indexOf(deleteRecord);\n            var tempData = getValue('dataOperation.dataArray', this.parent);\n            var dataIndex = tempData.indexOf(deleteRecord.taskData);\n            var childIndex = void 0;\n            if (currentIndex !== -1) {\n                currentData.splice(currentIndex, 1);\n            }\n            if (flatIndex !== -1) {\n                flatData.splice(flatIndex, 1);\n            }\n            if (dataIndex !== -1) {\n                tempData.splice(dataIndex, 1);\n            }\n            if (!isNullOrUndefined(deleteRecord)) {\n                deleteRecordIDs.push(deleteRecord.ganttProperties.rowUniqueID.toString());\n                if (flatIndex !== -1) {\n                    this.parent.ids.splice(flatIndex, 1);\n                    if (this.parent.viewType === 'ResourceView') {\n                        this.parent.getTaskIds().splice(flatIndex, 1);\n                    }\n                }\n                if (deleteRecord.level === 0 && treeGridParentIndex !== -1) {\n                    this.parent.treeGrid.parentData.splice(treeGridParentIndex, 1);\n                }\n                if (deleteRecord.parentItem) {\n                    var parentItem = this.parent.getParentTask(deleteRecord.parentItem);\n                    if (parentItem) {\n                        var childRecords = parentItem.childRecords;\n                        childIndex = childRecords.indexOf(deleteRecord);\n                        if (childIndex !== -1) {\n                            childRecords.splice(childIndex, 1);\n                        }\n                        if (!childRecords.length) {\n                            this.parent.setRecordValue('hasChildRecords', false, parentItem);\n                        }\n                    }\n                }\n                this.updateTreeGridUniqueID(deleteRecord, 'delete');\n            }\n        }\n        if (deleteRecordIDs.length > 0) {\n            this.removeFromDataSource(deleteRecordIDs);\n        }\n        var eventArgs = {};\n        this.parent.updatedConnectorLineCollection = [];\n        this.parent.connectorLineIds = [];\n        this.parent.predecessorModule.createConnectorLinesCollection(this.parent.flatData);\n        if (this.parent.taskFields.dependency) {\n            this.parent.predecessorModule.updatedRecordsDateByPredecessor();\n        }\n        this.parent.treeGrid.parentData = [];\n        this.parent.treeGrid.refresh();\n        if (this.parent.enableImmutableMode) {\n            this.refreshRecordInImmutableMode();\n        }\n        // Trigger actioncomplete event for delete action\n        eventArgs.requestType = 'delete';\n        eventArgs.data = args.deletedRecordCollection;\n        eventArgs.modifiedRecords = args.updatedRecordCollection;\n        eventArgs.modifiedTaskData = getTaskData(args.updatedRecordCollection);\n        setValue('action', args.action, eventArgs);\n        if (isBlazor()) {\n            this.parent.updateDataArgs(eventArgs);\n        }\n        this.parent.trigger('actionComplete', eventArgs);\n        this.deletedTaskDetails = [];\n        this.parent.initiateEditAction(false);\n        this.parent.hideSpinner();\n    };\n    /**\n     *\n     * @returns {number | string} .\n     * @private\n     */\n    Edit.prototype.getNewTaskId = function () {\n        var maxId = DataUtil.aggregates.max(this.parent.flatData, this.parent.taskFields.id);\n        if (!isNullOrUndefined(maxId)) {\n            return parseInt(maxId.toString(), 10) + 1;\n        }\n        else {\n            return 1;\n        }\n    };\n    /**\n     * @param {object} obj .\n     * @param {RowPosition} rowPosition .\n     * @returns {void} .\n     * @private\n     */\n    // eslint-disable-next-line\n    Edit.prototype.prepareNewlyAddedData = function (obj, rowPosition) {\n        var taskModel = this.parent.taskFields;\n        var id;\n        var ids = this.parent.ids;\n        /*Validate Task Id of data*/\n        if (obj[taskModel.id]) {\n            if (ids.indexOf(obj[taskModel.id].toString()) !== -1) {\n                obj[taskModel.id] = null;\n            }\n            else {\n                obj[taskModel.id] = isNullOrUndefined(obj[taskModel.id]) ? null : parseInt(obj[taskModel.id], 10);\n            }\n        }\n        if (!obj[taskModel.id]) {\n            id = this.getNewTaskId();\n            obj[taskModel.id] = id;\n        }\n        if (taskModel.name && !obj[taskModel.name]) {\n            obj[taskModel.name] = 'New Task' + ' ' + obj[taskModel.id];\n        }\n        if (!this.parent.allowUnscheduledTasks && !obj[taskModel.startDate]) {\n            obj[taskModel.startDate] = this.parent.projectStartDate;\n        }\n        if (!this.parent.allowUnscheduledTasks && taskModel.duration && isNullOrUndefined(obj[taskModel.duration])) {\n            if (!obj[taskModel.endDate]) {\n                obj[taskModel.duration] = '5';\n            }\n        }\n        if (taskModel.progress) {\n            obj[taskModel.progress] = obj[taskModel.progress] ? (obj[taskModel.progress] > 100 ? 100 : obj[taskModel.progress]) : 0;\n        }\n        if (!this.parent.allowUnscheduledTasks && !obj[taskModel.endDate] && taskModel.endDate) {\n            if (!obj[taskModel.duration]) {\n                var startDate = this.parent.dataOperation.getDateFromFormat(this.parent.projectStartDate);\n                startDate.setDate(startDate.getDate() + 4);\n                obj[taskModel.endDate] = this.parent.getFormatedDate(startDate, this.parent.getDateFormat());\n            }\n        }\n    };\n    /**\n     * @param {object} obj .\n     * @param {number} level .\n     * @param {RowPosition} rowPosition .\n     * @param {IGanttData} parentItem .\n     * @returns {IGanttData} .\n     * @private\n     */\n    Edit.prototype.updateNewlyAddedDataBeforeAjax = function (\n    // eslint-disable-next-line\n    obj, level, rowPosition, parentItem) {\n        var cAddedRecord = this.parent.dataOperation.createRecord(obj, level);\n        cAddedRecord.index = parseInt(cAddedRecord.ganttProperties.rowUniqueID.toString(), 10) - 1;\n        if (!isNullOrUndefined(parentItem)) {\n            this.parent.setRecordValue('parentItem', this.parent.dataOperation.getCloneParent(parentItem), cAddedRecord);\n            var pIndex = cAddedRecord.parentItem ? cAddedRecord.parentItem.index : null;\n            this.parent.setRecordValue('parentIndex', pIndex, cAddedRecord);\n            var parentUniqId = cAddedRecord.parentItem ? cAddedRecord.parentItem.uniqueID : null;\n            this.parent.setRecordValue('parentUniqueID', parentUniqId, cAddedRecord);\n            if (!isNullOrUndefined(this.parent.taskFields.id) &&\n                !isNullOrUndefined(this.parent.taskFields.parentID) && cAddedRecord.parentItem) {\n                this.parent.setRecordValue(this.parent.taskFields.parentID, cAddedRecord.parentItem.taskId, cAddedRecord.taskData, true);\n                this.parent.setRecordValue('parentId', cAddedRecord.parentItem.taskId, cAddedRecord.ganttProperties, true);\n                this.parent.setRecordValue(this.parent.taskFields.parentID, cAddedRecord.parentItem.taskId, cAddedRecord, true);\n            }\n        }\n        this.parent.isOnEdit = true;\n        this.backUpAndPushNewlyAddedRecord(cAddedRecord, rowPosition, parentItem);\n        // need to push in dataSource also.\n        if (this.parent.taskFields.dependency && cAddedRecord.ganttProperties.predecessorsName) {\n            this.parent.predecessorModule.ensurePredecessorCollectionHelper(cAddedRecord, cAddedRecord.ganttProperties);\n            this.parent.predecessorModule.updatePredecessorHelper(cAddedRecord);\n            this.parent.predecessorModule.validatePredecessorDates(cAddedRecord);\n        }\n        else {\n            if (cAddedRecord.parentItem && this.parent.getParentTask(cAddedRecord.parentItem).ganttProperties.isAutoSchedule) {\n                this.parent.dataOperation.updateParentItems(cAddedRecord.parentItem);\n            }\n        }\n        return cAddedRecord;\n    };\n    /**\n     * @param {IGanttData} record .\n     * @param {number} count .\n     * @returns {number} .\n     * @private\n     */\n    Edit.prototype.getChildCount = function (record, count) {\n        var currentRecord;\n        if (!record.hasChildRecords) {\n            return 0;\n        }\n        for (var i = 0; i < record.childRecords.length; i++) {\n            currentRecord = record.childRecords[i];\n            count++;\n            if (currentRecord.hasChildRecords) {\n                count = this.getChildCount(currentRecord, count);\n            }\n        }\n        return count;\n    };\n    /**\n     * @param {IGanttData} data .\n     * @param {number} count .\n     * @param {IGanttData[]} collection .\n     * @returns {number} .\n     * @private\n     */\n    Edit.prototype.getVisibleChildRecordCount = function (data, count, collection) {\n        var childRecords;\n        var length;\n        if (data.hasChildRecords) {\n            childRecords = data.childRecords;\n            length = childRecords.length;\n            for (var i = 0; i < length; i++) {\n                if (collection.indexOf(childRecords[i]) !== -1) {\n                    count++;\n                }\n                if (childRecords[i].hasChildRecords) {\n                    count = this.getVisibleChildRecordCount(childRecords[i], count, collection);\n                }\n            }\n        }\n        else {\n            if (collection.indexOf(data) !== -1) {\n                count++;\n            }\n        }\n        return count;\n    };\n    /**\n     * @param {IGanttData} parentRecord .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.updatePredecessorOnIndentOutdent = function (parentRecord) {\n        var len = parentRecord.ganttProperties.predecessor.length;\n        var parentRecordTaskData = parentRecord.ganttProperties;\n        var predecessorCollection = parentRecordTaskData.predecessor;\n        var childRecord;\n        var predecessorIndex;\n        var updatedPredecessor = [];\n        for (var count = 0; count < len; count++) {\n            if (predecessorCollection[count].to === parentRecordTaskData.rowUniqueID.toString()) {\n                childRecord = this.parent.getRecordByID(predecessorCollection[count].from);\n                predecessorIndex = getIndex(predecessorCollection[count], 'from', childRecord.ganttProperties.predecessor, 'to');\n                // eslint-disable-next-line\n                var predecessorCollections = (extend([], childRecord.ganttProperties.predecessor, [], true));\n                predecessorCollections.splice(predecessorIndex, 1);\n                this.parent.setRecordValue('predecessor', predecessorCollections, childRecord.ganttProperties, true);\n            }\n            else if (predecessorCollection[count].from === parentRecordTaskData.rowUniqueID.toString()) {\n                childRecord = this.parent.getRecordByID(predecessorCollection[count].to);\n                var prdcList = (childRecord.ganttProperties.predecessorsName.toString()).split(',');\n                var str = predecessorCollection[count].from + predecessorCollection[count].type;\n                var ind = prdcList.indexOf(str);\n                prdcList.splice(ind, 1);\n                this.parent.setRecordValue('predecessorsName', prdcList.join(','), childRecord.ganttProperties, true);\n                this.parent.setRecordValue(this.parent.taskFields.dependency, prdcList.join(','), childRecord);\n                predecessorIndex = getIndex(predecessorCollection[count], 'from', childRecord.ganttProperties.predecessor, 'to');\n                // eslint-disable-next-line\n                var temppredecessorCollection = (extend([], childRecord.ganttProperties.predecessor, [], true));\n                temppredecessorCollection.splice(predecessorIndex, 1);\n                this.parent.setRecordValue('predecessor', temppredecessorCollection, childRecord.ganttProperties, true);\n                this.parent.predecessorModule.validatePredecessorDates(childRecord);\n            }\n        }\n        this.parent.setRecordValue('predecessor', updatedPredecessor, parentRecord.ganttProperties, true);\n        this.parent.setRecordValue('predecessorsName', '', parentRecord.ganttProperties, true);\n    };\n    /**\n     * @param {IPredecessor[]} predecessorCollection .\n     * @param {IGanttData} record .\n     * @returns {string} .\n     * @private\n     */\n    Edit.prototype.predecessorToString = function (predecessorCollection, record) {\n        var predecessorString = [];\n        var count = 0;\n        var length = predecessorCollection.length;\n        for (count; count < length; count++) {\n            if (record.ganttProperties.rowUniqueID.toString() !== predecessorCollection[count].from) {\n                var tem = predecessorCollection[count].from + predecessorCollection[count].type;\n                predecessorCollection[count].offset =\n                    isNaN(predecessorCollection[count].offset) ? 0 : predecessorCollection[count].offset;\n                if (predecessorCollection[count].offset !== 0) {\n                    if (predecessorCollection[count].offset < 0) {\n                        tem += predecessorCollection[count].offset.toString() + 'd';\n                    }\n                    else if (predecessorCollection[count].offset > 0) {\n                        tem += '+' + predecessorCollection[count].offset.toString() + 'd';\n                    }\n                }\n                predecessorString.push(tem);\n            }\n        }\n        return predecessorString.join(',');\n    };\n    /**\n     * @param {IGanttData} record .\n     * @param {RowPosition} rowPosition .\n     * @param {IGanttData} parentItem .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.backUpAndPushNewlyAddedRecord = function (record, rowPosition, parentItem) {\n        var flatRecords = this.parent.flatData;\n        var currentViewData = this.parent.currentViewData;\n        var ids = this.parent.ids;\n        var currentItemIndex;\n        var recordIndex;\n        var updatedCollectionIndex;\n        var childIndex;\n        switch (rowPosition) {\n            case 'Top':\n                flatRecords.splice(0, 0, record);\n                currentViewData.splice(0, 0, record);\n                ids.splice(0, 0, record.ganttProperties.rowUniqueID.toString()); // need to check NAN\n                break;\n            case 'Bottom':\n                flatRecords.push(record);\n                currentViewData.push(record);\n                ids.push(record.ganttProperties.rowUniqueID.toString()); // need to check NAN\n                if (this.parent.viewType === 'ResourceView') {\n                    var taskId = record.level === 0 ? 'R' + record.ganttProperties.taskId : 'T' + record.ganttProperties.taskId;\n                    this.parent.getTaskIds().push(taskId);\n                }\n                break;\n            case 'Above':\n                /*Record Updates*/\n                recordIndex = flatRecords.indexOf(this.addRowSelectedItem);\n                updatedCollectionIndex = currentViewData.indexOf(this.addRowSelectedItem);\n                this.recordCollectionUpdate(childIndex, recordIndex, updatedCollectionIndex, record, parentItem);\n                break;\n            case 'Below':\n                currentItemIndex = flatRecords.indexOf(this.addRowSelectedItem);\n                if (this.addRowSelectedItem.hasChildRecords) {\n                    var dataChildCount = this.getChildCount(this.addRowSelectedItem, 0);\n                    recordIndex = currentItemIndex + dataChildCount + 1;\n                    updatedCollectionIndex = currentViewData.indexOf(this.addRowSelectedItem) +\n                        this.getVisibleChildRecordCount(this.addRowSelectedItem, 0, currentViewData) + 1;\n                }\n                else {\n                    recordIndex = currentItemIndex + 1;\n                    updatedCollectionIndex = currentViewData.indexOf(this.addRowSelectedItem) + 1;\n                }\n                this.recordCollectionUpdate(childIndex + 1, recordIndex, updatedCollectionIndex, record, parentItem);\n                break;\n            case 'Child':\n                currentItemIndex = flatRecords.indexOf(this.addRowSelectedItem);\n                if (this.addRowSelectedItem.hasChildRecords) {\n                    var dataChildCount = this.getChildCount(this.addRowSelectedItem, 0);\n                    recordIndex = currentItemIndex + dataChildCount + 1;\n                    //Expand Add record's parent item for project view\n                    if (!this.addRowSelectedItem.expanded && !this.parent.enableMultiTaskbar) {\n                        this.parent.expandByID(Number(this.addRowSelectedItem.ganttProperties.rowUniqueID));\n                    }\n                    updatedCollectionIndex = currentViewData.indexOf(this.addRowSelectedItem) +\n                        this.getVisibleChildRecordCount(this.addRowSelectedItem, 0, currentViewData) + 1;\n                }\n                else {\n                    this.parent.setRecordValue('hasChildRecords', true, this.addRowSelectedItem);\n                    this.parent.setRecordValue('isMilestone', false, this.addRowSelectedItem.ganttProperties, true);\n                    this.parent.setRecordValue('expanded', true, this.addRowSelectedItem);\n                    this.parent.setRecordValue('childRecords', [], this.addRowSelectedItem);\n                    recordIndex = currentItemIndex + 1;\n                    updatedCollectionIndex = currentViewData.indexOf(this.addRowSelectedItem) + 1;\n                    if (this.addRowSelectedItem.ganttProperties.predecessor) {\n                        this.updatePredecessorOnIndentOutdent(this.addRowSelectedItem);\n                    }\n                    if (!isNullOrUndefined(this.addRowSelectedItem.ganttProperties.segments)) {\n                        this.addRowSelectedItem.ganttProperties.segments = null;\n                    }\n                }\n                this.recordCollectionUpdate(childIndex + 1, recordIndex, updatedCollectionIndex, record, parentItem);\n                break;\n        }\n        this.newlyAddedRecordBackup = record;\n    };\n    /**\n     * @param {number} childIndex .\n     * @param {number} recordIndex .\n     * @param {number} updatedCollectionIndex .\n     * @param {IGanttData} record .\n     * @param {IGanttData} parentItem .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.recordCollectionUpdate = function (childIndex, recordIndex, updatedCollectionIndex, record, parentItem) {\n        var flatRecords = this.parent.flatData;\n        var currentViewData = this.parent.currentViewData;\n        var ids = this.parent.ids;\n        /* Record collection update */\n        flatRecords.splice(recordIndex, 0, record);\n        currentViewData.splice(updatedCollectionIndex, 0, record);\n        ids.splice(recordIndex, 0, record.ganttProperties.rowUniqueID.toString());\n        if (this.parent.viewType === 'ResourceView') {\n            var taskId = record.level === 0 ? 'R' + record.ganttProperties.taskId : 'T' + record.ganttProperties.taskId;\n            this.parent.getTaskIds().splice(recordIndex, 0, taskId);\n        }\n        /* data Source update */\n        if (!isNullOrUndefined(parentItem)) {\n            childIndex = parentItem.childRecords.indexOf(this.addRowSelectedItem);\n            /*Child collection update*/\n            parentItem.childRecords.splice(childIndex, 0, record);\n            if (this.parent.dataSource instanceof DataManager &&\n                isNullOrUndefined(parentItem.taskData[this.parent.taskFields.parentID])) {\n                var child = this.parent.taskFields.child;\n                if (parentItem.taskData[child] && parentItem.taskData[child].length > 0) {\n                    parentItem.taskData[child].push(record.taskData);\n                }\n                else {\n                    parentItem.taskData[child] = [];\n                    parentItem.taskData[child].push(record.taskData);\n                }\n            }\n        }\n    };\n    /**\n     * @param {IGanttData} cAddedRecord .\n     * @param {IGanttData} modifiedRecords .\n     * @param {string} event .\n     * @returns {ITaskAddedEventArgs} .\n     * @private\n     */\n    Edit.prototype.constructTaskAddedEventArgs = function (cAddedRecord, modifiedRecords, event) {\n        var eventArgs = {};\n        eventArgs.action = eventArgs.requestType = event;\n        eventArgs.data = cAddedRecord;\n        eventArgs.newTaskData = getTaskData([cAddedRecord])[0];\n        eventArgs.recordIndex = cAddedRecord.index;\n        eventArgs.modifiedRecords = modifiedRecords;\n        eventArgs.modifiedTaskData = getTaskData(modifiedRecords);\n        return eventArgs;\n    };\n    /**\n     * @param {ITaskAddedEventArgs} args .\n     * @returns {void} .\n     * @private\n     */\n    // eslint-disable-next-line\n    Edit.prototype.addSuccess = function (args) {\n        // let addedRecords: IGanttData = args.addedRecord;\n        // let eventArgs: IActionBeginEventArgs = {};\n        // this.parent.updatedConnectorLineCollection = [];\n        // this.parent.connectorLineIds = [];\n        // this.parent.predecessorModule.createConnectorLinesCollection(this.parent.flatData);\n        this.parent.treeGrid.parentData = [];\n        this.parent.treeGrid.refresh();\n        if (this.parent.enableImmutableMode) {\n            this.refreshRecordInImmutableMode();\n        }\n    };\n    Edit.prototype.refreshRecordInImmutableMode = function () {\n        for (var i = 0; i < this.parent.editedRecords.length; i++) {\n            var originalData = this.parent.editedRecords[i];\n            var dataId = this.parent.viewType === 'ProjectView' ?\n                originalData.ganttProperties.taskId : originalData.ganttProperties.rowUniqueID;\n            this.parent.treeGrid.grid.setRowData(dataId, originalData);\n        }\n    };\n    /**\n     * @param {IGanttData} addedRecord .\n     * @param {RowPosition} rowPosition .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.updateRealDataSource = function (addedRecord, rowPosition) {\n        var taskFields = this.parent.taskFields;\n        // eslint-disable-next-line\n        var dataSource = isCountRequired(this.parent) ? getValue('result', this.parent.dataSource) :\n            this.parent.dataSource; // eslint-disable-line\n        if (rowPosition === 'Top') {\n            dataSource.splice(0, 0, addedRecord.taskData);\n        }\n        else if (rowPosition === 'Bottom') {\n            dataSource.push(addedRecord);\n        }\n        else {\n            if (!isNullOrUndefined(taskFields.id) && !isNullOrUndefined(taskFields.parentID)) {\n                dataSource.push(addedRecord.taskData);\n            }\n            else {\n                this.addDataInRealDataSource(dataSource, addedRecord.taskData, rowPosition);\n            }\n        }\n        this.isBreakLoop = false;\n    };\n    /**\n     * @param {object[]} dataCollection .\n     * @param {IGanttData} record .\n     * @param {RowPosition} rowPosition .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.addDataInRealDataSource = function (\n    // eslint-disable-next-line\n    dataCollection, record, rowPosition) {\n        for (var i = 0; i < dataCollection.length; i++) {\n            var child = this.parent.taskFields.child;\n            if (this.isBreakLoop) {\n                break;\n            }\n            if (getValue(this.parent.taskFields.id, dataCollection[i]).toString() ===\n                this.addRowSelectedItem.ganttProperties.rowUniqueID.toString()) {\n                if (rowPosition === 'Above') {\n                    dataCollection.splice(i, 0, record);\n                }\n                else if (rowPosition === 'Below') {\n                    dataCollection.splice(i + 1, 0, record);\n                }\n                else if (rowPosition === 'Child') {\n                    if (dataCollection[i][child] && dataCollection[i][child].length > 0) {\n                        dataCollection[i][child].push(record);\n                    }\n                    else {\n                        dataCollection[i][child] = [];\n                        dataCollection[i][child].push(record);\n                    }\n                }\n                this.isBreakLoop = true;\n                break;\n            }\n            else if (dataCollection[i][child]) {\n                var childRecords = dataCollection[i][child];\n                this.addDataInRealDataSource(childRecords, record, rowPosition);\n            }\n        }\n    };\n    /**\n     * Method to add new record.\n     *\n     * @param {Object | IGanttData} data - Defines the new data to add.\n     * @param {RowPosition} rowPosition - Defines the position of row.\n     * @param {number} rowIndex - Defines the row index.\n     * @returns {void} .\n     * @private\n     */\n    // eslint-disable-next-line\n    Edit.prototype.addRecord = function (data, rowPosition, rowIndex) {\n        var _this = this;\n        if (this.parent.editModule && this.parent.editSettings.allowAdding) {\n            var selectedRowIndex = isNullOrUndefined(rowIndex) || isNaN(parseInt(rowIndex.toString(), 10)) ?\n                this.parent.selectionModule ?\n                    (this.parent.selectionSettings.mode === 'Row' || this.parent.selectionSettings.mode === 'Both') &&\n                        this.parent.selectionModule.selectedRowIndexes.length === 1 ?\n                        this.parent.updatedRecords.indexOf(this.parent.selectionModule.getSelectedRecords()[0]) :\n                        this.parent.selectionSettings.mode === 'Cell' &&\n                            this.parent.selectionModule.getSelectedRowCellIndexes().length === 1 ?\n                            this.parent.selectionModule.getSelectedRowCellIndexes()[0].rowIndex : null : null : rowIndex;\n            this.addRowSelectedItem = isNullOrUndefined(selectedRowIndex) ? null : this.parent.updatedRecords[selectedRowIndex];\n            rowPosition = isNullOrUndefined(rowPosition) ? this.parent.editSettings.newRowPosition : rowPosition;\n            data = isNullOrUndefined(data) ? this.parent.editModule.dialogModule.composeAddRecord() : data;\n            if (((isNullOrUndefined(selectedRowIndex) || selectedRowIndex < 0 ||\n                isNullOrUndefined(this.addRowSelectedItem)) && (rowPosition === 'Above'\n                || rowPosition === 'Below'\n                || rowPosition === 'Child')) || !rowPosition || (rowPosition !== 'Above'\n                && rowPosition !== 'Below'\n                && rowPosition !== 'Child' && rowPosition !== 'Top' &&\n                rowPosition !== 'Bottom')) {\n                rowPosition = 'Top';\n            }\n            var level = 0;\n            var args = {};\n            var parentItem = void 0;\n            switch (rowPosition) {\n                case 'Top':\n                case 'Bottom':\n                    level = 0;\n                    break;\n                case 'Above':\n                case 'Below':\n                    level = this.addRowSelectedItem.level;\n                    parentItem = this.parent.getParentTask(this.addRowSelectedItem.parentItem);\n                    break;\n                case 'Child':\n                    level = this.addRowSelectedItem.level + 1;\n                    parentItem = this.addRowSelectedItem;\n                    break;\n            }\n            //Add Action Init.\n            this.prepareNewlyAddedData(data, rowPosition);\n            var cAddedRecord_1 = this.updateNewlyAddedDataBeforeAjax(data, level, rowPosition, parentItem);\n            args = this.constructTaskAddedEventArgs(cAddedRecord_1, this.parent.editedRecords, 'beforeAdd');\n            this.parent.showSpinner();\n            var blazorArgs_1 = {};\n            if (isBlazor()) {\n                if (!Array.isArray(args.data)) {\n                    var customData = [];\n                    customData.push(args.data);\n                    setValue('data', customData, args);\n                }\n                blazorArgs_1 = __assign({}, args);\n            }\n            this.parent.trigger('actionBegin', args, function (args) {\n                if (!args.cancel) {\n                    if (isBlazor()) {\n                        blazorArgs_1.data = blazorArgs_1.data[0];\n                        args = blazorArgs_1;\n                        _this._resetProperties();\n                    }\n                    if (isRemoteData(_this.parent.dataSource)) {\n                        var data_2 = _this.parent.dataSource;\n                        // eslint-disable-next-line\n                        var updatedData_2 = {\n                            addedRecords: [args.newTaskData],\n                            changedRecords: args.modifiedTaskData\n                        };\n                        var prevID_1 = args.data.ganttProperties.taskId.toString();\n                        var query_2 = _this.parent.query instanceof Query ? _this.parent.query : new Query();\n                        var adaptor = data_2.adaptor;\n                        if (!(adaptor instanceof WebApiAdaptor && adaptor instanceof ODataAdaptor) || data_2.dataSource.batchUrl) {\n                            /* eslint-disable-next-line */\n                            var crud = data_2.saveChanges(updatedData_2, _this.parent.taskFields.id, null, query_2);\n                            // eslint-disable-next-line\n                            crud.then(function (e) {\n                                if (_this.parent.taskFields.id && !isNullOrUndefined(e.addedRecords[0][_this.parent.taskFields.id]) &&\n                                    e.addedRecords[0][_this.parent.taskFields.id].toString() !== prevID_1) {\n                                    _this.parent.setRecordValue('taskId', e.addedRecords[0][_this.parent.taskFields.id], args.data.ganttProperties, true);\n                                    _this.parent.setRecordValue('taskData.' + _this.parent.taskFields.id, e.addedRecords[0][_this.parent.taskFields.id], args.data);\n                                    _this.parent.setRecordValue(_this.parent.taskFields.id, e.addedRecords[0][_this.parent.taskFields.id], args.data);\n                                    _this.parent.setRecordValue('rowUniqueID', e.addedRecords[0][_this.parent.taskFields.id].toString(), args.data.ganttProperties, true);\n                                    var idsIndex = _this.parent.ids.indexOf(prevID_1);\n                                    if (idsIndex !== -1) {\n                                        _this.parent.ids[idsIndex] = e.addedRecords[0][_this.parent.taskFields.id].toString();\n                                    }\n                                }\n                                _this.updateNewRecord(cAddedRecord_1, args);\n                                // eslint-disable-next-line\n                            }).catch(function (e) {\n                                _this.removeAddedRecord();\n                                // eslint-disable-next-line\n                                _this.dmFailure(e, args);\n                                _this._resetProperties();\n                            });\n                        }\n                        else {\n                            var addedRecords = 'addedRecords';\n                            // eslint-disable-next-line\n                            var insertCrud = data_2.insert(updatedData_2[addedRecords], null, query_2);\n                            insertCrud.then(function (e) {\n                                var changedRecords = 'changedRecords';\n                                // eslint-disable-next-line\n                                var addedRecords = e[0];\n                                /* eslint-disable-next-line */\n                                var updateCrud = data_2.update(_this.parent.taskFields.id, updatedData_2[changedRecords], null, query_2);\n                                /* eslint-disable-next-line */\n                                updateCrud.then(function (e) {\n                                    if (_this.parent.taskFields.id && !isNullOrUndefined(addedRecords[_this.parent.taskFields.id]) &&\n                                        addedRecords[_this.parent.taskFields.id].toString() !== prevID_1) {\n                                        _this.parent.setRecordValue('taskId', addedRecords[_this.parent.taskFields.id], args.data.ganttProperties, true);\n                                        _this.parent.setRecordValue('taskData.' + _this.parent.taskFields.id, addedRecords[_this.parent.taskFields.id], args.data);\n                                        _this.parent.setRecordValue(_this.parent.taskFields.id, addedRecords[_this.parent.taskFields.id], args.data);\n                                        _this.parent.setRecordValue('rowUniqueID', addedRecords[_this.parent.taskFields.id].toString(), args.data.ganttProperties, true);\n                                        var idIndex = _this.parent.ids.indexOf(prevID_1);\n                                        if (idIndex !== -1) {\n                                            _this.parent.ids[idIndex] = addedRecords[_this.parent.taskFields.id].toString();\n                                        }\n                                    }\n                                    _this.updateNewRecord(cAddedRecord_1, args);\n                                    // eslint-disable-next-line\n                                }).catch(function (e) {\n                                    _this.removeAddedRecord();\n                                    // eslint-disable-next-line\n                                    _this.dmFailure(e, args);\n                                    _this._resetProperties();\n                                });\n                                // eslint-disable-next-line\n                            }).catch(function (e) {\n                                _this.removeAddedRecord();\n                                // eslint-disable-next-line\n                                _this.dmFailure(e, args);\n                                _this._resetProperties();\n                            });\n                        }\n                    }\n                    else {\n                        _this.updateRealDataSource(args.data, rowPosition);\n                        if (cAddedRecord_1.level === 0) {\n                            _this.parent.treeGrid.parentData.splice(0, 0, cAddedRecord_1);\n                        }\n                        _this.updateTreeGridUniqueID(cAddedRecord_1, 'add');\n                        _this.refreshNewlyAddedRecord(args, cAddedRecord_1);\n                        _this._resetProperties();\n                    }\n                }\n                else {\n                    args = isBlazor() ? blazorArgs_1 : args;\n                    _this.removeAddedRecord();\n                    _this.reUpdatePreviousRecords();\n                    if (_this.dialogModule.dialog && !_this.dialogModule.dialogObj.isDestroyed) {\n                        _this.dialogModule.dialogObj.hide();\n                    }\n                    _this.dialogModule.dialogClose();\n                    _this._resetProperties();\n                }\n            });\n        }\n    };\n    Edit.prototype.updateNewRecord = function (cAddedRecord, args) {\n        if (cAddedRecord.level === 0) {\n            this.parent.treeGrid.parentData.splice(0, 0, cAddedRecord);\n            var tempData = getValue('dataOperation.dataArray', this.parent);\n            tempData.splice(0, 0, cAddedRecord.taskData);\n        }\n        this.updateTreeGridUniqueID(cAddedRecord, 'add');\n        this.refreshNewlyAddedRecord(args, cAddedRecord);\n        this._resetProperties();\n    };\n    /**\n     * Method to reset the flag after adding new record\n     *\n     * @returns {void} .\n     */\n    Edit.prototype._resetProperties = function () {\n        this.parent.isOnEdit = false;\n        this.parent.hideSpinner();\n        this.addRowSelectedItem = null;\n        this.newlyAddedRecordBackup = null;\n        this.isBreakLoop = false;\n        this.parent.element.tabIndex = 0;\n        this.parent.initiateEditAction(false);\n    };\n    /**\n     * Method to update unique id collection in TreeGrid\n     *\n     * @param {IGanttData} data .\n     * @param {string} action .\n     * @returns {void} .\n     */\n    Edit.prototype.updateTreeGridUniqueID = function (data, action) {\n        if (action === 'add') {\n            setValue('uniqueIDCollection.' + data.uniqueID, data, this.parent.treeGrid);\n        }\n        else if (action === 'delete') {\n            deleteObject(getValue('uniqueIDCollection', this.parent.treeGrid), data.uniqueID);\n        }\n    };\n    Edit.prototype.refreshNewlyAddedRecord = function (args, cAddedRecord) {\n        if (this.parent.selectionModule && this.parent.allowSelection &&\n            (this.parent.selectionSettings.mode === 'Row' || this.parent.selectionSettings.mode === 'Both')) {\n            this.parent.staticSelectedRowIndex = this.parent.currentViewData.indexOf(args.data);\n        }\n        if (this.parent.timelineSettings.updateTimescaleView) {\n            var tempArray = [];\n            if (args.modifiedRecords.length > 0) {\n                tempArray.push(args.data);\n                // eslint-disable-next-line\n                tempArray.push.apply(tempArray, args.modifiedRecords);\n            }\n            else {\n                tempArray = [args.data];\n            }\n            this.parent.timelineModule.updateTimeLineOnEditing(tempArray, args.action);\n        }\n        this.addSuccess(args);\n        args = this.constructTaskAddedEventArgs(cAddedRecord, args.modifiedRecords, 'add');\n        if (isBlazor()) {\n            this.parent.updateDataArgs(args);\n        }\n        this.parent.trigger('actionComplete', args);\n        if (this.dialogModule.dialog && !this.dialogModule.dialogObj.isDestroyed) {\n            this.dialogModule.dialogObj.hide();\n        }\n        this.dialogModule.dialogClose();\n        if (this.parent.viewType === 'ResourceView') {\n            args.data.ganttProperties.sharedTaskUniqueIds.push(args.data.ganttProperties.rowUniqueID);\n            if (args.data.ganttProperties.resourceInfo.length) {\n                if (args.data.ganttProperties.resourceInfo.length > 1) {\n                    // eslint-disable-next-line\n                    var resources = extend([], [], args.data.ganttProperties.resourceInfo, true);\n                    resources.splice(0, 1);\n                    this.updateResoures([], resources, args.data);\n                }\n            }\n            else {\n                this.removeChildRecord(args.data);\n                this.parent.editModule.checkWithUnassignedTask(args.data);\n            }\n            for (var k = 0; k < this.updateParentRecords.length; k++) {\n                this.parent.dataOperation.updateParentItems(this.updateParentRecords[k]);\n            }\n            this.updateParentRecords = [];\n        }\n    };\n    /**\n     *\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.removeAddedRecord = function () {\n        var flatRecords = this.parent.flatData;\n        var currentViewData = this.parent.currentViewData;\n        var ids = this.parent.ids;\n        var flatRecordsIndex = flatRecords.indexOf(this.newlyAddedRecordBackup);\n        var currentViewDataIndex = currentViewData.indexOf(this.newlyAddedRecordBackup);\n        var idsIndex = ids.indexOf(this.newlyAddedRecordBackup.ganttProperties.rowUniqueID.toString());\n        deleteObject(this.parent.previousRecords, flatRecords[flatRecordsIndex].uniqueID);\n        if (this.newlyAddedRecordBackup.parentItem) {\n            var parentItem = this.parent.getParentTask(this.newlyAddedRecordBackup.parentItem);\n            var parentIndex = parentItem.childRecords.indexOf(this.newlyAddedRecordBackup);\n            parentItem.childRecords.splice(parentIndex, 1);\n        }\n        flatRecords.splice(flatRecordsIndex, 1);\n        currentViewData.splice(currentViewDataIndex, 1);\n        ids.splice(idsIndex, 1);\n    };\n    Edit.prototype.getPrevRecordIndex = function () {\n        var prevRecord = this.parent.updatedRecords[this.parent.selectionModule.getSelectedRowIndexes()[0] - 1];\n        var selectedRecord = this.parent.selectionModule.getSelectedRecords()[0];\n        var parent = this.parent.getRootParent(prevRecord, selectedRecord.level);\n        var prevIndex = this.parent.updatedRecords.indexOf(parent);\n        return prevIndex;\n    };\n    /**\n     * indent a selected record\n     *\n     * @returns {void} .\n     */\n    Edit.prototype.indent = function () {\n        var index = this.parent.selectedRowIndex;\n        var isSelected = this.parent.selectionModule ? this.parent.selectionModule.selectedRowIndexes.length === 1 ||\n            this.parent.selectionModule.getSelectedRowCellIndexes().length === 1 ? true : false : false;\n        var dropIndex;\n        var prevRecord = this.parent.updatedRecords[this.parent.selectionModule.getSelectedRowIndexes()[0] - 1];\n        var selectedRecord = this.parent.selectionModule.getSelectedRecords()[0];\n        if (!this.parent.editSettings.allowEditing || index === 0 || index === -1 || !isSelected ||\n            this.parent.viewType === 'ResourceView' || this.parent.updatedRecords[index].level - prevRecord.level === 1) {\n            return;\n        }\n        else {\n            if (prevRecord.level - selectedRecord.level === 0) {\n                dropIndex = this.parent.selectionModule.getSelectedRowIndexes()[0] - 1;\n            }\n            else {\n                dropIndex = this.getPrevRecordIndex();\n            }\n            this.indentOutdentRow([this.parent.selectionModule.getSelectedRowIndexes()[0]], dropIndex, 'child');\n        }\n    };\n    /**\n     * To perform outdent operation for selected row\n     *\n     * @returns {void} .\n     */\n    Edit.prototype.outdent = function () {\n        var index = this.parent.selectionModule.getSelectedRowIndexes()[0];\n        var dropIndex;\n        var isSelected = this.parent.selectionModule ? this.parent.selectionModule.selectedRowIndexes.length === 1 ||\n            this.parent.selectionModule.getSelectedRowCellIndexes().length === 1 ? true : false : false;\n        if (!this.parent.editSettings.allowEditing || index === -1 || index === 0 || !isSelected ||\n            this.parent.viewType === 'ResourceView' || this.parent.updatedRecords[index].level === 0) {\n            return;\n        }\n        else {\n            var thisParent = this.parent.getTaskByUniqueID(this.parent.selectionModule.getSelectedRecords()[0].parentItem.uniqueID);\n            dropIndex = this.parent.updatedRecords.indexOf(thisParent);\n            this.indentOutdentRow([index], dropIndex, 'below');\n        }\n    };\n    Edit.prototype.indentOutdentRow = function (fromIndexes, toIndex, pos) {\n        var _this = this;\n        // eslint-disable-next-line\n        if (fromIndexes[0] !== toIndex && pos === 'above' || 'below' || 'child') {\n            if (pos === 'above') {\n                this.dropPosition = 'topSegment';\n            }\n            if (pos === 'below') {\n                this.dropPosition = 'bottomSegment';\n            }\n            if (pos === 'child') {\n                this.dropPosition = 'middleSegment';\n            }\n            var action = void 0;\n            var record = [];\n            for (var i = 0; i < fromIndexes.length; i++) {\n                record[i] = this.parent.updatedRecords[fromIndexes[i]];\n            }\n            var isByMethod_1 = true;\n            var args_1 = {\n                data: record,\n                dropIndex: toIndex,\n                dropPosition: this.dropPosition\n            };\n            if (this.dropPosition === 'middleSegment') {\n                action = 'indenting';\n            }\n            else if (this.dropPosition === 'bottomSegment') {\n                action = 'outdenting';\n            }\n            var actionArgs = {\n                action: action,\n                data: record[0],\n                cancel: false\n            };\n            this.parent.trigger('actionBegin', actionArgs, function (actionArg) {\n                if (!actionArg.cancel) {\n                    _this.reArrangeRows(args_1, isByMethod_1);\n                }\n                else {\n                    return;\n                }\n            });\n        }\n        else {\n            return;\n        }\n    };\n    Edit.prototype.reArrangeRows = function (args, isByMethod) {\n        var _this = this;\n        this.dropPosition = args.dropPosition;\n        if (args.dropPosition !== 'Invalid' && this.parent.editModule) {\n            var obj = this.parent;\n            var draggedRec = void 0;\n            this.droppedRecord = obj.updatedRecords[args.dropIndex];\n            var dragRecords = [];\n            var droppedRec = this.droppedRecord;\n            if (!args.data[0]) {\n                dragRecords.push(args.data);\n            }\n            else {\n                dragRecords = args.data;\n            }\n            var c = 0;\n            var dLength = dragRecords.length;\n            for (var i = 0; i < dLength; i++) {\n                this.parent.isOnEdit = true;\n                draggedRec = dragRecords[i];\n                this.draggedRecord = draggedRec;\n                if (this.dropPosition !== 'Invalid') {\n                    if (isByMethod) {\n                        this.deleteDragRow();\n                    }\n                    var recordIndex1 = this.treeGridData.indexOf(droppedRec);\n                    if (this.dropPosition === 'bottomSegment') {\n                        if (!droppedRec.hasChildRecords) {\n                            if (this.parent.taskFields.parentID && this.ganttData.length > 0) {\n                                this.ganttData.splice(recordIndex1 + 1, 0, this.draggedRecord.taskData);\n                            }\n                            this.treeGridData.splice(recordIndex1 + 1, 0, this.draggedRecord);\n                            this.parent.ids.splice(recordIndex1 + 1, 0, this.draggedRecord.ganttProperties.rowUniqueID.toString());\n                        }\n                        else {\n                            c = this.parent.editModule.getChildCount(droppedRec, 0);\n                            if (this.parent.taskFields.parentID && this.ganttData.length > 0) {\n                                this.ganttData.splice(recordIndex1 + c + 1, 0, this.draggedRecord.taskData);\n                            }\n                            this.treeGridData.splice(recordIndex1 + c + 1, 0, this.draggedRecord);\n                            this.parent.ids.splice(recordIndex1 + c + 1, 0, this.draggedRecord.ganttProperties.rowUniqueID.toString());\n                            var idIndex = this.parent.ids.indexOf(this.draggedRecord[this.parent.taskFields.id].toString());\n                            if (idIndex !== recordIndex1 + c + 1) {\n                                this.parent.ids.splice(idIndex, 1);\n                                this.parent.ids.splice(recordIndex1 + c + 1, 0, this.draggedRecord[this.parent.taskFields.id].toString());\n                            }\n                        }\n                        this.parent.setRecordValue('parentItem', this.treeGridData[recordIndex1].parentItem, draggedRec);\n                        this.parent.setRecordValue('parentUniqueID', this.treeGridData[recordIndex1].parentUniqueID, draggedRec);\n                        this.parent.setRecordValue('level', this.treeGridData[recordIndex1].level, draggedRec);\n                        if (draggedRec.hasChildRecords) {\n                            var level = 1;\n                            this.updateChildRecordLevel(draggedRec, level);\n                            this.updateChildRecord(draggedRec, recordIndex1 + c + 1);\n                        }\n                        if (droppedRec.parentItem) {\n                            var record = this.parent.getParentTask(droppedRec.parentItem).childRecords;\n                            var childRecords = record;\n                            var droppedRecordIndex = childRecords.indexOf(droppedRec) + 1;\n                            childRecords.splice(droppedRecordIndex, 0, draggedRec);\n                        }\n                    }\n                    if (this.dropPosition === 'middleSegment') {\n                        this.dropMiddle(recordIndex1);\n                    }\n                    if (!isNullOrUndefined(draggedRec.parentItem && this.updateParentRecords.indexOf(draggedRec.parentItem) !== -1)) {\n                        this.updateParentRecords.push(draggedRec.parentItem);\n                    }\n                }\n                if (isNullOrUndefined(draggedRec.parentItem)) {\n                    var parentRecords = this.parent.treeGrid.parentData;\n                    var newParentIndex = parentRecords.indexOf(this.droppedRecord);\n                    if (this.dropPosition === 'bottomSegment') {\n                        parentRecords.splice(newParentIndex + 1, 0, draggedRec);\n                    }\n                }\n                this.refreshDataSource();\n            }\n            if (this.dropPosition === 'middleSegment') {\n                if (droppedRec.ganttProperties.predecessor) {\n                    this.parent.editModule.removePredecessorOnDelete(droppedRec);\n                    droppedRec.ganttProperties.predecessor = null;\n                    droppedRec.ganttProperties.predecessorsName = null;\n                    droppedRec[this.parent.taskFields.dependency] = null;\n                    droppedRec.taskData[this.parent.taskFields.dependency] = null;\n                }\n                if (droppedRec.ganttProperties.isMilestone) {\n                    this.parent.setRecordValue('isMilestone', false, droppedRec.ganttProperties, true);\n                    if (!isNullOrUndefined(droppedRec.taskData[this.parent.taskFields.milestone])) {\n                        if (droppedRec.taskData[this.parent.taskFields.milestone] === true) {\n                            droppedRec.taskData[this.parent.taskFields.milestone] = false;\n                        }\n                    }\n                }\n            }\n            for (var k = 0; k < this.updateParentRecords.length; k++) {\n                this.parent.dataOperation.updateParentItems(this.updateParentRecords[k]);\n            }\n            this.updateParentRecords = [];\n            this.parent.isOnEdit = false;\n        }\n        if (isRemoteData(this.parent.dataSource)) {\n            var data = this.parent.dataSource;\n            // eslint-disable-next-line\n            var updatedData = {\n                changedRecords: getTaskData(this.parent.editedRecords)\n            };\n            var queryValue = this.parent.query instanceof Query ? this.parent.query : new Query();\n            // eslint-disable-next-line\n            var crud = null;\n            var adaptor = data.adaptor;\n            if (!(adaptor instanceof WebApiAdaptor && adaptor instanceof ODataAdaptor) || data.dataSource.batchUrl) {\n                // eslint-disable-next-line\n                crud = data.saveChanges(updatedData, this.parent.taskFields.id, null, queryValue);\n            }\n            else {\n                var changedRecords = 'changedRecords';\n                // eslint-disable-next-line\n                crud = data.update(this.parent.taskFields.id, updatedData[changedRecords], null, queryValue);\n            }\n            crud.then(function (e) { return _this.indentSuccess(e, args); })\n                // eslint-disable-next-line\n                .catch(function (e) { return _this.indentFailure(e); });\n        }\n        else {\n            this.indentOutdentSuccess(args);\n        }\n    };\n    Edit.prototype.indentSuccess = function (e, args) {\n        this.indentOutdentSuccess(args);\n    };\n    // eslint-disable-next-line\n    Edit.prototype.indentFailure = function (e) {\n        this.parent.trigger('actionFailure', { error: e });\n    };\n    Edit.prototype.indentOutdentSuccess = function (args) {\n        this.parent.treeGrid.parentData = [];\n        this.parent.treeGrid.refresh();\n        if (this.parent.enableImmutableMode) {\n            this.refreshRecordInImmutableMode();\n        }\n        if (this.dropPosition === 'middleSegment') {\n            args.requestType = 'indented';\n        }\n        else if (this.dropPosition === 'bottomSegment') {\n            args.requestType = 'outdented';\n        }\n        args.modifiedRecords = this.parent.editedRecords;\n        this.parent.trigger('actionComplete', args);\n        this.parent.editedRecords = [];\n    };\n    Edit.prototype.refreshDataSource = function () {\n        var draggedRec = this.draggedRecord;\n        var droppedRec = this.droppedRecord;\n        var proxy = this.parent;\n        // eslint-disable-next-line\n        var tempData;\n        var indx;\n        if (this.parent.dataSource instanceof DataManager) {\n            tempData = getValue('dataOperation.dataArray', this.parent);\n        }\n        else {\n            tempData = proxy.dataSource;\n        }\n        if (tempData.length > 0 && (!isNullOrUndefined(droppedRec) && !droppedRec.parentItem)) {\n            for (var i = 0; i < Object.keys(tempData).length; i++) {\n                if (tempData[i][this.parent.taskFields.child] === droppedRec.taskData[this.parent.taskFields.child]) {\n                    indx = i;\n                }\n            }\n            if (this.dropPosition === 'topSegment') {\n                if (!this.parent.taskFields.parentID) {\n                    tempData.splice(indx, 0, draggedRec.taskData);\n                }\n            }\n            else if (this.dropPosition === 'bottomSegment') {\n                if (!this.parent.taskFields.parentID) {\n                    tempData.splice(indx + 1, 0, draggedRec.taskData);\n                }\n            }\n        }\n        else if (!this.parent.taskFields.parentID && (!isNullOrUndefined(droppedRec) && droppedRec.parentItem)) {\n            if (this.dropPosition === 'topSegment' || this.dropPosition === 'bottomSegment') {\n                var rowPos = this.dropPosition === 'topSegment' ? 'Above' : 'Below';\n                this.parent.editModule.addRowSelectedItem = droppedRec;\n                this.parent.editModule.updateRealDataSource(draggedRec, rowPos);\n                delete this.parent.editModule.addRowSelectedItem;\n            }\n        }\n        if (this.parent.taskFields.parentID) {\n            if (draggedRec.parentItem) {\n                if (this.dropPosition === 'topSegment' || this.dropPosition === 'bottomSegment') {\n                    draggedRec[this.parent.taskFields.parentID] = droppedRec[this.parent.taskFields.parentID];\n                    draggedRec.taskData[this.parent.taskFields.parentID] = droppedRec[this.parent.taskFields.parentID];\n                }\n                else {\n                    draggedRec[this.parent.taskFields.parentID] = droppedRec[this.parent.taskFields.id];\n                    draggedRec.taskData[this.parent.taskFields.parentID] = droppedRec[this.parent.taskFields.id];\n                }\n            }\n            else {\n                draggedRec[this.parent.taskFields.parentID] = null;\n                draggedRec.taskData[this.parent.taskFields.parentID] = null;\n            }\n        }\n    };\n    Edit.prototype.deleteDragRow = function () {\n        if (this.parent.dataSource instanceof DataManager) {\n            this.ganttData = getValue('dataOperation.dataArray', this.parent);\n        }\n        else {\n            this.ganttData = isCountRequired(this.parent) ? getValue('result', this.parent.dataSource) :\n                this.parent.dataSource;\n        }\n        this.treeGridData = isCountRequired(this.parent) ?\n            getValue('result', this.parent.treeGrid.dataSource) : this.parent.treeGrid.dataSource;\n        var delRow = this.parent.getTaskByUniqueID(this.draggedRecord.uniqueID);\n        this.removeRecords(delRow);\n    };\n    Edit.prototype.dropMiddle = function (recordIndex1) {\n        var obj = this.parent;\n        var childRec = this.parent.editModule.getChildCount(this.droppedRecord, 0);\n        var childRecordsLength = (isNullOrUndefined(childRec) ||\n            childRec === 0) ? recordIndex1 + 1 :\n            childRec + recordIndex1 + 1;\n        if (this.dropPosition === 'middleSegment') {\n            if (obj.taskFields.parentID && this.ganttData.length > 0) {\n                this.ganttData.splice(childRecordsLength, 0, this.draggedRecord.taskData);\n            }\n            this.treeGridData.splice(childRecordsLength, 0, this.draggedRecord);\n            this.parent.ids.splice(childRecordsLength, 0, this.draggedRecord[this.parent.taskFields.id].toString());\n            this.recordLevel();\n            if (this.draggedRecord.hasChildRecords) {\n                this.updateChildRecord(this.draggedRecord, childRecordsLength, this.droppedRecord.expanded);\n            }\n            if (isNullOrUndefined(this.draggedRecord.parentItem &&\n                this.updateParentRecords.indexOf(this.draggedRecord.parentItem) !== -1)) {\n                this.updateParentRecords.push(this.draggedRecord.parentItem);\n            }\n        }\n    };\n    Edit.prototype.updateChildRecordLevel = function (record, levl) {\n        var length = 0;\n        var currentRec;\n        levl++;\n        if (!record.hasChildRecords) {\n            return 0;\n        }\n        length = record.childRecords.length;\n        for (var j = 0; j < length; j++) {\n            currentRec = record.childRecords[j];\n            var parentData = void 0;\n            if (record.parentItem) {\n                var id = 'uniqueIDCollection';\n                parentData = this.parent.treeGrid[id][record.parentItem.uniqueID];\n            }\n            currentRec.level = record.parentItem ? parentData.level + levl : record.level + 1;\n            if (currentRec.hasChildRecords) {\n                levl--;\n                levl = this.updateChildRecordLevel(currentRec, levl);\n            }\n        }\n        return levl;\n    };\n    // eslint-disable-next-line\n    Edit.prototype.updateChildRecord = function (record, count, expanded) {\n        var currentRec;\n        var obj = this.parent;\n        var length = 0;\n        if (!record.hasChildRecords) {\n            return 0;\n        }\n        length = record.childRecords.length;\n        for (var i = 0; i < length; i++) {\n            currentRec = record.childRecords[i];\n            count++;\n            obj.flatData.splice(count, 0, currentRec);\n            this.parent.ids.splice(count, 0, currentRec.ganttProperties.rowUniqueID.toString());\n            if (obj.taskFields.parentID && this.ganttData.length > 0) {\n                this.ganttData.splice(count, 0, currentRec.taskData);\n            }\n            if (currentRec.hasChildRecords) {\n                count = this.updateChildRecord(currentRec, count);\n            }\n        }\n        return count;\n    };\n    Edit.prototype.removeRecords = function (record) {\n        var obj = this.parent;\n        // eslint-disable-next-line\n        var dataSource;\n        if (this.parent.dataSource instanceof DataManager) {\n            dataSource = getValue('dataOperation.dataArray', this.parent);\n        }\n        else {\n            dataSource = this.parent.dataSource;\n        }\n        var delRow = record;\n        var flatParent = this.parent.getParentTask(delRow.parentItem);\n        if (delRow) {\n            if (delRow.parentItem) {\n                var childRecords = flatParent ? flatParent.childRecords : [];\n                var childIndex = 0;\n                if (childRecords && childRecords.length > 0) {\n                    childIndex = childRecords.indexOf(delRow);\n                    flatParent.childRecords.splice(childIndex, 1);\n                    if (!this.parent.taskFields.parentID) {\n                        flatParent.taskData[this.parent.taskFields.child].splice(childIndex, 1);\n                    }\n                    // collection for updating parent record\n                    this.updateParentRecords.push(flatParent);\n                }\n            }\n            if (obj.taskFields.parentID) {\n                if (delRow.hasChildRecords && delRow.childRecords.length > 0) {\n                    this.removeChildItem(delRow);\n                }\n                var indx = void 0;\n                var ganttData = dataSource.length > 0 ?\n                    dataSource : this.parent.currentViewData;\n                for (var i = 0; i < ganttData.length; i++) {\n                    if (ganttData[i][this.parent.taskFields.id] === delRow.taskData[this.parent.taskFields.id]) {\n                        indx = i;\n                    }\n                }\n                if (indx !== -1) {\n                    if (dataSource.length > 0) {\n                        dataSource.splice(indx, 1);\n                    }\n                    var gridIndx = void 0;\n                    for (var i = 0; i < this.treeGridData.length; i++) {\n                        if (this.treeGridData[i][this.parent.taskFields.id] === delRow.taskData[this.parent.taskFields.id]) {\n                            gridIndx = i;\n                        }\n                    }\n                    this.treeGridData.splice(gridIndx, 1);\n                    this.parent.ids.splice(gridIndx, 1);\n                    if (this.parent.treeGrid.parentData.indexOf(delRow) !== -1) {\n                        this.parent.treeGrid.parentData.splice(this.parent.treeGrid.parentData.indexOf(delRow), 1);\n                    }\n                }\n            }\n            var recordIdx = this.treeGridData.indexOf(delRow);\n            if (!obj.taskFields.parentID) {\n                var deletedRecordCount = this.getChildCount(delRow, 0);\n                this.treeGridData.splice(recordIdx, deletedRecordCount + 1);\n                this.parent.ids.splice(recordIdx, deletedRecordCount + 1);\n                var parentIndex = this.ganttData.indexOf(delRow.taskData);\n                if (parentIndex !== -1) {\n                    this.ganttData.splice(parentIndex, 1);\n                    this.parent.treeGrid.parentData.splice(parentIndex, 1);\n                }\n            }\n            if (delRow.parentItem && flatParent && flatParent.childRecords && !flatParent.childRecords.length) {\n                this.parent.setRecordValue('expanded', false, flatParent);\n                this.parent.setRecordValue('hasChildRecords', false, flatParent);\n            }\n        }\n    };\n    Edit.prototype.removeChildItem = function (record) {\n        var currentRec;\n        var indx;\n        for (var i = 0; i < record.childRecords.length; i++) {\n            currentRec = record.childRecords[i];\n            // eslint-disable-next-line\n            var data = void 0;\n            if (this.parent.dataSource instanceof DataManager) {\n                data = getValue('dataOperation.dataArray', this.parent);\n            }\n            else {\n                data = this.parent.dataSource;\n            }\n            for (var j = 0; j < data.length; j++) {\n                if (data[j][this.parent.taskFields.id] === currentRec.taskData[this.parent.taskFields.id]) {\n                    indx = j;\n                }\n            }\n            if (indx !== -1) {\n                if (data.length > 0) {\n                    data.splice(indx, 1);\n                }\n                var gridIndx = void 0;\n                for (var i_1 = 0; i_1 < this.treeGridData.length; i_1++) {\n                    if (this.treeGridData[i_1][this.parent.taskFields.id] === currentRec.taskData[this.parent.taskFields.id]) {\n                        gridIndx = i_1;\n                    }\n                }\n                this.treeGridData.splice(gridIndx, 1);\n                this.parent.ids.splice(gridIndx, 1);\n            }\n            if (currentRec.hasChildRecords) {\n                this.removeChildItem(currentRec);\n            }\n        }\n    };\n    Edit.prototype.recordLevel = function () {\n        var obj = this.parent;\n        var draggedRec = this.draggedRecord;\n        var droppedRec = this.droppedRecord;\n        var childItem = obj.taskFields.child;\n        if (!droppedRec.hasChildRecords) {\n            droppedRec.hasChildRecords = true;\n            if (!droppedRec.childRecords.length) {\n                droppedRec.childRecords = [];\n                if (!obj.taskFields.parentID && isNullOrUndefined(droppedRec.taskData[childItem])) {\n                    droppedRec.taskData[childItem] = [];\n                }\n            }\n        }\n        if (this.dropPosition === 'middleSegment') {\n            var parentItem = extend({}, droppedRec);\n            delete parentItem.childRecords;\n            var createParentItem = {\n                uniqueID: parentItem.uniqueID,\n                expanded: parentItem.expanded,\n                level: parentItem.level,\n                index: parentItem.index,\n                taskId: parentItem.ganttProperties.rowUniqueID\n            };\n            this.parent.setRecordValue('parentItem', createParentItem, draggedRec);\n            this.parent.setRecordValue('parentUniqueID', droppedRec.uniqueID, draggedRec);\n            droppedRec.childRecords.splice(droppedRec.childRecords.length, 0, draggedRec);\n            if (!isNullOrUndefined(draggedRec) && !obj.taskFields.parentID && !isNullOrUndefined(droppedRec.taskData[childItem])) {\n                droppedRec.taskData[obj.taskFields.child].splice(droppedRec.childRecords.length, 0, draggedRec.taskData);\n            }\n            if (!isNullOrUndefined(droppedRec.ganttProperties.segments) && droppedRec.ganttProperties.segments.length > 0) {\n                droppedRec.ganttProperties.segments = null;\n                droppedRec.taskData[obj.taskFields.segments] = null;\n            }\n            if (!draggedRec.hasChildRecords) {\n                draggedRec.level = droppedRec.level + 1;\n            }\n            else {\n                var level = 1;\n                draggedRec.level = droppedRec.level + 1;\n                this.updateChildRecordLevel(draggedRec, level);\n            }\n            droppedRec.expanded = true;\n        }\n    };\n    return Edit;\n}());\nexport { Edit };\n","import { TreeGrid, Reorder as TreeGridReorder } from '@syncfusion/ej2-treegrid';\n/**\n * To handle column reorder action from TreeGrid\n */\nvar Reorder = /** @class */ (function () {\n    function Reorder(gantt) {\n        this.parent = gantt;\n        TreeGrid.Inject(TreeGridReorder);\n        this.parent.treeGrid.allowReordering = this.parent.allowReordering;\n        this.bindEvents();\n    }\n    /**\n     * Get module name\n     *\n     * @returns {string} .\n     */\n    Reorder.prototype.getModuleName = function () {\n        return 'reorder';\n    };\n    /**\n     * To bind reorder events.\n     *\n     * @returns {void} .\n     * @private\n     */\n    Reorder.prototype.bindEvents = function () {\n        var _this = this;\n        this.parent.treeGrid.columnDragStart = function (args) {\n            _this.parent.trigger('columnDragStart', args);\n        };\n        this.parent.treeGrid.columnDrag = function (args) {\n            _this.parent.trigger('columnDrag', args);\n        };\n        this.parent.treeGrid.columnDrop = function (args) {\n            _this.parent.trigger('columnDrop', args);\n        };\n    };\n    /**\n     * To destroy the column-reorder.\n     *\n     * @returns {void} .\n     * @private\n     */\n    Reorder.prototype.destroy = function () {\n        // Destroy Method\n    };\n    return Reorder;\n}());\nexport { Reorder };\n","import { TreeGrid, Resize as TreeGridResize } from '@syncfusion/ej2-treegrid';\n/**\n * Column resize action related code goes here\n */\nvar Resize = /** @class */ (function () {\n    function Resize(gantt) {\n        this.parent = gantt;\n        TreeGrid.Inject(TreeGridResize);\n        this.parent.treeGrid.allowResizing = this.parent.allowResizing;\n        this.bindEvents();\n    }\n    /**\n     * Get module name\n     *\n     * @returns {void} .\n     */\n    Resize.prototype.getModuleName = function () {\n        return 'resize';\n    };\n    /**\n     * To bind resize events.\n     *\n     * @returns {void} .\n     * @private\n     */\n    Resize.prototype.bindEvents = function () {\n        var _this = this;\n        this.parent.treeGrid.resizeStart = function (args) {\n            _this.parent.trigger('resizeStart', args);\n        };\n        this.parent.treeGrid.resizing = function (args) {\n            _this.parent.trigger('resizing', args);\n        };\n        this.parent.treeGrid.resizeStop = function (args) {\n            _this.parent.trigger('resizeStop', args);\n        };\n    };\n    /**\n     * To destroy the column-resizer.\n     *\n     * @returns {void} .\n     * @private\n     */\n    Resize.prototype.destroy = function () {\n        // Destroy Method\n    };\n    return Resize;\n}());\nexport { Resize };\n","import { TreeGrid, Filter as TreeGridFilter } from '@syncfusion/ej2-treegrid';\nimport { filterAfterOpen, getFilterMenuPostion } from '@syncfusion/ej2-grids';\nimport { getActualProperties, getCustomDateFormat } from '@syncfusion/ej2-grids';\nimport { getValue, isNullOrUndefined, remove, createElement, addClass, closest } from '@syncfusion/ej2-base';\nimport { TextBox } from '@syncfusion/ej2-inputs';\nimport { DatePicker, DateTimePicker } from '@syncfusion/ej2-calendars';\n/**\n * The Filter module is used to handle filter action.\n */\nvar Filter = /** @class */ (function () {\n    function Filter(gantt) {\n        this.parent = gantt;\n        TreeGrid.Inject(TreeGridFilter);\n        this.parent.treeGrid.allowFiltering = this.parent.allowFiltering;\n        this.updateCustomFilters();\n        this.parent.treeGrid.filterSettings = getActualProperties(this.parent.filterSettings);\n        this.addEventListener();\n    }\n    Filter.prototype.getModuleName = function () {\n        return 'filter';\n    };\n    /**\n     * Update custom filter for default Gantt columns\n     *\n     * @returns {void} .\n     */\n    Filter.prototype.updateCustomFilters = function () {\n        var settings = this.parent.taskFields;\n        for (var i = 0; i < this.parent.ganttColumns.length; i++) {\n            var column = this.parent.ganttColumns[i];\n            if (((column.editType === 'datepickeredit' || column.editType === 'datetimepickeredit') &&\n                (column.field === settings.startDate || column.field === settings.endDate\n                    || column.field === settings.baselineStartDate || column.field === settings.baselineEndDate)) ||\n                (column.field === settings.duration && column.editType === 'stringedit')) {\n                this.initiateFiltering(this.parent.ganttColumns[i]);\n            }\n        }\n    };\n    Filter.prototype.updateModel = function () {\n        this.parent.filterSettings = this.parent.treeGrid.filterSettings;\n    };\n    Filter.prototype.addEventListener = function () {\n        this.parent.on('updateModel', this.updateModel, this);\n        this.parent.on('actionBegin', this.actionBegin, this);\n        this.parent.on('actionComplete', this.actionComplete, this);\n        this.parent.on('columnMenuOpen', this.columnMenuOpen, this);\n    };\n    Filter.prototype.initiateFiltering = function (column) {\n        var treeColumn = this.parent.getColumnByField(column.field, this.parent.treeGridModule.treeGridColumns);\n        column.allowFiltering = column.allowFiltering === false ? false : true;\n        if (column.allowFiltering && this.parent.filterSettings.type === 'Menu' && !column.filter) {\n            column.filter = { ui: this.getCustomFilterUi(column) };\n        }\n        if (treeColumn) {\n            treeColumn.allowFiltering = column.allowFiltering;\n            treeColumn.filter = column.filter;\n        }\n    };\n    /**\n     * To get filter menu UI\n     *\n     * @param {ColumnModel} column .\n     * @returns {IFilterMUI} .\n     */\n    Filter.prototype.getCustomFilterUi = function (column) {\n        var settings = this.parent.taskFields;\n        var filterUI = {};\n        if (column.editType === 'datepickeredit' && (column.field === settings.startDate || column.field === settings.endDate\n            || column.field === settings.baselineStartDate || column.field === settings.baselineEndDate)) {\n            filterUI = this.getDatePickerFilter(column.field);\n        }\n        else if (column.editType === 'datetimepickeredit' && (column.field === settings.startDate || column.field === settings.endDate\n            || column.field === settings.baselineStartDate || column.field === settings.baselineEndDate)) {\n            filterUI = this.getDateTimePickerFilter();\n        }\n        else if (column.field === settings.duration && column.editType === 'stringedit') {\n            filterUI = this.getDurationFilter();\n        }\n        return filterUI;\n    };\n    Filter.prototype.getDatePickerFilter = function (columnName) {\n        var _this = this;\n        var parent = this.parent;\n        var timeValue = (columnName === parent.taskFields.startDate) || (columnName === parent.taskFields.baselineStartDate)\n            ? parent.defaultStartTime : parent.defaultEndTime;\n        var dropDateInstance;\n        var filterDateUI = {\n            create: function (args) {\n                var format = getCustomDateFormat(args.column.format, args.column.type);\n                var flValInput = createElement('input', { className: 'flm-input' });\n                args.target.appendChild(flValInput);\n                dropDateInstance = new DatePicker({ placeholder: _this.parent.localeObj.getConstant('enterValue'), format: format });\n                dropDateInstance.appendTo(flValInput);\n            },\n            write: function (args) {\n                dropDateInstance.value = args.filteredValue;\n            },\n            read: function (args) {\n                if (dropDateInstance.value) {\n                    dropDateInstance.value.setSeconds(timeValue);\n                }\n                args.fltrObj.filterByColumn(args.column.field, args.operator, dropDateInstance.value);\n            }\n        };\n        return filterDateUI;\n    };\n    Filter.prototype.getDateTimePickerFilter = function () {\n        var _this = this;\n        var dropInstance;\n        var filterDateTimeUI = {\n            create: function (args) {\n                var format = getCustomDateFormat(args.column.format, args.column.type);\n                var flValInput = createElement('input', { className: 'flm-input' });\n                args.target.appendChild(flValInput);\n                dropInstance = new DateTimePicker({ placeholder: _this.parent.localeObj.getConstant('enterValue'), format: format });\n                dropInstance.appendTo(flValInput);\n            },\n            write: function (args) {\n                dropInstance.value = args.filteredValue;\n            },\n            read: function (args) {\n                args.fltrObj.filterByColumn(args.column.field, args.operator, dropInstance.value);\n            }\n        };\n        return filterDateTimeUI;\n    };\n    Filter.prototype.getDurationFilter = function () {\n        var _this = this;\n        var parent = this.parent;\n        var textBoxInstance;\n        var textValue = '';\n        var filterDurationUI = {\n            // eslint-disable-next-line\n            create: function (args) {\n                var flValInput = createElement('input', { className: 'e-input' });\n                flValInput.setAttribute('placeholder', _this.parent.localeObj.getConstant('enterValue'));\n                args.target.appendChild(flValInput);\n                textBoxInstance = new TextBox();\n                textBoxInstance.appendTo(flValInput);\n            },\n            write: function (args) {\n                textBoxInstance.value = args.filteredValue ? textValue : '';\n            },\n            read: function (args) {\n                // eslint-disable-next-line\n                var durationObj = _this.parent.dataOperation.getDurationValue(textBoxInstance.value);\n                var intVal = getValue('duration', durationObj);\n                var unit = getValue('durationUnit', durationObj);\n                if (intVal >= 0) {\n                    var dayVal = void 0;\n                    if (unit === 'minute') {\n                        dayVal = (intVal * 60) / parent.secondsPerDay;\n                    }\n                    else if (unit === 'hour') {\n                        dayVal = (intVal * 60 * 60) / parent.secondsPerDay;\n                    }\n                    else {\n                        //Consider it as day unit\n                        dayVal = intVal;\n                        unit = 'day';\n                    }\n                    args.fltrObj.filterByColumn(args.column.field, args.operator, dayVal);\n                    textValue = _this.parent.dataOperation.getDurationString(intVal, unit);\n                }\n                else {\n                    args.fltrObj.filterByColumn(args.column.field, args.operator, null);\n                    textValue = null;\n                }\n            }\n        };\n        return filterDurationUI;\n    };\n    /**\n     * Remove filter menu while opening column chooser menu\n     *\n     * @param {ColumnMenuOpenEventArgs} args .\n     * @returns {void} .\n     */\n    // eslint-disable-next-line\n    Filter.prototype.columnMenuOpen = function (args) {\n        if (this.filterMenuElement && document.body.contains(this.filterMenuElement)) {\n            remove(this.filterMenuElement);\n        }\n        this.filterMenuElement = null;\n    };\n    // eslint-disable-next-line\n    Filter.prototype.actionBegin = function (args) {\n        // ...\n    };\n    Filter.prototype.closeFilterOnContextClick = function (element) {\n        if (this.filterMenuElement && document.body.contains(this.filterMenuElement)) {\n            var ganttElement = closest(element, '#' + this.parent.element.id)\n                || element.querySelector('#' + this.parent.element.id);\n            if ((!(this.filterMenuElement.contains(element)) && !isNullOrUndefined(ganttElement)) || element.nodeName === 'HTML'\n                || element.nodeName === 'DIV') {\n                remove(this.filterMenuElement);\n                this.parent.treeGrid.grid.notify('filter-menu-close', { isOpen: false });\n                this.filterMenuElement = null;\n            }\n        }\n    };\n    Filter.prototype.actionComplete = function (args) {\n        if (args.requestType === filterAfterOpen) {\n            this.filterMenuElement = getValue('filterModel.dlgObj.element', args);\n            this.updateFilterMenuPosition(this.filterMenuElement, args);\n            // To set default values as 'contains' in filter dialog\n            var taskID = this.parent.taskFields.id;\n            var predecessor = this.parent.taskFields.dependency;\n            var resource = this.parent.taskFields.resourceInfo;\n            // eslint-disable-next-line\n            var filterObj = this.parent.treeGrid.grid.filterModule;\n            // eslint-disable-next-line\n            var filterValues = getValue('values', filterObj);\n            if ((args.columnName === predecessor && isNullOrUndefined(getValue(predecessor, filterValues)))\n                || (args.columnName === resource && isNullOrUndefined(getValue(resource, filterValues)))) {\n                var element = this.filterMenuElement.querySelector('.e-dropdownlist');\n                var instanceObj = getValue('ej2_instances[0]', element);\n                instanceObj.index = 2;\n                instanceObj.dataBind();\n            }\n            else if (args.columnName === taskID && isNullOrUndefined(getValue(taskID, filterValues))) {\n                var element = this.filterMenuElement.querySelector('.e-numerictextbox');\n                var instanceObj = getValue('ej2_instances[0]', element);\n                if (!isNullOrUndefined(instanceObj) && isNullOrUndefined(this.parent.columnByField[args.columnName].format)) {\n                    instanceObj.format = 'n';\n                }\n            }\n        }\n    };\n    Filter.prototype.setPosition = function (li, ul) {\n        var gridPos = this.parent.element.getBoundingClientRect();\n        var liPos = li.getBoundingClientRect();\n        var left = liPos.right + window.scrollX;\n        var top = liPos.top + window.scrollY;\n        if (gridPos.right < (left + ul.offsetWidth)) {\n            if ((liPos.left - ul.offsetWidth) > gridPos.left) {\n                left = (liPos.left - ul.offsetWidth);\n            }\n            else {\n                left -= (left + ul.offsetWidth) - gridPos.right;\n            }\n        }\n        ul.style.top = top + 'px';\n        ul.style.left = left + 'px';\n    };\n    Filter.prototype.updateFilterMenuPosition = function (element, args) {\n        addClass([element], 'e-gantt');\n        document.body.appendChild(element);\n        var targetElement;\n        if (this.parent.showColumnMenu) {\n            targetElement = document.querySelector('#treeGrid' + this.parent.controlId + '_gridcontrol_colmenu_Filter');\n            element.style.zIndex = targetElement.parentElement.style.zIndex;\n            this.setPosition(targetElement, getValue('filterModel.dlgObj.element', args));\n        }\n        else {\n            targetElement = this.parent.treeGrid.grid.getColumnHeaderByField(args.columnName).querySelector('.e-filtermenudiv');\n            getFilterMenuPostion(targetElement, getValue('filterModel.dlgObj', args), this.parent.treeGrid.grid);\n        }\n        element.querySelector('.e-valid-input').focus();\n    };\n    Filter.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off('updateModel', this.updateModel);\n        this.parent.off('actionBegin', this.actionBegin);\n        this.parent.off('actionComplete', this.actionComplete);\n        this.parent.off('columnMenuOpen', this.columnMenuOpen);\n    };\n    /**\n     * To destroy module\n     *\n     * @returns {void} .\n     */\n    Filter.prototype.destroy = function () {\n        this.removeEventListener();\n    };\n    return Filter;\n}());\nexport { Filter };\n","import { TreeGrid, Sort as TreeGrdSort } from '@syncfusion/ej2-treegrid';\nimport { getActualProperties } from '@syncfusion/ej2-grids';\n/**\n * The Sort module is used to handle sorting action.\n */\nvar Sort = /** @class */ (function () {\n    function Sort(gantt) {\n        this.parent = gantt;\n        TreeGrid.Inject(TreeGrdSort);\n        this.parent.treeGrid.allowSorting = this.parent.allowSorting;\n        this.parent.treeGrid.sortSettings = getActualProperties(this.parent.sortSettings);\n        this.addEventListener();\n    }\n    /**\n     * For internal use only - Get the module name.\n     *\n     * @returns {string} .\n     * @private\n     */\n    Sort.prototype.getModuleName = function () {\n        return 'sort';\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    Sort.prototype.addEventListener = function () {\n        this.parent.on('updateModel', this.updateModel, this);\n    };\n    /**\n     *\n     * @returns {void} .\n     * @hidden\n     */\n    Sort.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off('updateModel', this.updateModel);\n    };\n    /**\n     * Destroys the Sorting of TreeGrid.\n     *\n     * @returns {void} .\n     * @private\n     */\n    Sort.prototype.destroy = function () {\n        this.removeEventListener();\n    };\n    /**\n     * Sort a column with given options.\n     *\n     * @param {string} columnName - Defines the column name to sort.\n     * @param {SortDirection} direction - Defines the direction of sort.\n     * @param {boolean} isMultiSort - Defines whether the previously sorted columns are to be maintained.\n     * @returns {void} .\n     */\n    Sort.prototype.sortColumn = function (columnName, direction, isMultiSort) {\n        this.parent.treeGrid.sortByColumn(columnName, direction, isMultiSort);\n    };\n    /**\n     * Method to clear all sorted columns.\n     *\n     * @returns {void} .\n     */\n    Sort.prototype.clearSorting = function () {\n        this.parent.treeGrid.clearSorting();\n    };\n    /**\n     * The function used to update sortSettings of TreeGrid.\n     *\n     * @returns {void} .\n     * @hidden\n     */\n    Sort.prototype.updateModel = function () {\n        this.parent.sortSettings = this.parent.treeGrid.sortSettings;\n    };\n    /**\n     * To clear sorting for specific column.\n     *\n     * @param {string} columnName - Defines the sorted column name to remove.\n     * @returns {void} .\n     */\n    Sort.prototype.removeSortColumn = function (columnName) {\n        this.parent.treeGrid.grid.removeSortColumn(columnName);\n    };\n    return Sort;\n}());\nexport { Sort };\n","import { parentsUntil, getActualProperties } from '@syncfusion/ej2-grids';\nimport { setCssInGridPopUp } from '@syncfusion/ej2-grids';\nimport { isNullOrUndefined, removeClass, getValue, addClass, closest, setValue, extend, isBlazor } from '@syncfusion/ej2-base';\nimport { Deferred } from '@syncfusion/ej2-data';\n/**\n * The Selection module is used to handle cell and row selection.\n */\nvar Selection = /** @class */ (function () {\n    function Selection(gantt) {\n        this.isSelectionFromChart = false;\n        this.multipleIndexes = [];\n        this.selectedRowIndexes = [];\n        this.enableSelectMultiTouch = false;\n        this.openPopup = false;\n        this.parent = gantt;\n        this.bindEvents();\n        this.parent.treeGrid.selectedRowIndex = this.parent.selectedRowIndex;\n        this.parent.treeGrid.allowSelection = this.parent.allowSelection;\n        this.parent.treeGrid.grid.selectionSettings.enableToggle = this.parent.selectionSettings.enableToggle;\n        this.parent.treeGrid.selectionSettings = getActualProperties(this.parent.selectionSettings);\n        this.wireEvents();\n    }\n    /**\n     * Get module\n     *\n     * @returns {string} .\n     */\n    Selection.prototype.getModuleName = function () {\n        return 'selection';\n    };\n    Selection.prototype.wireEvents = function () {\n        this.parent.on('selectRowByIndex', this.selectRowByIndex, this);\n        if (this.parent.isAdaptive) {\n            this.parent.on('chartMouseClick', this.mouseUpHandler, this);\n            this.parent.on('treeGridClick', this.popUpClickHandler, this);\n        }\n        else {\n            this.parent.on('chartMouseUp', this.mouseUpHandler, this);\n        }\n    };\n    /**\n     * To update selected index.\n     *\n     * @returns {void} .\n     * @private\n     */\n    Selection.prototype.selectRowByIndex = function () {\n        if ((this.parent.selectedRowIndex !== -1 || this.parent.staticSelectedRowIndex !== -1) && this.parent.isLoad) {\n            this.selectRow(this.parent.staticSelectedRowIndex !== -1 ? this.parent.staticSelectedRowIndex : this.parent.selectedRowIndex);\n            this.parent.staticSelectedRowIndex = -1;\n        }\n    };\n    /**\n     * To bind selection events.\n     *\n     * @returns {void} .\n     * @private\n     */\n    Selection.prototype.bindEvents = function () {\n        this.parent.treeGrid.rowSelecting = this.rowSelecting.bind(this);\n        this.parent.treeGrid.rowSelected = this.rowSelected.bind(this);\n        this.parent.treeGrid.rowDeselecting = this.rowDeselecting.bind(this);\n        this.parent.treeGrid.rowDeselected = this.rowDeselected.bind(this);\n        this.parent.treeGrid.cellSelecting = this.cellSelecting.bind(this);\n        this.parent.treeGrid.cellSelected = this.cellSelected.bind(this);\n        this.parent.treeGrid.cellDeselecting = this.cellDeselecting.bind(this);\n        this.parent.treeGrid.cellDeselected = this.cellDeselected.bind(this);\n    };\n    Selection.prototype.rowSelecting = function (args) {\n        if (!this.parent.isGanttChartRendered) {\n            args.cancel = true;\n            return;\n        }\n        args.isCtrlPressed = this.isMultiCtrlRequest;\n        args.isShiftPressed = this.isMultiShiftRequest;\n        args.target = this.actualTarget;\n        if (!isNullOrUndefined(args.foreignKeyData) && Object.keys(args.foreignKeyData).length === 0) {\n            delete args.foreignKeyData;\n        }\n        this.parent.trigger('rowSelecting', args);\n    };\n    Selection.prototype.rowSelected = function (args) {\n        var rowIndexes = 'rowIndexes';\n        var index = (this.parent.selectionSettings.type === 'Multiple' && !isNullOrUndefined(args[rowIndexes])) ?\n            args[rowIndexes] : [args.rowIndex];\n        this.addRemoveClass(index);\n        this.selectedRowIndexes = extend([], this.getSelectedRowIndexes(), [], true);\n        this.parent.setProperties({ selectedRowIndex: this.parent.treeGrid.grid.selectedRowIndex }, true);\n        if (this.isMultiShiftRequest) {\n            this.selectedRowIndexes = index;\n        }\n        if (this.parent.autoFocusTasks) {\n            this.parent.ganttChartModule.updateScrollLeft(getValue('data.ganttProperties.left', args));\n        }\n        args.target = this.actualTarget;\n        if (!isNullOrUndefined(args.foreignKeyData) && Object.keys(args.foreignKeyData).length === 0) {\n            delete args.foreignKeyData;\n        }\n        this.prevRowIndex = args.rowIndex;\n        if (!isNullOrUndefined(this.parent.toolbarModule)) {\n            this.parent.toolbarModule.refreshToolbarItems(args);\n        }\n        this.parent.trigger('rowSelected', args);\n    };\n    Selection.prototype.rowDeselecting = function (args) {\n        args.target = this.actualTarget;\n        args.isInteracted = this.isInteracted;\n        if (isBlazor() && this.parent.selectionSettings.type === 'Multiple') {\n            this.multipleIndexes = extend([], args.rowIndex, [], true);\n        }\n        this.parent.trigger('rowDeselecting', args);\n    };\n    Selection.prototype.rowDeselected = function (args) {\n        var index;\n        var isContains;\n        if (this.multipleIndexes.length !== 0) {\n            index = this.multipleIndexes;\n        }\n        else {\n            if (!isNullOrUndefined(args.rowIndexes)) {\n                for (var i = 0; i < args.rowIndexes.length; i++) {\n                    if (args.rowIndexes[i] === args.rowIndex) {\n                        isContains = true;\n                    }\n                }\n                if (isContains) {\n                    index = args.rowIndexes;\n                }\n                else {\n                    index = [args.rowIndex];\n                }\n            }\n            else {\n                index = [args.rowIndex];\n            }\n        }\n        this.addRemoveClass(index);\n        this.selectedRowIndexes = extend([], this.getSelectedRowIndexes(), [], true);\n        this.parent.setProperties({ selectedRowIndex: -1 }, true);\n        if (!isNullOrUndefined(this.parent.toolbarModule)) {\n            this.parent.toolbarModule.refreshToolbarItems();\n        }\n        if (this.parent.selectionSettings.type === 'Multiple' && this.parent.isAdaptive\n            && this.selectedRowIndexes.length === 0) {\n            this.hidePopUp();\n        }\n        args.target = this.actualTarget;\n        args.isInteracted = this.isInteracted;\n        this.parent.trigger('rowDeselected', args);\n        this.isInteracted = false;\n        this.multipleIndexes = [];\n    };\n    Selection.prototype.cellSelecting = function (args) {\n        var callBackPromise = new Deferred();\n        this.parent.trigger('cellSelecting', args, function (cellselectingArgs) {\n            callBackPromise.resolve(cellselectingArgs);\n        });\n        return callBackPromise;\n    };\n    Selection.prototype.cellSelected = function (args) {\n        this.parent.trigger('cellSelected', args);\n        if (!isNullOrUndefined(this.parent.toolbarModule)) {\n            this.parent.toolbarModule.refreshToolbarItems();\n        }\n    };\n    Selection.prototype.cellDeselecting = function (args) {\n        this.parent.trigger('cellDeselecting', args);\n    };\n    Selection.prototype.cellDeselected = function (args) {\n        this.parent.trigger('cellDeselected', args);\n        if (!isNullOrUndefined(this.parent.toolbarModule)) {\n            this.parent.toolbarModule.refreshToolbarItems();\n        }\n    };\n    /**\n     * Selects a cell by given index.\n     *\n     * @param  {IIndex} cellIndex - Defines the row and column indexes.\n     * @param  {boolean} isToggle - If set to true, then it toggles the selection.\n     * @returns {void} .\n     */\n    Selection.prototype.selectCell = function (cellIndex, isToggle) {\n        this.parent.treeGrid.selectCell(cellIndex, isToggle);\n    };\n    /**\n     * Selects a collection of cells by row and column indexes.\n     *\n     * @param  {ISelectedCell[]} rowCellIndexes - Specifies the row and column indexes.\n     * @returns {void} .\n     */\n    Selection.prototype.selectCells = function (rowCellIndexes) {\n        this.parent.treeGrid.grid.selectCells(rowCellIndexes);\n    };\n    /**\n     * Selects a row by given index.\n     *\n     * @param  {number} index - Defines the row index.\n     * @param  {boolean} isToggle - If set to true, then it toggles the selection.\n     * @param {boolean} isPreventFocus .\n     * @returns {void} .\n     */\n    Selection.prototype.selectRow = function (index, isToggle, isPreventFocus) {\n        var ganttRow = [].slice.call(this.parent.ganttChartModule.chartBodyContent.querySelector('tbody').children);\n        // eslint-disable-next-line\n        var selectedRow = ganttRow.filter(function (e) { return parseInt(e.getAttribute('aria-rowindex'), 0) === index; })[0];\n        var condition;\n        if (index === -1 || isNullOrUndefined(selectedRow) || this.parent.selectionSettings.mode === 'Cell') {\n            return;\n        }\n        if (this.parent.showActiveElement && !isPreventFocus) {\n            this.parent.treeGrid.grid.selectionModule.preventFocus = true;\n        }\n        else {\n            this.parent.treeGrid.grid.selectionModule.preventFocus = false;\n        }\n        if ((!isNullOrUndefined(this.selectedClass) && (this.selectedClass === selectedRow) && (!isToggle))) {\n            condition = true;\n        }\n        if (condition !== true) {\n            this.parent.treeGrid.selectRow(index, isToggle);\n        }\n        this.parent.treeGrid.grid.selectionModule.preventFocus = this.parent.treeGrid.grid.selectionModule.preventFocus === true ?\n            false : this.parent.treeGrid.grid.selectionModule.preventFocus;\n        this.prevRowIndex = index;\n        this.selectedClass = selectedRow;\n    };\n    /**\n     * Selects a collection of rows by indexes.\n     *\n     * @param  {number[]} records - Defines the collection of row indexes.\n     * @returns {void} .\n     */\n    Selection.prototype.selectRows = function (records) {\n        if (!isNullOrUndefined(records) && records.length > 0) {\n            this.parent.treeGrid.selectRows(records);\n        }\n    };\n    /**\n     * Gets the collection of selected row indexes.\n     *\n     * @returns {number[]} .\n     */\n    Selection.prototype.getSelectedRowIndexes = function () {\n        return this.parent.treeGrid.getSelectedRowIndexes();\n    };\n    /**\n     * Gets the collection of selected row and cell indexes.\n     *\n     * @returns {number[]} .\n     */\n    Selection.prototype.getSelectedRowCellIndexes = function () {\n        return this.parent.treeGrid.getSelectedRowCellIndexes();\n    };\n    /**\n     * Gets the collection of selected records.\n     *\n     * @returns {Object[]} .\n     */\n    // eslint-disable-next-line\n    Selection.prototype.getSelectedRecords = function () {\n        if (isBlazor()) {\n            return this.parent.getRecordFromFlatdata(this.parent.treeGrid.getSelectedRecords());\n        }\n        else {\n            return this.parent.treeGrid.getSelectedRecords();\n        }\n    };\n    /**\n     * Get the selected records for cell selection.\n     *\n     * @returns {IGanttData[]} .\n     */\n    Selection.prototype.getCellSelectedRecords = function () {\n        var cellDetails = this.parent.selectionModule.getSelectedRowCellIndexes();\n        var cellSelectedRecords = [];\n        for (var i = 0; i < cellDetails.length; i++) {\n            cellSelectedRecords.push(this.parent.currentViewData[cellDetails[i].rowIndex]);\n        }\n        if (isBlazor()) {\n            return this.parent.getRecordFromFlatdata(cellSelectedRecords);\n        }\n        else {\n            return cellSelectedRecords;\n        }\n    };\n    /**\n     * Gets the collection of selected rows.\n     *\n     * @returns {Element[]} .\n     */\n    Selection.prototype.getSelectedRows = function () {\n        return this.parent.treeGrid.getSelectedRows();\n    };\n    /**\n     * Deselects the current selected rows and cells.\n     *\n     * @returns {void} .\n     */\n    Selection.prototype.clearSelection = function () {\n        this.addRemoveClass(this.selectedRowIndexes);\n        this.parent.treeGrid.clearSelection();\n        this.parent.selectedRowIndex = -1;\n        this.selectedRowIndexes = [];\n        this.selectedClass = null;\n        if (!isNullOrUndefined(this.parent.toolbarModule)) {\n            this.parent.toolbarModule.refreshToolbarItems();\n        }\n        this.isInteracted = false;\n    };\n    Selection.prototype.highlightSelectedRows = function (e, fromChart) {\n        this.isMultiCtrlRequest = e.ctrlKey || this.enableSelectMultiTouch;\n        this.isMultiShiftRequest = e.shiftKey;\n        this.actualTarget = e.target;\n        this.isInteracted = true;\n        this.isSelectionFromChart = fromChart;\n        if (fromChart) {\n            var selectedRow = closest(e.target, 'tr.e-chart-row');\n            var rIndex = parseInt(selectedRow.getAttribute('aria-rowindex'), 10);\n            var isToggle = this.parent.selectionSettings.enableToggle;\n            if (this.parent.selectionSettings.type === 'Single' || (!this.isMultiCtrlRequest && !this.isMultiShiftRequest)) {\n                this.selectRow(rIndex, isToggle);\n            }\n            else {\n                if (this.isMultiShiftRequest) {\n                    this.selectRowsByRange(isNullOrUndefined(this.prevRowIndex) ? rIndex : this.prevRowIndex, rIndex);\n                }\n                else {\n                    setValue('isMultiCtrlRequest', true, this.parent.treeGrid.grid.selectionModule);\n                    this.parent.treeGrid.grid.selectionModule.addRowsToSelection([rIndex]);\n                    var isUnSelected = this.selectedRowIndexes.indexOf(rIndex) > -1;\n                    if (isUnSelected) {\n                        this.addRemoveClass([rIndex]);\n                    }\n                }\n            }\n        }\n    };\n    Selection.prototype.getselectedrowsIndex = function (startIndex, endIndex) {\n        var indexes = [];\n        // eslint-disable-next-line\n        var _a = (startIndex < endIndex) ?\n            { i: startIndex, max: endIndex } : { i: endIndex, max: startIndex }, i = _a.i, max = _a.max;\n        for (; i <= max; i++) {\n            indexes.push(i);\n        }\n        if (startIndex > endIndex) {\n            indexes.reverse();\n        }\n        this.selectedRowIndexes = indexes;\n    };\n    /**\n     * Selects a range of rows from start and end row indexes.\n     *\n     * @param  {number} startIndex - Defines the start row index.\n     * @param  {number} endIndex - Defines the end row index.\n     * @returns {void} .\n     */\n    Selection.prototype.selectRowsByRange = function (startIndex, endIndex) {\n        this.isSelectionFromChart = true;\n        this.getselectedrowsIndex(startIndex, endIndex);\n        this.selectRows(this.selectedRowIndexes);\n    };\n    Selection.prototype.addRemoveClass = function (records) {\n        var ganttRow = [].slice.call(this.parent.ganttChartModule.chartBodyContent.querySelector('tbody').children);\n        var _loop_1 = function (i) {\n            var selectedRow = ganttRow.filter(function (e) {\n                // eslint-disable-next-line\n                return parseInt(e.getAttribute('aria-rowindex'), 0) === records[i];\n            })[0];\n            if (!isNullOrUndefined(selectedRow)) {\n                // eslint-disable-next-line\n                this_1.getSelectedRowIndexes().indexOf(records[i]) > -1 ? this_1.addClass(selectedRow) : this_1.removeClass(selectedRow);\n            }\n        };\n        var this_1 = this;\n        for (var i = 0; i < records.length; i++) {\n            _loop_1(i);\n        }\n    };\n    Selection.prototype.addClass = function (selectedRow) {\n        addClass([selectedRow], 'e-active');\n        selectedRow.setAttribute('aria-selected', 'true');\n    };\n    Selection.prototype.removeClass = function (selectedRow) {\n        removeClass([selectedRow], 'e-active');\n        selectedRow.removeAttribute('aria-selected');\n    };\n    Selection.prototype.showPopup = function (e) {\n        if (this.isSelectionFromChart) {\n            setCssInGridPopUp(this.parent.element.querySelector('.e-ganttpopup'), e, 'e-rowselect e-icons e-icon-rowselect' +\n                ((this.enableSelectMultiTouch &&\n                    (this.getSelectedRecords().length > 1 || this.getSelectedRowCellIndexes().length > 1)) ? ' e-spanclicked' : ''));\n            document.getElementsByClassName('e-gridpopup')[0].style.display = 'none';\n            this.openPopup = true;\n        }\n        else if (this.selectedRowIndexes.length === 0) {\n            this.hidePopUp();\n        }\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    Selection.prototype.hidePopUp = function () {\n        if (this.openPopup) {\n            document.getElementsByClassName('e-ganttpopup')[0].style.display = 'none';\n            this.openPopup = false;\n        }\n        else {\n            document.getElementsByClassName('e-gridpopup')[0].style.display = 'none';\n        }\n    };\n    Selection.prototype.popUpClickHandler = function (e) {\n        var target = e.target;\n        var grid = this.parent.treeGrid.grid;\n        var $popUpElemet = closest(target, '.e-ganttpopup') ?\n            closest(target, '.e-ganttpopup') : closest(target, '.e-gridpopup');\n        if ($popUpElemet) {\n            var spanElement = $popUpElemet.querySelector('.' + 'e-rowselect');\n            if (closest(target, '.e-ganttpopup') &&\n                !spanElement.classList.contains('e-spanclicked')) {\n                this.enableSelectMultiTouch = true;\n                spanElement.classList.add('e-spanclicked');\n            }\n            else if (closest(target, '.e-gridpopup') &&\n                spanElement.classList.contains('e-spanclicked')) {\n                this.openPopup = true;\n                this.enableSelectMultiTouch = true;\n            }\n            else {\n                this.hidePopUp();\n                this.enableSelectMultiTouch = false;\n                if (closest(target, '.e-ganttpopup')) {\n                    spanElement.classList.remove('e-spanclicked');\n                }\n            }\n        }\n        else if (this.parent.selectionSettings.type === 'Multiple' && this.parent.isAdaptive) {\n            var $tr = closest(target, '.e-rowcell');\n            if ($tr && this.selectedRowIndexes.length === 0) {\n                this.hidePopUp();\n            }\n        }\n        if (grid) {\n            setValue('enableSelectMultiTouch', this.enableSelectMultiTouch, grid.selectionModule);\n        }\n    };\n    /**\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     * @private\n     */\n    Selection.prototype.mouseUpHandler = function (e) {\n        var isTaskbarEdited = false;\n        var targetElement = null;\n        if (e.target.closest('.e-rowcell')) {\n            targetElement = e.target;\n        }\n        else if (e.target.closest('.e-chart-row')) {\n            targetElement = e.target.closest('.e-left-label-container') ||\n                e.target.closest('.e-taskbar-main-container') || e.target.closest('.e-right-label-container');\n        }\n        if (this.parent.focusModule) {\n            this.parent.focusModule.setActiveElement(targetElement);\n        }\n        if (this.parent.editModule && this.parent.editSettings.allowTaskbarEditing && this.parent.editModule.taskbarEditModule) {\n            var taskbarEdit = this.parent.editModule.taskbarEditModule;\n            if (taskbarEdit.isMouseDragged || taskbarEdit.tapPointOnFocus) {\n                isTaskbarEdited = true;\n            }\n        }\n        if (!isTaskbarEdited && this.parent.element.contains(e.target)) {\n            var parent_1 = parentsUntil(e.target, 'e-chart-row');\n            var isSelected = e.target.classList.contains('e-rowcell') ||\n                e.target.classList.contains('e-row') ||\n                e.target.classList.contains('e-treegridexpand') ||\n                e.target.classList.contains('e-treegridcollapse') || !isNullOrUndefined(parent_1);\n            this.popUpClickHandler(e);\n            if (this.parent.selectionSettings.mode !== 'Cell' && isSelected) {\n                if (closest(e.target, 'tr.e-chart-row')) {\n                    this.highlightSelectedRows(e, true);\n                }\n                else {\n                    this.highlightSelectedRows(e, false);\n                }\n                if (this.parent.selectionSettings.type === 'Multiple' && this.parent.isAdaptive) {\n                    if (this.selectedRowIndexes.length > 0) {\n                        this.showPopup(e);\n                    }\n                    else {\n                        this.hidePopUp();\n                    }\n                }\n            }\n            else {\n                this.isSelectionFromChart = false;\n            }\n        }\n    };\n    /**\n     * To add class for selected records in virtualization mode.\n     *\n     * @param {number} i .\n     * @returns {void} .\n     * @hidden\n     */\n    Selection.prototype.maintainSelectedRecords = function (i) {\n        var index = this.parent.selectionModule.getSelectedRowIndexes().indexOf(i);\n        if (index > -1) {\n            this.addRemoveClass([i]);\n        }\n    };\n    /**\n     * To destroy the selection module.\n     *\n     * @returns {void} .\n     * @private\n     */\n    Selection.prototype.destroy = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off('selectRowByIndex', this.selectRowByIndex);\n        if (this.parent.isAdaptive) {\n            this.parent.off('chartMouseClick', this.mouseUpHandler);\n            this.parent.off('treeGridClick', this.popUpClickHandler);\n        }\n        else {\n            this.parent.off('chartMouseUp', this.mouseUpHandler);\n        }\n    };\n    return Selection;\n}());\nexport { Selection };\n","import { Toolbar as NavToolbar } from '@syncfusion/ej2-navigations';\nimport { createElement, extend, isNullOrUndefined, remove, getValue, EventHandler, addClass } from '@syncfusion/ej2-base';\nimport * as cls from '../base/css-constants';\nimport * as events from '../base/constant';\nimport { TextBox } from '@syncfusion/ej2-inputs';\nvar Toolbar = /** @class */ (function () {\n    function Toolbar(parent) {\n        this.predefinedItems = {};\n        this.items = ['Add', 'Edit', 'Update', 'Delete', 'Cancel', 'ExpandAll', 'CollapseAll', 'Search',\n            'PrevTimeSpan', 'NextTimeSpan', 'ZoomIn', 'ZoomOut', 'ZoomToFit', 'ExcelExport',\n            'CsvExport', 'PdfExport', 'Indent', 'Outdent'];\n        this.parent = parent;\n        this.id = this.parent.element.id;\n        this.parent.on('ui-toolbarupdate', this.propertyChanged, this);\n    }\n    Toolbar.prototype.getModuleName = function () {\n        return 'toolbar';\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    Toolbar.prototype.renderToolbar = function () {\n        var toolbarItems = this.parent.toolbar || [];\n        if (toolbarItems.length > 0) {\n            this.element = createElement('div', { id: this.parent.controlId + '_Gantt_Toolbar', className: cls.toolbar });\n            if (this.parent.treeGrid.grid.headerModule) {\n                this.parent.element.insertBefore(this.element, this.parent.treeGridPane.offsetParent);\n            }\n            else {\n                this.parent.element.appendChild(this.element);\n            }\n            var preItems = ['Add', 'Edit', 'Update', 'Delete', 'Cancel', 'ExpandAll', 'CollapseAll',\n                'PrevTimeSpan', 'NextTimeSpan', 'ZoomIn', 'ZoomOut', 'ZoomToFit', 'ExcelExport', 'CsvExport',\n                'PdfExport', 'Indent', 'Outdent'];\n            for (var _i = 0, preItems_1 = preItems; _i < preItems_1.length; _i++) {\n                var item = preItems_1[_i];\n                var itemStr = item.toLowerCase();\n                var localeName = item[0].toLowerCase() + item.slice(1);\n                this.predefinedItems[item] = {\n                    id: this.parent.element.id + '_' + itemStr, prefixIcon: 'e-' + itemStr,\n                    text: this.parent.isAdaptive ? '' : this.parent.localeObj.getConstant(localeName),\n                    tooltipText: this.parent.localeObj.getConstant(localeName) + ((localeName === 'add' ||\n                        localeName === 'edit' || localeName === 'delete') ? this.parent.localeObj.getConstant('task') :\n                        (localeName === 'expandAll' || localeName === 'collapseAll') ?\n                            this.parent.localeObj.getConstant('tasks') : ''),\n                    align: this.parent.isAdaptive ? 'Right' : 'Left'\n                };\n            }\n            var searchLocalText = this.parent.localeObj.getConstant('search');\n            if (this.parent.isAdaptive) {\n                this.predefinedItems.Search = {\n                    id: this.id + '_searchbutton',\n                    prefixIcon: 'e-search-icon',\n                    tooltipText: searchLocalText,\n                    align: 'Right'\n                };\n            }\n            else {\n                this.predefinedItems.Search = {\n                    id: this.id + '_search',\n                    template: '<div class=\"e-input-group e-search\" role=\"search\">' +\n                        '<input id=\"' + this.id + '_searchbar\" class=\"e-input\" name=\"input\" type=\"search\"' +\n                        // eslint-disable-next-line\n                        'placeholder= \\\"' + searchLocalText + '\\\"/>' +\n                        '<span id=\"' + this.id + '_searchbutton\" class=\"e-input-group-icon e-search-icon e-icons\"' +\n                        'tabindex=\"-1\" title=\"' + searchLocalText + '\" aria-label= \"search\"></span>' +\n                        '</div>',\n                    tooltipText: searchLocalText,\n                    align: 'Right', cssClass: 'e-search-wrapper'\n                };\n            }\n            this.createToolbar();\n        }\n    };\n    Toolbar.prototype.createToolbar = function () {\n        var items = this.getItems();\n        this.toolbar = new NavToolbar({\n            items: items,\n            clicked: this.toolbarClickHandler.bind(this),\n            height: this.parent.isAdaptive ? 48 : 'auto'\n        });\n        this.toolbar.isStringTemplate = true;\n        this.toolbar.appendTo(this.element);\n        var cancelItem = this.element.querySelector('#' + this.parent.element.id + '_cancel');\n        var updateItem = this.element.querySelector('#' + this.parent.element.id + '_update');\n        if (cancelItem) {\n            addClass([cancelItem], cls.focusCell);\n        }\n        if (updateItem) {\n            addClass([updateItem], cls.focusCell);\n        }\n        if (this.parent.isAdaptive) {\n            this.element.insertBefore(this.getSearchBarElement(), this.element.childNodes[0]);\n            this.searchElement = this.element.querySelector('#' + this.parent.element.id + '_searchbar');\n            var textObj = new TextBox({\n                placeholder: this.parent.localeObj.getConstant('search'),\n                floatLabelType: 'Never',\n                showClearButton: true\n            });\n            textObj.appendTo(this.searchElement);\n        }\n        else {\n            this.searchElement = this.element.querySelector('#' + this.parent.element.id + '_searchbar');\n        }\n        if (this.parent.filterModule) {\n            this.wireEvent();\n            if (this.parent.searchSettings) {\n                this.updateSearchTextBox();\n            }\n        }\n        if (this.parent.readOnly) {\n            this.enableItems([this.parent.element.id + '_add', this.parent.element.id + '_update', this.parent.element.id + '_delete',\n                this.parent.element.id + '_cancel', this.parent.element.id + '_indent', this.parent.element.id + '_outdent'], false);\n        }\n    };\n    Toolbar.prototype.getSearchBarElement = function () {\n        var _this = this;\n        var div = createElement('div', { className: 'e-adaptive-searchbar', styles: 'display: none' });\n        var textbox = createElement('input', { attrs: { type: 'text' }, id: this.parent.element.id + '_searchbar' });\n        var span = createElement('span', { className: 'e-backarrowspan e-icons' });\n        span.onclick = function () {\n            div.style.display = 'none';\n            _this.element.childNodes[1].style.display = 'block';\n        };\n        div.appendChild(span);\n        div.appendChild(textbox);\n        return div;\n    };\n    Toolbar.prototype.wireEvent = function () {\n        if (this.searchElement) {\n            EventHandler.add(this.searchElement, 'keyup', this.keyUpHandler, this);\n            EventHandler.add(this.searchElement, 'focus', this.focusHandler, this);\n            EventHandler.add(this.searchElement, 'blur', this.blurHandler, this);\n        }\n    };\n    // eslint-disable-next-line\n    Toolbar.prototype.propertyChanged = function (property) {\n        var module = getValue('module', property);\n        if (module !== this.getModuleName() || !this.parent.toolbar) {\n            return;\n        }\n        if (this.element && this.element.parentNode) {\n            remove(this.element);\n        }\n        this.renderToolbar();\n        this.refreshToolbarItems();\n    };\n    Toolbar.prototype.unWireEvent = function () {\n        if (this.searchElement) {\n            EventHandler.remove(this.searchElement, 'keyup', this.keyUpHandler);\n            EventHandler.remove(this.searchElement, 'focus', this.focusHandler);\n            EventHandler.remove(this.searchElement, 'blur', this.blurHandler);\n            this.searchElement = null;\n        }\n        this.parent.off('ui-toolbarupdate', this.propertyChanged);\n    };\n    Toolbar.prototype.keyUpHandler = function (e) {\n        if (e.keyCode === 13 && this.parent.searchSettings.key !== this.searchElement.value) {\n            this.parent.searchSettings.key = this.searchElement.value;\n            this.parent.dataBind();\n        }\n    };\n    Toolbar.prototype.focusHandler = function (e) {\n        e.target.parentElement.classList.add('e-input-focus');\n    };\n    Toolbar.prototype.blurHandler = function (e) {\n        e.target.parentElement.classList.remove('e-input-focus');\n    };\n    /**\n     * Method to set value for search input box\n     *\n     * @returns {void} .\n     * @hidden\n     */\n    Toolbar.prototype.updateSearchTextBox = function () {\n        if (this.searchElement && this.searchElement.value !== this.parent.searchSettings.key) {\n            this.searchElement.value = this.parent.searchSettings.key;\n        }\n    };\n    Toolbar.prototype.getItems = function () {\n        var items = [];\n        var toolbarItems = this.parent.toolbar;\n        var searchIndex = -1;\n        toolbarItems.forEach(function (item, index) {\n            if ((typeof (item) === 'string' && item === 'Search') ||\n                ((typeof (item) === 'object') && item.text === 'Search')) {\n                searchIndex = index;\n            }\n        });\n        if (searchIndex > -1) {\n            var searchItem = toolbarItems.splice(searchIndex, 1);\n            toolbarItems.push(searchItem[0]);\n        }\n        for (var _i = 0, toolbarItems_1 = toolbarItems; _i < toolbarItems_1.length; _i++) {\n            var item = toolbarItems_1[_i];\n            if (typeof item === 'string') {\n                items.push(this.getItemObject(item));\n            }\n            else {\n                items.push(this.getItem(item));\n            }\n        }\n        return items;\n    };\n    Toolbar.prototype.getItem = function (itemObject) {\n        var item = this.predefinedItems[itemObject.text];\n        return item ? extend(item, item, itemObject) : itemObject;\n    };\n    Toolbar.prototype.getItemObject = function (itemName) {\n        return this.predefinedItems[itemName] || { text: itemName, id: this.id + '_' + itemName };\n    };\n    Toolbar.prototype.toolbarClickHandler = function (arg) {\n        var _this = this;\n        var gObj = this.parent;\n        var gID = this.id;\n        extend(arg, { cancel: false });\n        gObj.trigger(events.toolbarClick, arg, function (args) {\n            if (args.cancel) {\n                return;\n            }\n            else {\n                if (_this.parent.isAdaptive === true) {\n                    if (args.item.id === gID + '_edit' || args.item.id === gID + '_add' || args.item.id === gID + '_delete'\n                        || args.item.id === gID + '_searchbutton' || args.item.id === gID + '_expandall'\n                        || args.item.id === gID + '_collapseall') {\n                        if (_this.parent.selectionModule && _this.parent.selectionSettings.type === 'Multiple') {\n                            _this.parent.selectionModule.hidePopUp();\n                            document.getElementsByClassName('e-gridpopup')[0].style.display = 'none';\n                        }\n                    }\n                }\n                switch (!isNullOrUndefined(args.item) && args.item.id) {\n                    case gID + '_edit':\n                        if (gObj.editModule && gObj.editSettings.allowEditing) {\n                            gObj.editModule.dialogModule.openToolbarEditDialog();\n                        }\n                        break;\n                    case gID + '_indent':\n                        if (gObj.editModule && gObj.selectionModule.getSelectedRecords().length) {\n                            gObj.indent();\n                        }\n                        break;\n                    case gID + '_outdent':\n                        if (gObj.editModule && gObj.selectionModule.getSelectedRecords().length) {\n                            gObj.outdent();\n                        }\n                        break;\n                    case gID + '_update':\n                        gObj.editModule.cellEditModule.isCellEdit = false;\n                        gObj.treeGrid.grid.saveCell();\n                        break;\n                    case gID + '_cancel':\n                        gObj.cancelEdit();\n                        break;\n                    case gID + '_add':\n                        if (gObj.editModule && gObj.editSettings.allowAdding) {\n                            gObj.editModule.dialogModule.openAddDialog();\n                        }\n                        break;\n                    case gID + '_delete':\n                        if (_this.parent.selectionModule && _this.parent.editModule) {\n                            if ((_this.parent.selectionSettings.mode !== 'Cell' && _this.parent.selectionModule.selectedRowIndexes.length)\n                                || (_this.parent.selectionSettings.mode === 'Cell' &&\n                                    _this.parent.selectionModule.getSelectedRowCellIndexes().length)) {\n                                _this.parent.editModule.startDeleteAction();\n                            }\n                        }\n                        break;\n                    case gID + '_search':\n                        {\n                            var searchButtonId = getValue('originalEvent.target.id', args);\n                            if (searchButtonId === _this.parent.element.id + '_searchbutton' && _this.parent.filterModule) {\n                                var keyVal = _this.element.querySelector('#' + _this.parent.element.id + '_searchbar').value;\n                                if (_this.parent.searchSettings.key !== keyVal) {\n                                    _this.parent.searchSettings.key = keyVal;\n                                    _this.parent.dataBind();\n                                }\n                            }\n                            break;\n                        }\n                    case gID + '_searchbutton':\n                        {\n                            var adaptiveSearchbar = _this.element.querySelector('.e-adaptive-searchbar');\n                            adaptiveSearchbar.parentElement.childNodes[1].style.display = 'none';\n                            adaptiveSearchbar.style.display = 'block';\n                            break;\n                        }\n                    case gID + '_expandall':\n                        _this.parent.ganttChartModule.expandCollapseAll('expand');\n                        break;\n                    case gID + '_collapseall':\n                        _this.parent.ganttChartModule.expandCollapseAll('collapse');\n                        break;\n                    case gID + '_prevtimespan':\n                        _this.parent.previousTimeSpan();\n                        break;\n                    case gID + '_nexttimespan':\n                        _this.parent.nextTimeSpan();\n                        break;\n                    case gID + '_zoomin':\n                        _this.zoomIn();\n                        break;\n                    case gID + '_zoomout':\n                        _this.zoomOut();\n                        break;\n                    case gID + '_zoomtofit':\n                        _this.zoomToFit();\n                        break;\n                }\n            }\n        });\n    };\n    /**\n     *\n     * @returns {void} .\n     * @private\n     */\n    Toolbar.prototype.zoomIn = function () {\n        this.parent.timelineModule.processZooming(true);\n    };\n    /**\n     *\n     * @returns {void} .\n     * @private\n     */\n    Toolbar.prototype.zoomToFit = function () {\n        this.parent.timelineModule.processZoomToFit();\n        this.parent.ganttChartModule.updateScrollLeft(0);\n    };\n    /**\n     *\n     * @returns {void} .\n     * @private\n     */\n    Toolbar.prototype.zoomOut = function () {\n        this.parent.timelineModule.processZooming(false);\n    };\n    /**\n     * To refresh toolbar items bases current state of tasks\n     *\n     * @param {RowSelectEventArgs} args .\n     * @returns {void} .\n     */\n    Toolbar.prototype.refreshToolbarItems = function (args) {\n        var gObj = this.parent;\n        var enableItems = [];\n        var disableItems = [];\n        var edit = gObj.editSettings;\n        var gID = this.id;\n        var ind = gObj.selectedRowIndex;\n        var previousGanttRecord;\n        var isSelected = gObj.selectionModule ? gObj.selectionModule.selectedRowIndexes.length === 1 ||\n            gObj.selectionModule.getSelectedRowCellIndexes().length === 1 ? true : false : false;\n        var toolbarItems = this.toolbar ? this.toolbar.items : [];\n        var toolbarDefaultItems = [gID + '_add', gID + '_edit', gID + '_delete',\n            gID + '_update', gID + '_cancel', gID + '_indent', gID + '_outdent'];\n        var isResouceParent = (this.parent.viewType === 'ResourceView' && getValue('data.level', args) !== 0\n            || this.parent.viewType === 'ProjectView');\n        if (!isNullOrUndefined(this.parent.editModule)) {\n            var touchEdit = gObj.editModule.taskbarEditModule ?\n                gObj.editModule.taskbarEditModule.touchEdit : false;\n            var hasData = gObj.flatData && gObj.flatData.length;\n            // eslint-disable-next-line\n            edit.allowAdding && !touchEdit ? enableItems.push(gID + '_add') : disableItems.push(gID + '_add');\n            // eslint-disable-next-line\n            edit.allowEditing && isResouceParent && hasData && isSelected && !touchEdit ?\n                enableItems.push(gID + '_edit') : disableItems.push(gID + '_edit');\n            if (!edit.allowEditing || ind === 0 || ind === -1 || !hasData || !isSelected || this.parent.viewType === 'ResourceView') {\n                disableItems.push(gID + '_indent');\n                disableItems.push(gID + '_outdent');\n            }\n            else {\n                if (gObj.updatedRecords[ind].level === 0 && hasData && !touchEdit) {\n                    enableItems.push(gID + '_indent');\n                    disableItems.push(gID + '_outdent');\n                }\n                else {\n                    previousGanttRecord = gObj.updatedRecords[ind - 1];\n                    if ((gObj.updatedRecords[ind].level - previousGanttRecord.level === 1) && ind !== -1) {\n                        disableItems.push(gID + '_indent');\n                        enableItems.push(gID + '_outdent');\n                    }\n                    else if (ind !== -1) {\n                        enableItems.push(gID + '_indent');\n                        enableItems.push(gID + '_outdent');\n                    }\n                }\n            }\n            var isDeleteSelected = gObj.selectionModule ? gObj.selectionModule.selectedRowIndexes.length > 0 ||\n                gObj.selectionModule.getSelectedRowCellIndexes().length > 0 ? true : false : false;\n            // eslint-disable-next-line\n            edit.allowDeleting && isResouceParent && hasData && isDeleteSelected && !touchEdit ?\n                enableItems.push(gID + '_delete') : disableItems.push(gID + '_delete');\n            if (gObj.editSettings.mode === 'Auto' && !isNullOrUndefined(gObj.editModule.cellEditModule)\n                && gObj.editModule.cellEditModule.isCellEdit) {\n                // New initialization for enableItems and disableItems during isCellEdit\n                enableItems = [];\n                enableItems.push(gID + '_update', gID + '_cancel');\n                disableItems = [];\n                for (var t = 0; t < toolbarItems.length; t++) {\n                    if (toolbarItems[t].id !== gID + '_update' && toolbarItems[t].id !== gID + '_cancel' &&\n                        toolbarDefaultItems.indexOf(toolbarItems[t].id) !== -1) {\n                        disableItems.push(toolbarItems[t].id);\n                    }\n                }\n            }\n            else {\n                disableItems.push(gID + '_update', gID + '_cancel');\n                for (var t = 0; t < toolbarItems.length; t++) {\n                    if (enableItems.indexOf(toolbarItems[t].id) === -1 && disableItems.indexOf(toolbarItems[t].id) === -1) {\n                        enableItems.push(toolbarItems[t].id);\n                    }\n                }\n            }\n        }\n        else {\n            disableItems.push(gID + '_delete');\n            disableItems.push(gID + '_add');\n            disableItems.push(gID + '_edit');\n            disableItems.push(gID + '_update');\n            disableItems.push(gID + '_cancel');\n        }\n        for (var e = 0; e < enableItems.length; e++) {\n            var index = void 0;\n            for (var t = 0; t < toolbarItems.length; t++) {\n                if (toolbarItems[t].id === enableItems[e]) {\n                    index = t;\n                    break;\n                }\n            }\n            if (toolbarItems.length > 0) {\n                this.toolbar.hideItem(index, false);\n            }\n        }\n        for (var d = 0; d < disableItems.length; d++) {\n            var index = void 0;\n            for (var t = 0; t < toolbarItems.length; t++) {\n                if (toolbarItems[t].id === disableItems[d]) {\n                    index = t;\n                    break;\n                }\n            }\n            if (toolbarItems.length > 0) {\n                this.toolbar.hideItem(index, true);\n            }\n        }\n    };\n    /**\n     * Enables or disables ToolBar items.\n     *\n     * @param {string[]} items - Defines the collection of itemID of ToolBar items.\n     * @param {boolean} isEnable - Defines the items to be enabled or disabled.\n     * @returns {void} .\n     * @hidden\n     */\n    Toolbar.prototype.enableItems = function (items, isEnable) {\n        for (var _i = 0, items_1 = items; _i < items_1.length; _i++) {\n            var item = items_1[_i];\n            var element = this.element.querySelector('#' + item);\n            if (element) {\n                this.toolbar.enableItems(element.parentElement, isEnable);\n            }\n        }\n    };\n    /**\n     * Destroys the Sorting of TreeGrid.\n     *\n     * @function destroy\n     * @returns {void} .\n     * @private\n     */\n    Toolbar.prototype.destroy = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.toolbar.destroy();\n        if (this.parent.filterModule) {\n            this.unWireEvent();\n        }\n        remove(this.element);\n    };\n    return Toolbar;\n}());\nexport { Toolbar };\n","import { createElement, formatUnit, remove } from '@syncfusion/ej2-base';\nimport * as cls from '../base/css-constants';\nvar NonWorkingDay = /** @class */ (function () {\n    function NonWorkingDay(gantt) {\n        this.parent = gantt;\n        this.nonworkingContainer = null;\n        this.holidayContainer = null;\n        this.weekendContainer = null;\n    }\n    /**\n     * Method append nonworking container\n     *\n     * @returns {void} .\n     */\n    NonWorkingDay.prototype.createNonworkingContainer = function () {\n        if (!this.parent.ganttChartModule.chartBodyContent.contains(this.nonworkingContainer)) {\n            this.nonworkingContainer = createElement('div', {\n                className: cls.nonworkingContainer\n            });\n            if (this.parent.virtualScrollModule && this.parent.enableVirtualization) {\n                this.parent.ganttChartModule.virtualRender.appendChildElements(this.nonworkingContainer);\n            }\n            else {\n                this.parent.ganttChartModule.chartBodyContent.appendChild(this.nonworkingContainer);\n            }\n        }\n    };\n    /**\n     * calculation for holidays rendering.\n     *\n     * @returns {void} .\n     * @private\n     */\n    NonWorkingDay.prototype.renderHolidays = function () {\n        if (this.parent.holidays && this.parent.holidays.length > 0) {\n            this.createNonworkingContainer();\n            if (!this.nonworkingContainer.contains(this.holidayContainer)) {\n                this.holidayContainer = createElement('div', {\n                    className: cls.holidayContainer\n                });\n                this.nonworkingContainer.appendChild(this.holidayContainer);\n            }\n            this.holidayContainer.innerHTML = this.getHolidaysElement().innerHTML;\n        }\n        else if (this.holidayContainer) {\n            remove(this.holidayContainer);\n            if (this.nonworkingContainer && this.nonworkingContainer.childNodes.length === 0) {\n                remove(this.nonworkingContainer);\n            }\n        }\n    };\n    /**\n     * Method to return holidays as html string\n     *\n     * @returns {HTMLElement} .\n     */\n    NonWorkingDay.prototype.getHolidaysElement = function () {\n        var fromDate;\n        var toDate;\n        var container = createElement('div');\n        var height = this.parent.contentHeight;\n        var scrollElement = this.parent.ganttChartModule.scrollElement;\n        var viewportHeight = parseInt(scrollElement.style.height, 10);\n        for (var i = 0; i < this.parent.holidays.length; i++) {\n            if (this.parent.holidays[i].from && this.parent.holidays[i].to) {\n                fromDate = this.parent.dateValidationModule.getDateFromFormat(this.parent.holidays[i].from);\n                toDate = this.parent.dateValidationModule.getDateFromFormat(this.parent.holidays[i].to);\n                toDate.setDate(toDate.getDate() + 1);\n                fromDate.setHours(0, 0, 0, 0);\n                toDate.setHours(0, 0, 0, 0);\n            }\n            else if (this.parent.holidays[i].from) {\n                fromDate = this.parent.dateValidationModule.getDateFromFormat(this.parent.holidays[i].from);\n                fromDate.setHours(0, 0, 0, 0);\n            }\n            else if (this.parent.holidays[i].to) {\n                fromDate = this.parent.dateValidationModule.getDateFromFormat(this.parent.holidays[i].to);\n                fromDate.setHours(0, 0, 0, 0);\n            }\n            var width = (this.parent.holidays[i].from && this.parent.holidays[i].to) ?\n                this.parent.dataOperation.getTaskWidth(fromDate, toDate) : this.parent.perDayWidth;\n            var left = this.parent.dataOperation.getTaskLeft(fromDate, false);\n            var holidayDiv = createElement('div', {\n                className: cls.holidayElement, styles: \"left:\" + left + \"px; width:\" + width + \"px; height:100%;\"\n            });\n            var spanTop = (viewportHeight < height) ? viewportHeight / 2 : height / 2;\n            var spanElement = createElement('span', {\n                className: cls.holidayLabel, styles: \"top:\" + spanTop + \"px;left:\" + (width / 2) + \"px;\"\n            });\n            var property = this.parent.disableHtmlEncode ? 'textContent' : 'innerHTML';\n            spanElement[property] = this.parent.holidays[i].label ? this.parent.holidays[i].label : '';\n            holidayDiv.appendChild(spanElement);\n            if (this.parent.holidays[i].cssClass) {\n                holidayDiv.classList.add(this.parent.holidays[i].cssClass);\n            }\n            container.appendChild(holidayDiv);\n        }\n        return container;\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    NonWorkingDay.prototype.renderWeekends = function () {\n        if (this.parent.highlightWeekends) {\n            this.createNonworkingContainer();\n            if (!this.nonworkingContainer.contains(this.weekendContainer)) {\n                this.weekendContainer = createElement('div', {\n                    className: cls.weekendContainer\n                });\n                this.nonworkingContainer.appendChild(this.weekendContainer);\n            }\n            this.weekendContainer.innerHTML = this.getWeekendElements().innerHTML;\n        }\n        else if (this.weekendContainer) {\n            remove(this.weekendContainer);\n            if (this.nonworkingContainer && this.nonworkingContainer.childNodes.length === 0) {\n                remove(this.nonworkingContainer);\n            }\n        }\n    };\n    /**\n     * Method to get weekend html string\n     *\n     * @returns {HTMLElement} .\n     */\n    NonWorkingDay.prototype.getWeekendElements = function () {\n        var container = createElement('div');\n        var startDate = new Date(this.parent.timelineModule.timelineStartDate.getTime());\n        var endDate = new Date(this.parent.timelineModule.timelineEndDate.getTime());\n        var nonWorkingIndex = this.parent.nonWorkingDayIndex;\n        var isFirstCell = true;\n        do {\n            if (nonWorkingIndex.indexOf(startDate.getDay()) !== -1) {\n                var left = this.parent.dataOperation.getTaskLeft(startDate, false);\n                var width = this.parent.perDayWidth;\n                if (isFirstCell) {\n                    var start = new Date(startDate.getTime());\n                    var tempEnd = new Date(start.getTime());\n                    tempEnd.setDate(tempEnd.getDate() + 1);\n                    tempEnd.setHours(0, 0, 0, 0);\n                    width = this.parent.dataOperation.getTaskWidth(start, tempEnd);\n                    isFirstCell = false;\n                }\n                var weekendDiv = createElement('div', {\n                    className: cls.weekend, styles: \"left:\" + left + \"px;width:\" + width + \"px;height:100%;\"\n                });\n                container.appendChild(weekendDiv);\n            }\n            startDate.setDate(startDate.getDate() + 1);\n            startDate.setHours(0, 0, 0, 0);\n        } while (startDate < endDate);\n        return container;\n    };\n    NonWorkingDay.prototype.updateHolidayLabelHeight = function () {\n        var height = this.parent.contentHeight;\n        var scrollElement = this.parent.ganttChartModule.scrollElement;\n        var viewportHeight = parseInt(scrollElement.style.height, 10);\n        var top = (viewportHeight < height) ? viewportHeight / 2 : height / 2;\n        var labels = this.holidayContainer.querySelectorAll('.' + cls.holidayLabel);\n        for (var i = 0; i < labels.length; i++) {\n            labels[i].style.top = formatUnit(top);\n        }\n    };\n    /**\n     * Method to update height for all internal containers\n     *\n     * @returns {void} .\n     * @private\n     */\n    NonWorkingDay.prototype.updateContainerHeight = function () {\n        var height = this.parent.getContentHeight();\n        if (this.holidayContainer) {\n            this.holidayContainer.style.height = formatUnit(height);\n            this.updateHolidayLabelHeight();\n        }\n        if (this.weekendContainer) {\n            this.weekendContainer.style.height = formatUnit(height);\n        }\n    };\n    /**\n     * Method to remove containers of holiday and weekend\n     *\n     * @returns {void} .\n     */\n    NonWorkingDay.prototype.removeContainers = function () {\n        if (this.holidayContainer) {\n            remove(this.holidayContainer);\n        }\n        if (this.weekendContainer) {\n            remove(this.weekendContainer);\n        }\n        if (this.nonworkingContainer) {\n            remove(this.nonworkingContainer);\n        }\n    };\n    return NonWorkingDay;\n}());\nexport { NonWorkingDay };\n","import { createElement, formatUnit, remove, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport * as cls from '../base/css-constants';\nvar EventMarker = /** @class */ (function () {\n    function EventMarker(gantt) {\n        this.parent = gantt;\n        this.eventMarkersContainer = null;\n    }\n    /**\n     * @returns {void} .\n     * @private\n     */\n    EventMarker.prototype.renderEventMarkers = function () {\n        if (this.parent.eventMarkers && this.parent.eventMarkers.length > 0) {\n            if (!this.parent.ganttChartModule.chartBodyContent.contains(this.eventMarkersContainer)) {\n                this.eventMarkersContainer = createElement('div', {\n                    className: cls.eventMarkersContainer\n                });\n                if (this.parent.virtualScrollModule && this.parent.enableVirtualization) {\n                    this.parent.ganttChartModule.virtualRender.appendChildElements(this.eventMarkersContainer);\n                }\n                else {\n                    this.parent.ganttChartModule.chartBodyContent.appendChild(this.eventMarkersContainer);\n                }\n            }\n            this.eventMarkersContainer.innerHTML = '';\n            this.getEventMarkersElements(this.eventMarkersContainer);\n        }\n        else {\n            this.removeContainer();\n        }\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    EventMarker.prototype.removeContainer = function () {\n        if (this.eventMarkersContainer) {\n            remove(this.eventMarkersContainer);\n            this.eventMarkersContainer = null;\n        }\n    };\n    /**\n     * Method to get event markers as html string\n     *\n     * @param {HTMLElement} container .\n     * @returns {void} .\n     */\n    EventMarker.prototype.getEventMarkersElements = function (container) {\n        var left;\n        var eventMarkerElement;\n        var spanElement;\n        var rightArrow;\n        for (var i = 0; i < this.parent.eventMarkers.length; i++) {\n            left = this.parent.dataOperation.getTaskLeft(this.parent.dateValidationModule.getDateFromFormat(this.parent.eventMarkers[i].day, true), false);\n            eventMarkerElement = createElement('div', {\n                className: cls.eventMarkersChild, styles: \"left:\" + left + \"px;  height:100%;\",\n                id: 'stripline' + i\n            });\n            if (this.parent.eventMarkers[i].label) {\n                spanElement = createElement('div', {\n                    className: cls.eventMarkersSpan\n                });\n                var property = this.parent.disableHtmlEncode ? 'textContent' : 'innerHTML';\n                spanElement[property] = this.parent.eventMarkers[i].label;\n                eventMarkerElement.appendChild(spanElement);\n                rightArrow = createElement('div', {\n                    className: 'e-gantt-right-arrow'\n                });\n                eventMarkerElement.appendChild(rightArrow);\n            }\n            if (this.parent.eventMarkers[i].cssClass) {\n                eventMarkerElement.classList.add(this.parent.eventMarkers[i].cssClass);\n            }\n            eventMarkerElement.setAttribute('tabindex', '-1');\n            if (!isNullOrUndefined(this.parent.eventMarkers[i].day)) {\n                eventMarkerElement.setAttribute('aria-label', this.parent.localeObj.getConstant('eventMarkers') + ' '\n                    + (typeof this.parent.eventMarkers[i].day === 'string' ?\n                        this.parent.eventMarkers[i].day : this.parent.getFormatedDate(this.parent.eventMarkers[i].day))\n                    + ' ' + this.parent.eventMarkers[i].label);\n            }\n            container.appendChild(eventMarkerElement);\n        }\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    EventMarker.prototype.updateContainerHeight = function () {\n        if (this.eventMarkersContainer) {\n            this.eventMarkersContainer.style.height = formatUnit(this.parent.getContentHeight());\n        }\n    };\n    return EventMarker;\n}());\nexport { EventMarker };\n","import { NonWorkingDay } from '../renderer/nonworking-day';\nimport { EventMarker } from '../renderer/event-marker';\nimport { getValue } from '@syncfusion/ej2-base';\n/**\n * DayMarkers module is used to render event markers, holidays and to highlight the weekend days.\n */\nvar DayMarkers = /** @class */ (function () {\n    function DayMarkers(parent) {\n        this.parent = parent;\n        this.nonworkingDayRender = new NonWorkingDay(this.parent);\n        this.eventMarkerRender = new EventMarker(this.parent);\n        this.wireEvents();\n    }\n    DayMarkers.prototype.wireEvents = function () {\n        this.parent.on('refreshDayMarkers', this.refreshMarkers, this);\n        this.parent.on('updateHeight', this.updateHeight, this);\n        this.parent.on('ui-update', this.propertyChanged, this);\n    };\n    DayMarkers.prototype.propertyChanged = function (property) {\n        var keys = Object.keys(getValue('properties', property));\n        for (var i = 0; i < keys.length; i++) {\n            var key = keys[i];\n            switch (key) {\n                case 'eventMarkers':\n                    this.eventMarkerRender.renderEventMarkers();\n                    this.updateHeight();\n                    break;\n                case 'highlightWeekends':\n                    this.nonworkingDayRender.renderWeekends();\n                    this.updateHeight();\n                    break;\n                case 'holidays':\n                    this.nonworkingDayRender.renderHolidays();\n                    this.updateHeight();\n                    break;\n            }\n        }\n    };\n    DayMarkers.prototype.refreshMarkers = function () {\n        this.eventMarkerRender.renderEventMarkers();\n        this.nonworkingDayRender.renderWeekends();\n        this.nonworkingDayRender.renderHolidays();\n    };\n    DayMarkers.prototype.updateHeight = function () {\n        this.nonworkingDayRender.updateContainerHeight();\n        this.eventMarkerRender.updateContainerHeight();\n    };\n    /**\n     * To get module name\n     *\n     * @returns {string} .\n     */\n    DayMarkers.prototype.getModuleName = function () {\n        return 'dayMarkers';\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    DayMarkers.prototype.destroy = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.nonworkingDayRender.removeContainers();\n        this.eventMarkerRender.removeContainer();\n        this.parent.off('refreshDayMarkers', this.refreshMarkers);\n        this.parent.off('updateHeight', this.updateHeight);\n        this.parent.off('ui-update', this.propertyChanged);\n    };\n    return DayMarkers;\n}());\nexport { DayMarkers };\n","import * as cons from './../base/css-constants';\nimport { TreeGrid, ContextMenu as TreeGridContextMenu } from '@syncfusion/ej2-treegrid';\nimport { remove, closest, isNullOrUndefined, getValue, extend, getElement, isBlazor, addClass } from '@syncfusion/ej2-base';\nimport { Deferred } from '@syncfusion/ej2-data';\nimport { ContextMenu as Menu } from '@syncfusion/ej2-navigations';\n// eslint-disable-next-line\n/**\n * The ContextMenu module is used to handle the context menu items & sub-menu items.\n *\n * @returns {void} .\n */\nvar ContextMenu = /** @class */ (function () {\n    function ContextMenu(parent) {\n        var _this = this;\n        this.segmentIndex = -1;\n        this.headerContextMenuClick = function (args) {\n            var gridRow = closest(args.event.target, '.e-row');\n            var chartRow = closest(args.event.target, '.e-chart-row');\n            if (isNullOrUndefined(gridRow) && isNullOrUndefined(chartRow)) {\n                args.type = 'Header';\n                _this.parent.trigger('contextMenuClick', args);\n            }\n        };\n        this.headerContextMenuOpen = function (args) {\n            var gridRow = closest(args.event.target, '.e-row');\n            var chartRow = closest(args.event.target, '.e-chart-row');\n            if (isNullOrUndefined(gridRow) && isNullOrUndefined(chartRow)) {\n                args.type = 'Header';\n                _this.parent.trigger('contextMenuOpen', args);\n            }\n            else {\n                args.cancel = true;\n            }\n        };\n        this.parent = parent;\n        this.ganttID = parent.element.id;\n        TreeGrid.Inject(TreeGridContextMenu);\n        this.parent.treeGrid.contextMenuClick = this.headerContextMenuClick.bind(this);\n        this.parent.treeGrid.contextMenuOpen = this.headerContextMenuOpen.bind(this);\n        this.addEventListener();\n        this.resetItems();\n    }\n    ContextMenu.prototype.addEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.on('initiate-contextMenu', this.render, this);\n        this.parent.on('reRender-contextMenu', this.reRenderContextMenu, this);\n        this.parent.on('contextMenuClick', this.contextMenuItemClick, this);\n        this.parent.on('contextMenuOpen', this.contextMenuBeforeOpen, this);\n    };\n    ContextMenu.prototype.reRenderContextMenu = function (e) {\n        if (e.module === this.getModuleName() && e.enable) {\n            if (this.contextMenu) {\n                this.contextMenu.destroy();\n                remove(this.element);\n            }\n            this.resetItems();\n            this.render();\n        }\n    };\n    ContextMenu.prototype.render = function () {\n        this.element = this.parent.createElement('ul', {\n            id: this.ganttID + '_contextmenu', className: cons.focusCell\n        });\n        this.parent.element.appendChild(this.element);\n        var target = '#' + this.ganttID;\n        this.contextMenu = new Menu({\n            items: this.getMenuItems(),\n            locale: this.parent.locale,\n            target: target,\n            animationSettings: { effect: 'None' },\n            select: this.contextMenuItemClick.bind(this),\n            beforeOpen: this.contextMenuBeforeOpen.bind(this),\n            onOpen: this.contextMenuOpen.bind(this),\n            onClose: this.contextMenuOnClose.bind(this),\n            cssClass: 'e-gantt'\n        });\n        this.contextMenu.appendTo(this.element);\n        this.parent.treeGrid.contextMenuItems = this.headerMenuItems;\n    };\n    ContextMenu.prototype.contextMenuItemClick = function (args) {\n        this.item = this.getKeyFromId(args.item.id);\n        var position;\n        // eslint-disable-next-line\n        var data;\n        var taskfields;\n        var parentItem = getValue('parentObj', args.item);\n        var index = -1;\n        if (parentItem && !isNullOrUndefined(parentItem.id) && this.getKeyFromId(parentItem.id) === 'DeleteDependency') {\n            index = parentItem.items.indexOf(args.item);\n        }\n        if (this.parent.isAdaptive) {\n            if (this.item === 'TaskInformation' || this.item === 'Above' || this.item === 'Below'\n                || this.item === 'Child' || this.item === 'DeleteTask') {\n                if (this.parent.selectionModule && this.parent.selectionSettings.type === 'Multiple') {\n                    this.parent.selectionModule.hidePopUp();\n                    document.getElementsByClassName('e-gridpopup')[0].style.display = 'none';\n                }\n            }\n        }\n        switch (this.item) {\n            case 'TaskInformation':\n                this.parent.openEditDialog(Number(this.rowData.ganttProperties.rowUniqueID));\n                break;\n            case 'Above':\n            case 'Below':\n            case 'Child':\n                position = this.item;\n                data = extend({}, {}, this.rowData.taskData, true);\n                taskfields = this.parent.taskFields;\n                if (!isNullOrUndefined(taskfields.dependency)) {\n                    data[taskfields.dependency] = null;\n                }\n                if (!isNullOrUndefined(taskfields.child) && data[taskfields.child]) {\n                    delete data[taskfields.child];\n                }\n                if (!isNullOrUndefined(taskfields.parentID) && data[taskfields.parentID]) {\n                    data[taskfields.parentID] = null;\n                }\n                if (this.rowData) {\n                    var rowIndex = this.parent.updatedRecords.indexOf(this.rowData);\n                    this.parent.addRecord(data, position, rowIndex);\n                }\n                break;\n            case 'Milestone':\n            case 'ToMilestone':\n                this.parent.convertToMilestone(this.rowData.ganttProperties.rowUniqueID);\n                break;\n            case 'DeleteTask':\n                this.parent.editModule.deleteRecord(this.rowData);\n                break;\n            case 'ToTask':\n                data = extend({}, {}, this.rowData.taskData, true);\n                taskfields = this.parent.taskFields;\n                if (!isNullOrUndefined(taskfields.duration)) {\n                    var ganttProp = this.rowData.ganttProperties;\n                    data[taskfields.duration] = '1 ' + ganttProp.durationUnit;\n                }\n                else {\n                    data[taskfields.startDate] = new Date(this.rowData.taskData[taskfields.startDate]);\n                    var endDate = new Date(this.rowData.taskData[taskfields.startDate]);\n                    endDate.setDate(endDate.getDate() + 1);\n                    data[taskfields.endDate] = endDate;\n                }\n                if (!isNullOrUndefined(data[taskfields.milestone])) {\n                    if (data[taskfields.milestone] === true) {\n                        data[taskfields.milestone] = false;\n                    }\n                }\n                this.parent.updateRecordByID(data);\n                break;\n            case 'Cancel':\n                this.parent.cancelEdit();\n                break;\n            case 'Save':\n                this.parent.editModule.cellEditModule.isCellEdit = false;\n                this.parent.treeGrid.grid.saveCell();\n                break;\n            case 'Dependency' + index:\n                this.parent.connectorLineEditModule.removePredecessorByIndex(this.rowData, index);\n                break;\n            case 'Auto':\n            case 'Manual':\n                this.parent.changeTaskMode(this.rowData);\n                break;\n            case 'Indent':\n                this.parent.indent();\n                break;\n            case 'Outdent':\n                this.parent.outdent();\n                break;\n            case 'Left':\n            case 'Right':\n                this.mergeCall(this.item);\n                break;\n            case 'SplitTask':\n                this.splitTaskCall(args);\n                break;\n        }\n        args.type = 'Content';\n        args.rowData = this.rowData;\n        this.parent.trigger('contextMenuClick', args);\n    };\n    ContextMenu.prototype.splitTaskCall = function (args) {\n        var _this = this;\n        this.isEdit = true;\n        var taskSettings = this.parent.taskFields;\n        var currentClickedDate = this.getClickedDate(args.element);\n        currentClickedDate.setHours(0, 0, 0, 0);\n        var eventArgs = {\n            rowData: this.rowData,\n            requestType: 'splitTaskbar',\n            splitDate: currentClickedDate,\n            cancel: false,\n            target: this.targetElement\n        };\n        // eslint-disable-next-line\n        this.parent.trigger('actionBegin', eventArgs, function (eventArgs) {\n            _this.parent.chartRowsModule.splitTask(_this.rowData[taskSettings.id], currentClickedDate);\n        });\n    };\n    ContextMenu.prototype.mergeCall = function (item) {\n        var _this = this;\n        this.isEdit = true;\n        var taskSettings = this.parent.taskFields;\n        var segments = this.rowData.ganttProperties.segments;\n        var firstSegment = item === 'Right' ? this.segmentIndex : segments[this.segmentIndex - 1].segmentIndex;\n        var secondSegment = item === 'Left' ? this.segmentIndex : segments[this.segmentIndex + 1].segmentIndex;\n        var segmentIndexes = [\n            { 'firstSegmentIndex': firstSegment, 'secondSegmentIndex': secondSegment }\n        ];\n        var eventArgs = {\n            rowData: this.rowData,\n            mergeSegmentIndexes: segmentIndexes,\n            requestType: 'mergeSegment',\n            cancel: false,\n            target: this.targetElement\n        };\n        // eslint-disable-next-line\n        this.parent.trigger('actionBegin', eventArgs, function (eventArgs) {\n            _this.parent.chartRowsModule.mergeTask(_this.rowData[taskSettings.id], segmentIndexes);\n        });\n    };\n    // eslint-disable-next-line\n    ContextMenu.prototype.getClickedDate = function (element) {\n        // context menu click position\n        var ganttElementPosition = this.parent.getOffsetRect(this.parent.element);\n        var ganttLeft = ganttElementPosition.left - this.parent.element.offsetLeft;\n        // task left position\n        var pageLeft = ganttLeft + this.parent.ganttChartModule.chartElement.offsetLeft +\n            this.rowData.ganttProperties.left - this.parent.ganttChartModule.scrollElement.scrollLeft;\n        // difference from task start date to current click position.\n        var currentTaskDifference = this.clickedPosition - pageLeft;\n        var splitTaskDuration = Math.ceil(currentTaskDifference / this.parent.perDayWidth);\n        var startDate = this.rowData.ganttProperties.startDate;\n        var contextMenuClickDate = this.parent.dataOperation.getEndDate(startDate, splitTaskDuration, this.rowData.ganttProperties.durationUnit, this.rowData, false);\n        return contextMenuClickDate;\n    };\n    ContextMenu.prototype.contextMenuBeforeOpen = function (args) {\n        var _this = this;\n        var target = args.event ? args.event.target :\n            !this.parent.focusModule ? this.parent.focusModule.getActiveElement() :\n                this.parent.ganttChartModule.targetElement;\n        if (!isNullOrUndefined(args.element) && args.element.id === this.parent.element.id + '_contextmenu') {\n            this.clickedPosition = getValue('event', args).clientX;\n        }\n        var targetElement = closest(target, '.e-gantt-child-taskbar');\n        if (targetElement) {\n            this.targetElement = args.target = targetElement;\n        }\n        args.gridRow = closest(target, '.e-row');\n        args.chartRow = closest(target, '.e-chart-row');\n        var menuElement = closest(target, '.e-gantt');\n        var editForm = closest(target, cons.editForm);\n        if (!editForm && this.parent.editModule && this.parent.editModule.cellEditModule\n            && this.parent.editModule.cellEditModule.isCellEdit && this.parent.editModule.dialogModule.dialogObj\n            && !this.parent.editModule.dialogModule.dialogObj.open) {\n            this.parent.treeGrid.grid.saveCell();\n            this.parent.editModule.cellEditModule.isCellEdit = false;\n        }\n        if (this.parent.readOnly) {\n            this.contextMenu.enableItems(['Add', 'Save', 'Convert', 'Delete Dependency', 'Delete Task', 'TaskMode', 'Indent', 'Outdent', 'SplitTask', 'MergeTask'], false);\n        }\n        if ((isNullOrUndefined(args.gridRow) && isNullOrUndefined(args.chartRow)) || this.contentMenuItems.length === 0) {\n            if (!isNullOrUndefined(args.parentItem) && !isNullOrUndefined(menuElement)) {\n                args.cancel = false;\n            }\n            else {\n                args.cancel = true;\n            }\n        }\n        if (!args.cancel) {\n            var rowIndex = -1;\n            if (args.gridRow) {\n                // eslint-disable-next-line\n                rowIndex = parseInt(args.gridRow.getAttribute('aria-rowindex'), 0);\n            }\n            else if (args.chartRow) {\n                // eslint-disable-next-line\n                rowIndex = parseInt(args.chartRow.getAttribute('aria-rowindex'), 0);\n            }\n            if (this.parent.selectionModule && this.parent.allowSelection && !args.parentItem && !isNullOrUndefined(args.chartRow)) {\n                this.parent.selectionModule.selectRow(rowIndex);\n            }\n            if (!args.parentItem) {\n                this.rowData = this.parent.updatedRecords[rowIndex];\n            }\n            for (var _i = 0, _a = args.items; _i < _a.length; _i++) {\n                var item = _a[_i];\n                // let target: EventTarget = target;\n                if (!item.separator) {\n                    this.updateItemStatus(item, target, rowIndex);\n                }\n            }\n            args.rowData = this.rowData;\n            args.type = 'Content';\n            args.disableItems = this.disableItems;\n            args.hideItems = this.hideItems;\n            args.hideChildItems = [];\n            if (args.rowData.level === 0 && this.parent.viewType === 'ResourceView') {\n                args.cancel = true;\n                return;\n            }\n            var callBackPromise_1 = new Deferred();\n            this.parent.trigger('contextMenuOpen', args, function (arg) {\n                callBackPromise_1.resolve(arg);\n                if (isBlazor()) {\n                    arg.element = !isNullOrUndefined(arg.element) ? getElement(arg.element) : arg.element;\n                    arg.gridRow = !isNullOrUndefined(arg.gridRow) ? getElement(arg.gridRow) : arg.gridRow;\n                    arg.chartRow = !isNullOrUndefined(arg.chartRow) ? getElement(arg.chartRow) : arg.chartRow;\n                }\n                _this.hideItems = arg.hideItems;\n                _this.disableItems = arg.disableItems;\n                if (!arg.parentItem && arg.hideItems.length === arg.items.length) {\n                    _this.revertItemStatus();\n                    arg.cancel = true;\n                }\n                if (_this.hideItems.length > 0) {\n                    _this.contextMenu.hideItems(_this.hideItems);\n                }\n                if (_this.disableItems.length > 0) {\n                    _this.contextMenu.enableItems(_this.disableItems, false);\n                }\n                if (args.hideChildItems.length > 0) {\n                    _this.contextMenu.hideItems(args.hideChildItems);\n                }\n            });\n            return callBackPromise_1;\n        }\n    };\n    ContextMenu.prototype.updateItemStatus = function (item, target, rowIndex) {\n        var key = this.getKeyFromId(item.id);\n        var editForm = closest(target, cons.editForm);\n        var subMenu = [];\n        var taskbarElement = closest(target, '.e-gantt-child-taskbar');\n        if (editForm) {\n            if (!(key === 'Save' || key === 'Cancel')) {\n                this.hideItems.push(item.text);\n            }\n        }\n        else {\n            switch (key) {\n                case 'TaskInformation':\n                    if (!this.parent.editSettings.allowEditing || !this.parent.editModule) {\n                        this.updateItemVisibility(item.text);\n                    }\n                    break;\n                case 'Add':\n                    if (!this.parent.editSettings.allowAdding || !this.parent.editModule) {\n                        this.updateItemVisibility(item.text);\n                    }\n                    break;\n                case 'Save':\n                case 'Cancel':\n                    this.hideItems.push(item.text);\n                    break;\n                case 'Convert':\n                    if (this.rowData.hasChildRecords) {\n                        this.hideItems.push(item.text);\n                    }\n                    else if (!this.parent.editSettings.allowEditing || !this.parent.editModule) {\n                        this.updateItemVisibility(item.text);\n                    }\n                    else {\n                        if (!this.rowData.ganttProperties.isMilestone) {\n                            subMenu.push(this.createItemModel(cons.content, 'ToMilestone', this.getLocale('toMilestone')));\n                        }\n                        else {\n                            subMenu.push(this.createItemModel(cons.content, 'ToTask', this.getLocale('toTask')));\n                        }\n                        item.items = subMenu;\n                    }\n                    break;\n                case 'DeleteDependency':\n                    {\n                        var items = this.getPredecessorsItems();\n                        if (this.rowData.hasChildRecords) {\n                            this.hideItems.push(item.text);\n                        }\n                        else if (!this.parent.editSettings.allowDeleting || items.length === 0 || !this.parent.editModule) {\n                            this.updateItemVisibility(item.text);\n                        }\n                        else if (items.length > 0) {\n                            item.items = items;\n                        }\n                        break;\n                    }\n                case 'DeleteTask':\n                    if (!this.parent.editSettings.allowDeleting || !this.parent.editModule) {\n                        this.updateItemVisibility(item.text);\n                    }\n                    break;\n                case 'TaskMode':\n                    if (this.parent.taskMode !== 'Custom') {\n                        this.updateItemVisibility(item.text);\n                    }\n                    else {\n                        if (this.rowData.ganttProperties.isAutoSchedule) {\n                            subMenu.push(this.createItemModel(cons.content, 'Manual', this.getLocale('manual')));\n                        }\n                        else {\n                            subMenu.push(this.createItemModel(cons.content, 'Auto', this.getLocale('auto')));\n                        }\n                        item.items = subMenu;\n                    }\n                    break;\n                case 'Indent':\n                    {\n                        var index = this.parent.selectedRowIndex;\n                        var isSelected = this.parent.selectionModule ? this.parent.selectionModule.selectedRowIndexes.length === 1 ||\n                            this.parent.selectionModule.getSelectedRowCellIndexes().length === 1 ? true : false : false;\n                        var prevRecord = this.parent.updatedRecords[this.parent.selectionModule.getSelectedRowIndexes()[0] - 1];\n                        if (!this.parent.editSettings.allowEditing || index === 0 || index === -1 || !isSelected ||\n                            this.parent.viewType === 'ResourceView' || this.parent.updatedRecords[index].level - prevRecord.level === 1) {\n                            this.updateItemVisibility(item.text);\n                        }\n                        break;\n                    }\n                case 'Outdent':\n                    {\n                        var ind = this.parent.selectionModule.getSelectedRowIndexes()[0];\n                        var isSelect = this.parent.selectionModule ? this.parent.selectionModule.selectedRowIndexes.length === 1 ||\n                            this.parent.selectionModule.getSelectedRowCellIndexes().length === 1 ? true : false : false;\n                        if (!this.parent.editSettings.allowEditing || ind === -1 || ind === 0 || !isSelect ||\n                            this.parent.viewType === 'ResourceView' || this.parent.updatedRecords[ind].level === 0) {\n                            this.updateItemVisibility(item.text);\n                        }\n                        break;\n                    }\n                case 'SplitTask':\n                    {\n                        var taskSettings = this.parent.taskFields;\n                        if (this.parent.readOnly || !taskbarElement || isNullOrUndefined(taskSettings.segments) ||\n                            this.parent.currentViewData[rowIndex].hasChildRecords) {\n                            this.updateItemVisibility(item.text);\n                        }\n                        break;\n                    }\n                case 'MergeTask':\n                    if (this.parent.readOnly || !taskbarElement) {\n                        this.updateItemVisibility(item.text);\n                    }\n                    else {\n                        this.mergeItemVisiblity(target, item);\n                    }\n                    break;\n            }\n        }\n    };\n    ContextMenu.prototype.mergeItemVisiblity = function (target, item) {\n        var subMenu = [];\n        var taskfields = this.parent.taskFields;\n        var currentClickedDate = this.getClickedDate(target);\n        this.segmentIndex = this.parent.chartRowsModule.getSegmentIndex(currentClickedDate, this.rowData);\n        var segments = this.rowData.ganttProperties.segments;\n        if (!isNullOrUndefined(segments) && segments.length > 0) {\n            if (isNullOrUndefined(taskfields.segments) && this.segmentIndex === -1) {\n                this.updateItemVisibility(item.text);\n            }\n            else {\n                if (this.segmentIndex === 0) {\n                    subMenu.push(this.createItemModel(cons.content, 'Right', this.getLocale('right')));\n                }\n                else if (this.segmentIndex === segments.length - 1) {\n                    subMenu.push(this.createItemModel(cons.content, 'Left', this.getLocale('left')));\n                }\n                else {\n                    subMenu.push(this.createItemModel(cons.content, 'Right', this.getLocale('right')));\n                    subMenu.push(this.createItemModel(cons.content, 'Left', this.getLocale('left')));\n                }\n                item.items = subMenu;\n            }\n        }\n        else {\n            this.hideItems.push(item.text);\n        }\n    };\n    ContextMenu.prototype.updateItemVisibility = function (text) {\n        var isDefaultItem = !isNullOrUndefined(this.parent.contextMenuItems) ? false : true;\n        if (isDefaultItem) {\n            this.hideItems.push(text);\n        }\n        else {\n            this.disableItems.push(text);\n        }\n    };\n    ContextMenu.prototype.contextMenuOpen = function (args) {\n        this.isOpen = true;\n        var firstMenuItem = args.element.querySelectorAll('li:not(.e-menu-hide)')[0];\n        addClass([firstMenuItem], 'e-focused');\n    };\n    ContextMenu.prototype.getMenuItems = function () {\n        var menuItems = !isNullOrUndefined(this.parent.contextMenuItems) ?\n            this.parent.contextMenuItems : this.getDefaultItems();\n        for (var _i = 0, menuItems_1 = menuItems; _i < menuItems_1.length; _i++) {\n            var item = menuItems_1[_i];\n            if (typeof item === 'string' && this.getDefaultItems().indexOf(item) !== -1) {\n                this.buildDefaultItems(item);\n            }\n            else if (typeof item !== 'string') {\n                if (this.getDefaultItems().indexOf(item.text) !== -1) {\n                    this.buildDefaultItems(item.text, item.iconCss);\n                }\n                else if (item.target === cons.columnHeader) {\n                    this.headerMenuItems.push(item);\n                }\n                else {\n                    this.contentMenuItems.push(item);\n                }\n            }\n        }\n        return this.contentMenuItems;\n    };\n    ContextMenu.prototype.createItemModel = function (target, item, text, iconCss) {\n        var itemModel = {\n            text: text,\n            id: this.generateID(item),\n            target: target,\n            iconCss: iconCss ? 'e-icons ' + iconCss : null\n        };\n        return itemModel;\n    };\n    ContextMenu.prototype.getLocale = function (text) {\n        var localeText = this.parent.localeObj.getConstant(text);\n        return localeText;\n    };\n    ContextMenu.prototype.buildDefaultItems = function (item, iconCSS) {\n        var contentMenuItem;\n        switch (item) {\n            case 'AutoFitAll':\n            case 'AutoFit':\n            case 'SortAscending':\n            case 'SortDescending':\n                this.headerMenuItems.push(item);\n                break;\n            case 'TaskInformation':\n                contentMenuItem = this.createItemModel(cons.content, item, this.getLocale('taskInformation'), this.getIconCSS(cons.editIcon, iconCSS));\n                break;\n            case 'Indent':\n                contentMenuItem = this.createItemModel(cons.content, item, this.getLocale('indent'), this.getIconCSS(cons.indentIcon, iconCSS));\n                break;\n            case 'Outdent':\n                contentMenuItem = this.createItemModel(cons.content, item, this.getLocale('outdent'), this.getIconCSS(cons.outdentIcon, iconCSS));\n                break;\n            case 'Save':\n                contentMenuItem = this.createItemModel(cons.editIcon, item, this.getLocale('save'), this.getIconCSS(cons.saveIcon, iconCSS));\n                break;\n            case 'Cancel':\n                contentMenuItem = this.createItemModel(cons.editIcon, item, this.getLocale('cancel'), this.getIconCSS(cons.cancelIcon, iconCSS));\n                break;\n            case 'Add':\n                contentMenuItem = this.createItemModel(cons.content, item, this.getLocale('add'), this.getIconCSS(cons.addIcon, iconCSS));\n                //Sub item menu\n                contentMenuItem.items = [];\n                contentMenuItem.items.push(this.createItemModel(cons.content, 'Above', this.getLocale('above'), this.getIconCSS(cons.addAboveIcon, iconCSS)));\n                contentMenuItem.items.push(this.createItemModel(cons.content, 'Below', this.getLocale('below'), this.getIconCSS(cons.addBelowIcon, iconCSS)));\n                if (this.parent.viewType !== 'ResourceView') {\n                    contentMenuItem.items.push(this.createItemModel(cons.content, 'Child', this.getLocale('child')));\n                }\n                contentMenuItem.items.push(this.createItemModel(cons.content, 'Milestone', this.getLocale('milestone')));\n                break;\n            case 'DeleteTask':\n                contentMenuItem = this.createItemModel(cons.content, item, this.getLocale('deleteTask'), this.getIconCSS(cons.deleteIcon, iconCSS));\n                break;\n            case 'DeleteDependency':\n                contentMenuItem = this.createItemModel(cons.content, item, this.getLocale('deleteDependency'));\n                contentMenuItem.items = [];\n                contentMenuItem.items.push({});\n                break;\n            case 'Convert':\n                contentMenuItem = this.createItemModel(cons.content, item, this.getLocale('convert'));\n                contentMenuItem.items = [];\n                contentMenuItem.items.push({});\n                break;\n            case 'TaskMode':\n                contentMenuItem = this.createItemModel(cons.content, item, this.getLocale('changeScheduleMode'));\n                contentMenuItem.items = [];\n                contentMenuItem.items.push({});\n                break;\n            case 'SplitTask':\n                contentMenuItem = this.createItemModel(cons.content, item, this.getLocale('splitTask'));\n                break;\n            case 'MergeTask':\n                contentMenuItem = this.createItemModel(cons.content, item, this.getLocale('mergeTask'));\n                contentMenuItem.items = [];\n                contentMenuItem.items.push({});\n        }\n        if (contentMenuItem) {\n            this.contentMenuItems.push(contentMenuItem);\n        }\n    };\n    ContextMenu.prototype.getIconCSS = function (menuClass, iconString) {\n        return isNullOrUndefined(iconString) ? menuClass : iconString;\n    };\n    ContextMenu.prototype.getPredecessorsItems = function () {\n        this.predecessors = this.parent.predecessorModule.getValidPredecessor(this.rowData);\n        var items = [];\n        var itemModel;\n        var increment = 0;\n        for (var _i = 0, _a = this.predecessors; _i < _a.length; _i++) {\n            var predecessor = _a[_i];\n            var ganttData = this.parent.getRecordByID(predecessor.from);\n            var ganttProp = ganttData.ganttProperties;\n            var text = ganttProp.rowUniqueID + ' - ' + ganttProp.taskName;\n            var id = 'Dependency' + increment++;\n            itemModel = this.createItemModel(cons.content, id, text);\n            items.push(itemModel);\n        }\n        return items;\n    };\n    ContextMenu.prototype.getDefaultItems = function () {\n        return ['AutoFitAll', 'AutoFit',\n            'TaskInformation', 'DeleteTask', 'Save', 'Cancel',\n            'SortAscending', 'SortDescending', 'Add',\n            'DeleteDependency', 'Convert', 'TaskMode', 'Indent', 'Outdent', 'SplitTask', 'MergeTask'\n        ];\n    };\n    /**\n     * To get ContextMenu module name.\n     *\n     * @returns {string} .\n     */\n    ContextMenu.prototype.getModuleName = function () {\n        return 'contextMenu';\n    };\n    ContextMenu.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off('initiate-contextMenu', this.render);\n        this.parent.off('reRender-contextMenu', this.reRenderContextMenu);\n        this.parent.off('contextMenuClick', this.contextMenuItemClick);\n        this.parent.off('contextMenuOpen', this.contextMenuOpen);\n    };\n    ContextMenu.prototype.contextMenuOnClose = function (args) {\n        var parent = 'parentObj';\n        if (args.items.length > 0 && args.items[0][parent] instanceof Menu) {\n            this.revertItemStatus();\n        }\n    };\n    ContextMenu.prototype.revertItemStatus = function () {\n        if (isBlazor() && isNullOrUndefined(this.disableItems)) {\n            this.disableItems = [];\n        }\n        this.contextMenu.showItems(this.hideItems);\n        this.contextMenu.enableItems(this.disableItems);\n        this.hideItems = [];\n        this.disableItems = [];\n        this.isOpen = false;\n    };\n    ContextMenu.prototype.resetItems = function () {\n        this.hideItems = [];\n        this.disableItems = [];\n        this.headerMenuItems = [];\n        this.contentMenuItems = [];\n        this.item = null;\n    };\n    ContextMenu.prototype.generateID = function (item) {\n        return this.ganttID + '_contextMenu_' + item;\n    };\n    ContextMenu.prototype.getKeyFromId = function (id) {\n        var idPrefix = this.ganttID + '_contextMenu_';\n        if (id.indexOf(idPrefix) > -1) {\n            return id.replace(idPrefix, '');\n        }\n        else {\n            return 'Custom';\n        }\n    };\n    /**\n     * To destroy the contextmenu module.\n     *\n     * @returns {void} .\n     * @private\n     */\n    ContextMenu.prototype.destroy = function () {\n        this.contextMenu.destroy();\n        remove(this.element);\n        this.removeEventListener();\n        this.contextMenu = null;\n        this.element = null;\n    };\n    return ContextMenu;\n}());\nexport { ContextMenu };\n","import { TreeGrid, ExcelExport as TreeGridExcel } from '@syncfusion/ej2-treegrid';\n/**\n * Gantt Excel Export module\n *\n * @hidden\n */\nvar ExcelExport = /** @class */ (function () {\n    /**\n     * Constructor for Excel Export module\n     *\n     * @param {Gantt} gantt .\n     */\n    function ExcelExport(gantt) {\n        this.parent = gantt;\n        TreeGrid.Inject(TreeGridExcel);\n        this.parent.treeGrid.allowExcelExport = this.parent.allowExcelExport;\n        this.bindEvents();\n    }\n    /**\n     * For internal use only - Get the module name.\n     *\n     * @returns {string} .\n     * @private\n     */\n    ExcelExport.prototype.getModuleName = function () {\n        return 'excelExport';\n    };\n    /**\n     * To destroy excel export module.\n     *\n     * @returns {void} .\n     * @private\n     */\n    ExcelExport.prototype.destroy = function () {\n        // Destroy Method\n    };\n    /**\n     * To bind excel exporting events.\n     *\n     * @returns {void} .\n     * @private\n     */\n    ExcelExport.prototype.bindEvents = function () {\n        var _this = this;\n        // eslint-disable-next-line\n        this.parent.treeGrid.beforeExcelExport = function (args) {\n            _this.parent.trigger('beforeExcelExport', args);\n        };\n        this.parent.treeGrid.excelQueryCellInfo = function (args) {\n            _this.parent.trigger('excelQueryCellInfo', args);\n        };\n        this.parent.treeGrid.excelHeaderQueryCellInfo = function (args) {\n            _this.parent.trigger('excelHeaderQueryCellInfo', args);\n        };\n        this.parent.treeGrid.excelExportComplete = function (args) {\n            _this.parent.trigger('excelExportComplete', args);\n        };\n    };\n    return ExcelExport;\n}());\nexport { ExcelExport };\n","import { TreeGrid, ColumnMenu as TreeGridColumnMenu } from '@syncfusion/ej2-treegrid';\n/**\n * Configures columnMenu collection in Gantt.\n */\nvar ColumnMenu = /** @class */ (function () {\n    function ColumnMenu(parent) {\n        TreeGrid.Inject(TreeGridColumnMenu);\n        this.parent = parent;\n    }\n    /**\n     * @returns {HTMLAllCollection} .\n     * To get column menu collection.\n     */\n    ColumnMenu.prototype.getColumnMenu = function () {\n        return this.parent.treeGrid.columnMenuModule.getColumnMenu();\n    };\n    ColumnMenu.prototype.destroy = function () {\n        // column menu destroy module\n    };\n    /**\n     * For internal use only - Get the module name.\n     *\n     * @returns {string} .\n     * @private\n     */\n    ColumnMenu.prototype.getModuleName = function () {\n        return 'columnMenu';\n    };\n    return ColumnMenu;\n}());\nexport { ColumnMenu };\n","import { TreeGrid, RowDD as TreeGridRowDD } from '@syncfusion/ej2-treegrid';\nimport { isNullOrUndefined, extend, classList, addClass, getValue, closest } from '@syncfusion/ej2-base';\nimport { DataManager } from '@syncfusion/ej2-data';\nimport { isCountRequired } from '../base/common';\n/**\n * Gantt Excel Export module\n */\nvar RowDD = /** @class */ (function () {\n    /**\n     * Constructor for Excel Export module\n     *\n     * @param {Gantt} gantt .\n     */\n    function RowDD(gantt) {\n        this.isTest = false;\n        /** @hidden */\n        this.updateParentRecords = [];\n        /** @hidden */\n        this.isaddtoBottom = false;\n        /** @hidden */\n        this.isSharedTask = false;\n        /** @hidden */\n        this.canDrop = true;\n        this.parent = gantt;\n        TreeGrid.Inject(TreeGridRowDD);\n        this.parent.treeGrid.allowRowDragAndDrop = this.parent.allowRowDragAndDrop;\n        this.bindEvents();\n    }\n    /**\n     * For internal use only - Get the module name.\n     *\n     * @returns {string} .\n     * @private\n     */\n    RowDD.prototype.getModuleName = function () {\n        return 'rowDragAndDrop';\n    };\n    /**\n     * To destroy excel export module.\n     *\n     * @returns {void} .\n     * @private\n     */\n    RowDD.prototype.destroy = function () {\n        // Destroy Method\n    };\n    /**\n     * To bind excel exporting events.\n     *\n     * @returns {void} .\n     * @private\n     */\n    RowDD.prototype.bindEvents = function () {\n        this.parent.treeGrid.rowDragStart = this.rowDragStart.bind(this);\n        this.parent.treeGrid.rowDragStartHelper = this.rowDragStartHelper.bind(this);\n        this.parent.treeGrid.rowDrag = this.rowDrag.bind(this);\n        this.parent.treeGrid.rowDrop = this.rowDrop.bind(this);\n    };\n    RowDD.prototype.rowDragStart = function (args) {\n        this.parent.trigger('rowDragStart', args);\n        this.parent.element.style.position = 'relative'; // for positioning the drag element properly\n    };\n    RowDD.prototype.addErrorElem = function () {\n        var dragelem = document.getElementsByClassName('e-ganttdrag')[0];\n        var errorelem = dragelem.querySelectorAll('.e-errorelem').length;\n        if (!errorelem) {\n            var ele = document.createElement('div');\n            classList(ele, ['e-errorcontainer'], []);\n            classList(ele, ['e-icons', 'e-errorelem'], []);\n            var errorVal = dragelem.querySelector('.errorValue');\n            var content = dragelem.querySelector('.e-rowcell').innerHTML;\n            if (errorVal) {\n                content = errorVal.innerHTML;\n                errorVal.parentNode.removeChild(errorVal);\n            }\n            dragelem.querySelector('.e-rowcell').innerHTML = '';\n            var spanContent = document.createElement('span');\n            spanContent.className = 'errorValue';\n            spanContent.style.paddingLeft = '16px';\n            spanContent.innerHTML = content;\n            dragelem.querySelector('.e-rowcell').appendChild(ele);\n            dragelem.querySelector('.e-rowcell').appendChild(spanContent);\n        }\n    };\n    RowDD.prototype.removeErrorElem = function () {\n        var errorelem = document.querySelector('.e-errorelem');\n        if (errorelem) {\n            errorelem.remove();\n        }\n    };\n    RowDD.prototype.rowDrag = function (args) {\n        var cloneElement = this.parent.element.querySelector('.e-cloneproperties');\n        cloneElement.style.display = 'none';\n        var ganttDragElement = cloneElement.cloneNode(true);\n        ganttDragElement.classList.add('e-ganttdrag');\n        ganttDragElement.style.display = '';\n        if (this.parent.element.querySelectorAll('.e-cloneproperties').length <= 1) {\n            this.parent.element.appendChild(ganttDragElement);\n        }\n        else {\n            if (document.getElementsByClassName('e-cloneproperties')[0].querySelectorAll('.e-errorelem').length) {\n                this.addErrorElem();\n            }\n            else {\n                this.removeErrorElem();\n            }\n        }\n        if (this.parent.gridLines === 'Both') {\n            addClass(this.parent.element.querySelectorAll('.e-ganttdrag .e-rowcell'), ['e-bothganttlines']);\n        }\n        var dragElement = this.parent.element.querySelector('.e-ganttdrag');\n        var ganttTop = this.parent.element.getClientRects()[0].top;\n        var ganttLeft = this.parent.element.getClientRects()[0].left;\n        var left = getValue('event', args.originalEvent).clientX - ganttLeft;\n        var top = getValue('event', args.originalEvent).clientY - ganttTop;\n        dragElement.style.left = left + 20 + 'px';\n        dragElement.style.top = top + 20 + 'px';\n        this.parent.trigger('rowDrag', args);\n    };\n    RowDD.prototype.rowDragStartHelper = function (args) {\n        this.parent.trigger('rowDragStartHelper', args);\n        if (this.parent.readOnly || this.parent.filterSettings.columns.length > 0) {\n            args.cancel = true;\n        }\n        if (this.parent.viewType === 'ResourceView' && getValue('level', args.data[0]) === 0) {\n            args.cancel = true;\n        }\n    };\n    RowDD.prototype.rowDrop = function (args) {\n        var ganttDragelem = document.querySelector('.e-ganttdrag');\n        if (ganttDragelem) {\n            ganttDragelem.remove();\n        }\n        var gridRow = closest(args.target, '.e-row');\n        var dropIndex = gridRow ? parseInt(gridRow.getAttribute('aria-rowindex'), 10) : args.dropIndex;\n        args.dropIndex = dropIndex;\n        args.dropRecord = this.parent.updatedRecords[args.dropIndex];\n        this.parent.trigger('rowDrop', args);\n        if (this.parent.viewType === 'ResourceView') {\n            if (args.dropPosition === 'middleSegment') {\n                if (args.dropRecord.level === 1 || args.dropRecord.uniqueID === getValue('parentItem', args.data[0]).uniqueID) {\n                    args.cancel = true; // preventing to drop the record as child to any child records\n                }\n            }\n            if (args.dropPosition !== 'middleSegment') {\n                if (args.dropRecord.level === 0 || getValue('parentItem', args.data[0]).uniqueID === args.dropRecord.parentItem.uniqueID) {\n                    args.cancel = true;\n                }\n            }\n        }\n        if (!args.cancel) {\n            args.cancel = true;\n            args.requestType = 'beforeDrop';\n            this.parent.trigger('actionBegin', args);\n            this.dropRows(args, true); // method to update the data collections based on drop action\n        }\n    };\n    RowDD.prototype.dropRows = function (args, isByMethod) {\n        if (!this.parent.readOnly) {\n            this.dropPosition = args.dropPosition;\n            if (args.dropPosition !== 'Invalid' && this.parent.editModule) {\n                var gObj = this.parent;\n                var draggedRecord = void 0;\n                this.droppedRecord = gObj.updatedRecords[args.dropIndex];\n                var dragRecords = [];\n                var droppedRecord = this.droppedRecord;\n                if (!args.data[0]) {\n                    dragRecords.push(args.data);\n                }\n                else {\n                    dragRecords = args.data;\n                }\n                var count = 0;\n                var dragLength = dragRecords.length;\n                for (var i = 0; i < dragLength; i++) {\n                    this.parent.isOnEdit = true;\n                    draggedRecord = dragRecords[i];\n                    this.draggedRecord = draggedRecord;\n                    if (this.dropPosition !== 'Invalid') {\n                        if (this.parent.viewType === 'ResourceView') {\n                            this.checkisSharedTask();\n                            this.previousParent = this.draggedRecord.parentItem.uniqueID;\n                        }\n                        if (this.isSharedTask) {\n                            return;\n                        }\n                        if (isByMethod) {\n                            this.deleteDragRow();\n                        }\n                        var recordIndex1 = this.treeGridData.indexOf(droppedRecord);\n                        if (this.dropPosition === 'topSegment') {\n                            this.dropAtTop(recordIndex1);\n                        }\n                        if (this.dropPosition === 'bottomSegment') {\n                            if (!this.isSharedTask) {\n                                if (!droppedRecord.hasChildRecords) {\n                                    if (this.parent.taskFields.parentID && this.ganttData.length > 0) {\n                                        this.ganttData.splice(recordIndex1 + 1, 0, this.draggedRecord.taskData);\n                                    }\n                                    this.treeGridData.splice(recordIndex1 + 1, 0, this.draggedRecord);\n                                    this.parent.ids.splice(recordIndex1 + 1, 0, this.draggedRecord.ganttProperties.rowUniqueID.toString());\n                                    if (this.parent.viewType === 'ResourceView') {\n                                        var taskId = this.draggedRecord.level === 0 ? 'R' + this.draggedRecord.ganttProperties.taskId : 'T' + this.draggedRecord.ganttProperties.taskId;\n                                        this.parent.getTaskIds().splice(recordIndex1 + 1, 0, taskId);\n                                    }\n                                }\n                                else {\n                                    count = this.parent.editModule.getChildCount(droppedRecord, 0);\n                                    if (this.parent.taskFields.parentID && this.ganttData.length > 0) {\n                                        this.ganttData.splice(recordIndex1 + count + 1, 0, this.draggedRecord.taskData);\n                                    }\n                                    this.treeGridData.splice(recordIndex1 + count + 1, 0, this.draggedRecord);\n                                    /* eslint-disable-next-line */\n                                    this.parent.ids.splice(recordIndex1 + count + 1, 0, this.draggedRecord.ganttProperties.rowUniqueID.toString());\n                                    if (this.parent.viewType === 'ResourceView') {\n                                        var spliceId = this.draggedRecord.level === 0 ? 'R' + this.draggedRecord.ganttProperties.taskId : 'T' + this.draggedRecord.ganttProperties.taskId;\n                                        this.parent.getTaskIds().splice(recordIndex1 + count + 1, 0, spliceId);\n                                    }\n                                }\n                                draggedRecord.parentItem = this.treeGridData[recordIndex1].parentItem;\n                                draggedRecord.parentUniqueID = this.treeGridData[recordIndex1].parentUniqueID;\n                                draggedRecord.level = this.treeGridData[recordIndex1].level;\n                                if (draggedRecord.hasChildRecords) {\n                                    var level = 1;\n                                    this.updateChildRecordLevel(draggedRecord, level);\n                                    this.updateChildRecord(draggedRecord, recordIndex1 + count + 1);\n                                }\n                                if (droppedRecord.parentItem) {\n                                    var rec = this.parent.getParentTask(droppedRecord.parentItem).childRecords;\n                                    var childRecords = rec;\n                                    var droppedRecordIndex = childRecords.indexOf(droppedRecord) + 1;\n                                    childRecords.splice(droppedRecordIndex, 0, draggedRecord);\n                                }\n                            }\n                        }\n                        if (this.dropPosition === 'middleSegment') {\n                            this.dropMiddle(recordIndex1);\n                        }\n                        // eslint-disable-next-line\n                        if (!isNullOrUndefined(draggedRecord.parentItem && this.updateParentRecords.indexOf(draggedRecord.parentItem) !== -1)) {\n                            this.updateParentRecords.push(draggedRecord.parentItem);\n                        }\n                    }\n                    gObj.rowDragAndDropModule.refreshDataSource();\n                }\n                if (this.dropPosition === 'middleSegment') {\n                    if (droppedRecord.ganttProperties.predecessor) {\n                        this.parent.editModule.removePredecessorOnDelete(droppedRecord);\n                        droppedRecord.ganttProperties.predecessor = null;\n                        droppedRecord.ganttProperties.predecessorsName = null;\n                        droppedRecord[this.parent.taskFields.dependency] = null;\n                        droppedRecord.taskData[this.parent.taskFields.dependency] = null;\n                    }\n                    if (droppedRecord.ganttProperties.isMilestone) {\n                        this.parent.setRecordValue('isMilestone', false, droppedRecord.ganttProperties, true);\n                        if (!isNullOrUndefined(droppedRecord.taskData[this.parent.taskFields.milestone])) {\n                            if (droppedRecord.taskData[this.parent.taskFields.milestone] === true) {\n                                droppedRecord.taskData[this.parent.taskFields.milestone] = false;\n                            }\n                        }\n                    }\n                }\n                if (this.parent.viewType === 'ResourceView' && !this.isSharedTask) {\n                    var parentUniqueID = void 0;\n                    if (this.dropPosition === 'middleSegment') {\n                        parentUniqueID = this.droppedRecord.uniqueID;\n                    }\n                    else {\n                        parentUniqueID = this.droppedRecord.parentItem.uniqueID;\n                    }\n                    var droppedParentItem = this.parent.getTaskByUniqueID(parentUniqueID);\n                    // eslint-disable-next-line\n                    var editedObj = {};\n                    editedObj[this.parent.taskFields.resourceInfo] = [];\n                    editedObj[this.parent.taskFields.resourceInfo].push(droppedParentItem.ganttProperties.taskId);\n                    this.removeExistingResources();\n                    // eslint-disable-next-line\n                    var tempResourceInfo = this.parent.dataOperation.setResourceInfo(editedObj);\n                    var currentTask = this.draggedRecord;\n                    if (isNullOrUndefined(currentTask.ganttProperties.resourceInfo)) {\n                        currentTask.ganttProperties.resourceInfo = [];\n                    }\n                    if (droppedParentItem.ganttProperties.taskName === 'Unassigned Task') {\n                        currentTask.ganttProperties.resourceInfo = [];\n                        currentTask.ganttProperties.sharedTaskUniqueIds = [currentTask.ganttProperties.rowUniqueID];\n                    }\n                    else {\n                        currentTask.ganttProperties.resourceInfo.push(tempResourceInfo[0]);\n                    }\n                    this.updateCurrentTask(currentTask);\n                    if (droppedParentItem.ganttProperties.taskName === 'Unassigned Task') {\n                        this.deleteSharedResourceTask();\n                    }\n                    else {\n                        this.updateSharedResourceTask();\n                    }\n                }\n                // method to update the edited parent records\n                for (var j = 0; j < this.updateParentRecords.length; j++) {\n                    this.parent.dataOperation.updateParentItems(this.updateParentRecords[j]);\n                }\n                this.updateParentRecords = [];\n                this.parent.isOnEdit = false;\n            }\n            this.parent.treeGrid.parentData = [];\n            this.parent.treeGrid.refresh();\n            args.requestType = 'rowDropped';\n            args.modifiedRecords = this.parent.editedRecords;\n            this.parent.trigger('actionComplete', args);\n            this.parent.editedRecords = [];\n        }\n    };\n    RowDD.prototype.updateCurrentTask = function (currentTask) {\n        this.parent.dataOperation.updateMappingData(currentTask, 'resourceInfo');\n        this.parent.editModule.updateResourceRelatedFields(currentTask, 'resource');\n        /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n        this.parent.editModule.dialogModule.dialogEditValidationFlag = false;\n        this.parent.editModule.dialogModule.validateDuration(currentTask);\n        this.parent.dataOperation.updateWidthLeft(currentTask);\n        this.parent.dataOperation.updateTaskData(currentTask);\n    };\n    RowDD.prototype.deleteSharedResourceTask = function () {\n        for (var i = 0; i < this.parent.getTaskIds().length; i++) {\n            if (this.parent.getTaskIds()[i] === 'T' + this.draggedRecord.ganttProperties.taskId) {\n                if (this.parent.getTaskByUniqueID(this.parent.currentViewData[i].parentItem.uniqueID).ganttProperties.taskName !== 'Unassigned Task') {\n                    this.removeRecords(this.parent.currentViewData[i]);\n                }\n                /* eslint-disable-next-line */\n                if (!isNullOrUndefined(this.parent.currentViewData[i].parentItem && this.updateParentRecords.indexOf(this.parent.currentViewData[i].parentItem) !== -1)) {\n                    this.updateParentRecords.push(this.parent.currentViewData[i].parentItem);\n                }\n            }\n        }\n    };\n    RowDD.prototype.removeExistingResources = function () {\n        var preParentRecord = this.parent.getTaskByUniqueID(this.previousParent);\n        if (this.draggedRecord.ganttProperties.resourceInfo) {\n            for (var count = 0; count < this.draggedRecord.ganttProperties.resourceInfo.length; count++) {\n                /* eslint-disable-next-line */\n                if (this.draggedRecord.ganttProperties.resourceInfo[count][this.parent.resourceFields.id] === preParentRecord.ganttProperties.taskId) {\n                    this.draggedRecord.ganttProperties.resourceInfo.splice(count, 1);\n                    break;\n                }\n            }\n        }\n    };\n    /*update the record for the same task which are shared with other tasks*/\n    RowDD.prototype.updateSharedResourceTask = function () {\n        for (var i = 0; i < this.parent.getTaskIds().length; i++) {\n            if (this.parent.getTaskIds()[i] === 'T' + this.draggedRecord.ganttProperties.taskId) {\n                this.parent.editModule.updateGanttProperties(this.draggedRecord, this.parent.currentViewData[i]);\n                this.parent.dataOperation.updateTaskData(this.parent.currentViewData[i]);\n                /* eslint-disable-next-line */\n                if (!isNullOrUndefined(this.parent.currentViewData[i].parentItem && this.updateParentRecords.indexOf(this.parent.currentViewData[i].parentItem) !== -1)) {\n                    this.updateParentRecords.push(this.parent.currentViewData[i].parentItem);\n                }\n            }\n        }\n    };\n    RowDD.prototype._getExistingTaskWithID = function (record) {\n        var existingTasks = [];\n        for (var i = 0; i < this.parent.getTaskIds().length; i++) {\n            if (this.parent.getTaskIds()[i] === 'T' + record.ganttProperties.taskId) {\n                existingTasks.push(this.parent.currentViewData[i]);\n            }\n        }\n        return existingTasks;\n    };\n    /*Method to remove resource from resource Info collection and update reosurce related fields*/\n    RowDD.prototype.removeResourceInfo = function (record) {\n        var droppedParentItem = this.parent.getTaskByUniqueID(this.draggedRecord.parentItem.uniqueID);\n        if (record.ganttProperties.resourceInfo && record.ganttProperties.resourceInfo.length > 1) {\n            var sameIdTasks = this._getExistingTaskWithID(record);\n            var currentTask = void 0;\n            if (sameIdTasks == null) {\n                return;\n            }\n            for (var i = 0; i < sameIdTasks.length; i++) {\n                currentTask = sameIdTasks[i];\n                // eslint-disable-next-line\n                var resources = currentTask.ganttProperties.resourceInfo;\n                for (var count = 0; count < resources.length; count++) {\n                    if (resources[count][this.parent.resourceFields.id] === droppedParentItem.ganttProperties.taskId) {\n                        resources.splice(count, 1);\n                        this.parent.setRecordValue('resourceInfo', resources, currentTask.ganttProperties, true);\n                        this.updateCurrentTask(currentTask);\n                        if (!isNullOrUndefined(currentTask.parentItem && this.updateParentRecords.indexOf(currentTask.parentItem) !== -1)) {\n                            this.updateParentRecords.push(currentTask.parentItem);\n                        }\n                        break;\n                    }\n                }\n            }\n        }\n    };\n    RowDD.prototype.refreshDataSource = function () {\n        var draggedRecord = this.draggedRecord;\n        var droppedRecord = this.droppedRecord;\n        var proxy = this.parent;\n        // eslint-disable-next-line\n        var tempDataSource;\n        var idx;\n        if (this.parent.dataSource instanceof DataManager) {\n            tempDataSource = getValue('dataOperation.dataArray', this.parent);\n        }\n        else {\n            tempDataSource = proxy.dataSource;\n        }\n        if (tempDataSource.length > 0 && (!isNullOrUndefined(droppedRecord) && !droppedRecord.parentItem)) {\n            for (var i = 0; i < Object.keys(tempDataSource).length; i++) {\n                if (tempDataSource[i][this.parent.taskFields.child] === droppedRecord.taskData[this.parent.taskFields.child]) {\n                    idx = i;\n                }\n            }\n            if (this.dropPosition === 'topSegment') {\n                if (!this.parent.taskFields.parentID) {\n                    tempDataSource.splice(idx, 0, draggedRecord.taskData);\n                }\n            }\n            else if (this.dropPosition === 'bottomSegment') {\n                if (!this.parent.taskFields.parentID) {\n                    tempDataSource.splice(idx + 1, 0, draggedRecord.taskData);\n                }\n            }\n        }\n        else if (!this.parent.taskFields.parentID && (!isNullOrUndefined(droppedRecord) && droppedRecord.parentItem)) {\n            if (this.dropPosition === 'topSegment' || this.dropPosition === 'bottomSegment') {\n                var rowPosition = this.dropPosition === 'topSegment' ? 'Above' : 'Below';\n                this.parent.editModule.addRowSelectedItem = droppedRecord;\n                this.parent.editModule.updateRealDataSource(draggedRecord, rowPosition);\n                delete this.parent.editModule.addRowSelectedItem;\n            }\n        }\n        if (this.parent.taskFields.parentID) {\n            if (draggedRecord.parentItem) {\n                if (this.dropPosition === 'topSegment' || this.dropPosition === 'bottomSegment') {\n                    draggedRecord[this.parent.taskFields.parentID] = droppedRecord[this.parent.taskFields.parentID];\n                    draggedRecord.taskData[this.parent.taskFields.parentID] = droppedRecord[this.parent.taskFields.parentID];\n                    draggedRecord.ganttProperties.parentId = droppedRecord[this.parent.taskFields.parentID];\n                }\n                else {\n                    draggedRecord[this.parent.taskFields.parentID] = droppedRecord[this.parent.taskFields.id];\n                    draggedRecord.taskData[this.parent.taskFields.parentID] = droppedRecord[this.parent.taskFields.id];\n                    draggedRecord.ganttProperties.parentId = droppedRecord[this.parent.taskFields.id];\n                }\n            }\n            else {\n                draggedRecord[this.parent.taskFields.parentID] = null;\n                draggedRecord.taskData[this.parent.taskFields.parentID] = null;\n                draggedRecord.ganttProperties.parentId = null;\n            }\n        }\n    };\n    RowDD.prototype.dropMiddle = function (recordIndex1) {\n        var gObj = this.parent;\n        var childRecords = this.parent.editModule.getChildCount(this.droppedRecord, 0);\n        var childRecordsLength = (isNullOrUndefined(childRecords) ||\n            childRecords === 0) ? recordIndex1 + 1 :\n            childRecords + recordIndex1 + 1;\n        if (this.dropPosition === 'middleSegment' && !this.isSharedTask) {\n            if (gObj.taskFields.parentID && this.ganttData.length > 0) {\n                this.ganttData.splice(childRecordsLength, 0, this.draggedRecord.taskData);\n            }\n            this.treeGridData.splice(childRecordsLength, 0, this.draggedRecord);\n            this.parent.ids.splice(childRecordsLength, 0, this.draggedRecord.ganttProperties.rowUniqueID.toString());\n            if (this.parent.viewType === 'ResourceView') {\n                var recordId = this.draggedRecord.level === 0 ? 'R' + this.draggedRecord.ganttProperties.taskId : 'T' + this.draggedRecord.ganttProperties.taskId;\n                this.parent.getTaskIds().splice(childRecordsLength, 0, recordId);\n            }\n            if (this.draggedRecord.hasChildRecords) {\n                this.updateChildRecord(this.draggedRecord, childRecordsLength, this.droppedRecord.expanded);\n            }\n            this.recordLevel();\n            if (isNullOrUndefined(this.draggedRecord.parentItem &&\n                this.updateParentRecords.indexOf(this.draggedRecord.parentItem) !== -1)) {\n                this.updateParentRecords.push(this.draggedRecord.parentItem);\n            }\n        }\n    };\n    RowDD.prototype.recordLevel = function () {\n        var gObj = this.parent;\n        var draggedRecord = this.draggedRecord;\n        var droppedRecord = this.droppedRecord;\n        var childItem = gObj.taskFields.child;\n        if (!droppedRecord.hasChildRecords) {\n            droppedRecord.hasChildRecords = true;\n            if (!droppedRecord.childRecords.length) {\n                droppedRecord.childRecords = [];\n                if (!gObj.taskFields.parentID && isNullOrUndefined(droppedRecord.taskData[childItem])) {\n                    droppedRecord.taskData[childItem] = [];\n                }\n            }\n        }\n        if (this.dropPosition === 'middleSegment') {\n            var parentItem = extend({}, droppedRecord);\n            delete parentItem.childRecords;\n            var createParentItem = {\n                uniqueID: parentItem.uniqueID,\n                expanded: parentItem.expanded,\n                level: parentItem.level,\n                index: parentItem.index,\n                taskId: parentItem.ganttProperties.rowUniqueID\n            };\n            draggedRecord.parentItem = createParentItem;\n            draggedRecord.parentUniqueID = droppedRecord.uniqueID;\n            droppedRecord.childRecords.splice(droppedRecord.childRecords.length, 0, draggedRecord);\n            if (!isNullOrUndefined(draggedRecord) && !gObj.taskFields.parentID && !isNullOrUndefined(droppedRecord.taskData[childItem])) {\n                droppedRecord.taskData[gObj.taskFields.child].splice(droppedRecord.childRecords.length, 0, draggedRecord.taskData);\n            }\n            if (!draggedRecord.hasChildRecords) {\n                draggedRecord.level = droppedRecord.level + 1;\n            }\n            else {\n                var level = 1;\n                draggedRecord.level = droppedRecord.level + 1;\n                this.updateChildRecordLevel(draggedRecord, level);\n            }\n            droppedRecord.expanded = true;\n        }\n    };\n    RowDD.prototype.deleteDragRow = function () {\n        this.treeGridData = isCountRequired(this.parent) ? getValue('result', this.parent.treeGrid.dataSource) :\n            this.parent.treeGrid.dataSource;\n        if (this.parent.dataSource instanceof DataManager) {\n            this.ganttData = getValue('dataOperation.dataArray', this.parent);\n        }\n        else {\n            this.ganttData = isCountRequired(this.parent) ? getValue('result', this.parent.dataSource) :\n                this.parent.dataSource; // eslint-disable-line\n        }\n        var deletedRow = this.parent.getTaskByUniqueID(this.draggedRecord.uniqueID);\n        this.removeRecords(deletedRow);\n    };\n    //method to check the dropped record has already present in the child collection\n    RowDD.prototype.checkisSharedTask = function () {\n        this.isSharedTask = false;\n        var sharedTask = null;\n        // eslint-disable-next-line\n        var parentUniqueID = this.droppedRecord.level === 0 ? this.droppedRecord.uniqueID : this.droppedRecord.parentItem.uniqueID;\n        var droppedParentItem = this.parent.getTaskByUniqueID(parentUniqueID);\n        var childTasks = droppedParentItem.childRecords;\n        for (var i = 0; i < childTasks.length; i++) {\n            if ('T' + this.draggedRecord.ganttProperties.taskId === 'T' + childTasks[i].ganttProperties.taskId) {\n                this.isSharedTask = true;\n                sharedTask = childTasks[i];\n            }\n        }\n        if (this.isSharedTask) {\n            this.removeResourceInfo(sharedTask);\n        }\n    };\n    RowDD.prototype.dropAtTop = function (recordIndex1) {\n        var gObj = this.parent;\n        if (!this.isSharedTask) {\n            if (gObj.taskFields.parentID && this.ganttData.length > 0) {\n                this.ganttData.splice(recordIndex1, 0, this.draggedRecord.taskData);\n            }\n            this.draggedRecord.parentItem = this.treeGridData[recordIndex1].parentItem;\n            this.draggedRecord.parentUniqueID = this.treeGridData[recordIndex1].parentUniqueID;\n            this.draggedRecord.level = this.treeGridData[recordIndex1].level;\n            this.treeGridData.splice(recordIndex1, 0, this.draggedRecord);\n            this.parent.ids.splice(recordIndex1, 0, this.draggedRecord.ganttProperties.rowUniqueID.toString());\n            if (this.parent.viewType === 'ResourceView') {\n                var id = this.draggedRecord.level === 0 ? 'R' + this.draggedRecord.ganttProperties.taskId : 'T' + this.draggedRecord.ganttProperties.taskId;\n                this.parent.getTaskIds().splice(recordIndex1, 0, id);\n            }\n            if (this.draggedRecord.hasChildRecords) {\n                var level = 1;\n                this.updateChildRecord(this.draggedRecord, recordIndex1);\n                this.updateChildRecordLevel(this.draggedRecord, level);\n            }\n            if (this.droppedRecord.parentItem) {\n                var rec = this.parent.getParentTask(this.droppedRecord.parentItem).childRecords;\n                var childRecords = rec;\n                var droppedRecordIndex = childRecords.indexOf(this.droppedRecord);\n                childRecords.splice(droppedRecordIndex, 0, this.draggedRecord);\n            }\n            /* eslint-disable-next-line */\n            if (!isNullOrUndefined(this.draggedRecord.parentItem && this.updateParentRecords.indexOf(this.draggedRecord.parentItem) !== -1)) {\n                this.updateParentRecords.push(this.draggedRecord.parentItem);\n            }\n        }\n    };\n    RowDD.prototype.updateChildRecordLevel = function (record, level) {\n        var length = 0;\n        var currentRecord;\n        level++;\n        if (!record.hasChildRecords) {\n            return 0;\n        }\n        length = record.childRecords.length;\n        for (var i = 0; i < length; i++) {\n            currentRecord = record.childRecords[i];\n            var parentData = void 0;\n            if (record.parentItem) {\n                var id = 'uniqueIDCollection';\n                parentData = this.parent.treeGrid[id][record.parentItem.uniqueID];\n            }\n            currentRecord.level = record.parentItem ? parentData.level + level : record.level + 1;\n            if (currentRecord.hasChildRecords) {\n                level--;\n                level = this.updateChildRecordLevel(currentRecord, level);\n            }\n        }\n        return level;\n    };\n    // eslint-disable-next-line\n    RowDD.prototype.updateChildRecord = function (record, count, expanded) {\n        var currentRecord;\n        var gObj = this.parent;\n        var length = 0;\n        if (!record.hasChildRecords) {\n            return 0;\n        }\n        length = record.childRecords.length;\n        for (var i = 0; i < length; i++) {\n            currentRecord = record.childRecords[i];\n            count++;\n            gObj.flatData.splice(count, 0, currentRecord);\n            this.parent.ids.splice(count, 0, currentRecord.ganttProperties.rowUniqueID.toString());\n            if (gObj.taskFields.parentID && gObj.dataSource.length > 0) {\n                this.ganttData.splice(count, 0, currentRecord.taskData);\n            }\n            if (currentRecord.hasChildRecords) {\n                count = this.updateChildRecord(currentRecord, count);\n            }\n        }\n        return count;\n    };\n    RowDD.prototype.removeRecords = function (record) {\n        var gObj = this.parent;\n        // eslint-disable-next-line\n        var dataSource;\n        if (this.parent.dataSource instanceof DataManager) {\n            dataSource = getValue('dataOperation.dataArray', this.parent);\n        }\n        else {\n            dataSource = this.parent.dataSource;\n        }\n        var deletedRow = record;\n        var flatParentData = this.parent.getParentTask(deletedRow.parentItem);\n        if (deletedRow) {\n            if (deletedRow.parentItem) {\n                var childRecords = flatParentData ? flatParentData.childRecords : [];\n                var childIndex = 0;\n                if (childRecords && childRecords.length > 0) {\n                    if (this.parent.viewType === 'ResourceView' && childRecords.length === 1) {\n                        //For updating the parent record which has zero parent reords.\n                        this.parent.isOnDelete = true;\n                        childRecords[0].isDelete = true;\n                        this.parent.dataOperation.updateParentItems(flatParentData);\n                        this.parent.isOnDelete = false;\n                        childRecords[0].isDelete = false;\n                    }\n                    childIndex = childRecords.indexOf(deletedRow);\n                    flatParentData.childRecords.splice(childIndex, 1);\n                    if (!this.parent.taskFields.parentID) {\n                        flatParentData.taskData[this.parent.taskFields.child].splice(childIndex, 1);\n                    }\n                    // collection for updating parent record\n                    this.updateParentRecords.push(flatParentData);\n                }\n            }\n            //method to delete the record from datasource collection\n            if (!this.parent.taskFields.parentID) {\n                var deleteRecordIDs = [];\n                deleteRecordIDs.push(deletedRow.ganttProperties.rowUniqueID.toString());\n                this.parent.editModule.removeFromDataSource(deleteRecordIDs);\n            }\n            if (gObj.taskFields.parentID) {\n                if (deletedRow.hasChildRecords && deletedRow.childRecords.length > 0) {\n                    this.removeChildItem(deletedRow);\n                }\n                var idx = void 0;\n                var ganttData = dataSource.length > 0 && this.parent.viewType !== 'ResourceView' ?\n                    dataSource : this.parent.updatedRecords;\n                for (var i = 0; i < ganttData.length; i++) {\n                    if (this.parent.viewType === 'ResourceView') {\n                        if (ganttData[i].ganttProperties.rowUniqueID === deletedRow.ganttProperties.rowUniqueID) {\n                            idx = i;\n                        }\n                    }\n                    else {\n                        if (ganttData[i][this.parent.taskFields.id] === deletedRow.taskData[this.parent.taskFields.id]) {\n                            idx = i;\n                        }\n                    }\n                }\n                if (idx !== -1) {\n                    if (dataSource.length > 0) {\n                        dataSource.splice(idx, 1);\n                    }\n                    var tempIndex = this.treeGridData.indexOf(deletedRow);\n                    this.treeGridData.splice(tempIndex, 1);\n                    this.parent.ids.splice(tempIndex, 1);\n                    if (this.parent.treeGrid.parentData.indexOf(deletedRow) !== -1) {\n                        this.parent.treeGrid.parentData.splice(this.parent.treeGrid.parentData.indexOf(deletedRow), 1);\n                    }\n                    if (this.parent.viewType === 'ResourceView') {\n                        this.parent.getTaskIds().splice(idx, 1);\n                    }\n                }\n            }\n            var recordIndex = this.treeGridData.indexOf(deletedRow);\n            if (!gObj.taskFields.parentID) {\n                var deletedRecordCount = this.parent.editModule.getChildCount(deletedRow, 0);\n                this.treeGridData.splice(recordIndex, deletedRecordCount + 1);\n                this.parent.ids.splice(recordIndex, deletedRecordCount + 1);\n                var parentIndex = this.ganttData.indexOf(deletedRow.taskData);\n                if (parentIndex !== -1) {\n                    this.ganttData.splice(parentIndex, 1);\n                    this.parent.treeGrid.parentData.splice(parentIndex, 1);\n                }\n                if (this.parent.viewType === 'ResourceView') {\n                    this.parent.getTaskIds().splice(recordIndex, deletedRecordCount + 1);\n                }\n            }\n            if (deletedRow.parentItem && flatParentData && flatParentData.childRecords && !flatParentData.childRecords.length) {\n                flatParentData.expanded = false;\n                flatParentData.hasChildRecords = false;\n            }\n        }\n    };\n    RowDD.prototype.removeChildItem = function (record) {\n        var currentRecord;\n        var idx;\n        for (var i = 0; i < record.childRecords.length; i++) {\n            currentRecord = record.childRecords[i];\n            // eslint-disable-next-line\n            var ganttData = void 0;\n            if (this.parent.dataSource instanceof DataManager) {\n                ganttData = getValue('dataOperation.dataArray', this.parent);\n            }\n            else {\n                ganttData = this.parent.dataSource;\n            }\n            for (var j = 0; j < ganttData.length; j++) {\n                if (ganttData[j][this.parent.taskFields.id] === currentRecord.taskData[this.parent.taskFields.id]) {\n                    idx = j;\n                }\n            }\n            if (idx !== -1) {\n                if (ganttData.length > 0) {\n                    ganttData.splice(idx, 1);\n                }\n                var tempIndex = this.treeGridData.indexOf(currentRecord);\n                this.treeGridData.splice(tempIndex, 1);\n                this.parent.ids.splice(tempIndex, 1);\n                if (this.parent.viewType === 'ResourceView') {\n                    this.parent.getTaskIds().splice(idx, 1);\n                }\n            }\n            if (currentRecord.hasChildRecords) {\n                this.removeChildItem(currentRecord);\n            }\n        }\n    };\n    /**\n     * Reorder the rows based on given indexes and position\n     *\n     * @param {number[]} fromIndexes .\n     * @param {number} toIndex .\n     * @param {string} position .\n     * @returns {void} .\n     */\n    RowDD.prototype.reorderRows = function (fromIndexes, toIndex, position) {\n        if (!this.parent.readOnly) {\n            // eslint-disable-next-line\n            if (fromIndexes[0] !== toIndex && position === 'above' || 'below' || 'child') {\n                if (position === 'above') {\n                    this.dropPosition = 'topSegment';\n                }\n                if (position === 'below') {\n                    this.dropPosition = 'bottomSegment';\n                }\n                if (position === 'child') {\n                    this.dropPosition = 'middleSegment';\n                }\n                var data = [];\n                for (var i = 0; i < fromIndexes.length; i++) {\n                    data[i] = this.parent.updatedRecords[fromIndexes[i]];\n                }\n                var isByMethod = true;\n                var args = {\n                    data: data,\n                    dropIndex: toIndex,\n                    dropPosition: this.dropPosition\n                };\n                this.dropRows(args, isByMethod);\n            }\n            else {\n                return;\n            }\n        }\n    };\n    return RowDD;\n}());\nexport { RowDD };\n","import { PdfColor, PdfFontFamily, PdfStringFormat } from '@syncfusion/ej2-pdf-export';\n/**\n * @hidden\n */\nvar PdfGanttTheme = /** @class */ (function () {\n    function PdfGanttTheme(theme) {\n        this.theme = theme;\n        this.ganttStyle = {};\n        this.setTheme(this.ganttStyle, this.theme);\n    }\n    Object.defineProperty(PdfGanttTheme.prototype, \"style\", {\n        get: function () {\n            if (this.ganttStyle) {\n                return this.ganttStyle;\n            }\n            else {\n                this.setTheme(this.ganttStyle, 'Material');\n                return this.ganttStyle;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    PdfGanttTheme.prototype.setTheme = function (ganttStyle, theme) {\n        this.initStyles(ganttStyle);\n        ganttStyle.columnHeader.fontSize = 9.5;\n        ganttStyle.columnHeader.fontColor = new PdfColor(0, 0, 0);\n        ganttStyle.columnHeader.fontColor.gray = 0.2;\n        ganttStyle.columnHeader.backgroundColor = new PdfColor(255, 255, 255);\n        ganttStyle.columnHeader.borderColor = new PdfColor(234, 234, 234);\n        ganttStyle.columnHeader.format.lineAlignment = 1; //Centre\n        ganttStyle.columnHeader.format.alignment = 0; //Left\n        ganttStyle.fontFamily = PdfFontFamily.Helvetica;\n        ganttStyle.cell.fontSize = 9.5;\n        ganttStyle.cell.backgroundColor = new PdfColor(255, 255, 255);\n        ganttStyle.cell.borderColor = new PdfColor(234, 234, 234);\n        ganttStyle.cell.fontColor = new PdfColor(0, 0, 0);\n        ganttStyle.cell.fontColor.gray = 0.2;\n        ganttStyle.cell.format.lineAlignment = 1; // Centre\n        ganttStyle.cell.format.alignment = 0; // Left\n        ganttStyle.footer.fontSize = 9.5;\n        ganttStyle.footer.fontStyle = 0;\n        ganttStyle.footer.format.alignment = 1; //Centre\n        ganttStyle.footer.format.lineAlignment = 1; // Middle\n        ganttStyle.timeline.fontSize = 9.5;\n        ganttStyle.timeline.fontStyle = 0;\n        ganttStyle.timeline.backgroundColor = new PdfColor(252, 252, 252);\n        ganttStyle.timeline.fontColor = new PdfColor(40, 40, 39);\n        ganttStyle.chartGridLineColor = new PdfColor(206, 206, 206);\n        ganttStyle.timeline.borderColor = new PdfColor(206, 206, 206);\n        switch (theme) {\n            case 'Bootstrap':\n                //chart side theme\n                ganttStyle.taskbar.taskColor = new PdfColor(49, 122, 185);\n                ganttStyle.taskbar.progressColor = new PdfColor(33, 82, 125);\n                ganttStyle.taskbar.parentTaskColor = new PdfColor(119, 119, 119);\n                ganttStyle.taskbar.parentProgressColor = new PdfColor(85, 85, 85);\n                ganttStyle.taskbar.taskBorderColor = new PdfColor(33, 82, 125);\n                ganttStyle.taskbar.parentTaskBorderColor = new PdfColor(85, 85, 85);\n                ganttStyle.taskbar.milestoneColor = new PdfColor(85, 85, 85);\n                ganttStyle.footer.fontColor = new PdfColor(0, 0, 0);\n                ganttStyle.footer.fontColor.gray = 0.2;\n                ganttStyle.connectorLineColor = new PdfColor(33, 82, 125);\n                ganttStyle.footer.backgroundColor = new PdfColor(255, 255, 255);\n                ganttStyle.taskbar.progressFontColor = new PdfColor(255, 255, 255);\n                ganttStyle.label.fontColor = new PdfColor(0, 0, 0);\n                break;\n            case 'Bootstrap 4':\n                //chart side theme\n                ganttStyle.taskbar.taskColor = new PdfColor(0, 123, 255);\n                ganttStyle.taskbar.progressColor = new PdfColor(0, 86, 179);\n                ganttStyle.taskbar.parentTaskColor = new PdfColor(108, 117, 125);\n                ganttStyle.taskbar.parentProgressColor = new PdfColor(73, 80, 87);\n                ganttStyle.taskbar.taskBorderColor = new PdfColor(0, 86, 179);\n                ganttStyle.taskbar.parentTaskBorderColor = new PdfColor(73, 80, 87);\n                ganttStyle.taskbar.milestoneColor = new PdfColor(73, 80, 87);\n                ganttStyle.footer.fontColor = new PdfColor(0, 0, 0);\n                ganttStyle.footer.fontColor.gray = 0.2;\n                ganttStyle.connectorLineColor = new PdfColor(0, 86, 179);\n                ganttStyle.footer.backgroundColor = new PdfColor(255, 255, 255);\n                ganttStyle.taskbar.progressFontColor = new PdfColor(255, 255, 255);\n                ganttStyle.label.fontColor = new PdfColor(33, 37, 41);\n                break;\n            case 'Fabric':\n                ganttStyle.columnHeader.fontColor = new PdfColor(102, 102, 102);\n                ganttStyle.cell.fontColor = new PdfColor(51, 51, 51);\n                //chart side theme\n                ganttStyle.taskbar.taskColor = new PdfColor(0, 120, 214);\n                ganttStyle.taskbar.progressColor = new PdfColor(0, 91, 163);\n                ganttStyle.taskbar.parentTaskColor = new PdfColor(118, 118, 118);\n                ganttStyle.taskbar.parentProgressColor = new PdfColor(80, 80, 80);\n                ganttStyle.taskbar.taskBorderColor = new PdfColor(0, 91, 163);\n                ganttStyle.taskbar.parentTaskBorderColor = new PdfColor(80, 80, 80);\n                ganttStyle.taskbar.milestoneColor = new PdfColor(80, 80, 80);\n                ganttStyle.footer.fontColor = new PdfColor(51, 51, 51);\n                ganttStyle.footer.fontColor.gray = 0.2;\n                ganttStyle.connectorLineColor = new PdfColor(0, 69, 122);\n                ganttStyle.footer.backgroundColor = new PdfColor(255, 255, 255);\n                ganttStyle.taskbar.progressFontColor = new PdfColor(255, 255, 255);\n                ganttStyle.label.fontColor = new PdfColor(51, 51, 51);\n                break;\n            default:\n                //chart side theme\n                ganttStyle.taskbar.taskColor = new PdfColor(88, 105, 197);\n                ganttStyle.taskbar.progressColor = new PdfColor(63, 81, 181);\n                ganttStyle.taskbar.parentTaskColor = new PdfColor(132, 132, 132);\n                ganttStyle.taskbar.parentProgressColor = new PdfColor(97, 97, 97);\n                ganttStyle.taskbar.taskBorderColor = new PdfColor(63, 81, 181);\n                ganttStyle.taskbar.parentTaskBorderColor = new PdfColor(51, 51, 51);\n                ganttStyle.taskbar.milestoneColor = new PdfColor(97, 97, 97);\n                ganttStyle.footer.fontColor = new PdfColor(0, 0, 0);\n                ganttStyle.footer.fontColor.gray = 0.2;\n                ganttStyle.connectorLineColor = new PdfColor(63, 81, 181);\n                ganttStyle.footer.backgroundColor = new PdfColor(255, 255, 255);\n                ganttStyle.taskbar.progressFontColor = new PdfColor(255, 255, 255);\n                ganttStyle.label.fontColor = new PdfColor(51, 51, 51);\n                break;\n        }\n    };\n    PdfGanttTheme.prototype.initStyles = function (ganttStyle) {\n        ganttStyle.columnHeader = {};\n        ganttStyle.columnHeader.format = new PdfStringFormat();\n        ganttStyle.cell = {};\n        ganttStyle.cell.format = new PdfStringFormat();\n        ganttStyle.timeline = {};\n        ganttStyle.footer = {};\n        ganttStyle.footer.format = new PdfStringFormat();\n        ganttStyle.label = {};\n        ganttStyle.taskbar = {};\n    };\n    return PdfGanttTheme;\n}());\nexport { PdfGanttTheme };\n","/**\n * Dictionary class\n *\n * @private\n * @hidden\n */\nvar TemporaryDictionary = /** @class */ (function () {\n    function TemporaryDictionary() {\n        /**\n         * @hidden\n         * @private\n         */\n        this.mKeys = [];\n        /**\n         * @hidden\n         * @private\n         */\n        this.mValues = [];\n    }\n    /**\n     * @returns {number} .\n     * @hidden\n     * @private\n     */\n    TemporaryDictionary.prototype.size = function () {\n        return this.mKeys.length;\n    };\n    /**\n     * @template K\n     * @template V\n     * @param {K} key .\n     * @param {V} value .\n     * @returns {void} .\n     * @hidden\n     * @private\n     */\n    TemporaryDictionary.prototype.add = function (key, value) {\n        if (key === undefined || key === null || value === undefined || value === null) {\n            throw new ReferenceError('Provided key or value is not valid.');\n        }\n        var index = this.mKeys.indexOf(key);\n        if (index < 0) {\n            this.mKeys.push(key);\n            this.mValues.push(value);\n            return 1;\n        }\n        else {\n            throw new RangeError('An item with the same key has already been added.');\n        }\n    };\n    /**\n     * @template K\n     * @returns {K[]} .\n     * @hidden\n     * @private\n     */\n    TemporaryDictionary.prototype.keys = function () {\n        return this.mKeys;\n    };\n    /**\n     * @template V\n     * @returns {V[]} .\n     * @hidden\n     * @private\n     */\n    TemporaryDictionary.prototype.values = function () {\n        return this.mValues;\n    };\n    /**\n     * @template K\n     * @template V\n     * @param {K} key .\n     * @returns {V} .\n     * @hidden\n     * @private\n     */\n    TemporaryDictionary.prototype.getValue = function (key) {\n        if (key === undefined || key === null) {\n            throw new ReferenceError('Provided key is not valid.');\n        }\n        var index = this.mKeys.indexOf(key);\n        if (index < 0) {\n            throw new RangeError('No item with the specified key has been added.');\n        }\n        else {\n            return this.mValues[index];\n        }\n    };\n    /**\n     * @template K\n     * @template V\n     * @param {K} key .\n     * @param {V} value .\n     * @returns {void} .\n     * @hidden\n     * @private\n     */\n    TemporaryDictionary.prototype.setValue = function (key, value) {\n        if (key === undefined || key === null) {\n            throw new ReferenceError('Provided key is not valid.');\n        }\n        var index = this.mKeys.indexOf(key);\n        if (index < 0) {\n            this.mKeys.push(key);\n            this.mValues.push(value);\n        }\n        else {\n            this.mValues[index] = value;\n        }\n    };\n    /**\n     * @template K\n     * @param {K} key .\n     * @returns {boolean} .\n     * @hidden\n     * @private\n     */\n    TemporaryDictionary.prototype.remove = function (key) {\n        if (key === undefined || key === null) {\n            throw new ReferenceError('Provided key is not valid.');\n        }\n        var index = this.mKeys.indexOf(key);\n        if (index < 0) {\n            throw new RangeError('No item with the specified key has been added.');\n        }\n        else {\n            this.mKeys.splice(index, 1);\n            this.mValues.splice(index, 1);\n            return true;\n        }\n    };\n    /**\n     * @template K\n     * @param {K} key .\n     * @returns {boolean} .\n     * @hidden\n     * @private\n     */\n    TemporaryDictionary.prototype.containsKey = function (key) {\n        if (key === undefined || key === null) {\n            throw new ReferenceError('Provided key is not valid.');\n        }\n        var index = this.mKeys.indexOf(key);\n        if (index < 0) {\n            return false;\n        }\n        return true;\n    };\n    /**\n     * @returns {void} .\n     * @hidden\n     * @private\n     */\n    TemporaryDictionary.prototype.clear = function () {\n        this.mKeys = [];\n        this.mValues = [];\n    };\n    return TemporaryDictionary;\n}());\nexport { TemporaryDictionary };\n","/**\n * PdfBorders.ts class for EJ2-PDF\n */\nimport { PdfPen, PdfDashStyle, PdfColor } from '@syncfusion/ej2-pdf-export';\n/**\n * `PdfBorders` class used represents the cell border of the PDF grid.\n */\nvar PdfBorders = /** @class */ (function () {\n    // Constructor\n    /**\n     * Create a new instance for `PdfBorders` class.\n     *\n     * @private\n     */\n    function PdfBorders() {\n        var defaultBorderPenLeft = new PdfPen(new PdfColor(0, 0, 0));\n        defaultBorderPenLeft.dashStyle = PdfDashStyle.Solid;\n        var defaultBorderPenRight = new PdfPen(new PdfColor(0, 0, 0));\n        defaultBorderPenRight.dashStyle = PdfDashStyle.Solid;\n        var defaultBorderPenTop = new PdfPen(new PdfColor(0, 0, 0));\n        defaultBorderPenTop.dashStyle = PdfDashStyle.Solid;\n        var defaultBorderPenBottom = new PdfPen(new PdfColor(0, 0, 0));\n        defaultBorderPenBottom.dashStyle = PdfDashStyle.Solid;\n        this.leftPen = defaultBorderPenLeft;\n        this.rightPen = defaultBorderPenRight;\n        this.topPen = defaultBorderPenTop;\n        this.bottomPen = defaultBorderPenBottom;\n    }\n    Object.defineProperty(PdfBorders.prototype, \"left\", {\n        // Properties\n        /**\n         * Gets or sets the `Left`.\n         *\n         * @returns {PdfPen} .\n         * @private\n         */\n        get: function () {\n            return this.leftPen;\n        },\n        set: function (value) {\n            this.leftPen = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfBorders.prototype, \"right\", {\n        /**\n         * Gets or sets the `Right`.\n         *\n         * @returns {PdfPen} .\n         * @private\n         */\n        get: function () {\n            return this.rightPen;\n        },\n        set: function (value) {\n            this.rightPen = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfBorders.prototype, \"top\", {\n        /**\n         * Gets or sets the `Top`.\n         *\n         * @returns {PdfPen} .\n         * @private\n         */\n        get: function () {\n            return this.topPen;\n        },\n        set: function (value) {\n            this.topPen = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfBorders.prototype, \"bottom\", {\n        /**\n         * Gets or sets the `Bottom`.\n         *\n         * @returns {PdfPen} .\n         * @private\n         */\n        get: function () {\n            return this.bottomPen;\n        },\n        set: function (value) {\n            this.bottomPen = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfBorders.prototype, \"all\", {\n        /**\n         * sets the `All`.\n         *\n         * @param {PdfPen} value .\n         * @private\n         */\n        set: function (value) {\n            this.leftPen = this.rightPen = this.topPen = this.bottomPen = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfBorders.prototype, \"isAll\", {\n        /**\n         * Gets a value indicating whether this instance `is all`.\n         *\n         * @returns {boolean} .\n         * @private\n         */\n        get: function () {\n            return ((this.leftPen === this.rightPen) && (this.leftPen === this.topPen) && (this.leftPen === this.bottomPen));\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfBorders, \"default\", {\n        /**\n         * Gets the `default`.\n         *\n         * @returns {PdfBorders} .\n         * @private\n         */\n        get: function () {\n            return new PdfBorders();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return PdfBorders;\n}());\nexport { PdfBorders };\nvar PdfPaddings = /** @class */ (function () {\n    function PdfPaddings(left, right, top, bottom) {\n        /**\n         * The 'left' border padding set.\n         *\n         * @private\n         */\n        this.hasLeftPad = false;\n        /**\n         * The 'right' border padding set.\n         *\n         * @private\n         */\n        this.hasRightPad = false;\n        /**\n         * The 'top' border padding set.\n         *\n         * @private\n         */\n        this.hasTopPad = false;\n        /**\n         * The 'bottom' border padding set.\n         *\n         * @private\n         */\n        this.hasBottomPad = false;\n        if (typeof left === 'undefined') {\n            //5.76 and 0 are taken from ms-word default table margins.\n            this.leftPad = this.rightPad = 5.76;\n            //0.5 is set for top and bottom by default.\n            this.bottomPad = this.topPad = 0.5;\n        }\n        else {\n            this.leftPad = left;\n            this.rightPad = right;\n            this.topPad = top;\n            this.bottomPad = bottom;\n            this.hasLeftPad = true;\n            this.hasRightPad = true;\n            this.hasTopPad = true;\n            this.hasBottomPad = true;\n        }\n    }\n    Object.defineProperty(PdfPaddings.prototype, \"left\", {\n        // Properties\n        /**\n         * Gets or sets the `left` value of the edge\n         *\n         * @returns {number} .\n         * @private\n         */\n        get: function () {\n            return this.leftPad;\n        },\n        set: function (value) {\n            this.leftPad = value;\n            this.hasLeftPad = true;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfPaddings.prototype, \"right\", {\n        /**\n         * Gets or sets the `right` value of the edge.\n         *\n         * @returns {number} .\n         * @private\n         */\n        get: function () {\n            return this.rightPad;\n        },\n        set: function (value) {\n            this.rightPad = value;\n            this.hasRightPad = true;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfPaddings.prototype, \"top\", {\n        /**\n         * Gets or sets the `top` value of the edge\n         *\n         * @returns {number} .\n         * @private\n         */\n        get: function () {\n            return this.topPad;\n        },\n        set: function (value) {\n            this.topPad = value;\n            this.hasTopPad = true;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfPaddings.prototype, \"bottom\", {\n        /**\n         * Gets or sets the `bottom` value of the edge.\n         *\n         * @returns {number} .\n         * @private\n         */\n        get: function () {\n            return this.bottomPad;\n        },\n        set: function (value) {\n            this.bottomPad = value;\n            this.hasBottomPad = true;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfPaddings.prototype, \"all\", {\n        /**\n         * Sets value to all sides `left,right,top and bottom`.s\n         *\n         * @param {number} value .\n         * @private\n         */\n        set: function (value) {\n            this.leftPad = this.rightPad = this.topPad = this.bottomPad = value;\n            this.hasLeftPad = true;\n            this.hasRightPad = true;\n            this.hasTopPad = true;\n            this.hasBottomPad = true;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return PdfPaddings;\n}());\nexport { PdfPaddings };\n","/**\n * PdfGridStyleBase.ts class for EJ2-PDF\n */\nimport { PdfBorderOverlapStyle } from '@syncfusion/ej2-pdf-export';\nimport { PdfPaddings } from '../index';\nimport { PdfHorizontalOverflowType } from '../../../base/interface';\n/**\n * Base class for the `treegrid style`,\n */\nvar PdfTreeGridStyleBase = /** @class */ (function () {\n    function PdfTreeGridStyleBase() {\n    }\n    return PdfTreeGridStyleBase;\n}());\nexport { PdfTreeGridStyleBase };\n/**\n * `PdfTreeGridStyle` class provides customization of the appearance for the 'PdfGrid'.\n *\n */\nvar PdfTreeGridStyle = /** @class */ (function () {\n    //constructor\n    /**\n     * Initialize a new instance for `PdfGridStyle` class.\n     *\n     * @private\n     */\n    function PdfTreeGridStyle() {\n        this.cellSpacing = 0;\n        this.borderOverlapStyle = PdfBorderOverlapStyle.Overlap;\n        this.allowHorizontalOverflow = false;\n        this.horizontalOverflowType = PdfHorizontalOverflowType.LastPage;\n        this.cellPadding = new PdfPaddings();\n    }\n    return PdfTreeGridStyle;\n}());\nexport { PdfTreeGridStyle };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { PdfBorders, TemporaryDictionary } from './index';\nimport { PdfHorizontalOverflowType } from '../../base/interface';\nimport { ElementLayouter, PdfLayoutResult, PdfLayoutFormat, SizeF, PointF, RectangleF, RowLayoutResult, PdfLayoutType, PdfLayoutBreakType } from '@syncfusion/ej2-pdf-export';\nimport { PdfStringFormat } from '@syncfusion/ej2-pdf-export';\n/**\n *\n */\nvar PdfTreeGridLayouter = /** @class */ (function (_super) {\n    __extends(PdfTreeGridLayouter, _super);\n    function PdfTreeGridLayouter(baseFormat) {\n        var _this = _super.call(this, baseFormat) || this;\n        _this.columnRanges = [];\n        _this.repeatRowIndex = -1;\n        _this.currentBounds = new RectangleF(0, 0, 0, 0);\n        return _this;\n    }\n    Object.defineProperty(PdfTreeGridLayouter.prototype, \"treegrid\", {\n        get: function () {\n            return this.elements;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    PdfTreeGridLayouter.prototype.layoutInternal = function (param) {\n        if (isNullOrUndefined(param)) {\n            throw Error('Argument Null Expection');\n        }\n        this.currentPage = param.page;\n        var format = param.format;\n        if (this.currentPage !== null) {\n            this.currentPageBounds = this.currentPage.getClientSize();\n        }\n        this.currentGraphics = this.currentPage.graphics;\n        if (format !== null && format.break === PdfLayoutBreakType.FitColumnsToPage) {\n            /* eslint-disable-next-line */\n            this.currentBounds = new RectangleF(new PointF(param.bounds.x, param.bounds.y), new SizeF(this.treegrid.columns.width, this.currentGraphics.clientSize.height));\n        }\n        else {\n            this.currentBounds = new RectangleF(new PointF(param.bounds.x, param.bounds.y), this.currentGraphics.clientSize);\n        }\n        if (this.treegrid.rows.count !== 0) {\n            this.currentBounds.width = (param.bounds.width > 0) ? param.bounds.width :\n                (this.currentBounds.width - this.treegrid.rows.getRow(0).cells.getCell(0).style.borders.left.width / 2);\n        }\n        else {\n            throw Error('Please add row or header into grid');\n        }\n        this.startLocation = new PointF(param.bounds.x, param.bounds.y);\n        if (param.bounds.height > 0) {\n            this.currentBounds.height = param.bounds.height;\n        }\n        if (!this.treegrid.style.allowHorizontalOverflow && !this.treegrid.isFitToWidth) {\n            this.treegrid.measureColumnsWidth();\n            this.determineColumnDrawRanges();\n        }\n        else {\n            this.treegrid.measureColumnsWidth(this.currentBounds);\n            this.columnRanges.push([0, this.treegrid.columns.count - 1]);\n        }\n        return this.layoutOnPage(param);\n    };\n    /**\n     * `Determines the column draw ranges`.\n     *\n     * @returns {void} .\n     * @private\n     */\n    PdfTreeGridLayouter.prototype.determineColumnDrawRanges = function () {\n        var startColumn = 0;\n        var endColumn = 0;\n        var cellWidths = 0;\n        var availableWidth = this.currentGraphics.clientSize.width - this.currentBounds.x;\n        for (var i = 0; i < this.treegrid.columns.count; i++) {\n            cellWidths += this.treegrid.columns.getColumn(i).width;\n            if (cellWidths >= availableWidth) {\n                var subWidths = 0;\n                for (var j = startColumn; j <= i; j++) {\n                    subWidths += this.treegrid.columns.getColumn(j).width;\n                    if (subWidths > availableWidth) {\n                        break;\n                    }\n                    endColumn = j;\n                }\n                this.columnRanges.push([startColumn, endColumn]);\n                startColumn = endColumn + 1;\n                //endColumn = startColumn;\n                cellWidths = (endColumn <= i) ? this.treegrid.columns.getColumn(i).width : 0;\n            }\n        }\n        this.columnRanges.push([startColumn, this.treegrid.columns.count - 1]);\n    };\n    PdfTreeGridLayouter.prototype.getFormat = function (format) {\n        var f = format;\n        return f;\n    };\n    PdfTreeGridLayouter.prototype.layoutOnPage = function (param) {\n        var format = this.getFormat(param.format);\n        var result = null;\n        var layoutedPages = new TemporaryDictionary();\n        var startPage = param.page;\n        for (var index = 0; index < this.columnRanges.length; index++) {\n            var range = this.columnRanges[index];\n            this.cellStartIndex = range[0];\n            this.cellEndIndex = range[1];\n            var rowsCount = this.treegrid.rows.count;\n            var i = 0;\n            var repeatRow = false;\n            //Draw row by row with the specified cell range.\n            for (var j = 0; j < rowsCount; j++) {\n                var row = this.treegrid.rows.getRow(j);\n                i++;\n                var originalHeight = this.currentBounds.y;\n                if (this.currentPage !== null && !layoutedPages.containsKey(this.currentPage)) {\n                    layoutedPages.add(this.currentPage, range);\n                }\n                var rowResult = this.drawRow(row);\n                //if height remains same, it is understood that row is not draw in the page.\n                if (originalHeight === this.currentBounds.y) {\n                    repeatRow = true;\n                    this.repeatRowIndex = this.treegrid.rows.rowCollection.indexOf(row);\n                }\n                else {\n                    repeatRow = false;\n                    this.repeatRowIndex = -1;\n                }\n                while (!rowResult.isFinish && startPage !== null) {\n                    if (this.treegrid.allowRowBreakAcrossPages) {\n                        //If there is no space in the current page, add new page and then draw the remaining row.\n                        this.currentPage = this.getNextPageFormat(format);\n                        if (this.treegrid.enableHeader) {\n                            this.drawHeader();\n                        }\n                        this.checkBounds(format);\n                        rowResult = this.drawRow(row);\n                    }\n                    else if (!this.treegrid.allowRowBreakAcrossPages && i < length) {\n                        this.currentPage = this.getNextPageFormat(format);\n                        if (this.treegrid.enableHeader) {\n                            this.drawHeader();\n                        }\n                        break;\n                    }\n                    else if (i >= length) {\n                        break;\n                    }\n                }\n                if (!rowResult.isFinish && startPage !== null && format.layout !== PdfLayoutType.OnePage && repeatRow) {\n                    this.startLocation.x = this.currentBounds.x;\n                    this.currentPage = this.getNextPageFormat(format);\n                    if (this.treegrid.enableHeader) {\n                        this.drawHeader();\n                    }\n                    this.startLocation.y = this.currentBounds.y;\n                    if (format.paginateBounds === new RectangleF(0, 0, 0, 0)) {\n                        this.currentBounds.x += this.startLocation.x;\n                    }\n                    if (this.currentBounds.x === PdfBorders.default.left.width / 2) {\n                        this.currentBounds.y += this.startLocation.x;\n                    }\n                    this.drawRow(row);\n                    if (this.currentPage !== null && !layoutedPages.containsKey(this.currentPage)) {\n                        layoutedPages.add(this.currentPage, range);\n                    }\n                }\n            }\n            if (this.columnRanges.indexOf(range) < this.columnRanges.length - 1 &&\n                startPage !== null && format.layout !== PdfLayoutType.OnePage) {\n                this.currentPage = this.getNextPageFormat(format);\n                this.checkBounds(format);\n            }\n        }\n        result = this.getLayoutResult();\n        if (this.treegrid.style.allowHorizontalOverflow\n            && this.treegrid.style.horizontalOverflowType === PdfHorizontalOverflowType.NextPage) {\n            this.reArrangePages(layoutedPages);\n        }\n        return result;\n    };\n    PdfTreeGridLayouter.prototype.checkBounds = function (format) {\n        var location = new PointF(PdfBorders.default.right.width / 2, PdfBorders.default.top.width / 2);\n        if (format.paginateBounds === new RectangleF(0, 0, 0, 0) && this.startLocation === location) {\n            this.currentBounds.x += this.startLocation.x;\n            this.currentBounds.y += this.startLocation.y;\n        }\n    };\n    PdfTreeGridLayouter.prototype.drawHeader = function () {\n        this.drawRow(this.treegrid.rows.getRow(0));\n    };\n    PdfTreeGridLayouter.prototype.reArrangePages = function (layoutPages) {\n        var document = this.currentPage.document;\n        var pages = [];\n        var keys = layoutPages.keys();\n        for (var i = 0; i < keys.length; i++) {\n            var page = keys[i];\n            page.section = null;\n            pages.push(page);\n            document.pages.remove(page);\n        }\n        for (var i = 0; i < layoutPages.size(); i++) {\n            var count = (layoutPages.size() / this.columnRanges.length);\n            for (var j = i; j < layoutPages.size(); j += count) {\n                var page = pages[j];\n                if (document.pages.indexOf(page) === -1) {\n                    document.pages.add(page);\n                }\n            }\n        }\n    };\n    // eslint-disable-next-line\n    PdfTreeGridLayouter.prototype.getNextPageFormat = function (format) {\n        var section = this.currentPage.section;\n        var nextPage = null;\n        var index = section.indexOf(this.currentPage);\n        if (index === section.count - 1) {\n            nextPage = section.add();\n        }\n        else {\n            nextPage = section.getPages()[index + 1];\n        }\n        this.currentGraphics = nextPage.graphics;\n        this.currentBounds = new RectangleF(new PointF(0, 0), nextPage.getClientSize());\n        return nextPage;\n    };\n    PdfTreeGridLayouter.prototype.getLayoutResult = function () {\n        var bounds = new RectangleF(this.startLocation, new SizeF(this.currentBounds.width, this.currentBounds.y -\n            this.startLocation.y));\n        return new PdfTreeGridLayoutResult(this.currentPage, bounds);\n    };\n    PdfTreeGridLayouter.prototype.checkIfDefaultFormat = function (format) {\n        var defaultFormat = new PdfStringFormat();\n        return (format.alignment === defaultFormat.alignment && format.characterSpacing === defaultFormat.characterSpacing &&\n            format.clipPath === defaultFormat.clipPath && format.firstLineIndent === defaultFormat.firstLineIndent &&\n            format.horizontalScalingFactor === defaultFormat.horizontalScalingFactor &&\n            format.lineAlignment === defaultFormat.lineAlignment\n            && format.lineLimit === defaultFormat.lineLimit && format.lineSpacing === defaultFormat.lineSpacing &&\n            format.measureTrailingSpaces === defaultFormat.measureTrailingSpaces && format.noClip === defaultFormat.noClip &&\n            format.paragraphIndent === defaultFormat.paragraphIndent && format.rightToLeft === defaultFormat.rightToLeft &&\n            format.subSuperScript === defaultFormat.subSuperScript && format.wordSpacing === defaultFormat.wordSpacing &&\n            format.wordWrap === defaultFormat.wordWrap);\n    };\n    PdfTreeGridLayouter.prototype.drawRow = function (row, layoutResult, height) {\n        //.. Check if required space available.\n        //.....If the row conains spans which  falls through more than one page, then draw the row to next page.\n        if (isNullOrUndefined(layoutResult)) {\n            var result = new RowLayoutResult();\n            height = row.rowBreakHeight > 0 ? row.rowBreakHeight : row.height;\n            if (height > this.currentPageBounds.height) {\n                if (this.treegrid.allowRowBreakAcrossPages) {\n                    result.isFinish = true;\n                    this.drawRowWithBreak(result, row, height);\n                }\n                else {\n                    // If AllowRowBreakAcrossPages is not true, draw the row till it fits the page.\n                    result.isFinish = false;\n                    this.drawRow(row, result, height);\n                }\n            }\n            else if (this.currentBounds.y + height > this.currentPageBounds.height ||\n                this.currentBounds.y + height > this.currentBounds.height) {\n                if (this.repeatRowIndex > -1 && this.repeatRowIndex === row.rowIndex) {\n                    if (this.treegrid.allowRowBreakAcrossPages) {\n                        result.isFinish = true;\n                        this.drawRowWithBreak(result, row, height);\n                    }\n                    else {\n                        result.isFinish = false;\n                        this.drawRow(row, result, height);\n                    }\n                }\n                else {\n                    result.isFinish = false;\n                }\n            }\n            else {\n                result.isFinish = true;\n                this.drawRow(row, result, height);\n            }\n            return result;\n        }\n        else {\n            var location_1 = new PointF(this.currentBounds.x, this.currentBounds.y);\n            layoutResult.bounds = new RectangleF(location_1, new SizeF(0, 0));\n            var leftAdjustment = 0;\n            height = this.reCalculateHeight(row, height);\n            for (var i = this.cellStartIndex; i <= this.cellEndIndex; i++) {\n                var cell = row.cells.getCell(i);\n                var column = this.treegrid.columns.getColumn(i);\n                if (column.isTreeColumn) {\n                    leftAdjustment = (row.level) * 10;\n                }\n                var cancelSpans = ((i > this.cellEndIndex + 1) && (cell.columnSpan > 1));\n                if (!cancelSpans) {\n                    for (var j = 1; j < cell.columnSpan; j++) {\n                        row.cells.getCell(i + j).isCellMergeContinue = true;\n                    }\n                }\n                var size = new SizeF(column.width, height);\n                if (!this.checkIfDefaultFormat(column.format) && this.checkIfDefaultFormat(cell.style.format)) {\n                    cell.style.format = column.format;\n                }\n                cell.draw(this.currentGraphics, new RectangleF(location_1, size), cancelSpans, leftAdjustment);\n                /* eslint-disable-next-line */\n                if (row.treegrid.style.allowHorizontalOverflow && (cell.columnSpan > this.cellEndIndex || i + cell.columnSpan > this.cellEndIndex + 1) && this.cellEndIndex < row.cells.count - 1) {\n                    row.rowOverflowIndex = this.cellEndIndex;\n                }\n                location_1.x += column.width;\n                leftAdjustment = 0;\n            }\n            this.currentBounds.y += height;\n            /* eslint-disable-next-line */\n            layoutResult.bounds = new RectangleF(new PointF(layoutResult.bounds.x, layoutResult.bounds.y), new SizeF(location_1.x, location_1.y));\n            return null;\n        }\n    };\n    /**\n     * @param {RowLayoutResult} result .\n     * @param {PdfTreeGridRow} row .\n     * @param {number} height .\n     * @returns {void} .\n     */\n    PdfTreeGridLayouter.prototype.drawRowWithBreak = function (result, row, height) {\n        var location = new PointF(this.currentBounds.x, this.currentBounds.y);\n        result.bounds = new RectangleF(location, new SizeF(0, 0));\n        var leftAdjustment = 0;\n        this.treegridHeight = this.currentBounds.height;\n        // Calculate the remaining height.\n        row.rowBreakHeight = this.currentBounds.y + height - this.currentBounds.height;\n        // No need to explicit break if the row height is equal to treegrid height.\n        for (var c = 0; c < row.cells.count; c++) {\n            var cell = row.cells.getCell(c);\n            var cellHeight = cell.measureHeight();\n            if (cellHeight === height && cell.value === null) {\n                row.rowBreakHeight = this.currentBounds.y + height - this.currentBounds.height;\n            }\n        }\n        for (var i = this.cellStartIndex; i <= this.cellEndIndex; i++) {\n            var column = this.treegrid.columns.getColumn(i);\n            if (column.isTreeColumn) {\n                leftAdjustment = row.level * 10;\n            }\n            var cell = row.cells.getCell(i);\n            var cancelSpans = ((cell.columnSpan + i > this.cellEndIndex + 1) && (cell.columnSpan > 1));\n            if (!cancelSpans) {\n                for (var j = 1; j < cell.columnSpan; j++) {\n                    row.cells.getCell(i + j).isCellMergeContinue = true;\n                }\n            }\n            var tHeight = this.treegridHeight > 0 ? this.treegridHeight : this.currentBounds.height;\n            var size = new SizeF(column.width, tHeight);\n            if (!this.checkIfDefaultFormat(column.format) && this.checkIfDefaultFormat(cell.style.format)) {\n                cell.style.format = column.format;\n            }\n            cell.draw(this.currentGraphics, new RectangleF(location, size), cancelSpans, leftAdjustment);\n            result.isFinish = (!result.isFinish) ? result.isFinish : cell.finishedDrawingCell;\n            location.x += column.width;\n            leftAdjustment = 0;\n            this.currentBounds.y += this.treegridHeight > 0 ? this.treegridHeight : height;\n            result.bounds = new RectangleF(new PointF(result.bounds.x, result.bounds.y), new SizeF(location.x, location.y));\n        }\n    };\n    /**\n     * `Recalculate row height` for the split cell to be drawn.\n     *\n     * @param {PdfTreeGridRow} row .\n     * @param {number} height .\n     * @returns {void} .\n     * @private\n     */\n    PdfTreeGridLayouter.prototype.reCalculateHeight = function (row, height) {\n        var newHeight = 0;\n        for (var i = this.cellStartIndex; i <= this.cellEndIndex; i++) {\n            if (!isNullOrUndefined(row.cells.getCell(i).remainingString) ||\n                row.cells.getCell(i).remainingString === '') {\n                newHeight = Math.max(newHeight, row.cells.getCell(i).measureHeight());\n            }\n        }\n        return Math.max(height, newHeight);\n    };\n    return PdfTreeGridLayouter;\n}(ElementLayouter));\nexport { PdfTreeGridLayouter };\nvar PdfTreeGridLayoutResult = /** @class */ (function (_super) {\n    __extends(PdfTreeGridLayoutResult, _super);\n    /**\n     * Constructor\n     *\n     * @param {PdfPage} page .\n     * @param {RectangleF} bounds .\n     * @private\n     */\n    function PdfTreeGridLayoutResult(page, bounds) {\n        return _super.call(this, page, bounds) || this;\n    }\n    return PdfTreeGridLayoutResult;\n}(PdfLayoutResult));\nexport { PdfTreeGridLayoutResult };\n/**\n * `PdfGridLayoutFormat` class represents a flexible grid that consists of columns and rows.\n */\nvar PdfTreeGridLayoutFormat = /** @class */ (function (_super) {\n    __extends(PdfTreeGridLayoutFormat, _super);\n    /**\n     * Initializes a new instance of the `PdfGridLayoutFormat` class.\n     *\n     * @param {PdfLayoutFormat} baseFormat .\n     * @private\n     */\n    function PdfTreeGridLayoutFormat(baseFormat) {\n        var _this = this;\n        if (typeof baseFormat === 'undefined') {\n            _this = _super.call(this) || this;\n        }\n        else {\n            _this = _super.call(this, baseFormat) || this;\n        }\n        return _this;\n    }\n    return PdfTreeGridLayoutFormat;\n}(PdfLayoutFormat));\nexport { PdfTreeGridLayoutFormat };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { PdfTreeGridColumnCollection, PdfTreeGridHeaderCollection, PdfTreeGridRowCollection } from './pdf-base/index';\nimport { PdfTreeGridStyle, PdfBorders, PdfTreeGridLayouter } from './pdf-base/index';\nimport { PdfLayoutElement, RectangleF, PdfLayoutFormat, PointF, SizeF } from '@syncfusion/ej2-pdf-export';\n/**\n * PdfTreeGrid Class for EJ2-PDF\n */\nvar PdfTreeGrid = /** @class */ (function (_super) {\n    __extends(PdfTreeGrid, _super);\n    function PdfTreeGrid() {\n        var _this = _super.call(this) || this;\n        _this.treeGridSize = new SizeF(0, 0);\n        _this.treeColumnIndex = 0;\n        _this.allowRowBreakAcrossPages = true;\n        _this.enableHeader = true;\n        _this.isFitToWidth = false;\n        _this.columns = new PdfTreeGridColumnCollection(_this);\n        _this.rows = new PdfTreeGridRowCollection(_this);\n        _this.headers = new PdfTreeGridHeaderCollection(_this);\n        _this.style = new PdfTreeGridStyle();\n        _this.rowHeight = 0;\n        return _this;\n    }\n    Object.defineProperty(PdfTreeGrid.prototype, \"raiseBeginCellDraw\", {\n        //Properties\n        /**\n         * Gets a value indicating whether the `start cell layout event` should be raised.\n         *\n         * @returns {boolean} .\n         * @private\n         */\n        get: function () {\n            // eslint-disable-next-line\n            return (typeof this.beginCellDraw !== 'undefined' && typeof this.beginCellDraw !== null);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGrid.prototype, \"raiseEndCellDraw\", {\n        /**\n         * Gets a value indicating whether the `end cell layout event` should be raised.\n         *\n         * @returns {boolean} .\n         * @private\n         */\n        get: function () {\n            // eslint-disable-next-line\n            return (typeof this.endCellDraw !== 'undefined' && typeof this.endCellDraw !== null);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGrid.prototype, \"size\", {\n        get: function () {\n            if ((this.treeGridSize.width === 0 && this.treeGridSize.height === 0)) {\n                this.treeGridSize = this.calculateTreeGridSize();\n            }\n            return this.treeGridSize;\n        },\n        set: function (value) {\n            this.treeGridSize = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * `Draws` the element on the page with the specified page, 'RectangleF' class and layout format\n     *\n     * @private\n     */\n    /* eslint-disable-next-line */\n    PdfTreeGrid.prototype.draw = function (arg1, arg2, arg3, arg4) {\n        if (arg2 instanceof PointF && typeof arg2.width === 'undefined' && typeof arg3 === 'undefined') {\n            return this.drawHelper(arg1, arg2.x, arg2.y);\n        }\n        else if (typeof arg2 === 'number' && typeof arg3 === 'number' && typeof arg4 === 'undefined') {\n            return this.drawHelper(arg1, arg2, arg3, null);\n        }\n        else if (arg2 instanceof RectangleF && typeof arg2.width !== 'undefined' && typeof arg3 === 'undefined') {\n            return this.drawHelper(arg1, arg2, null);\n        }\n        else if (arg2 instanceof PointF && typeof arg2.width === 'undefined' && arg3 instanceof PdfLayoutFormat) {\n            return this.drawHelper(arg1, arg2.x, arg2.y, arg3);\n        }\n        else if (typeof arg2 === 'number' && typeof arg3 === 'number' && (arg4 instanceof PdfLayoutFormat || arg4 == null)) {\n            var width = (arg1.graphics.clientSize.width - arg2);\n            var layoutRectangle = new RectangleF(arg2, arg3, width, 0);\n            return this.drawHelper(arg1, layoutRectangle, arg4);\n        }\n        else if (arg2 instanceof RectangleF && typeof arg2.width !== 'undefined' && typeof arg3 === 'boolean') {\n            return this.drawHelper(arg1, arg2, null);\n        }\n        else {\n            return this.drawHelper(arg1, arg2, arg3);\n        }\n    };\n    PdfTreeGrid.prototype.measureColumnsWidth = function (bounds) {\n        if (typeof bounds !== 'undefined') {\n            var widths = this.columns.getDefaultWidths(bounds.width - bounds.x);\n            for (var i = 0; i < this.columns.count; i++) {\n                if (this.columns.getColumn(i).width < 0) {\n                    this.columns.getColumn(i).width = widths[i];\n                }\n            }\n        }\n        else {\n            var widths = [];\n            var cellWidth = 0;\n            var totalWidth = 0;\n            var rowLevel = 0;\n            // if(this.headers.count > 0){\n            //     let colCount: number = this.headers.getHeader(0).cells.count;\n            //     for(let i: number = 0; i < colCount; i++){\n            //         let rowCount: number = this.headers.count;\n            //         for(let j: number = 0; j < rowCount; j++){\n            //             let tempWidth: number = this.headers.getHeader(j).cells.getCell(i).width;\n            //             let rowWidth: number = this.initialWidth > 0 ? Math.min(this.initialWidth, tempWidth) :\n            //                 tempWidth;\n            //             cellWidth = Math.max(cellWidth, rowWidth);\n            //         }\n            //         widths.push(cellWidth);\n            //     }\n            // }\n            var colCount = this.columns.count;\n            for (var i = 0; i < colCount; i++) {\n                var rowCount = this.rows.count;\n                for (var j = 0; j < rowCount; j++) {\n                    var tempWidth = this.rows.getRow(j).cells.getCell(i).width;\n                    var rowWidth = this.initialWidth > 0 ? Math.min(this.initialWidth, tempWidth) : tempWidth;\n                    cellWidth = Math.max(cellWidth, rowWidth);\n                    cellWidth = Math.max(this.columns.getColumn(i).width, cellWidth);\n                    if (this.columns.getColumn(i).isTreeColumn) {\n                        rowLevel = Math.max(rowLevel, this.rows.getRow(j).level);\n                    }\n                }\n                if (this.columns.getColumn(i).isTreeColumn) {\n                    widths.push(cellWidth + (rowLevel * 10));\n                }\n                else {\n                    widths.push(cellWidth);\n                }\n                // eslint-disable-next-line\n                totalWidth += cellWidth;\n                cellWidth = 0;\n            }\n            for (var i = 0; i < this.columns.count; i++) {\n                if (this.columns.getColumn(i).width < 0) {\n                    this.columns.getColumn(i).width = widths[i];\n                }\n            }\n        }\n    };\n    PdfTreeGrid.prototype.calculateTreeGridSize = function () {\n        var height = 0;\n        var width = this.columns.width;\n        for (var i = 0; i < this.headers.count; i++) {\n            var row = this.headers.getHeader(i);\n            height += row.height;\n        }\n        for (var i = 0; i < this.rows.count; i++) {\n            var row = this.rows.getRow(i);\n            height += row.height;\n        }\n        return new SizeF(width, height);\n    };\n    PdfTreeGrid.prototype.drawGrid = function (page, x, y, format) {\n        this.initialWidth = page.graphics.clientSize.width;\n        var layout = new RectangleF(0, 0, page.getClientSize().height, 0);\n        return this.draw(page, layout, format);\n    };\n    PdfTreeGrid.prototype.layout = function (param) {\n        if (this.rows.count !== 0) {\n            var style = this.rows.getRow(0).cells.getCell(0).style;\n            if (style.borders.left.width !== 1) {\n                var x = style.borders.left.width / 2;\n                var y = style.borders.top.width / 2;\n                if (param.bounds.x === PdfBorders.default.right.width / 2 &&\n                    param.bounds.y === PdfBorders.default.right.width / 2) {\n                    var newBound = new RectangleF(new PointF(x, y), new SizeF(this.size.width, this.size.height));\n                    param.bounds = newBound;\n                }\n            }\n        }\n        this.setSpan();\n        this.layouter = new PdfTreeGridLayouter(this);\n        var result = this.layouter.layoutInternal(param);\n        return result;\n    };\n    PdfTreeGrid.prototype.onBeginCellDraw = function (args) {\n        if (this.raiseBeginCellDraw) {\n            this.beginCellDraw(this, args);\n        }\n    };\n    PdfTreeGrid.prototype.onEndCellDraw = function (args) {\n        if (this.raiseEndCellDraw) {\n            this.endCellDraw(this, args);\n        }\n    };\n    PdfTreeGrid.prototype.setSpan = function () {\n        var colSpan = 1;\n        var rowSpan = 1;\n        var currentCellIndex = 0;\n        var currentRowIndex = 0;\n        var maxSpan = 0;\n        var rowCount = this.headers.count;\n        for (var i = 0; i < rowCount; i++) {\n            var row = this.headers.getHeader(i);\n            maxSpan = 0;\n            var colCount = row.cells.count;\n            for (var j = 0; j < colCount; j++) {\n                var cell = row.cells.getCell(j);\n                maxSpan = Math.max(maxSpan, cell.rowSpan);\n                //Skip setting span map for already coverted rows/columns.\n                if (!cell.isCellMergeContinue && !cell.isRowMergeContinue && (cell.columnSpan > 1 || cell.rowSpan > 1)) {\n                    if (cell.columnSpan + j > row.cells.count) {\n                        throw new Error('Invalid span specified at row ' + j.toString() + ' column ' + i.toString());\n                    }\n                    if (cell.rowSpan + i > this.headers.count) {\n                        throw new Error('Invalid span specified at Header ' + j.toString() + ' column ' + i.toString());\n                    }\n                    if (cell.columnSpan > 1 && cell.rowSpan > 1) {\n                        colSpan = cell.columnSpan;\n                        rowSpan = cell.rowSpan;\n                        currentCellIndex = j;\n                        currentRowIndex = i;\n                        cell.isCellMergeStart = true;\n                        cell.isRowMergeStart = true;\n                        //Set Column merges for first row\n                        while (colSpan > 1) {\n                            currentCellIndex++;\n                            row.cells.getCell(currentCellIndex).isCellMergeContinue = true;\n                            row.cells.getCell(currentCellIndex).isRowMergeContinue = true;\n                            row.cells.getCell(currentCellIndex).rowSpan = rowSpan;\n                            colSpan--;\n                        }\n                        currentCellIndex = j;\n                        colSpan = cell.columnSpan;\n                        //Set Row Merges and column merges foreach subsequent rows.\n                        while (rowSpan > 1) {\n                            currentRowIndex++;\n                            this.headers.getHeader(currentRowIndex).cells.getCell(j).isRowMergeContinue = true;\n                            this.headers.getHeader(currentRowIndex).cells.getCell(currentCellIndex).isRowMergeContinue = true;\n                            rowSpan--;\n                            while (colSpan > 1) {\n                                currentCellIndex++;\n                                this.headers.getHeader(currentRowIndex).cells.getCell(currentCellIndex).isCellMergeContinue = true;\n                                this.headers.getHeader(currentRowIndex).cells.getCell(currentCellIndex).isRowMergeContinue = true;\n                                colSpan--;\n                            }\n                            colSpan = cell.columnSpan;\n                            currentCellIndex = j;\n                        }\n                    }\n                    else if (cell.columnSpan > 1 && cell.rowSpan === 1) {\n                        colSpan = cell.columnSpan;\n                        currentCellIndex = j;\n                        cell.isCellMergeStart = true;\n                        //Set Column merges.\n                        while (colSpan > 1) {\n                            currentCellIndex++;\n                            row.cells.getCell(currentCellIndex).isCellMergeContinue = true;\n                            colSpan--;\n                        }\n                    }\n                    else if (cell.columnSpan === 1 && cell.rowSpan > 1) {\n                        rowSpan = cell.rowSpan;\n                        currentRowIndex = i;\n                        //Set row Merges.\n                        while (rowSpan > 1) {\n                            currentRowIndex++;\n                            this.headers.getHeader(currentRowIndex).cells.getCell(j).isRowMergeContinue = true;\n                            rowSpan--;\n                        }\n                    }\n                }\n            }\n            row.maximumRowSpan = maxSpan;\n        }\n        colSpan = rowSpan = 1;\n        currentCellIndex = currentRowIndex = 0;\n        rowCount = this.rows.count;\n        for (var i = 0; i < rowCount; i++) {\n            var row = this.rows.getRow(i);\n            var colcount = row.cells.count;\n            for (var j = 0; j < colcount; j++) {\n                var cell = row.cells.getCell(j);\n                //Skip setting span map for already coverted rows/columns.\n                if (!cell.isCellMergeContinue && !cell.isRowMergeContinue && (cell.columnSpan > 1 || cell.rowSpan > 1)) {\n                    if (cell.columnSpan + j > row.cells.count) {\n                        throw new Error('Invalid span specified at row {0} column {1} ' + j.toString());\n                    }\n                    if (cell.rowSpan + i > this.rows.count) {\n                        throw new Error('Invalid span specified at row {0} column {1} ' + j.toString());\n                    }\n                    if (cell.columnSpan > 1 && cell.rowSpan > 1) {\n                        colSpan = cell.columnSpan;\n                        rowSpan = cell.rowSpan;\n                        currentCellIndex = j;\n                        currentRowIndex = i;\n                        cell.isCellMergeStart = true;\n                        cell.isRowMergeStart = true;\n                        //set Column merges for first row.\n                        while (colSpan > 1) {\n                            currentCellIndex++;\n                            row.cells.getCell(currentCellIndex).isCellMergeContinue = true;\n                            colSpan--;\n                        }\n                        currentCellIndex = j;\n                        colSpan = cell.columnSpan;\n                        // Set row merges and column merges for each subsequentt rows.\n                        while (rowSpan > 1) {\n                            currentRowIndex++;\n                            this.rows.getRow(currentRowIndex).cells.getCell(j).isRowMergeContinue = true;\n                            rowSpan--;\n                            while (colSpan > 1) {\n                                currentCellIndex++;\n                                this.rows.getRow(currentRowIndex).cells.getCell(currentCellIndex).isCellMergeContinue = true;\n                                colSpan--;\n                            }\n                            colSpan = cell.columnSpan;\n                            currentCellIndex = j;\n                        }\n                    }\n                    else if (cell.columnSpan > 1 && cell.rowSpan === 1) {\n                        colSpan = cell.columnSpan;\n                        currentCellIndex = j;\n                        cell.isCellMergeStart = true;\n                        //set Column merges.\n                        while (colSpan > 1) {\n                            currentCellIndex++;\n                            row.cells.getCell(currentCellIndex).isCellMergeContinue = true;\n                            colSpan--;\n                        }\n                    }\n                    else if (cell.columnSpan === 1 && cell.rowSpan > 1) {\n                        rowSpan = cell.rowSpan;\n                        currentRowIndex = i;\n                        //set row merges.\n                        while (rowSpan > 1) {\n                            currentRowIndex++;\n                            this.rows.getRow(currentRowIndex).cells.getCell(j).isRowMergeContinue = true;\n                            rowSpan--;\n                        }\n                    }\n                }\n            }\n        }\n    };\n    return PdfTreeGrid;\n}(PdfLayoutElement));\nexport { PdfTreeGrid };\n","import { PdfTreeGrid } from '../pdf-treegrid';\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { RectangleF, PdfTextAlignment, PdfBorderOverlapStyle, PointF, PdfDashStyle, PdfLineCap, PdfSolidBrush, PdfStandardFont } from '@syncfusion/ej2-pdf-export';\nimport { SizeF, PdfFontStyle } from '@syncfusion/ej2-pdf-export';\nimport { PdfStringFormat, PdfStringLayouter } from '@syncfusion/ej2-pdf-export';\n/**\n *\n */\nvar PdfTreeGridCell = /** @class */ (function () {\n    function PdfTreeGridCell(row) {\n        this.cellWidth = 0;\n        this.cellHeight = 0;\n        /** @private */\n        this.finishedDrawingCell = true;\n        if (isNullOrUndefined(row)) {\n            this.rowSpan = 1;\n            this.columnSpan = 1;\n        }\n        else {\n            this.row = row;\n        }\n        this.style = {};\n    }\n    Object.defineProperty(PdfTreeGridCell.prototype, \"height\", {\n        /**\n         * Gets the `height` of the PdfTreeGrid cell.[Read-Only].\n         *\n         * @returns {number} .\n         * @private\n         */\n        get: function () {\n            if (this.cellHeight === 0) {\n                this.cellHeight = this.measureHeight();\n            }\n            return this.cellHeight;\n        },\n        set: function (value) {\n            this.cellHeight = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridCell.prototype, \"width\", {\n        /**\n         * Gets the `width` of the PdfTreeGrid cell.[Read-Only].\n         *\n         * @returns {number} .\n         * @private\n         */\n        get: function () {\n            if (this.cellWidth === 0) {\n                this.cellWidth = this.measureWidth();\n            }\n            return Math.round(this.cellWidth);\n        },\n        set: function (value) {\n            this.cellWidth = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    PdfTreeGridCell.prototype.measureWidth = function () {\n        var width = 0;\n        var layouter = new PdfStringLayouter();\n        if (typeof this.value === 'string') {\n            /* eslint-disable-next-line */\n            var font = new PdfStandardFont(this.row.treegrid.ganttStyle.fontFamily, this.style.fontSize, this.style.fontStyle);\n            /* eslint-disable-next-line */\n            var slr = layouter.layout(this.value, font, this.style.format, new SizeF(Number.MAX_VALUE, Number.MAX_VALUE), false, new SizeF(0, 0));\n            width += slr.actualSize.width;\n            width += (this.style.borders.left.width + this.style.borders.right.width) * 2;\n        }\n        if (typeof this.row.treegrid.style.cellPadding.left !== 'undefined' && this.row.treegrid.style.cellPadding.hasLeftPad) {\n            width += this.row.treegrid.style.cellPadding.left;\n        }\n        if (typeof this.row.treegrid.style.cellPadding.right !== 'undefined' && this.row.treegrid.style.cellPadding.hasRightPad) {\n            width += this.row.treegrid.style.cellPadding.right;\n        }\n        width += this.row.treegrid.style.cellSpacing;\n        return width;\n    };\n    /**\n     * @returns {number} .\n     * @private\n     */\n    /* eslint-disable */\n    PdfTreeGridCell.prototype.measureHeight = function () {\n        var rowHeight = this.row.treegrid.rowHeight;\n        var height = 0;\n        var width = this.calculateWidth();\n        width -= this.row.treegrid.style.cellPadding.right + this.row.treegrid.style.cellPadding.left;\n        width -= this.style.borders.left.width + this.style.borders.right.width;\n        var layouter = new PdfStringLayouter();\n        if (typeof this.value === 'string' || typeof this.remainingString === 'string') {\n            var currentValue = this.value;\n            if (!this.finishedDrawingCell) {\n                currentValue = !(isNullOrUndefined(this.remainingString) || this.remainingString === '') ? this.remainingString : this.value;\n            }\n            /* eslint-disable */\n            var font = new PdfStandardFont(this.row.treegrid.ganttStyle.fontFamily, this.style.fontSize, this.style.fontStyle);\n            /* eslint-disable */\n            var slr = layouter.layout(currentValue, font, this.style.format, new SizeF(width, 0), false, new SizeF(0, 0));\n            height += slr.actualSize.height;\n            height += (this.style.borders.top.width + this.style.borders.bottom.width) * 2;\n        }\n        height += this.row.treegrid.style.cellPadding.top + this.row.treegrid.style.cellPadding.bottom;\n        height += this.row.treegrid.style.cellSpacing;\n        return height > rowHeight ? height : rowHeight;\n    };\n    /* eslint-enable */\n    PdfTreeGridCell.prototype.calculateWidth = function () {\n        var cellIndex = this.row.cells.indexOf(this);\n        var columnSpan = this.columnSpan;\n        var width = 0;\n        for (var i = 0; i < columnSpan; i++) {\n            width += this.row.treegrid.columns.getColumn(cellIndex + i).width;\n        }\n        if (this.row.treegrid.columns.getColumn(cellIndex).isTreeColumn) {\n            width -= (this.row.level * 10);\n        }\n        return width;\n    };\n    /**\n     * `Draws` the specified graphics.\n     *\n     * @param {PdfGraphics} graphics .\n     * @param {RectangleF} bounds .\n     * @param {boolean} cancelSubsequentSpans .\n     * @param {number} leftAdjustment .\n     * @returns {PdfStringLayoutResult} .\n     * @private\n     */\n    PdfTreeGridCell.prototype.draw = function (graphics, bounds, cancelSubsequentSpans, leftAdjustment) {\n        var result = null;\n        var padding = 10;\n        if (cancelSubsequentSpans) {\n            // Cancel all subsequent cell spans, if no space exists.\n            var currentCellIndex = this.row.cells.indexOf(this);\n            for (var i = currentCellIndex + 1; i <= currentCellIndex + this.columnSpan; i++) {\n                this.row.cells.getCell(i).isCellMergeContinue = false;\n                this.row.cells.getCell(i).isRowMergeContinue = false;\n            }\n            this.columnSpan = 1;\n        }\n        // Skip cells which were already covered by span map.\n        if (this.isCellMergeContinue || this.isRowMergeContinue) {\n            if (this.isCellMergeContinue && this.row.treegrid.style.allowHorizontalOverflow) {\n                if ((this.row.rowOverflowIndex > 0 && (this.row.cells.indexOf(this) !== this.row.rowOverflowIndex + 1)) ||\n                    (this.row.rowOverflowIndex === 0 && this.isCellMergeContinue)) {\n                    return result;\n                }\n                else {\n                    return result;\n                }\n            }\n        }\n        //bounds = this.adjustContentLayoutArea(bounds);\n        this.drawCellBackground(graphics, bounds);\n        var textPen = null;\n        var textBrush = new PdfSolidBrush(this.style.fontColor);\n        var font = null;\n        if (this.row.isParentRow) {\n            font = new PdfStandardFont(this.row.treegrid.ganttStyle.fontFamily, this.style.fontSize, PdfFontStyle.Bold);\n        }\n        else {\n            font = new PdfStandardFont(this.row.treegrid.ganttStyle.fontFamily, this.style.fontSize, this.style.fontStyle);\n        }\n        var innerLayoutArea = bounds;\n        if (!this.isHeaderCell) {\n            /* eslint-disable-next-line */\n            innerLayoutArea.x = innerLayoutArea.x;\n            /* eslint-disable-next-line */\n            innerLayoutArea.width = innerLayoutArea.width;\n        }\n        if (innerLayoutArea.height >= graphics.clientSize.height) {\n            // To break row to next page\n            if (this.row.treegrid.allowRowBreakAcrossPages) {\n                innerLayoutArea.height -= innerLayoutArea.y;\n                bounds.height -= bounds.y;\n            }\n            else {\n                innerLayoutArea.height = graphics.clientSize.height;\n                bounds.height = graphics.clientSize.height;\n            }\n        }\n        innerLayoutArea = this.adjustContentLayoutArea(innerLayoutArea);\n        if (typeof this.value === 'string' || typeof this.remainingString === 'string') {\n            var temp = null;\n            if (this.finishedDrawingCell) {\n                temp = (this.remainingString === '') ? this.remainingString : this.value;\n                /* eslint-disable-next-line */\n                graphics.drawString(temp, font, textPen, textBrush, (innerLayoutArea.x + leftAdjustment), innerLayoutArea.y, (innerLayoutArea.width - leftAdjustment - padding), (innerLayoutArea.height - padding), this.style.format);\n            }\n            else {\n                /* eslint-disable-next-line */\n                graphics.drawString(this.remainingString, font, textPen, textBrush, (innerLayoutArea.x + leftAdjustment), innerLayoutArea.y, this.style.format);\n            }\n            result = graphics.stringLayoutResult;\n        }\n        if (this.style.borders != null) {\n            this.drawCellBorder(graphics, bounds);\n        }\n        return result;\n    };\n    /**\n     * Draw the `cell background`.\n     *\n     * @param {PdfGraphics} graphics .\n     * @param {RectangleF} bounds .\n     * @returns {void} .\n     * @private\n     */\n    PdfTreeGridCell.prototype.drawCellBackground = function (graphics, bounds) {\n        var backgroundBrush = new PdfSolidBrush(this.style.backgroundColor);\n        if (backgroundBrush != null) {\n            graphics.save();\n            graphics.drawRectangle(backgroundBrush, bounds.x, bounds.y, bounds.width, bounds.height);\n            graphics.restore();\n        }\n        // if (this.style.backgroundImage != null) {\n        //     let image: PdfImage = this.getBackgroundImage();\n        //     graphics.drawImage(this.style.backgroundImage, bounds.x, bounds.y, bounds.width, bounds.height);\n        // }\n    };\n    /**\n     * `Adjusts the text layout area`.\n     *\n     * @param {RectangleF} bounds .\n     * @returns {RectangleF} .\n     * @private\n     */\n    PdfTreeGridCell.prototype.adjustContentLayoutArea = function (bounds) {\n        //Add Padding value to its Cell Bounds\n        var returnBounds = new RectangleF(new PointF(bounds.x, bounds.y), new SizeF(bounds.width, bounds.height));\n        var cellPadding = this.style.padding;\n        if (this.value instanceof PdfTreeGrid) {\n            var size = this.value.size;\n            if (this.style.format.alignment === PdfTextAlignment.Center) {\n                returnBounds.x += cellPadding.left + (returnBounds.width - size.width) / 2;\n                returnBounds.y += cellPadding.top + (returnBounds.height - size.height) / 2;\n            }\n            else if (this.style.format.alignment === PdfTextAlignment.Left) {\n                returnBounds.x += cellPadding.left;\n                returnBounds.y += cellPadding.top;\n            }\n            else if (this.style.format.alignment === PdfTextAlignment.Right) {\n                returnBounds.x += cellPadding.left + (returnBounds.width - size.width);\n                returnBounds.y += cellPadding.top;\n            }\n        }\n        else {\n            returnBounds.x += cellPadding.left;\n            returnBounds.y += cellPadding.top;\n        }\n        return returnBounds;\n    };\n    /**\n     * @param {PdfGraphics} graphics .\n     * @param {RectangleF} bounds .\n     * @returns {void} .\n     * @private\n     */\n    PdfTreeGridCell.prototype.drawCellBorder = function (graphics, bounds) {\n        if (this.row.treegrid.style.borderOverlapStyle === PdfBorderOverlapStyle.Inside) {\n            bounds.x += this.style.borders.left.width;\n            bounds.y += this.style.borders.top.width;\n            bounds.width -= this.style.borders.right.width;\n            bounds.height -= this.style.borders.bottom.width;\n        }\n        if (this.style.borders.isAll && this.isHeaderCell) {\n            graphics.drawRectangle(this.style.borders.left, bounds.x, bounds.y, bounds.width, bounds.height);\n            graphics.restore();\n            return;\n        }\n        else {\n            var p1 = new PointF(bounds.x, bounds.y + bounds.height);\n            var p2 = new PointF(bounds.x, bounds.y);\n            var pen = this.style.borders.left;\n            if (this.style.borders.left.dashStyle === PdfDashStyle.Solid) {\n                pen.lineCap = PdfLineCap.Square;\n            }\n            graphics.drawLine(pen, p1, p2);\n            graphics.restore();\n            p1 = new PointF(bounds.x + bounds.width, bounds.y);\n            p2 = new PointF(bounds.x + bounds.width, bounds.y + bounds.height);\n            pen = this.style.borders.right;\n            if ((bounds.x + bounds.width) > (graphics.clientSize.width - (pen.width / 2))) {\n                p1 = new PointF(graphics.clientSize.width - (pen.width / 2), bounds.y);\n                p2 = new PointF(graphics.clientSize.width - (pen.width / 2), bounds.y + bounds.height);\n            }\n            if (this.style.borders.right.dashStyle === PdfDashStyle.Solid) {\n                pen.lineCap = PdfLineCap.Square;\n            }\n            graphics.drawLine(pen, p1, p2);\n            graphics.restore();\n            p1 = new PointF(bounds.x, bounds.y);\n            p2 = new PointF(bounds.x + bounds.width, bounds.y);\n            pen = this.style.borders.top;\n            if (this.style.borders.top.dashStyle === PdfDashStyle.Solid) {\n                pen.lineCap = PdfLineCap.Square;\n            }\n            graphics.drawLine(pen, p1, p2);\n            graphics.restore();\n            p1 = new PointF(bounds.x + bounds.width, bounds.y + bounds.height);\n            p2 = new PointF(bounds.x, bounds.y + bounds.height);\n            pen = this.style.borders.bottom;\n            if (bounds.y + bounds.height > graphics.clientSize.height - pen.width / 2) {\n                p1 = new PointF(bounds.x + bounds.width, graphics.clientSize.height - pen.width / 2);\n                p2 = new PointF(bounds.x, graphics.clientSize.height - pen.width / 2);\n            }\n            if (this.style.borders.bottom.dashStyle === PdfDashStyle.Solid) {\n                pen.lineCap = PdfLineCap.Square;\n            }\n            graphics.drawLine(pen, p1, p2);\n            graphics.restore();\n        }\n    };\n    return PdfTreeGridCell;\n}());\nexport { PdfTreeGridCell };\n/**\n * `PdfTreeGridCellCollection` class provides access to an ordered,\n * strongly typed collection of 'PdfTreeGridCell' objects.\n *\n * @private\n */\nvar PdfTreeGridCellCollection = /** @class */ (function () {\n    //Constructor\n    /**\n     * Initializes a new instance of the `PdfGridCellCollection` class with the row.\n     *\n     * @param { PdfTreeGridRow} row .\n     * @private\n     */\n    function PdfTreeGridCellCollection(row) {\n        this.treegridRow = row;\n        this.cells = [];\n    }\n    //Properties\n    /**\n     * Gets the current `cell`.\n     *\n     * @param {number} index .\n     * @returns {PdfTreeGridCell} .\n     * @private\n     */\n    PdfTreeGridCellCollection.prototype.getCell = function (index) {\n        if (index < 0 || index >= this.count) {\n            throw new Error('IndexOutOfRangeException');\n        }\n        return this.cells[index];\n    };\n    Object.defineProperty(PdfTreeGridCellCollection.prototype, \"count\", {\n        /**\n         * Gets the cells `count`.[Read-Only].\n         *\n         * @returns {number} .\n         * @private\n         */\n        get: function () {\n            return this.cells.length;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    //Implementation\n    /**\n     * `Adds` this instance.\n     *\n     * @param {PdfTreeGridCell} cell .\n     * @returns {PdfTreeGridCell | void} .\n     * @private\n     */\n    PdfTreeGridCellCollection.prototype.add = function (cell) {\n        if (typeof cell === 'undefined') {\n            var tempcell = new PdfTreeGridCell();\n            this.add(tempcell);\n            return cell;\n        }\n        else {\n            cell.row = this.treegridRow;\n            this.cells.push(cell);\n        }\n    };\n    /**\n     * Returns the `index of` a particular cell in the collection.\n     *\n     * @param {PdfTreeGridCell} cell .\n     * @returns {number} .\n     * @private\n     */\n    PdfTreeGridCellCollection.prototype.indexOf = function (cell) {\n        return this.cells.indexOf(cell);\n    };\n    return PdfTreeGridCellCollection;\n}());\nexport { PdfTreeGridCellCollection };\n/**\n *\n */\nvar PdfTreeGridRow = /** @class */ (function () {\n    function PdfTreeGridRow(treegrid) {\n        this.treegridRowOverflowIndex = 0;\n        this.rowHeight = 0;\n        this.rowWidth = 0;\n        /* eslint-disable-next-line */\n        this._isParentRow = false;\n        this.intendLevel = 0;\n        this.pdfTreeGrid = treegrid;\n    }\n    Object.defineProperty(PdfTreeGridRow.prototype, \"cells\", {\n        get: function () {\n            if (isNullOrUndefined(this.treegridCells)) {\n                this.treegridCells = new PdfTreeGridCellCollection(this);\n            }\n            return this.treegridCells;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridRow.prototype, \"isParentRow\", {\n        get: function () {\n            return this._isParentRow;\n        },\n        set: function (value) {\n            this._isParentRow = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridRow.prototype, \"treegrid\", {\n        get: function () {\n            return this.pdfTreeGrid;\n        },\n        set: function (value) {\n            this.pdfTreeGrid = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridRow.prototype, \"rowBreakHeight\", {\n        /**\n         * `Height` of the row yet to be drawn after split.\n         *\n         * @returns {number} .\n         * @private\n         */\n        get: function () {\n            if (typeof this.treegridRowBreakHeight === 'undefined') {\n                this.treegridRowBreakHeight = 0;\n            }\n            return this.treegridRowBreakHeight;\n        },\n        set: function (value) {\n            this.treegridRowBreakHeight = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridRow.prototype, \"rowOverflowIndex\", {\n        /**\n         * `over flow index` of the row.\n         *\n         * @returns {number} .\n         * @private\n         */\n        get: function () {\n            return this.treegridRowOverflowIndex;\n        },\n        set: function (value) {\n            this.treegridRowOverflowIndex = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridRow.prototype, \"level\", {\n        get: function () {\n            return this.intendLevel;\n        },\n        set: function (value) {\n            this.intendLevel = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridRow.prototype, \"height\", {\n        /**\n         * Gets or sets the `height` of the row.\n         *\n         * @returns {number} .\n         * @private\n         */\n        get: function () {\n            if (this.rowHeight === 0) {\n                this.rowHeight = this.measureHeight();\n            }\n            return this.rowHeight;\n        },\n        set: function (value) {\n            this.rowHeight = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridRow.prototype, \"width\", {\n        /**\n         * Gets or sets the `width` of the row.\n         *\n         * @returns {number} .\n         * @private\n         */\n        get: function () {\n            if (this.rowWidth === 0) {\n                this.rowWidth = this.measureWidth();\n            }\n            return this.rowWidth;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridRow.prototype, \"rowIndex\", {\n        get: function () {\n            return this.treegrid.rows.rowCollection.indexOf(this);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    PdfTreeGridRow.prototype.measureWidth = function () {\n        var columns = this.treegrid.columns.columns;\n        var totalWidth = 0;\n        for (var i = 0; i < columns.length; i++) {\n            var column = columns[i];\n            totalWidth += column.width;\n        }\n        return totalWidth;\n    };\n    PdfTreeGridRow.prototype.measureHeight = function () {\n        var rowHeight = this.cells.getCell(0).height;\n        for (var i = 0; i < this.cells.count; i++) {\n            var cell = this.cells.getCell(i);\n            if (cell.columnSpan === 1 || cell.rowSpan === 1) {\n                rowHeight = Math.max(rowHeight, cell.height);\n            }\n            else {\n                rowHeight = Math.min(rowHeight, cell.height);\n            }\n            cell.height = rowHeight;\n        }\n        return rowHeight;\n    };\n    return PdfTreeGridRow;\n}());\nexport { PdfTreeGridRow };\n/**\n * `PdfTreeGridRowCollection` class provides access to an ordered, strongly typed collection of 'PdfTreeGridRow' objects.\n *\n * @private\n */\nvar PdfTreeGridRowCollection = /** @class */ (function () {\n    // Constructor\n    /**\n     * Initializes a new instance of the `PdfTreeGridRowCollection` class with the parent grid.\n     *\n     * @param {PdfTreeGrid} treegrid .\n     * @private\n     */\n    function PdfTreeGridRowCollection(treegrid) {\n        this.rows = [];\n        this.treegrid = treegrid;\n    }\n    Object.defineProperty(PdfTreeGridRowCollection.prototype, \"count\", {\n        //Properties\n        /**\n         * Gets the number of header in the `PdfTreeGrid`.[Read-Only].\n         *\n         * @returns {number} .\n         * @private\n         */\n        get: function () {\n            return this.rows.length;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridRowCollection.prototype, \"rowCollection\", {\n        //Implementation\n        /**\n         * Return the row collection of the `treegrid`.\n         *\n         * @returns {PdfTreeGridRow[]} .\n         * @private\n         */\n        get: function () {\n            return this.rows;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    PdfTreeGridRowCollection.prototype.addRow = function (row) {\n        if (typeof row === 'undefined') {\n            var row_1 = new PdfTreeGridRow(this.treegrid);\n            this.addRow(row_1);\n            return row_1;\n        }\n        else {\n            if (row.cells.count === 0) {\n                for (var i = 0; i < this.treegrid.columns.count; i++) {\n                    row.cells.add(new PdfTreeGridCell());\n                }\n            }\n            this.rows.push(row);\n        }\n    };\n    /**\n     * Return the row by index.\n     *\n     * @param {number} index .\n     * @returns {PdfTreeGridRow} .\n     * @private\n     */\n    PdfTreeGridRowCollection.prototype.getRow = function (index) {\n        return this.rows[index];\n    };\n    return PdfTreeGridRowCollection;\n}());\nexport { PdfTreeGridRowCollection };\n/**\n * `PdfTreeGridHeaderCollection` class provides customization of the settings for the header.\n *\n * @private\n */\nvar PdfTreeGridHeaderCollection = /** @class */ (function () {\n    //constructor\n    /**\n     * Initializes a new instance of the `PdfTreeGridHeaderCollection` class with the parent grid.\n     *\n     * @param {PdfTreeGrid} treegrid .\n     * @private\n     */\n    function PdfTreeGridHeaderCollection(treegrid) {\n        /**\n         * The array to store the `rows` of the grid header.\n         *\n         * @returns {PdfTreeGridRow[]} .\n         * @private\n         */\n        this.rows = [];\n        this.treegrid = treegrid;\n        this.rows = [];\n    }\n    //Properties\n    /**\n     * Gets a 'PdfTreeGridRow' object that represents the `header` row in a 'PdfGridHeaderCollection' control.[Read-Only].\n     *\n     * @param {number} index .\n     * @returns {PdfTreeGridRow} .\n     * @private\n     */\n    PdfTreeGridHeaderCollection.prototype.getHeader = function (index) {\n        return (this.rows[index]);\n    };\n    Object.defineProperty(PdfTreeGridHeaderCollection.prototype, \"count\", {\n        /**\n         * Gets the `number of header` in the 'PdfGrid'.[Read-Only]\n         *\n         * @returns {number} .\n         * @private\n         */\n        get: function () {\n            return this.rows.length;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    //Implementation\n    /**\n     * `Adds` the specified row.\n     *\n     * @param {PdfTreeGridRow} row .\n     * @returns {void} .\n     * @private\n     */\n    PdfTreeGridHeaderCollection.prototype.add = function (row) {\n        this.rows.push(row);\n    };\n    PdfTreeGridHeaderCollection.prototype.indexOf = function (row) {\n        return this.rows.indexOf(row);\n    };\n    return PdfTreeGridHeaderCollection;\n}());\nexport { PdfTreeGridHeaderCollection };\nvar PdfTreeGridColumn = /** @class */ (function () {\n    function PdfTreeGridColumn(treegrid) {\n        this.columnWidth = 0;\n        this.treeColumnIndex = false;\n        this._headerText = '';\n        this._field = '';\n        this.treegrid = treegrid;\n    }\n    Object.defineProperty(PdfTreeGridColumn.prototype, \"headerText\", {\n        get: function () {\n            return this._headerText;\n        },\n        set: function (value) {\n            this._headerText = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridColumn.prototype, \"field\", {\n        get: function () {\n            return this._field;\n        },\n        set: function (value) {\n            this._field = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridColumn.prototype, \"width\", {\n        get: function () {\n            return this.columnWidth;\n        },\n        set: function (value) {\n            this.columnWidth = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridColumn.prototype, \"isTreeColumn\", {\n        get: function () {\n            return this.treeColumnIndex;\n        },\n        set: function (value) {\n            this.treeColumnIndex = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridColumn.prototype, \"format\", {\n        /**\n         * Gets or sets the information about the text `formatting`.\n         *\n         * @returns {PdfStringFormat} .\n         * @private\n         */\n        get: function () {\n            if (this.stringFormat == null) {\n                this.stringFormat = new PdfStringFormat(); //GetDefaultFormat();\n            }\n            return this.stringFormat;\n        },\n        set: function (value) {\n            this.stringFormat = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return PdfTreeGridColumn;\n}());\nexport { PdfTreeGridColumn };\n/**\n * `PdfTreeGridColumnCollection` class provides access to an ordered,\n * strongly typed collection of 'PdfTreeGridColumn' objects.\n *\n * @private\n */\nvar PdfTreeGridColumnCollection = /** @class */ (function () {\n    //properties\n    //Constructors\n    /**\n     * Initializes a new instance of the `PdfTreeGridColumnCollection` class with the parent grid.\n     *\n     * @param { PdfTreeGrid} treegrid .\n     * @private\n     */\n    function PdfTreeGridColumnCollection(treegrid) {\n        /**\n         * @private\n         */\n        this.internalColumns = [];\n        /**\n         * @private\n         */\n        this.columnWidth = 0;\n        this.treegrid = treegrid;\n        this.internalColumns = [];\n    }\n    //Implementation\n    /**\n     * `Add` a new column to the 'PdfGrid'.\n     *\n     * @param {number} count .\n     * @returns {void} .\n     * @private\n     */\n    PdfTreeGridColumnCollection.prototype.add = function (count) {\n        // public add(column : PdfGridColumn) : void\n        // public add(arg : number|PdfGridColumn) : void {\n        // if (typeof arg === 'number') {\n        for (var i = 0; i < count; i++) {\n            this.internalColumns.push(new PdfTreeGridColumn(this.treegrid));\n            for (var index = 0; index < this.treegrid.rows.count; index++) {\n                var row = this.treegrid.rows.getRow(index);\n                var cell = new PdfTreeGridCell();\n                cell.value = '';\n                row.cells.add(cell);\n            }\n        }\n        // } else {\n        //     let column : PdfGridColumn = new PdfGridColumn(this.grid);\n        //     this.columns.push(column);\n        //     return column;\n        // }\n    };\n    Object.defineProperty(PdfTreeGridColumnCollection.prototype, \"count\", {\n        /**\n         * Gets the `number of columns` in the 'PdfGrid'.[Read-Only].\n         *\n         * @returns {number} .\n         * @private\n         */\n        get: function () {\n            return this.internalColumns.length;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridColumnCollection.prototype, \"width\", {\n        /**\n         * Gets the `widths`.\n         *\n         * @returns {number} .\n         * @private\n         */\n        get: function () {\n            if (this.columnWidth === 0) {\n                this.columnWidth = this.measureColumnsWidth();\n            }\n            return this.columnWidth;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridColumnCollection.prototype, \"columns\", {\n        /**\n         * Gets the `array of PdfGridColumn`.[Read-Only]\n         *\n         * @returns {PdfTreeGridColumn[]} .\n         * @private\n         */\n        get: function () {\n            return this.internalColumns;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * Gets the `PdfTreeGridColumn` from the specified index.[Read-Only]\n     *\n     * @param {number} index .\n     * @returns {PdfTreeGridColumn} .\n     * @private\n     */\n    PdfTreeGridColumnCollection.prototype.getColumn = function (index) {\n        if (index >= 0 && index <= this.columns.length) {\n            return this.columns[index];\n        }\n        else {\n            throw Error('can not get the column from the index: ' + index);\n        }\n    };\n    //Implementation\n    /**\n     * `Calculates the column widths`.\n     *\n     * @returns {number} .\n     * @private\n     */\n    PdfTreeGridColumnCollection.prototype.measureColumnsWidth = function () {\n        var totalWidth = 0;\n        this.treegrid.measureColumnsWidth();\n        for (var i = 0, count = this.internalColumns.length; i < count; i++) {\n            totalWidth += this.internalColumns[i].width;\n        }\n        return totalWidth;\n    };\n    /**\n     * Gets the `widths of the columns`.\n     *\n     * @param {number} totalWidth .\n     * @returns {number} .\n     * @private\n     */\n    PdfTreeGridColumnCollection.prototype.getDefaultWidths = function (totalWidth) {\n        var widths = [];\n        var subFactor = this.count;\n        for (var i = 0; i < this.count; i++) {\n            widths[i] = this.internalColumns[i].width;\n            if (this.internalColumns[i].width > 0) {\n                totalWidth -= this.internalColumns[i].width;\n                subFactor--;\n            }\n            else {\n                widths[i] = 0;\n            }\n        }\n        for (var i = 0; i < this.count; i++) {\n            var width = totalWidth / subFactor;\n            if (widths[i] <= 0) {\n                widths[i] = width;\n            }\n        }\n        return widths;\n    };\n    return PdfTreeGridColumnCollection;\n}());\nexport { PdfTreeGridColumnCollection };\n","import { PdfFontFamily } from '@syncfusion/ej2-pdf-export';\nimport { PdfStringFormat, PdfPageCountField, PdfPageNumberField } from '@syncfusion/ej2-pdf-export';\nimport { PdfPageTemplateElement, RectangleF, PdfCompositeField, PointF } from '@syncfusion/ej2-pdf-export';\nimport { PdfVerticalAlignment, PdfTextAlignment, PdfStandardFont } from '@syncfusion/ej2-pdf-export';\nimport { PdfFontStyle, PdfColor, PdfPen, PdfSolidBrush } from '@syncfusion/ej2-pdf-export';\nimport { PdfBorders, PdfPaddings } from './pdf-base/index';\nimport { isNullOrUndefined, Internationalization, getValue, extend } from '@syncfusion/ej2-base';\nimport { getForeignData, ValueFormatter } from '@syncfusion/ej2-grids';\nimport { pixelToPoint, isScheduledTask } from '../base/utils';\n/**\n * @hidden\n * `ExportHelper` for `PdfExport` & `ExcelExport`\n */\nvar ExportHelper = /** @class */ (function () {\n    function ExportHelper(parent) {\n        this.parent = parent;\n    }\n    /**\n     * @param {IGanttData[]} data .\n     * @param {PdfGantt} gantt .\n     * @param {PdfExportProperties} props .\n     * @returns {void} .\n     * @private\n     */\n    ExportHelper.prototype.processGridExport = function (data, gantt, props) {\n        this.flatData = data;\n        this.gantt = gantt;\n        this.exportValueFormatter = new ExportValueFormatter(this.parent.locale);\n        this.exportProps = props;\n        this.rowIndex = 0;\n        this.colIndex = 0;\n        this.columns = this.parent.treeGrid.columns;\n        this.gantt.treeColumnIndex = this.parent.treeColumnIndex;\n        this.gantt.rowHeight = pixelToPoint(this.parent.rowHeight);\n        this.gantt.style.cellPadding.left = 0;\n        this.gantt.style.cellPadding.right = 0;\n        this.ganttStyle = this.gantt.ganttStyle;\n        this.gantt.borderColor = this.ganttStyle.chartGridLineColor;\n        this.processHeaderContent();\n        this.processGanttContent();\n        this.processTimeline();\n        this.processTaskbar();\n        this.processPredecessor();\n    };\n    ExportHelper.prototype.processHeaderContent = function () {\n        var _this = this;\n        this.rowIndex++;\n        this.row = this.gantt.rows.addRow();\n        var index = 0;\n        this.columns.forEach(function (column) {\n            if (_this.isColumnVisible(column)) {\n                _this.processColumnHeader(column, index);\n                index++;\n            }\n        });\n    };\n    ExportHelper.prototype.processColumnHeader = function (column, index) {\n        this.gantt.columns.add(1);\n        var pdfColumn = this.gantt.columns.getColumn(index);\n        if (this.parent.treeColumnIndex === index) {\n            pdfColumn.isTreeColumn = true;\n        }\n        var width = parseInt(column.width, 10);\n        pdfColumn.width = pixelToPoint(width);\n        this.totalColumnWidth += pdfColumn.width;\n        pdfColumn.headerText = column.headerText;\n        pdfColumn.field = column.field;\n        var cell = this.row.cells.getCell(index);\n        cell.value = column.headerText;\n        cell.isHeaderCell = true;\n        var treeGridHeaderHeight = this.parent.timelineModule.isSingleTier ? 45 : 60;\n        this.row.height = pixelToPoint(treeGridHeaderHeight);\n        this.copyStyles(this.ganttStyle.columnHeader, cell, false);\n        if (column.headerTextAlign) {\n            cell.style.format.alignment = PdfTextAlignment[column.headerTextAlign];\n        }\n        var args = {\n            cell: cell,\n            style: cell.style,\n            value: cell.value,\n            column: column\n        };\n        if (this.parent.pdfColumnHeaderQueryCellInfo) {\n            this.parent.trigger('pdfColumnHeaderQueryCellInfo', args);\n        }\n        cell.value = args.value;\n    };\n    ExportHelper.prototype.isColumnVisible = function (column) {\n        var visibleColumn = column.visible || this.exportProps.includeHiddenColumn;\n        var templateColumn = !isNullOrUndefined(column.template) ? false : true;\n        return (visibleColumn && templateColumn);\n    };\n    ExportHelper.prototype.processGanttContent = function () {\n        var _this = this;\n        if (this.flatData.length === 0) {\n            this.renderEmptyGantt();\n        }\n        else {\n            this.flatData.forEach(function (data) {\n                _this.row = _this.gantt.rows.addRow();\n                if (data.hasChildRecords) {\n                    _this.gantt.rows.getRow(_this.rowIndex).isParentRow = true;\n                    _this.processRecordRow(data);\n                }\n                else {\n                    _this.processRecordRow(data);\n                }\n                _this.rowIndex++;\n            });\n        }\n    };\n    /**\n     * Method for processing the timeline details\n     *\n     * @returns {void} .\n     */\n    ExportHelper.prototype.processTimeline = function () {\n        var timelineSettings = this.parent.timelineModule;\n        this.gantt.chartHeader.topTierHeight = this.gantt.chartHeader.bottomTierHeight\n            = (this.parent.timelineModule.isSingleTier ? 45 : 60 / 2);\n        this.gantt.chartHeader.topTierCellWidth = timelineSettings.topTierCellWidth;\n        this.gantt.chartHeader.bottomTierCellWidth = timelineSettings.bottomTierCellWidth;\n        this.gantt.chartHeader.topTier = extend([], [], timelineSettings.topTierCollection, true);\n        this.gantt.chartHeader.bottomTier = extend([], [], timelineSettings.bottomTierCollection, true);\n        this.gantt.chartHeader.width = timelineSettings.totalTimelineWidth;\n        this.gantt.chartHeader.height = this.gantt.rows.getRow(0).height;\n        this.gantt.timelineStartDate = new Date(timelineSettings.timelineStartDate.getTime());\n    };\n    /**\n     * Method for create the predecessor collection for rendering\n     *\n     * @returns {void} .\n     */\n    ExportHelper.prototype.processPredecessor = function () {\n        var _this = this;\n        if (isNullOrUndefined(this.exportProps.showPredecessorLines) || this.exportProps.showPredecessorLines) {\n            this.parent.pdfExportModule.isPdfExport = true;\n            this.parent.predecessorModule.createConnectorLinesCollection();\n            this.parent.updatedConnectorLineCollection.forEach(function (data) {\n                var predecessor = _this.gantt.predecessor.add();\n                predecessor.parentLeft = data.parentLeft;\n                predecessor.childLeft = data.childLeft;\n                predecessor.parentWidth = data.parentWidth;\n                predecessor.childWidth = data.childWidth;\n                predecessor.parentIndex = data.parentIndex;\n                predecessor.childIndex = data.childIndex;\n                predecessor.rowHeight = data.rowHeight;\n                predecessor.type = data.type;\n                predecessor.milestoneParent = data.milestoneParent;\n                predecessor.milestoneChild = data.milestoneChild;\n                predecessor.lineWidth = _this.parent.connectorLineWidth > 5 ? pixelToPoint(5) : pixelToPoint(_this.parent.connectorLineWidth);\n                predecessor.connectorLineColor = _this.ganttStyle.connectorLineColor;\n                _this.gantt.predecessorCollection.push(predecessor);\n            });\n            this.parent.pdfExportModule.isPdfExport = false;\n        }\n    };\n    ExportHelper.prototype.processRecordRow = function (data) {\n        var _this = this;\n        this.colIndex = 0;\n        this.row.level = data.level;\n        this.columns.forEach(function (column) {\n            if (_this.isColumnVisible(column)) {\n                _this.processRecordCell(data, column, _this.row);\n                _this.colIndex++;\n            }\n        });\n    };\n    ExportHelper.prototype.processRecordCell = function (data, column, row) {\n        var cell = row.cells.getCell(this.colIndex);\n        var taskFields = this.parent.taskFields;\n        var ganttProps = data.ganttProperties;\n        if (column.editType === 'datepickeredit' || column.editType === 'datetimepickeredit') {\n            cell.value = this.parent.getFormatedDate(data[column.field], this.parent.getDateFormat());\n        }\n        else if (column.field === taskFields.duration) {\n            cell.value = this.parent.getDurationString(ganttProps.duration, ganttProps.durationUnit);\n        }\n        else if (column.field === taskFields.resourceInfo) {\n            cell.value = ganttProps.resourceNames;\n        }\n        else if (column.field === taskFields.work) {\n            cell.value = this.parent.getWorkString(ganttProps.work, ganttProps.workUnit);\n        }\n        else {\n            cell.value = !isNullOrUndefined(data[column.field]) ? data[column.field].toString() : '';\n        }\n        cell.isHeaderCell = false;\n        cell.style.padding = new PdfPaddings();\n        this.copyStyles(this.ganttStyle.cell, cell, row.isParentRow);\n        if (this.colIndex !== this.parent.treeColumnIndex) {\n            cell.style.format.alignment = PdfTextAlignment[column.textAlign];\n        }\n        else {\n            cell.style.format.paragraphIndent = cell.row.level * 10;\n        }\n        if (this.parent.pdfQueryCellInfo != null) {\n            var args = {\n                data: data,\n                value: cell.value,\n                column: column,\n                style: cell.style,\n                cell: cell\n            };\n            args.value = this.exportValueFormatter.formatCellValue(args);\n            if (this.parent.pdfQueryCellInfo) {\n                this.parent.trigger('pdfQueryCellInfo', args);\n            }\n            cell.value = args.value;\n        }\n    };\n    /**\n     * Method for create the taskbar collection for rendering\n     *\n     * @returns {void} .\n     */\n    ExportHelper.prototype.processTaskbar = function () {\n        var _this = this;\n        this.flatData.forEach(function (data) {\n            var taskbar = _this.gantt.taskbar.add();\n            var ganttProp = data.ganttProperties;\n            taskbar.left = ganttProp.left;\n            taskbar.width = ganttProp.width;\n            if (taskbar.left < 0) {\n                taskbar.width = taskbar.width + taskbar.left;\n                taskbar.left = 0;\n            }\n            taskbar.progress = ganttProp.progress;\n            taskbar.isScheduledTask = isScheduledTask(ganttProp);\n            if (isScheduledTask) {\n                if (isNullOrUndefined(ganttProp.endDate) && isNullOrUndefined(ganttProp.duration)) {\n                    taskbar.unscheduledTaskBy = 'startDate';\n                }\n                else if (isNullOrUndefined(ganttProp.startDate) && isNullOrUndefined(ganttProp.duration)) {\n                    taskbar.unscheduledTaskBy = 'endDate';\n                }\n                else {\n                    taskbar.unscheduledTaskBy = 'duration';\n                    taskbar.unscheduleStarteDate = _this.parent.dateValidationModule.getValidStartDate(data.ganttProperties);\n                    taskbar.unscheduleEndDate = _this.parent.dateValidationModule.getValidEndDate(data.ganttProperties);\n                }\n            }\n            else {\n                taskbar.unscheduleStarteDate = null;\n                taskbar.unscheduleEndDate = null;\n            }\n            taskbar.startDate = ganttProp.startDate;\n            taskbar.endDate = ganttProp.endDate;\n            taskbar.height = _this.parent.chartRowsModule.taskBarHeight;\n            taskbar.isMilestone = ganttProp.isMilestone;\n            taskbar.milestoneColor = new PdfColor(_this.ganttStyle.taskbar.milestoneColor);\n            taskbar.isParentTask = data.hasChildRecords;\n            if (ganttProp.isMilestone) {\n                taskbar.height = ganttProp.width;\n            }\n            if (data[_this.parent.labelSettings.leftLabel]) {\n                taskbar.leftTaskLabel.value = data[_this.parent.labelSettings.leftLabel].toString();\n            }\n            if (data[_this.parent.labelSettings.rightLabel]) {\n                taskbar.rightTaskLabel.value = data[_this.parent.labelSettings.rightLabel].toString();\n            }\n            var reduceLeft = ganttProp.isMilestone ? Math.floor(_this.parent.chartRowsModule.taskBarHeight / 2) + 33 : 33; // 33 indicates default timeline cell width\n            taskbar.rightTaskLabel.left = ganttProp.left + ganttProp.width + reduceLeft; // right label left value\n            taskbar.fontFamily = _this.ganttStyle.fontFamily;\n            taskbar.progressWidth = ganttProp.progressWidth;\n            taskbar.labelColor = new PdfColor(_this.ganttStyle.label.fontColor);\n            taskbar.progressFontColor = new PdfColor(_this.ganttStyle.taskbar.progressFontColor);\n            if (taskbar.isParentTask) {\n                taskbar.taskColor = new PdfColor(_this.ganttStyle.taskbar.parentTaskColor);\n                taskbar.taskBorderColor = new PdfColor(_this.ganttStyle.taskbar.parentTaskBorderColor);\n                taskbar.progressColor = new PdfColor(_this.ganttStyle.taskbar.parentProgressColor);\n            }\n            else {\n                taskbar.taskColor = new PdfColor(_this.ganttStyle.taskbar.taskColor);\n                taskbar.taskBorderColor = new PdfColor(_this.ganttStyle.taskbar.taskBorderColor);\n                taskbar.progressColor = new PdfColor(_this.ganttStyle.taskbar.progressColor);\n            }\n            taskbar.gridLineColor = new PdfColor(_this.ganttStyle.chartGridLineColor);\n            _this.gantt.taskbarCollection.push(taskbar);\n            var taskStyle = {};\n            taskStyle.progressFontColor = taskbar.progressFontColor;\n            taskStyle.taskColor = taskbar.taskColor;\n            taskStyle.taskBorderColor = taskbar.taskBorderColor;\n            taskStyle.progressColor = taskbar.progressColor;\n            taskStyle.milestoneColor = taskbar.milestoneColor;\n            var args = {\n                taskbar: taskStyle,\n                data: data\n            };\n            if (_this.parent.pdfQueryTaskbarInfo) {\n                _this.parent.trigger('pdfQueryTaskbarInfo', args);\n                taskbar.progressFontColor = args.taskbar.progressFontColor;\n                taskbar.taskColor = args.taskbar.taskColor;\n                taskbar.taskBorderColor = args.taskbar.taskBorderColor;\n                taskbar.progressColor = args.taskbar.progressColor;\n                taskbar.milestoneColor = args.taskbar.milestoneColor;\n            }\n        });\n    };\n    /**\n     * set text alignment of each columns in exporting grid\n     *\n     * @param {string} textAlign .\n     * @param {PdfStringFormat} format .\n     * @returns {PdfStringFormat} .\n     * @private\n     */\n    ExportHelper.prototype.getHorizontalAlignment = function (textAlign, format) {\n        if (format === undefined) {\n            format = new PdfStringFormat();\n        }\n        switch (textAlign) {\n            case 'Right':\n                format.alignment = PdfTextAlignment.Right;\n                break;\n            case 'Center':\n                format.alignment = PdfTextAlignment.Center;\n                break;\n            case 'Justify':\n                format.alignment = PdfTextAlignment.Justify;\n                break;\n            case 'Left':\n                format.alignment = PdfTextAlignment.Left;\n                break;\n        }\n        return format;\n    };\n    /**\n     * set vertical alignment of each columns in exporting grid\n     *\n     * @param {string} verticalAlign .\n     * @param {PdfStringFormat} format .\n     * @param {string} textAlign .\n     * @returns {PdfStringFormat} .\n     * @private\n     */\n    ExportHelper.prototype.getVerticalAlignment = function (verticalAlign, format, textAlign) {\n        if (format === undefined) {\n            format = new PdfStringFormat();\n            format = this.getHorizontalAlignment(textAlign, format);\n        }\n        switch (verticalAlign) {\n            case 'Bottom':\n                format.lineAlignment = PdfVerticalAlignment.Bottom;\n                break;\n            case 'Middle':\n                format.lineAlignment = PdfVerticalAlignment.Middle;\n                break;\n            case 'Top':\n                format.lineAlignment = PdfVerticalAlignment.Top;\n                break;\n        }\n        return format;\n    };\n    ExportHelper.prototype.getFontFamily = function (fontFamily) {\n        switch (fontFamily) {\n            case 'TimesRoman':\n                return 2;\n            case 'Courier':\n                return 1;\n            case 'Symbol':\n                return 3;\n            case 'ZapfDingbats':\n                return 4;\n            default:\n                return 0;\n        }\n    };\n    /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n    ExportHelper.prototype.getFont = function (content) {\n        if (content.font) {\n            return content.font;\n        }\n        var fontSize = (!isNullOrUndefined(content.style.fontSize)) ? (content.style.fontSize * 0.75) : 9.75;\n        var fontFamily = (!isNullOrUndefined(content.style.fontFamily)) ?\n            (this.getFontFamily(content.style.fontFamily)) : PdfFontFamily.TimesRoman;\n        var fontStyle = PdfFontStyle.Regular;\n        if (!isNullOrUndefined(content.style.bold) && content.style.bold) {\n            fontStyle |= PdfFontStyle.Bold;\n        }\n        if (!isNullOrUndefined(content.style.italic) && content.style.italic) {\n            fontStyle |= PdfFontStyle.Italic;\n        }\n        if (!isNullOrUndefined(content.style.underline) && content.style.underline) {\n            fontStyle |= PdfFontStyle.Underline;\n        }\n        if (!isNullOrUndefined(content.style.strikeout) && content.style.strikeout) {\n            fontStyle |= PdfFontStyle.Strikeout;\n        }\n        return new PdfStandardFont(fontFamily, fontSize, fontStyle);\n    };\n    ExportHelper.prototype.renderEmptyGantt = function () {\n        var row = this.gantt.rows.addRow();\n        row.cells.getCell(0).isHeaderCell = false;\n        row.height = pixelToPoint(this.parent.rowHeight);\n        this.copyStyles(this.ganttStyle.columnHeader, row.cells.getCell(0), row.isParentRow);\n        var count = this.columns.length;\n        this.mergeCells(0, 0, count);\n    };\n    ExportHelper.prototype.mergeCells = function (rowIndex, colIndex, lastColIndex) {\n        this.gantt.rows.getRow(rowIndex).cells.getCell(colIndex).columnSpan = lastColIndex;\n    };\n    /* eslint-disable-next-line */\n    ExportHelper.prototype.copyStyles = function (style, cell, isParentRow) {\n        cell.style.fontColor = new PdfColor(style.fontColor);\n        cell.style.backgroundColor = new PdfColor(style.backgroundColor);\n        cell.style.borderColor = new PdfColor(style.borderColor);\n        cell.style.fontSize = style.fontSize;\n        cell.style.fontStyle = style.fontStyle;\n        /* eslint-disable-next-line */\n        cell.style.format = Object.assign(new PdfStringFormat(), style.format);\n        cell.style.borders = new PdfBorders();\n        cell.style.borders.all = new PdfPen(cell.style.borderColor);\n        cell.style.padding = new PdfPaddings();\n        var padding = 0;\n        if (cell.isHeaderCell) {\n            padding = this.parent.timelineModule.isSingleTier ? 45 / 2 : 60 / 2;\n        }\n        else {\n            padding = this.parent.rowHeight / 2;\n        }\n        cell.style.padding.top = padding - style.fontSize;\n        cell.style.padding.bottom = padding - style.fontSize;\n        cell.style.padding.left = 10;\n        cell.style.padding.right = 10;\n    };\n    /**\n     * @param {PdfDocument} pdfDoc .\n     * @returns {void} .\n     * @private\n     */\n    ExportHelper.prototype.initializePdf = function (pdfDoc) {\n        this.pdfDoc = pdfDoc;\n        var widths = [];\n        var treeColumnIndex = 0;\n        var tWidth = (this.pdfDoc.pageSettings.width - 82);\n        if (this.totalColumnWidth > (this.pdfDoc.pageSettings.width - 82)) {\n            this.gantt.style.allowHorizontalOverflow = true;\n        }\n        else if ((tWidth / this.columns.length) < widths[treeColumnIndex]) {\n            this.gantt.columns.getColumn(treeColumnIndex).width = widths[treeColumnIndex];\n        }\n        if (this.exportProps.enableFooter || isNullOrUndefined(this.exportProps.enableFooter)) {\n            //code for draw the footer content\n            var bounds = new RectangleF(0, 0, pdfDoc.pageSettings.width, 35);\n            var pen = new PdfPen(this.ganttStyle.chartGridLineColor);\n            var footer = new PdfPageTemplateElement(bounds);\n            var footerBrush = new PdfSolidBrush(this.ganttStyle.footer.backgroundColor);\n            footer.graphics.drawRectangle(pen, footerBrush, 0, 0, pdfDoc.pageSettings.width, 35);\n            /* eslint-disable-next-line */\n            var font = new PdfStandardFont(this.ganttStyle.fontFamily, this.ganttStyle.footer.fontSize, this.ganttStyle.footer.fontStyle);\n            var brush = new PdfSolidBrush(this.ganttStyle.footer.fontColor);\n            var pageNumber = new PdfPageNumberField(font);\n            var count = new PdfPageCountField(font, brush);\n            var compositeField = new PdfCompositeField(font, brush, 'Page {0}', pageNumber, count);\n            compositeField.stringFormat = this.ganttStyle.footer.format;\n            compositeField.bounds = bounds;\n            compositeField.draw(footer.graphics, new PointF(0, 0));\n            pdfDoc.template.bottom = footer;\n        }\n    };\n    return ExportHelper;\n}());\nexport { ExportHelper };\n/**\n * @hidden\n * `ExportValueFormatter` for `PdfExport` & `ExcelExport`\n */\nvar ExportValueFormatter = /** @class */ (function () {\n    function ExportValueFormatter(culture) {\n        this.valueFormatter = new ValueFormatter(culture);\n        this.internationalization = new Internationalization(culture);\n    }\n    /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n    ExportValueFormatter.prototype.returnFormattedValue = function (args, customFormat) {\n        if (!isNullOrUndefined(args.value) && args.value) {\n            return this.valueFormatter.getFormatFunction(customFormat)(args.value);\n        }\n        else {\n            return '';\n        }\n    };\n    /**\n     * @private\n     */\n    /* eslint-disable-next-line  */\n    ExportValueFormatter.prototype.formatCellValue = function (args) {\n        if (args.isForeignKey) {\n            args.value = getValue(args.column.foreignKeyValue, getForeignData(args.column, {}, args.value)[0]);\n        }\n        if (args.column.type === 'number' && args.column.format !== undefined && args.column.format !== '') {\n            return args.value ? this.internationalization.getNumberFormat({ format: args.column.format })(args.value) : '';\n        }\n        else if (args.column.type === 'boolean') {\n            return args.value ? 'true' : 'false';\n        }\n        else if ((args.column.type === 'date' || args.column.type === 'datetime' || args.column.type === 'time') && args.column.format !== undefined) {\n            if (typeof args.value === 'string') {\n                args.value = new Date(args.value);\n            }\n            if (typeof args.column.format === 'string') {\n                var format = void 0;\n                if (args.column.type === 'date') {\n                    format = { type: 'date', skeleton: args.column.format };\n                }\n                else if (args.column.type === 'time') {\n                    format = { type: 'time', skeleton: args.column.format };\n                }\n                else {\n                    format = { type: 'dateTime', skeleton: args.column.format };\n                }\n                return this.returnFormattedValue(args, format);\n            }\n            else {\n                if (args.column.format instanceof Object && args.column.format.type === undefined) {\n                    return (args.value.toString());\n                }\n                else {\n                    var customFormat = void 0;\n                    if (args.column.type === 'date') {\n                        /* eslint-disable-next-line max-len */\n                        customFormat = { type: args.column.format.type, format: args.column.format.format, skeleton: args.column.format.skeleton };\n                    }\n                    else if (args.column.type === 'time') {\n                        customFormat = { type: 'time', format: args.column.format.format, skeleton: args.column.format.skeleton };\n                    }\n                    else {\n                        customFormat = { type: 'dateTime', format: args.column.format.format, skeleton: args.column.format.skeleton };\n                    }\n                    return this.returnFormattedValue(args, customFormat);\n                }\n            }\n        }\n        else {\n            if ((!isNullOrUndefined(args.column.type) && !isNullOrUndefined(args.value)) || !isNullOrUndefined(args.value)) {\n                return (args.value).toString();\n            }\n            else {\n                return '';\n            }\n        }\n    };\n    return ExportValueFormatter;\n}());\nexport { ExportValueFormatter };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { PointF, PdfStringLayouter, PdfPen, PdfSolidBrush, RectangleF, SizeF, PdfStandardFont, PdfFontStyle, PdfStringFormat, PdfVerticalAlignment, PdfTextAlignment, PdfWordWrapType } from '@syncfusion/ej2-pdf-export';\nimport { pixelToPoint } from '../base/utils';\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\n/**\n * @hidden\n */\nvar PdfGanttTaskbarCollection = /** @class */ (function () {\n    function PdfGanttTaskbarCollection(parent) {\n        /**\n         * @private\n         */\n        this.leftTaskLabel = {};\n        /**\n         * @private\n         */\n        this.rightTaskLabel = {};\n        this.startPage = -1;\n        this.endPage = -1;\n        this.parent = parent;\n    }\n    PdfGanttTaskbarCollection.prototype.add = function () {\n        return new PdfGanttTaskbarCollection(this.parent);\n    };\n    /**\n     * @param {PdfPage} page .\n     * @returns {PdfPage} .\n     * Get the next PDF page\n     */\n    PdfGanttTaskbarCollection.prototype.GetNextPage = function (page) {\n        var section = page.section;\n        var index = section.indexOf(page);\n        var nextPage = null;\n        if (index === section.count - 1) {\n            nextPage = section.add();\n        }\n        else {\n            nextPage = section.getPages()[index + 1];\n        }\n        return nextPage;\n    };\n    /**\n     * Draw the taskbar, chart back ground\n     *\n     * @private\n     */\n    /* eslint-disable */\n    PdfGanttTaskbarCollection.prototype.drawTaskbar = function (page, startPoint, detail, cumulativeWidth, rowHeight, taskbar) {\n        var taskGraphics = page.graphics;\n        var isNextPage = false;\n        var pageSize = page.getClientSize();\n        var yPoint = startPoint.y + rowHeight;\n        //code for while current pdf page is exceed\n        if (yPoint > pageSize.height) {\n            page = this.GetNextPage(page);\n            taskGraphics = page.graphics;\n            startPoint.y = 0;\n            if (this.parent.pdfExportModule.gantt.enableHeader) {\n                this.parent.pdfExportModule.gantt.chartHeader.drawPageTimeline(page, startPoint, detail);\n                startPoint.y = pixelToPoint(this.parent.timelineModule.isSingleTier ? 45 : 60);\n            }\n            isNextPage = true;\n        }\n        this.drawLeftLabel(page, startPoint, detail, cumulativeWidth);\n        //Draw Taskbar\n        var font = new PdfStandardFont(this.fontFamily, 9, PdfFontStyle.Regular);\n        var fontColor = null;\n        var fontBrush = new PdfSolidBrush(this.progressFontColor);\n        var progressFormat = new PdfStringFormat();\n        progressFormat.lineAlignment = PdfVerticalAlignment.Middle;\n        progressFormat.alignment = PdfTextAlignment.Right;\n        var pageIndex = -1;\n        if (!taskbar.isMilestone) {\n            var taskbarPen = new PdfPen(taskbar.taskBorderColor);\n            var taskBrush = new PdfSolidBrush(taskbar.taskColor);\n            var progressPen = new PdfPen(taskbar.progressColor);\n            var progressBrush = new PdfSolidBrush(taskbar.progressColor);\n            var adjustHeight = pixelToPoint((this.parent.rowHeight - this.height) / 2.0);\n            pageIndex = page.section.indexOf(page);\n            var startDate = isNullOrUndefined(this.unscheduleStarteDate) ? this.startDate : this.unscheduleStarteDate;\n            var endDate = isNullOrUndefined(this.unscheduleEndDate) ? this.endDate : this.unscheduleEndDate;\n            //Task start and end date both are in the range of header split up start and end date\n            if (detail.startDate <= startDate && endDate <= detail.endDate) {\n                if (!this.isStartPoint) {\n                    this.taskStartPoint = __assign({}, startPoint);\n                    this.isStartPoint = true;\n                }\n                if (!this.isScheduledTask && this.unscheduledTaskBy !== 'duration') {\n                    this.drawUnscheduledTask(taskGraphics, startPoint, cumulativeWidth, adjustHeight);\n                }\n                else {\n                    taskGraphics.drawRectangle(taskbarPen, taskBrush, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight, pixelToPoint(taskbar.width), pixelToPoint(taskbar.height));\n                    if (this.progress > 0 && this.progressWidth > 0 && this.isScheduledTask) {\n                        taskGraphics.drawRectangle(progressPen, progressBrush, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight, pixelToPoint(taskbar.progressWidth), pixelToPoint(taskbar.height));\n                        if (!isNullOrUndefined(this.parent.taskFields.progress) && !isNullOrUndefined(this.parent.labelSettings.taskLabel)) {\n                            taskGraphics.drawString(this.progress.toString(), font, fontColor, fontBrush, startPoint.x + pixelToPoint(this.left - cumulativeWidth), startPoint.y + adjustHeight, pixelToPoint(this.progressWidth), pixelToPoint(this.height), progressFormat);\n                        }\n                    }\n                }\n                this.isCompleted = true;\n                this.startPage = pageIndex;\n                this.endPage = pageIndex;\n            }\n            //Task start date is in the range of header split up start and end date\n            else if (detail.startDate <= startDate && detail.endDate >= startDate && (endDate >= detail.endDate)) {\n                if (!this.isStartPoint) {\n                    this.taskStartPoint = __assign({}, startPoint);\n                    this.isStartPoint = true;\n                }\n                var renderWidth = 0;\n                this.width = this.width - (detail.totalWidth - (this.left - cumulativeWidth));\n                renderWidth = (detail.totalWidth - (this.left - cumulativeWidth));\n                if (!this.isScheduledTask && this.unscheduledTaskBy !== 'duration') {\n                    this.drawUnscheduledTask(taskGraphics, startPoint, cumulativeWidth, adjustHeight);\n                }\n                else {\n                    taskGraphics.drawRectangle(taskbarPen, taskBrush, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight, pixelToPoint(renderWidth), pixelToPoint(taskbar.height));\n                    if (this.progress > 0 && this.progressWidth > 0 && this.isScheduledTask) {\n                        var progressBoundsWidth = 0;\n                        if (this.progressWidth <= renderWidth) {\n                            progressBoundsWidth = this.progressWidth;\n                        }\n                        else {\n                            progressBoundsWidth = renderWidth;\n                        }\n                        taskGraphics.drawRectangle(progressPen, progressBrush, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight, pixelToPoint(progressBoundsWidth), pixelToPoint(taskbar.height));\n                        this.progressWidth -= progressBoundsWidth;\n                        if (this.progressWidth === 0 && this.progress !== 0 && this.parent.labelSettings.taskLabel) {\n                            taskGraphics.drawString(this.progress.toString(), font, fontColor, fontBrush, startPoint.x + pixelToPoint(this.left - cumulativeWidth), (startPoint.y + adjustHeight), pixelToPoint(progressBoundsWidth), pixelToPoint(this.height), progressFormat);\n                        }\n                    }\n                }\n                this.left = 0;\n                this.isCompleted = false;\n                this.startPage = pageIndex;\n            }\n            //Task end date is in the range of header split up start and end date\n            else if (endDate <= detail.endDate && detail.startDate <= endDate && !this.isCompleted) {\n                if (!this.isStartPoint) {\n                    this.taskStartPoint = __assign({}, startPoint);\n                    this.isStartPoint = true;\n                }\n                taskGraphics.drawRectangle(taskbarPen, taskBrush, startPoint.x + pixelToPoint(taskbar.left + 0.5), startPoint.y + adjustHeight, pixelToPoint(taskbar.width), pixelToPoint(taskbar.height));\n                if (this.isScheduledTask) {\n                    taskGraphics.drawRectangle(progressPen, progressBrush, startPoint.x + pixelToPoint(taskbar.left + 0.5), startPoint.y + adjustHeight, pixelToPoint(taskbar.progressWidth), pixelToPoint(taskbar.height));\n                    if (this.progressWidth === 0 && this.progress !== 0) {\n                        taskGraphics.drawString(this.progress.toString(), font, fontColor, fontBrush, startPoint.x + pixelToPoint(this.left), (startPoint.y + adjustHeight), pixelToPoint(this.progressWidth), pixelToPoint(this.height), progressFormat);\n                    }\n                }\n                this.isCompleted = true;\n                this.endPage = pageIndex;\n            }\n            //Header splitup start and end date with in the task start and end date.\n            //So the task is takes entire width of page.\n            else if (startDate < detail.startDate && endDate > detail.endDate) {\n                if (!this.isStartPoint) {\n                    this.taskStartPoint = __assign({}, startPoint);\n                    this.isStartPoint = true;\n                }\n                taskGraphics.drawRectangle(taskbarPen, taskBrush, startPoint.x + pixelToPoint(taskbar.left) + 0.5, startPoint.y + adjustHeight, pixelToPoint(detail.totalWidth), pixelToPoint(taskbar.height));\n                if (this.progress > 0 && this.progressWidth > 0 && this.isScheduledTask) {\n                    var progressBoundsWidth = 0;\n                    if (this.progressWidth <= detail.totalWidth) {\n                        progressBoundsWidth = this.progressWidth;\n                    }\n                    else {\n                        progressBoundsWidth = detail.totalWidth;\n                    }\n                    taskGraphics.drawRectangle(progressPen, progressBrush, startPoint.x + pixelToPoint(taskbar.left) + 0.5, startPoint.y + adjustHeight, pixelToPoint(progressBoundsWidth), pixelToPoint(taskbar.height));\n                    this.progressWidth -= progressBoundsWidth;\n                    if (this.progressWidth === 0 && this.progress !== 0) {\n                        taskGraphics.drawString(this.progress.toString(), font, fontColor, fontBrush, startPoint.x + pixelToPoint(this.left), (startPoint.y + adjustHeight), pixelToPoint(progressBoundsWidth), pixelToPoint(this.height), progressFormat);\n                    }\n                }\n                this.isCompleted = false;\n                this.width -= detail.totalWidth;\n            }\n        }\n        else {\n            this.drawMilestone(page, startPoint, detail, cumulativeWidth);\n        }\n        this.drawRightLabel(page, startPoint, detail, cumulativeWidth);\n        return isNextPage;\n    };\n    /* eslint-enable */\n    /**\n     * @param {PdfPage} page .\n     * @param {PointF} startPoint .\n     * @param {TimelineDetails} detail .\n     * @param {number} cumulativeWidth .\n     * @returns {void}\n     * Draw task right side label\n     */\n    PdfGanttTaskbarCollection.prototype.drawRightLabel = function (page, startPoint, detail, cumulativeWidth) {\n        var left;\n        var graphics = page.graphics;\n        var actualLeft = left - pixelToPoint(cumulativeWidth) + startPoint.x;\n        if (this.rightTaskLabel.isLeftCalculated) {\n            left = this.rightTaskLabel.left;\n        }\n        else {\n            left = pixelToPoint(this.rightTaskLabel.left);\n        }\n        if (detail.startPoint <= left && left < detail.endPoint &&\n            !isNullOrUndefined(this.rightTaskLabel.value) && !this.rightTaskLabel.isCompleted) {\n            var result = this.getWidth(this.rightTaskLabel.value, detail.endPoint - left, 15);\n            var font = new PdfStandardFont(this.fontFamily, 9);\n            var adjustHeight = (pixelToPoint(this.parent.rowHeight) - result.actualSize.height) / 2;\n            var point = new PointF(actualLeft, startPoint.y + adjustHeight);\n            var size = new SizeF(result.actualSize.width, result.actualSize.height);\n            var labelBounds = new RectangleF(point, size);\n            var labelFormat = new PdfStringFormat();\n            labelFormat.alignment = PdfTextAlignment.Right;\n            labelFormat.lineAlignment = PdfVerticalAlignment.Middle;\n            if (result.actualSize.width > 0) {\n                var fontColor = null;\n                var fontBrush = new PdfSolidBrush(this.labelColor);\n                /* eslint-disable-next-line */\n                graphics.drawString(result.lines[0].text, font, fontColor, fontBrush, labelBounds.x, labelBounds.y, result.actualSize.width, result.actualSize.height, labelFormat);\n                if (result.remainder !== null) {\n                    this.rightTaskLabel.value = result.remainder;\n                    this.rightTaskLabel.left = detail.endPoint;\n                    this.rightTaskLabel.isLeftCalculated = true;\n                }\n                else {\n                    this.rightTaskLabel.isCompleted = true;\n                }\n            }\n            else {\n                this.rightTaskLabel.left = detail.endPoint;\n            }\n        }\n    };\n    /**\n     * @param {PdfPage} page .\n     * @param {PointF} startPoint .\n     * @param {TimelineDetails} detail .\n     * @param {number} cumulativeWidth .\n     * @returns {void}\n     * Draw task left task label\n     */\n    PdfGanttTaskbarCollection.prototype.drawLeftLabel = function (page, startPoint, detail, cumulativeWidth) {\n        var graphics = page.graphics;\n        var left;\n        if (!isNullOrUndefined(this.leftTaskLabel.value)) {\n            var labelLeft = 0;\n            labelLeft = this.left;\n            if (!this.leftTaskLabel.isLeftCalculated) {\n                var result = this.getWidth(this.leftTaskLabel.value, Number.MAX_VALUE, 15);\n                var reduceLeft = this.isMilestone ? Math.floor(this.parent.chartRowsModule.taskBarHeight / 2) + 33 : 33; // 33 indicates default timeline cell width\n                left = pixelToPoint(labelLeft - reduceLeft) - result.actualSize.width;\n                this.leftTaskLabel.left = left;\n                this.leftTaskLabel.isLeftCalculated = true;\n            }\n            else {\n                left = this.leftTaskLabel.left;\n            }\n            var actualLeft = left - pixelToPoint(cumulativeWidth) + startPoint.x;\n            if (detail.startPoint <= left && left < detail.endPoint && !isNullOrUndefined(this.leftTaskLabel.value)\n                && !this.leftTaskLabel.isCompleted) {\n                var result = this.getWidth(this.leftTaskLabel.value, detail.endPoint - left, 15);\n                var font = new PdfStandardFont(this.fontFamily, 9);\n                var adjustHeight = (pixelToPoint(this.parent.rowHeight) - result.actualSize.height) / 2;\n                var rightLabelpoint = new PointF(actualLeft, startPoint.y + adjustHeight);\n                var rightLabelSize = new SizeF(result.actualSize.width, result.actualSize.height);\n                var rightLabelBounds = new RectangleF(rightLabelpoint, rightLabelSize);\n                var rightLabelFormat = new PdfStringFormat();\n                rightLabelFormat.alignment = PdfTextAlignment.Right;\n                rightLabelFormat.lineAlignment = PdfVerticalAlignment.Middle;\n                if (result.actualSize.width > 0) {\n                    var fontColor = null;\n                    var fontBrush = new PdfSolidBrush(this.labelColor);\n                    /* eslint-disable-next-line */\n                    graphics.drawString(result.lines[0].text, font, fontColor, fontBrush, rightLabelBounds.x, rightLabelBounds.y, result.actualSize.width, result.actualSize.height, rightLabelFormat);\n                    if (result.remainder !== null) {\n                        this.leftTaskLabel.value = result.remainder;\n                        this.leftTaskLabel.left = detail.endPoint;\n                    }\n                    else {\n                        this.leftTaskLabel.isCompleted = true;\n                    }\n                }\n                else {\n                    this.leftTaskLabel.left = detail.endPoint;\n                }\n            }\n        }\n    };\n    PdfGanttTaskbarCollection.prototype.getWidth = function (value, width, height) {\n        var font = new PdfStandardFont(this.fontFamily, 9);\n        var layouter = new PdfStringLayouter();\n        var progressFormat = new PdfStringFormat();\n        progressFormat.alignment = PdfTextAlignment.Left;\n        progressFormat.wordWrap = PdfWordWrapType.Character;\n        progressFormat.lineAlignment = PdfVerticalAlignment.Middle;\n        /* eslint-disable-next-line */\n        var result = layouter.layout(value, font, progressFormat, new SizeF(width, height), false, new SizeF(width, height));\n        return result;\n    };\n    /**\n     * @param {PdfGraphics} taskGraphics .\n     * @param {PointF} startPoint .\n     * @param {number} cumulativeWidth .\n     * @param {number} adjustHeight .\n     * @returns {void}\n     * Draw Unscheduled Task\n     */\n    PdfGanttTaskbarCollection.prototype.drawUnscheduledTask = function (taskGraphics, startPoint, cumulativeWidth, adjustHeight) {\n        var taskBrush = new PdfSolidBrush(this.taskColor);\n        /* eslint-disable-next-line */\n        taskGraphics.drawRectangle(taskBrush, startPoint.x + pixelToPoint(this.left - cumulativeWidth), startPoint.y + adjustHeight, pixelToPoint(3), pixelToPoint(this.height));\n    };\n    /**\n     * @param {PdfPage} page .\n     * @param {PointF} startPoint .\n     * @param {TimelineDetails} detail .\n     * @param {number} cumulativeWidth .\n     * @returns {void}\n     * Draw milestone task\n     */\n    PdfGanttTaskbarCollection.prototype.drawMilestone = function (page, startPoint, detail, cumulativeWidth) {\n        if (detail.startDate <= this.startDate && this.startDate <= detail.endDate) {\n            var taskGraphics = page.graphics;\n            var pageIndex = page.section.indexOf(page);\n            this.taskStartPoint = __assign({}, startPoint);\n            var milestonePen = new PdfPen(this.milestoneColor);\n            var adjustHeight = pixelToPoint(((this.parent.rowHeight - this.height) / 2.0));\n            var milestoneBrush = new PdfSolidBrush(this.milestoneColor);\n            taskGraphics.save(); //saving graphics state\n            var height = Math.floor(this.parent.chartRowsModule.taskBarHeight * 0.6);\n            /* eslint-disable-next-line */\n            taskGraphics.translateTransform(startPoint.x + pixelToPoint(this.left - cumulativeWidth), startPoint.y + adjustHeight - (this.parent.chartRowsModule.taskBarHeight * 0.7) / 2);\n            taskGraphics.rotateTransform(45); //apply rotation\n            taskGraphics.drawRectangle(milestonePen, milestoneBrush, 0, 0, pixelToPoint(height), pixelToPoint(height));\n            taskGraphics.restore(); //restoring graphics state\n            this.endPage = this.startPage = pageIndex;\n        }\n    };\n    return PdfGanttTaskbarCollection;\n}());\nexport { PdfGanttTaskbarCollection };\n","import { PointF, PdfColor, PdfPen, PdfSolidBrush, PdfStandardFont, PdfStringFormat, PdfVerticalAlignment, PdfTextAlignment, PdfWordWrapType } from '@syncfusion/ej2-pdf-export';\nimport { extend, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { pixelToPoint } from '../base/utils';\n/**\n */\nvar PdfTimeline = /** @class */ (function () {\n    function PdfTimeline(gantt) {\n        this.width = 0;\n        this.gantt = gantt;\n        this.parent = gantt.parent;\n        this.topTierPoint = new PointF();\n        this.bottomTierPoint = new PointF();\n        this.topTierIndex = 0;\n        this.bottomTierIndex = 0;\n        this.prevTopTierIndex = 0;\n        this.prevBottomTierIndex = 0;\n    }\n    /**\n     * @private\n     * @param {PdfPage} page .\n     * @param {PointF} startPoint .\n     * @param {TimelineDetails} detail .\n     * @returns {void}\n     */\n    PdfTimeline.prototype.drawTimeline = function (page, startPoint, detail) {\n        var remainWidth = Math.floor(detail.totalWidth);\n        var renderWidth = 0;\n        this.topTierPoint.x = startPoint.x;\n        this.topTierPoint.y = startPoint.y;\n        this.prevTopTierIndex = this.topTierIndex;\n        this.prevBottomTierIndex = this.bottomTierIndex;\n        while (remainWidth > 0) {\n            var pHeader = this.topTier[this.topTierIndex];\n            if (this.topTier.length > this.topTierIndex) {\n                var isCompleted = false;\n                if (!this.topTier[this.topTierIndex].isFinished) {\n                    if (remainWidth >= pHeader.width) {\n                        renderWidth = pHeader.width;\n                        pHeader.isFinished = true;\n                        pHeader.completedWidth = renderWidth;\n                        isCompleted = true;\n                    }\n                    else {\n                        renderWidth = remainWidth;\n                        isCompleted = false;\n                        pHeader.isFinished = false;\n                        pHeader.width = pHeader.width - remainWidth;\n                        pHeader.completedWidth = renderWidth;\n                    }\n                }\n                //Primary header Event Arguments\n                /* eslint-disable-next-line */\n                this.triggerQueryTimelinecell(page, this.topTierPoint.x, this.topTierPoint.y, this.topTierHeight, renderWidth, pHeader.value, true);\n                this.topTierPoint.x += pixelToPoint(renderWidth);\n                remainWidth -= renderWidth;\n                if (isCompleted) {\n                    this.topTierIndex++;\n                }\n            }\n            else {\n                remainWidth = 0;\n            }\n        }\n        remainWidth = Math.floor(detail.totalWidth);\n        var height = this.parent.timelineModule.isSingleTier ? 0 : this.topTierHeight;\n        this.bottomTierPoint = new PointF(startPoint.x, pixelToPoint(startPoint.y + height));\n        while (remainWidth > 0) {\n            var secondHeader = this.bottomTier[this.bottomTierIndex];\n            if (this.bottomTier.length > this.bottomTierIndex) {\n                var isCompleted = true;\n                var width = secondHeader.width;\n                if (remainWidth < width) {\n                    width = remainWidth;\n                    isCompleted = false;\n                    secondHeader.completedWidth = width;\n                }\n                //Secondary header Event Arguments\n                /* eslint-disable-next-line */\n                this.triggerQueryTimelinecell(page, this.bottomTierPoint.x, this.bottomTierPoint.y, this.bottomTierHeight, width, secondHeader.value, false);\n                this.bottomTierPoint.x = this.bottomTierPoint.x + pixelToPoint(width);\n                remainWidth -= width;\n                secondHeader.completedWidth = width;\n                if (isCompleted) {\n                    this.bottomTierIndex++;\n                }\n            }\n            else {\n                remainWidth = 0;\n            }\n        }\n    };\n    /**\n     *\n     * @param {PdfPage} page .\n     * @param {PointF} startPoint .\n     * @param {TimelineDetails}  detail .\n     * @returns {void} .\n     * Draw the specific gantt chart side header when the taskbar exceeds the page\n     * @private\n     */\n    /* eslint-disable-next-line */\n    PdfTimeline.prototype.drawPageTimeline = function (page, startPoint, detail) {\n        this.topTierPoint = extend({}, {}, startPoint, true);\n        for (var index = this.prevTopTierIndex; index <= this.topTierIndex; index++) {\n            if (this.topTier.length > index) {\n                var pHeader = this.topTier[index];\n                if (pHeader.completedWidth > 0) {\n                    //Primary header Event Arguments\n                    /* eslint-disable-next-line */\n                    this.triggerQueryTimelinecell(page, this.topTierPoint.x, this.topTierPoint.y, this.topTierHeight, pHeader.completedWidth, pHeader.value, true);\n                    this.topTierPoint.x += pixelToPoint(pHeader.completedWidth);\n                }\n            }\n        }\n        this.bottomTierPoint.x = startPoint.x;\n        this.bottomTierPoint.y = pixelToPoint(startPoint.y + this.topTierHeight);\n        for (var index = this.prevBottomTierIndex; index <= this.bottomTierIndex; index++) {\n            if (this.bottomTier.length > index) {\n                var secondHeader = this.bottomTier[index];\n                if (secondHeader.completedWidth > 0) {\n                    //Secondary header Event Arguments\n                    /* eslint-disable-next-line */\n                    this.triggerQueryTimelinecell(page, this.bottomTierPoint.x, this.bottomTierPoint.y, this.bottomTierHeight, secondHeader.width, secondHeader.value, false);\n                    this.bottomTierPoint.x = this.bottomTierPoint.x + pixelToPoint(secondHeader.width);\n                }\n            }\n        }\n    };\n    /**\n     * Method to trigger pdf query timelinecell event\n     */\n    /* eslint-disable-next-line */\n    PdfTimeline.prototype.triggerQueryTimelinecell = function (page, x, y, height, width, value, isTopTier) {\n        var graphics = page.graphics;\n        var timelineStyle = {};\n        var ganttStyle = this.gantt.ganttStyle;\n        timelineStyle.borderColor = new PdfColor(ganttStyle.timeline.borderColor);\n        timelineStyle.fontColor = new PdfColor(ganttStyle.timeline.fontColor);\n        timelineStyle.fontSize = ganttStyle.timeline.fontSize;\n        timelineStyle.fontStyle = ganttStyle.timeline.fontStyle;\n        timelineStyle.backgroundColor = new PdfColor(ganttStyle.timeline.backgroundColor);\n        if (ganttStyle.timeline.padding) {\n            timelineStyle.padding = ganttStyle.timeline.padding;\n        }\n        var format = new PdfStringFormat();\n        if (isNullOrUndefined(ganttStyle.timeline.format)) {\n            if (isTopTier) {\n                format.lineAlignment = PdfVerticalAlignment.Middle;\n                format.alignment = PdfTextAlignment.Left;\n            }\n            else {\n                format.lineAlignment = PdfVerticalAlignment.Middle;\n                format.alignment = PdfTextAlignment.Center;\n                format.wordWrap = PdfWordWrapType.Character;\n            }\n        }\n        else {\n            format = ganttStyle.timeline.format;\n        }\n        timelineStyle.format = format;\n        var eventArgs = {\n            timelineCell: timelineStyle,\n            value: value\n        };\n        if (this.parent.pdfQueryTimelineCellInfo) {\n            this.parent.trigger('pdfQueryTimelineCellInfo', eventArgs);\n        }\n        var e = eventArgs.timelineCell;\n        var rectPen = new PdfPen(eventArgs.timelineCell.borderColor);\n        var rectBrush = new PdfSolidBrush(eventArgs.timelineCell.backgroundColor);\n        graphics.drawRectangle(rectPen, rectBrush, x, y, pixelToPoint(width), pixelToPoint(height));\n        var font = new PdfStandardFont(ganttStyle.fontFamily, e.fontSize, e.fontStyle);\n        var textBrush = new PdfSolidBrush(eventArgs.timelineCell.fontColor);\n        var pLeft = ganttStyle.timeline.padding ? eventArgs.timelineCell.padding.left : 0;\n        var pTop = ganttStyle.timeline.padding ? eventArgs.timelineCell.padding.top : 0;\n        /* eslint-disable-next-line */\n        graphics.drawString(eventArgs.value, font, null, textBrush, x + pLeft, y + pTop, pixelToPoint(width), pixelToPoint(height), e.format);\n    };\n    return PdfTimeline;\n}());\nexport { PdfTimeline };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { PointF, PdfPage, PdfPen, PdfSolidBrush, RectangleF, SizeF } from '@syncfusion/ej2-pdf-export';\nimport { pixelToPoint } from '../base/utils';\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\n/**\n * @hidden\n */\nvar PdfGanttPredecessor = /** @class */ (function () {\n    function PdfGanttPredecessor(parent, pdfGantt) {\n        this.parent = parent;\n        this.pdfGantt = pdfGantt;\n    }\n    /**\n     * @returns {PdfGanttPredecessor} .\n     * @hidden\n     */\n    PdfGanttPredecessor.prototype.add = function () {\n        return new PdfGanttPredecessor(this.parent);\n    };\n    /**\n     * Calculate the predecesor line point and draw the predecessor\n     *\n     * @param {PdfGantt} pdfGantt .\n     * @returns {void}\n     * @private\n     */\n    PdfGanttPredecessor.prototype.drawPredecessor = function (pdfGantt) {\n        this.pdfGantt = pdfGantt;\n        var pages = pdfGantt.result.page.section.getPages();\n        var parentTask = pdfGantt.taskbarCollection[this.parentIndex];\n        var childTask = pdfGantt.taskbarCollection[this.childIndex];\n        var startPage = new PdfPage();\n        var endPage = new PdfPage();\n        var predecessorType = '';\n        var parentPageData;\n        var childPageData;\n        var parentY = 0;\n        var childY = 0;\n        switch (this.type) {\n            case 'FS':\n                if (childTask.startPage > -1 && parentTask.endPage > -1) {\n                    startPage = pages[parentTask.endPage];\n                    endPage = pages[childTask.startPage];\n                    parentPageData = pdfGantt.pdfPageDetail[parentTask.endPage - pdfGantt.chartPageIndex];\n                    childPageData = pdfGantt.pdfPageDetail[childTask.startPage - pdfGantt.chartPageIndex];\n                    if (this.parentIndex < this.childIndex) {\n                        if (this.parentLeft < this.childLeft && this.childLeft > (this.parentLeft + this.parentWidth + 25)) {\n                            predecessorType = 'FSType1';\n                        }\n                        else {\n                            predecessorType = 'FSType2';\n                        }\n                    }\n                    else {\n                        if (this.parentLeft < this.childLeft && this.childLeft > (this.parentLeft + this.parentWidth + 25)) {\n                            predecessorType = 'FSType3';\n                        }\n                        else {\n                            predecessorType = 'FSType4';\n                        }\n                    }\n                }\n                else {\n                    return;\n                }\n                break;\n            case 'SF':\n                if (childTask.endPage > -1 && parentTask.startPage > -1) {\n                    startPage = pages[parentTask.startPage];\n                    endPage = pages[childTask.endPage];\n                    parentPageData = pdfGantt.pdfPageDetail[parentTask.endPage - pdfGantt.chartPageIndex];\n                    childPageData = pdfGantt.pdfPageDetail[childTask.startPage - pdfGantt.chartPageIndex];\n                    if (this.parentIndex < this.childIndex) {\n                        if (this.parentLeft > this.childLeft + this.childWidth) {\n                            predecessorType = 'SFType1';\n                        }\n                        else {\n                            predecessorType = 'SFType2';\n                        }\n                    }\n                    else {\n                        if (this.parentLeft > this.childLeft + this.childWidth) {\n                            predecessorType = 'SFType3';\n                        }\n                        else {\n                            predecessorType = 'SFType4';\n                        }\n                    }\n                }\n                else {\n                    return;\n                }\n                break;\n            case 'FF':\n                if (childTask.endPage > -1 && parentTask.endPage > -1) {\n                    startPage = pages[parentTask.endPage];\n                    endPage = pages[childTask.endPage];\n                    parentPageData = pdfGantt.pdfPageDetail[parentTask.endPage - pdfGantt.chartPageIndex];\n                    childPageData = pdfGantt.pdfPageDetail[childTask.endPage - pdfGantt.chartPageIndex];\n                    if (this.parentIndex < this.childIndex) {\n                        if ((this.childLeft + this.childWidth) >= (this.parentLeft + this.parentWidth)) {\n                            predecessorType = 'FFType1';\n                        }\n                        else {\n                            predecessorType = 'FFType2';\n                        }\n                    }\n                    else {\n                        if ((this.childLeft + this.childWidth) >= (this.parentLeft + this.parentWidth)) {\n                            predecessorType = 'FFType3';\n                        }\n                        else {\n                            predecessorType = 'FFType4';\n                        }\n                    }\n                }\n                else {\n                    return;\n                }\n                break;\n            case 'SS':\n                if (childTask.startPage > -1 && parentTask.startPage > -1) {\n                    startPage = pages[parentTask.startPage];\n                    endPage = pages[childTask.startPage];\n                    parentPageData = pdfGantt.pdfPageDetail[parentTask.startPage - pdfGantt.chartPageIndex];\n                    childPageData = pdfGantt.pdfPageDetail[childTask.startPage - pdfGantt.chartPageIndex];\n                    if (this.parentIndex < this.childIndex) {\n                        if (this.parentLeft >= this.childLeft) {\n                            predecessorType = 'SSType1';\n                        }\n                        else {\n                            predecessorType = 'SSType2';\n                        }\n                    }\n                    else {\n                        if (this.parentLeft >= this.childLeft) {\n                            predecessorType = 'SSType3';\n                        }\n                        else {\n                            predecessorType = 'SSType4';\n                        }\n                    }\n                }\n                else {\n                    return;\n                }\n                break;\n        }\n        var midPoint = Math.round((this.parent.rowHeight - 1) / 2.0);\n        midPoint = pixelToPoint(midPoint);\n        /* eslint-disable-next-line */\n        var point1, point2, point3, point4, point5, point6;\n        point1 = point2 = point3 = point4 = point5 = point6 = new PointF();\n        var parentTaskpoint = __assign({}, parentTask.taskStartPoint);\n        var childTaskpoint = __assign({}, childTask.taskStartPoint);\n        parentY = parentTaskpoint.y + parentPageData.startPoint.y;\n        childY = childTaskpoint.y + childPageData.startPoint.y;\n        var ffpoint1 = new PointF(pixelToPoint(this.parentLeft + this.parentWidth), parentY + midPoint);\n        var sspoint1 = new PointF(pixelToPoint(this.parentLeft) - 1, parentY + midPoint);\n        var ffpoint3 = new PointF(pixelToPoint(this.childLeft - 20), childY + midPoint);\n        var ffpoint4 = new PointF(pixelToPoint(this.childLeft - 6 - this.lineWidth) - 1, childY + midPoint);\n        var sspoint4 = new PointF(pixelToPoint(this.childLeft + this.childWidth + 6 + this.lineWidth) + 1, childY + midPoint);\n        switch (predecessorType) {\n            case 'FSType1':\n            case 'FSType3':\n                point1 = ffpoint1;\n                point2 = new PointF(pixelToPoint(this.childLeft - 20), parentY + midPoint);\n                point3 = ffpoint3;\n                point4 = ffpoint4;\n                this.connectLines(startPage, endPage, point1, point2, point3, point4, childTask, midPoint);\n                break;\n            case 'FSType2':\n                point1 = ffpoint1;\n                point2 = new PointF(point1.x + 10, parentY + midPoint);\n                point3 = new PointF(point1.x + 10, childY + 2);\n                point4 = new PointF(pixelToPoint(this.childLeft - 20), childY + 2);\n                point5 = ffpoint3;\n                point6 = ffpoint4;\n                this.connectLines(startPage, endPage, point1, point2, point3, point4, childTask, midPoint, point5, point6);\n                break;\n            case 'FSType4':\n                point1 = ffpoint1;\n                point2 = new PointF(point1.x + 10, parentY + midPoint);\n                point3 = new PointF(point1.x + 10, parentY + 2);\n                point4 = new PointF(pixelToPoint(this.childLeft - 20), parentY + 2);\n                point5 = ffpoint3;\n                point6 = ffpoint4;\n                this.connectLines(startPage, endPage, point1, point2, point3, point4, childTask, midPoint, point5, point6);\n                break;\n            case 'FFType1':\n            case 'FFType3':\n                point1 = new PointF(pixelToPoint(this.parentLeft + this.parentWidth) + 1, parentY + midPoint);\n                point2 = new PointF(pixelToPoint(this.childLeft + this.childWidth + 20), parentY + midPoint);\n                point3 = new PointF(point2.x, childY + midPoint);\n                point4 = sspoint4;\n                this.connectLines(startPage, endPage, point1, point2, point3, point4, childTask, midPoint);\n                break;\n            case 'FFType2':\n            case 'FFType4':\n                point1 = new PointF(pixelToPoint(this.parentLeft + this.parentWidth) + 1, parentY + midPoint);\n                point2 = new PointF(pixelToPoint(this.parentLeft + this.parentWidth + 20), parentY + midPoint);\n                point3 = new PointF(point2.x, childY + midPoint);\n                point4 = sspoint4;\n                this.connectLines(startPage, endPage, point1, point2, point3, point4, childTask, midPoint);\n                break;\n            case 'SSType1':\n            case 'SSType3':\n                point1 = sspoint1;\n                point2 = new PointF(pixelToPoint(this.childLeft - 20), parentY + midPoint);\n                point3 = new PointF(point2.x, childY + midPoint);\n                point4 = ffpoint4;\n                this.connectLines(startPage, endPage, point1, point2, point3, point4, childTask, midPoint);\n                break;\n            case 'SSType2':\n            case 'SSType4':\n                point1 = sspoint1;\n                point2 = new PointF(pixelToPoint(this.parentLeft - 20), parentY + midPoint);\n                point3 = new PointF(point2.x, childY + midPoint);\n                point4 = ffpoint4;\n                this.connectLines(startPage, endPage, point1, point2, point3, point4, childTask, midPoint);\n                break;\n            case 'SFType1':\n            case 'SFType3':\n                point1 = sspoint1;\n                point2 = new PointF(pixelToPoint(this.childLeft + this.childWidth + 20), parentY + midPoint);\n                point3 = new PointF(point2.x, childY + midPoint);\n                point4 = sspoint4;\n                this.connectLines(startPage, endPage, point1, point2, point3, point4, childTask, midPoint);\n                break;\n            case 'SFType2':\n                point1 = sspoint1;\n                point2 = new PointF(pixelToPoint(this.parentLeft - 20), parentY + midPoint);\n                point3 = new PointF(point2.x, childY + 2);\n                point4 = new PointF(pixelToPoint(this.childLeft + this.childWidth + 20), childY + 2);\n                point5 = new PointF(point4.x, childY + midPoint);\n                point6 = sspoint4;\n                this.connectLines(startPage, endPage, point1, point2, point3, point4, childTask, midPoint, point5, point6);\n                break;\n            case 'SFType4':\n                point1 = sspoint1;\n                point2 = new PointF(pixelToPoint(this.parentLeft - 20), parentY + midPoint);\n                point3 = new PointF(point2.x, parentY + 2);\n                point4 = new PointF(pixelToPoint(this.childLeft + this.childWidth + 20), parentY + 2);\n                point5 = new PointF(point4.x, childY + midPoint);\n                point6 = sspoint4;\n                this.connectLines(startPage, endPage, point1, point2, point3, point4, childTask, midPoint, point5, point6);\n                break;\n        }\n    };\n    /**\n     * Method to draw the predecessor lines with calculated connector points\n     *\n     * @private\n     */\n    /* eslint-disable-next-line */\n    PdfGanttPredecessor.prototype.connectLines = function (startPage, endPage, point1, point2, point3, point4, childTask, midPoint, point5, point6) {\n        this.drawLine(startPage, point1, point2);\n        this.drawLine(startPage, point2, point3);\n        this.drawLine(startPage, point3, point4);\n        if (!isNullOrUndefined(point5) && !isNullOrUndefined(point6)) {\n            this.drawLine(startPage, point4, point5);\n            this.drawLine(startPage, point5, point6);\n        }\n        this.drawArrow(endPage, childTask, midPoint);\n    };\n    /**\n     * Method to check the predecessor line  occurs within the page\n     *\n     * @param {RectangleF} rect .\n     * @param {number} x .\n     * @param {number} y .\n     * @returns {boolean} .\n     * @private\n     */\n    PdfGanttPredecessor.prototype.contains = function (rect, x, y) {\n        return rect.x <= x &&\n            x < rect.x + rect.width &&\n            rect.y <= y &&\n            y < rect.y + rect.height;\n    };\n    /**\n     * Find the PDF page index of given point\n     *\n     * @param {PointF} point .\n     * @returns {number} .\n     * @private\n     */\n    PdfGanttPredecessor.prototype.findPageIndex = function (point) {\n        var pageIndex = -1;\n        for (var index = 0; index < this.pdfGantt.pdfPageDetail.length; index++) {\n            var pageData = this.pdfGantt.pdfPageDetail[index];\n            var pageRect = new RectangleF(pageData.startPoint.x, pageData.startPoint.y, pageData.width, pageData.height);\n            if (this.contains(pageRect, point.x, point.y)) {\n                pageIndex = index;\n                break;\n            }\n        }\n        return pageIndex;\n    };\n    /**\n     * Draw predecessor line\n     *\n     * @param {PdfPage} page .\n     * @param {PointF} startPoint .\n     * @param {PointF} endPoint .\n     * @returns {void} .\n     * @private\n     */\n    PdfGanttPredecessor.prototype.drawLine = function (page, startPoint, endPoint) {\n        var pdfPages = this.pdfGantt.result.page.section.getPages();\n        var graphics = page.graphics;\n        var newEndPoint = __assign({}, endPoint);\n        var newStartPoint = __assign({}, endPoint);\n        var checkStartPoint = __assign({}, endPoint);\n        var pageData = this.pdfGantt.pdfPageDetail[page.section.indexOf(page) - this.pdfGantt.chartPageIndex];\n        var pageRect = new RectangleF(pageData.startPoint.x, pageData.startPoint.y, pageData.width, pageData.height);\n        var startPointCheck = this.contains(pageRect, startPoint.x, startPoint.y);\n        var endPointCheck = this.contains(pageRect, endPoint.x, endPoint.y);\n        var pageIndex = -1;\n        startPoint = new PointF(startPoint.x, startPoint.y);\n        endPoint = new PointF(endPoint.x, endPoint.y);\n        if (!startPointCheck && !endPointCheck || endPointCheck && !startPointCheck) {\n            pageIndex = this.findPageIndex(startPoint);\n            if (pageIndex > -1) {\n                pageData = this.pdfGantt.pdfPageDetail[pageIndex];\n                newStartPoint = startPoint;\n                newEndPoint = endPoint;\n                this.drawLine(pdfPages[pageIndex + this.pdfGantt.chartPageIndex], newStartPoint, newEndPoint);\n            }\n        }\n        else if (!endPointCheck && startPointCheck) {\n            var pageRectLeft = pageRect.x;\n            var pageRectRight = pageRect.x + pageRect.width;\n            var pageRectBottom = pageRect.y + pageRect.height;\n            var pageRectTop = pageRect.y;\n            if (pageRectLeft > endPoint.x) {\n                checkStartPoint.x = endPoint.x = pageRectLeft - 1;\n                newStartPoint.x = pageRectLeft - 1;\n            }\n            else if (pageRectRight < endPoint.x) {\n                checkStartPoint.x = endPoint.x = pageRectRight;\n                newStartPoint.x = pageRectRight;\n                checkStartPoint.x += 1;\n            }\n            else if (pageRectBottom < endPoint.y) {\n                checkStartPoint.y = endPoint.y = pageRectBottom;\n                newStartPoint.y = pageRectBottom;\n                checkStartPoint.y += 1;\n                if (this.pdfGantt.enableHeader) {\n                    newStartPoint.y += this.parent.timelineModule.isSingleTier ? pixelToPoint(45) : pixelToPoint(62);\n                }\n            }\n            else if (pageRectTop > endPoint.y) {\n                newStartPoint.y = checkStartPoint.y = pageRectTop - 1;\n                endPoint.y = pageRectTop;\n                if (this.pdfGantt.enableHeader) {\n                    checkStartPoint.y += this.parent.timelineModule.isSingleTier ? pixelToPoint(45) : pixelToPoint(62);\n                    endPoint.y += this.parent.timelineModule.isSingleTier ? pixelToPoint(45) : pixelToPoint(62);\n                }\n            }\n            pageIndex = this.findPageIndex(checkStartPoint);\n            if (pageIndex !== -1) {\n                this.drawLine(pdfPages[pageIndex + this.pdfGantt.chartPageIndex], newStartPoint, newEndPoint);\n            }\n        }\n        if (startPointCheck) {\n            startPoint = new PointF(startPoint.x, startPoint.y);\n            endPoint = new PointF(endPoint.x, endPoint.y);\n            startPoint.x = startPoint.x + pageData.pageStartX - pageData.startPoint.x;\n            startPoint.y = startPoint.y - pageData.startPoint.y;\n            endPoint.x = endPoint.x + pageData.pageStartX - pageData.startPoint.x;\n            endPoint.y = endPoint.y - pageData.startPoint.y;\n            var brush = new PdfSolidBrush(this.connectorLineColor);\n            var predecessorPen = new PdfPen(brush, pixelToPoint(this.lineWidth));\n            graphics.drawLine(predecessorPen, startPoint, endPoint);\n        }\n    };\n    /**\n     * Draw predecessor arrow\n     *\n     * @param {PdfPage} page .\n     * @param {PdfGanttTaskbarCollection} childTask .\n     * @param {number} midPoint .\n     * @returns {void} .\n     * @private\n     */\n    PdfGanttPredecessor.prototype.drawArrow = function (page, childTask, midPoint) {\n        var pageData = this.pdfGantt.pdfPageDetail[page.section.indexOf(page) - this.pdfGantt.chartPageIndex];\n        /* eslint-disable-next-line */\n        var pageRect = new RectangleF(new PointF(pageData.startPoint.x, pageData.startPoint.y), new SizeF(pageData.width, pageData.height));\n        var startPoint = new PointF();\n        var pdfPages = page.section.getPages();\n        var width = 6 + this.lineWidth;\n        var point2;\n        if (this.type === 'FS' || this.type === 'SS') {\n            startPoint = new PointF(pixelToPoint(this.childLeft) - 1, childTask.taskStartPoint.y + pageData.startPoint.y);\n        }\n        else {\n            startPoint = new PointF(pixelToPoint(this.childLeft + this.childWidth) + 1, childTask.taskStartPoint.y + pageData.startPoint.y);\n        }\n        var startPointCheck = this.contains(pageRect, startPoint.x, startPoint.y);\n        if (!startPointCheck) {\n            var pageIndex = this.findPageIndex(startPoint);\n            if (pageIndex > -1) {\n                pageData = this.pdfGantt.pdfPageDetail[pageIndex];\n                page = pdfPages[pageIndex + this.pdfGantt.chartPageIndex];\n            }\n        }\n        var graphics = page.graphics;\n        startPoint.x = startPoint.x - pageData.startPoint.x + pageData.pageStartX;\n        startPoint.y = startPoint.y - pageData.startPoint.y;\n        var point1 = new PointF(startPoint.x, startPoint.y + midPoint);\n        if (this.type === 'FS' || this.type === 'SS') {\n            point2 = new PointF(point1.x - pixelToPoint(width), point1.y - pixelToPoint(width));\n        }\n        else {\n            point2 = new PointF(point1.x + pixelToPoint(width), point1.y - pixelToPoint(width));\n        }\n        var point3 = new PointF(point2.x, point2.y + pixelToPoint(2 * width));\n        var brush = new PdfSolidBrush(this.connectorLineColor);\n        var predecessorPen = new PdfPen(brush, pixelToPoint(this.lineWidth));\n        graphics.drawLine(predecessorPen, point1, point2);\n        graphics.drawLine(predecessorPen, point2, point3);\n        graphics.drawLine(predecessorPen, point3, point1);\n    };\n    return PdfGanttPredecessor;\n}());\nexport { PdfGanttPredecessor };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { PdfGanttTaskbarCollection } from './pdf-taskbar';\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { PointF, PdfPen, PdfColor } from '@syncfusion/ej2-pdf-export';\nimport { PdfTreeGrid } from './pdf-treegrid';\nimport { PdfTimeline } from './pdf-timeline';\nimport { pixelToPoint, pointToPixel } from '../base/utils';\nimport { PdfGanttPredecessor } from './pdf-connector-line';\n/**\n *\n */\nvar PdfGantt = /** @class */ (function (_super) {\n    __extends(PdfGantt, _super);\n    function PdfGantt(parent) {\n        var _this = _super.call(this) || this;\n        _this.exportProps = {};\n        _this.parent = parent;\n        _this.chartHeader = new PdfTimeline(_this);\n        _this.predecessor = new PdfGanttPredecessor(parent, _this);\n        _this.headerDetails = [];\n        _this.pdfPageDetail = [];\n        _this.taskbarCollection = [];\n        _this.predecessorCollection = [];\n        return _this;\n    }\n    Object.defineProperty(PdfGantt.prototype, \"taskbar\", {\n        get: function () {\n            if (isNullOrUndefined(this.taskbars)) {\n                this.taskbars = new PdfGanttTaskbarCollection(this.parent);\n            }\n            return this.taskbars;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    PdfGantt.prototype.drawChart = function (result) {\n        this.result = result;\n        this.totalPages = this.result.page.section.count;\n        this.perColumnPages = this.totalPages / this.layouter.columnRanges.length;\n        this.calculateRange();\n        this.drawGantttChart();\n        this.drawPageBorder();\n    };\n    //Calcualte the header range for each pdf page based on schedule start and end date.\n    PdfGantt.prototype.calculateRange = function () {\n        var lastColumnRange = this.layouter.columnRanges[this.layouter.columnRanges.length - 1];\n        var totalColumnWidth = 0;\n        var isPageFinished = true;\n        var pageWidth = 0;\n        var remainWidth = 0;\n        var point = 0;\n        var headerWidth = pixelToPoint(this.chartHeader.width);\n        var timelineSettings = this.parent.timelineModule;\n        for (var index = lastColumnRange[0]; index <= lastColumnRange[1]; index++) {\n            totalColumnWidth += this.layouter.treegrid.columns.getColumn(index).width;\n        }\n        totalColumnWidth += 0.5;\n        if (totalColumnWidth + 100 < this.result.page.getClientSize().width) {\n            remainWidth = this.result.page.getClientSize().width - totalColumnWidth;\n            this.chartPageIndex = this.startPageIndex = this.totalPages - this.perColumnPages;\n            isPageFinished = false;\n            this.startPoint = new PointF(totalColumnWidth, 0);\n        }\n        else {\n            this.result.page.section.add();\n            this.chartPageIndex = this.startPageIndex = this.totalPages;\n            isPageFinished = true;\n            this.startPoint = new PointF(point, 0);\n        }\n        while (Math.round(point) < Math.round(headerWidth)) {\n            if (isPageFinished) {\n                pageWidth = this.result.page.getClientSize().width;\n            }\n            else {\n                pageWidth = remainWidth;\n                isPageFinished = true;\n            }\n            var detail = {};\n            var range = [];\n            var convertedWidth = pixelToPoint(this.chartHeader.bottomTierCellWidth);\n            var width = 0;\n            if (this.chartHeader.bottomTierCellWidth !== 0) {\n                width = (Math.floor(pageWidth / convertedWidth) * convertedWidth);\n            }\n            range[0] = point;\n            if (headerWidth - point <= width) {\n                range[1] = headerWidth;\n                detail.totalWidth = pointToPixel(headerWidth - point);\n            }\n            else {\n                range[1] = point + width;\n                detail.totalWidth = pointToPixel(width);\n            }\n            detail.startPoint = range[0];\n            detail.endPoint = range[1];\n            if (this.parent.cloneProjectStartDate.getHours() === 0 && this.parent.cloneProjectStartDate.getMinutes() === 0\n                && this.parent.cloneProjectStartDate.getSeconds() === 0) {\n                this.parent.cloneProjectStartDate.setHours(8);\n            }\n            var timelineStartDate = this.parent.dataOperation.getDateFromFormat(this.parent.cloneProjectStartDate);\n            var count = isNullOrUndefined(timelineSettings.customTimelineSettings.bottomTier.count) ?\n                timelineSettings.customTimelineSettings.topTier.count : timelineSettings.customTimelineSettings.bottomTier.count;\n            var scheduleType = timelineSettings.customTimelineSettings.bottomTier.unit === 'None' ?\n                timelineSettings.customTimelineSettings.topTier.unit : timelineSettings.customTimelineSettings.bottomTier.unit;\n            switch (scheduleType) {\n                case 'Minutes':\n                    {\n                        detail.startDate = new Date(timelineStartDate.getTime());\n                        var sDays = Math.floor(pointToPixel(detail.startPoint) / (this.chartHeader.bottomTierCellWidth));\n                        detail.startDate.setMinutes(detail.startDate.getMinutes() + sDays * count);\n                        detail.startDate.setSeconds(detail.startDate.getSeconds() + 1);\n                        detail.endDate = new Date(detail.startDate.getTime());\n                        var eDays = Math.floor(pointToPixel(detail.endPoint - detail.startPoint)\n                            / (this.chartHeader.bottomTierCellWidth));\n                        detail.endDate.setMinutes(detail.endDate.getMinutes() + eDays * count);\n                        break;\n                    }\n                case 'Hour':\n                    {\n                        detail.startDate = new Date(timelineStartDate.getTime());\n                        var sDays1 = Math.floor(pointToPixel(detail.startPoint) / (this.chartHeader.bottomTierCellWidth));\n                        detail.startDate.setHours(detail.startDate.getHours() + sDays1 * count);\n                        detail.startDate.setMinutes(detail.startDate.getMinutes() + 1);\n                        detail.endDate = new Date(detail.startDate.getTime());\n                        var eDays1 = Math.floor(pointToPixel(detail.endPoint - detail.startPoint)\n                            / (this.chartHeader.bottomTierCellWidth));\n                        detail.endDate.setHours(detail.endDate.getHours() + eDays1 * count);\n                        break;\n                    }\n                case 'Day':\n                    {\n                        detail.startDate = new Date(timelineStartDate.getTime());\n                        var startDays = (Math.round(detail.startPoint / pixelToPoint(this.chartHeader.bottomTierCellWidth)));\n                        detail.startDate.setDate(detail.startDate.getDate() + startDays * count);\n                        var endDays = Math.round(((detail.endPoint - detail.startPoint)\n                            / pixelToPoint(this.chartHeader.bottomTierCellWidth))) - 1;\n                        detail.endDate = new Date(detail.startDate.getTime());\n                        detail.endDate.setDate(detail.startDate.getDate() + endDays * count);\n                        break;\n                    }\n                case 'Week':\n                    {\n                        detail.startDate = new Date(timelineStartDate.getTime());\n                        var startDays1 = (detail.startPoint / pixelToPoint(this.chartHeader.bottomTierCellWidth) * 7);\n                        detail.startDate.setDate(detail.startDate.getDate() + startDays1 * count);\n                        var endDays1 = Math.round((detail.endPoint - detail.startPoint)\n                            / pixelToPoint(this.chartHeader.bottomTierCellWidth)) * 7 - 1;\n                        detail.endDate = new Date(detail.startDate.getTime());\n                        detail.endDate.setDate(detail.startDate.getDate() + endDays1 * count);\n                        break;\n                    }\n                case 'Month':\n                    {\n                        detail.startDate = new Date(timelineStartDate.getTime());\n                        var startDays2 = (detail.startPoint / pixelToPoint(this.chartHeader.bottomTierCellWidth) * 31);\n                        detail.startDate.setDate(detail.startDate.getDate() + startDays2 * count);\n                        var endDays2 = Math.round((detail.endPoint - detail.startPoint)\n                            / pixelToPoint(this.chartHeader.bottomTierCellWidth)) * 31 - 1;\n                        detail.endDate = new Date(detail.startDate.getTime());\n                        detail.endDate.setDate(detail.startDate.getDate() + endDays2 * count);\n                        break;\n                    }\n                case 'Year':\n                    {\n                        detail.startDate = new Date(timelineStartDate.getTime());\n                        var startDays3 = (detail.startPoint / pixelToPoint(this.chartHeader.bottomTierCellWidth) * 365);\n                        detail.startDate.setDate(detail.startDate.getDate() + startDays3 * count);\n                        var endDays3 = Math.round((detail.endPoint - detail.startPoint)\n                            / pixelToPoint(this.chartHeader.bottomTierCellWidth)) * 365 - 1;\n                        detail.endDate = new Date(detail.startDate.getTime());\n                        detail.endDate.setDate(detail.startDate.getDate() + endDays3 * count);\n                        break;\n                    }\n            }\n            this.headerDetails.push(detail);\n            point += width;\n        }\n    };\n    PdfGantt.prototype.drawPageBorder = function () {\n        var pages = this.result.page.section.getPages();\n        for (var index = 0; index < pages.length; index++) {\n            var page = pages[index];\n            var graphics = page.graphics;\n            var pageSize = page.getClientSize();\n            var pen = new PdfPen(new PdfColor(206, 206, 206));\n            graphics.drawRectangle(pen, 0, 0, pageSize.width, pageSize.height);\n        }\n    };\n    //Draw the gantt chart side\n    PdfGantt.prototype.drawGantttChart = function () {\n        var _this = this;\n        var taskbarPoint = this.startPoint;\n        var pagePoint = new PointF();\n        var pageStartX = 0;\n        var cumulativeWidth = 0;\n        var cumulativeHeight = 0;\n        var totalHeight = 0;\n        var pageData;\n        this.headerDetails.forEach(function (detail, index) {\n            var page = _this.result.page.section.getPages()[_this.startPageIndex];\n            _this.chartHeader.drawTimeline(page, _this.startPoint, detail);\n            taskbarPoint.y = taskbarPoint.y + pixelToPoint(_this.parent.timelineModule.isSingleTier ? 45 : 60); // headerHeight\n            pageStartX = taskbarPoint.x;\n            cumulativeHeight = pixelToPoint(_this.parent.timelineModule.isSingleTier ? 45 : 60); // headerHeight\n            _this.headerDetails[_this.headerDetails.indexOf(detail)].startIndex = _this.startPageIndex;\n            _this.headerDetails[_this.headerDetails.indexOf(detail)].pageStartPoint = taskbarPoint;\n            for (var i = 0; i < _this.taskbarCollection.length; i++) {\n                var task = _this.taskbarCollection[i];\n                var rowHeight = _this.rows.getRow(i + 1).height;\n                var pdfPage = _this.result.page.section.getPages()[_this.startPageIndex];\n                /* eslint-disable-next-line */\n                var isNextPage = task.drawTaskbar(pdfPage, taskbarPoint, detail, cumulativeWidth, rowHeight, _this.taskbarCollection[i]);\n                if (isNextPage) {\n                    if (_this.enableHeader) {\n                        taskbarPoint.y = pixelToPoint(_this.parent.timelineModule.isSingleTier ? 45 : 60);\n                    }\n                    else {\n                        taskbarPoint.y = 0;\n                    }\n                    _this.startPageIndex++;\n                    pageData = {};\n                    pageData.height = cumulativeHeight;\n                    pageData.pageStartX = pageStartX;\n                    pageData.startPoint = __assign({}, pagePoint);\n                    pageData.width = pixelToPoint(detail.totalWidth);\n                    _this.pdfPageDetail.push(pageData);\n                    pagePoint.y += pageData.height;\n                    if (_this.enableHeader) {\n                        cumulativeHeight = _this.chartHeader.height;\n                    }\n                    else {\n                        taskbarPoint.y = 0;\n                        cumulativeHeight = 0;\n                    }\n                }\n                taskbarPoint.y += rowHeight;\n                cumulativeHeight += rowHeight;\n                // eslint-disable-next-line\n                totalHeight += rowHeight;\n            }\n            _this.headerDetails[index].endIndex = _this.startPageIndex;\n            cumulativeWidth += detail.totalWidth;\n            pageData = {};\n            pageData.height = cumulativeHeight;\n            pageData.pageStartX = pageStartX;\n            pageData.startPoint = __assign({}, pagePoint);\n            pageData.width = pixelToPoint(detail.totalWidth);\n            _this.pdfPageDetail.push(pageData);\n            pagePoint.x += pageData.width;\n            pagePoint.y = 0;\n            if (_this.enableHeader) {\n                cumulativeHeight = _this.chartHeader.height;\n            }\n            else {\n                taskbarPoint.y = 0;\n            }\n            if (_this.headerDetails.indexOf(detail) !== _this.headerDetails.length - 1) {\n                _this.result.page.section.add();\n                _this.startPageIndex = _this.result.page.section.count - 1;\n                taskbarPoint = _this.startPoint = new PointF(0, 0);\n            }\n        });\n        // Draw predecessor line.\n        for (var i = 0; i < this.predecessorCollection.length; i++) {\n            var predecessor = this.predecessorCollection[i];\n            predecessor.drawPredecessor(this);\n        }\n    };\n    return PdfGantt;\n}(PdfTreeGrid));\nexport { PdfGantt };\n","import { PdfGanttTheme } from './../export/pdf-base/pdf-style/gantt-theme';\nimport { PdfTreeGridLayoutFormat } from './../export/pdf-base/index';\nimport { isNullOrUndefined, getValue, extend } from '@syncfusion/ej2-base';\nimport { ExportHelper } from '../export/export-helper';\nimport { PdfDocument, PdfPageSettings, PdfPageOrientation, SizeF, PdfLayoutBreakType } from '@syncfusion/ej2-pdf-export';\nimport { PdfGantt } from '../export/pdf-gantt';\n/**\n *\n * @hidden\n */\nvar PdfExport = /** @class */ (function () {\n    /**\n     * @param {Gantt} parent .\n     * @hidden\n     */\n    function PdfExport(parent) {\n        this.isPdfExport = false;\n        this.parent = parent;\n        this.helper = new ExportHelper(this.parent);\n        this.pdfDocument = undefined;\n    }\n    /**\n     * @returns {string} .\n     */\n    PdfExport.prototype.getModuleName = function () {\n        return 'pdfExport';\n    };\n    /**\n     * To destroy Pdf export module.\n     *\n     * @returns {void} .\n     * @private\n     */\n    PdfExport.prototype.destroy = function () {\n        // Destroy Method\n    };\n    PdfExport.prototype.initGantt = function () {\n        this.pdfDocument = undefined;\n        this.gantt = new PdfGantt(this.parent);\n        // this.gantt.exportValueFormatter = new ExportValueFormatter(this.parent.locale);\n    };\n    /**\n     * @param {PdfExportProperties} pdfExportProperties .\n     * @param {boolean} isMultipleExport .\n     * @param {object} pdfDoc .\n     * @returns {Promise<Object>} .\n     */\n    // eslint-disable-next-line\n    PdfExport.prototype.export = function (pdfExportProperties, isMultipleExport, pdfDoc) {\n        var _this = this;\n        // eslint-disable-next-line\n        var args = {\n            requestType: 'beforePdfExport',\n            ganttObject: this.parent,\n            cancel: false\n        };\n        this.parent.trigger('beforePdfExport', args);\n        if (getValue('cancel', args)) {\n            /* eslint-disable-next-line */\n            return new Promise(function (resolve, reject) {\n                return resolve();\n            });\n        }\n        /* eslint-disable-next-line */\n        return new Promise(function (resolve, reject) {\n            _this.exportWithData(pdfDoc, resolve, pdfExportProperties, isMultipleExport);\n        });\n    };\n    // eslint-disable-next-line\n    PdfExport.prototype.exportWithData = function (pdfDoc, resolve, pdfExportProperties, isMultipleExport) {\n        var _this = this;\n        var data = [];\n        if (isNullOrUndefined(pdfExportProperties)) {\n            pdfExportProperties = {};\n        }\n        if (pdfExportProperties.exportType === 'CurrentViewData') {\n            data = this.parent.currentViewData;\n        }\n        else {\n            data = this.parent.flatData;\n        }\n        this.initGantt();\n        if (!isNullOrUndefined(pdfDoc)) {\n            this.pdfDocument = pdfDoc;\n        }\n        else {\n            this.pdfDocument = new PdfDocument();\n        }\n        this.processExport(data, pdfExportProperties, isMultipleExport).then(function () {\n            _this.parent.trigger('pdfExportComplete', {});\n            resolve(_this.pdfDocument);\n        });\n    };\n    // eslint-disable-next-line\n    PdfExport.prototype.processExport = function (data, pdfExportProperties, isMultipleExport) {\n        var _this = this;\n        var section = this.pdfDocument.sections.add();\n        this.processSectionExportProperties(section, pdfExportProperties);\n        var pdfPage = section.pages.add();\n        /* eslint-disable-next-line */\n        return new Promise(function (resolve, reject) {\n            _this.helper.processGridExport(data, _this.gantt, pdfExportProperties);\n            _this.helper.initializePdf(_this.pdfDocument);\n            resolve();\n        }).then(function () {\n            var format = new PdfTreeGridLayoutFormat();\n            format.break = PdfLayoutBreakType.FitElement;\n            var layouter = _this.gantt.drawGrid(pdfPage, 0, 0, format);\n            _this.gantt.drawChart(layouter);\n            if (!isMultipleExport) {\n                // save the PDF\n                if (!isNullOrUndefined(pdfExportProperties) && pdfExportProperties.fileName) {\n                    _this.pdfDocument.save(pdfExportProperties.fileName);\n                }\n                else {\n                    _this.pdfDocument.save('Export.pdf');\n                }\n                _this.pdfDocument.destroy();\n            }\n            return _this.pdfDocument;\n        });\n    };\n    PdfExport.prototype.processSectionExportProperties = function (section, pdfExportProperties) {\n        //To set section page size and page orientation.\n        if (!isNullOrUndefined(pdfExportProperties)) {\n            var pdfPageSettings = new PdfPageSettings();\n            if (!isNullOrUndefined(pdfExportProperties.pageOrientation && pdfExportProperties.pageOrientation === 'Portrait')) {\n                pdfPageSettings.orientation = PdfPageOrientation.Portrait;\n            }\n            else {\n                pdfPageSettings.orientation = PdfPageOrientation.Landscape;\n            }\n            if (!isNullOrUndefined(pdfExportProperties.pageSize)) {\n                pdfPageSettings.size = this.getPageSize(pdfExportProperties.pageSize);\n            }\n            section.setPageSettings(pdfPageSettings);\n            if (!isNullOrUndefined(pdfExportProperties.ganttStyle)) {\n                var defaultGanttTheme = new PdfGanttTheme(pdfExportProperties.theme).style;\n                this.gantt.ganttStyle = extend({}, defaultGanttTheme, pdfExportProperties.ganttStyle, true);\n            }\n            else {\n                this.gantt.ganttStyle = new PdfGanttTheme(pdfExportProperties.theme).style;\n            }\n        }\n        else {\n            this.gantt.ganttStyle = new PdfGanttTheme(pdfExportProperties.theme).style;\n        }\n    };\n    PdfExport.prototype.getPageSize = function (pageSize) {\n        switch (pageSize) {\n            case 'Letter':\n                return new SizeF(612, 792);\n            case 'Note':\n                return new SizeF(540, 720);\n            case 'Legal':\n                return new SizeF(612, 1008);\n            case 'A0':\n                return new SizeF(2380, 3368);\n            case 'A1':\n                return new SizeF(1684, 2380);\n            case 'A2':\n                return new SizeF(1190, 1684);\n            case 'A3':\n                return new SizeF(842, 1190);\n            case 'A5':\n                return new SizeF(421, 595);\n            case 'A6':\n                return new SizeF(297, 421);\n            case 'A7':\n                return new SizeF(210, 297);\n            case 'A8':\n                return new SizeF(148, 210);\n            case 'A9':\n                return new SizeF(105, 148);\n            // case 'A10':\n            //     return new SizeF(74, 105);\n            case 'B0':\n                return new SizeF(2836, 4008);\n            case 'B1':\n                return new SizeF(2004, 2836);\n            case 'B2':\n                return new SizeF(1418, 2004);\n            case 'B3':\n                return new SizeF(1002, 1418);\n            case 'B4':\n                return new SizeF(709, 1002);\n            case 'B5':\n                return new SizeF(501, 709);\n            case 'Archa':\n                return new SizeF(648, 864);\n            case 'Archb':\n                return new SizeF(864, 1296);\n            case 'Archc':\n                return new SizeF(1296, 1728);\n            case 'Archd':\n                return new SizeF(1728, 2592);\n            case 'Arche':\n                return new SizeF(2592, 3456);\n            case 'Flsa':\n                return new SizeF(612, 936);\n            case 'HalfLetter':\n                return new SizeF(396, 612);\n            case 'Letter11x17':\n                return new SizeF(792, 1224);\n            case 'Ledger':\n                return new SizeF(1224, 792);\n            default:\n                return new SizeF(595, 842);\n        }\n    };\n    return PdfExport;\n}());\nexport { PdfExport };\n","import { TreeGrid, VirtualScroll as TreeGridVirtualScroll } from '@syncfusion/ej2-treegrid';\n/**\n * Gantt Virtual Scroll module will handle Virtualization\n *\n * @hidden\n */\nvar VirtualScroll = /** @class */ (function () {\n    function VirtualScroll(parent) {\n        this.parent = parent;\n        this.bindTreeGridProperties();\n    }\n    /**\n     * Get module name\n     *\n     * @returns {void} .\n     */\n    VirtualScroll.prototype.getModuleName = function () {\n        return 'virtualScroll';\n    };\n    /**\n     * Bind virtual-scroll related properties from Gantt to TreeGrid\n     *\n     * @returns {void} .\n     */\n    VirtualScroll.prototype.bindTreeGridProperties = function () {\n        this.parent.treeGrid.enableVirtualization = this.parent.enableVirtualization;\n        TreeGrid.Inject(TreeGridVirtualScroll);\n    };\n    /**\n     * @returns {number} .\n     * @private\n     */\n    VirtualScroll.prototype.getTopPosition = function () {\n        var virtualTable = this.parent.ganttChartModule.scrollElement.querySelector('.e-virtualtable');\n        var top = virtualTable.style.transform.split(',')[1].trim().split(')')[0];\n        return parseFloat(top);\n    };\n    /**\n     * To destroy the virtual scroll module.\n     *\n     * @returns {void} .\n     * @private\n     */\n    VirtualScroll.prototype.destroy = function () {\n        // destroy module\n    };\n    return VirtualScroll;\n}());\nexport { VirtualScroll };\n","import * as index from './index';\nindex.Gantt.Inject(index.Filter, index.Selection, index.Sort, index.Reorder, index.Resize, index.Edit, index.DayMarkers, index.Toolbar, index.ContextMenu, index.ExcelExport, index.RowDD, index.ColumnMenu, index.PdfExport, index.VirtualScroll);\nexport * from './index';\n"],"names":["parentsUntil","elem","selector","isID","parent","id","classList","contains","parentElement","isScheduledTask","ganttProp","isNullOrUndefined","startDate","endDate","duration","isCountRequired","dataSource","DataManager","getSwapKey","obj","temp","_i","_a","Object","keys","length","key","isRemoteData","adaptor","ODataAdaptor","ODataV4Adaptor","WebApiAdaptor","WebMethodAdaptor","CacheAdaptor","RemoteSaveAdaptor","JsonAdaptor","UrlAdaptor","getTaskData","records","isNotExtend","result","i","data","extend","taskData","push","formatString","str","args","regx","RegExp","replace","toString","getIndex","value","key1","collection","key2","index","getValue","pixelToPoint","pointToPixel","getUid","uid","DateProcessor","this","prototype","isValidateNonWorkDays","isAutoSchedule","includeWeekend","totalHolidayDates","checkStartDate","date","validateAsMilestone","isLoad","cloneStartDate","Date","getTime","hour","getSecondsInDecimal","isMilestone","defaultStartTime","setTime","defaultEndTime","setDate","getDate","workingTimeRanges","to","from","tStartDate","holidayLength","startTime","tempDate","getNextWorkingDay","count","holidayFrom","getDateFromFormat","holidayTo","setHours","checkEndDate","cloneEndDate","tempCheckDate","getPreviousWorkingDay","tempHoliday","setMinutes","getMilliseconds","checkBaselineStartDate","cloneDate","checkBaselineEndDate","calculateStartDate","ganttData","ganttProperties","tempStartDate","getStartDate","durationUnit","setRecordValue","taskFields","dataOperation","updateMappingData","calculateEndDate","tempEndDate","compareDates","calculateDuration","segments","totalDuration","getEndDate","offsetDuration","tDuration","editModule","taskbarEditModule","sumOfDuration","getDuration","col","columnByField","columnMapping","cellEditModule","isCellEdit","edit","read","dialog","dialogModule","textBox","querySelector","element","ej2_instances","dataBind","getNonworkingTime","sDate","eDate","isCheckTimeZone","weekendCount","getWeekendCount","totalHours","getNumberOfSeconds","holidaysCount","getHolidaysCount","totWorkDays","nonWorkHours","getNonWorkingSecondsOnDate","secondsPerDay","durationValue","durationHours","getTimeDifference","getFormatedDate","parseFloat","getDurationAsSeconds","tempStart","secondDuration","setSeconds","getSeconds","tempEnd","getProjectStartDate","cloneProjectStartDate","projectStartDate","flatData","minStartDate","getValidStartDate","isAuto","autoStartDate","autoEndDate","autoDuration","getValidEndDate","getSecondsPerDay","dayWorkingTime","totalSeconds","nonWorkingHours","nonWorkingTimeRanges","currentRange","startHour","endHour","timeDiff","sdSeconds","edSeconds","isWorking","interval","getDurationValue","isFromDialog","values","match","trim","unit","toLowerCase","durationUnitEditText","indexOf","dayIndex","getDay","nonWorkingDayIndex","holidays","currentHoliday","getHolidayDates","holidayDates","isOnHolidayOrWeekEnd","checkWeekEnd","sHour","eHour","startRangeIndex","endRangeIndex","totNonWrkSecs","startOnHoliday","endOnHoliday","val","getMonth","getFullYear","previousIndex","getNonWorkingDayIndex","weekDay","weekDayLength","workWeek","slice","seconds","min","parseInt","sec","updateDateWithTimeZone","uTZ","uDate","sTZ","getTimezoneOffset","eTZ","standardTZ","tzDiff","getHours","getMinutes","offset","localOffset","timezone","convertedDate","toLocaleString","timeZone","isNaN","convert","fromOffset","toOffset","toLocalOffset","toConvert","updatedDate","dateObject","globalize","parseDate","format","getDateFormat","type","date1","date2","getDurationString","toFixed","plural","localeObj","getConstant","getWorkString","work","workUnit","calculateProjectDatesForValidatedTasks","editArgs","_this","projectEndDate","maxEndDate","sortedStartDate","sort","a","b","sortedEndDate","cloneProjectEndDate","calculateProjectDates","timelineModule","isZooming","currentViewData","taskRange","addDateToList","sortDates","dates","isZoomToFit","treeGrid","filterModule","filteredResult","forEach","task","renderBaseline","baselineStartDate","baselineEndDate","indicators","item","eventMarkers","marker","day","holiday","setValue","splitTasksDuration","segment","Math","ceil","__extends","extendStatics","d","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","create","TaskProcessor","_super","call","recordIndex","taskIds","hierarchyData","addEventListener","on","checkDataBinding","bind","isChange","updatedRecords","dataArray","ids","predecessorsCollection","parentData","processTimeline","renderGantt","initDataSource","ganttdata","cloneDataSource","enableValidation","validateTimelineProp","queryManager","query","Query","requiresCount","executeQuery","then","e","catch","trigger","error","constructDataSource","mappingData","executeLocal","group","parentID","rootData","groupData","child","items","apply","dataReorder","taskIdMapping","parentIdMapping","hierarchicalData","tempData","segmentId","segmentCollection","segmentData","viewType","resources","unassignedTasks","constructResourceViewDataSource","record","resourceFields","name","prepareDataSource","this_1","resourceData","resourceInfo","resourceIdMapping","resource","j","prepareRecordCollection","calculateSharedTaskUniqueIds","dependency","predecessorModule","ensurePredecessorCollection","this_2","getTaskIds","sharedRecords_1","ids_1","filter","taskId","level","rowUniqueID","sharedTaskUniqueIds","parentItem","this_3","x","createRecord","updateTaskLeftWidth","setTaskIds","childData","parentProp","updateWorkWithDuration","parentWork","floor","calculateAutoDuration","updateAutoWidthLeft","resetDependency","updateWidthLeft","updateTaskData","addCustomFieldValue","ganttRecord","columns","ganttColumns","undefined","field","taskSettings","progress","predecessors","autoSchedule","taskMode","manual","addTaskData","setResourceInfo","updateResourceName","calculateScheduledValues","notes","cssClass","getCloneParent","parentUniqId","uniqueID","hasChildRecords","collapseAllParentTasks","updateExpandStateMappingValue","calculateWidth","calculateLeft","getProgressWidth","width","calculateBaselineLeft","calculateBaselineWidth","childRecords","uniqueId","allowUnscheduledTasks","setSegmentsInfo","sortSegmentsData","onLoad","ganttSegments","remainingDuration","left","segmentIndex","setSegmentTaskData","segmenttaskData","Number","resourcesLength","resourceUnit","actualOneDayWork","durationInDay","getDurationInDay","cloneParent","expanded","reUpdateResources","dataManager","json","offline","updatableValue","expandStateMapping","expandState","mappingValue","setValidatedDates","updateDurationValue","isMileStone","milestone","durationMapping","validateDurationUnitMapping","validateWorkUnitMapping","taskTypeMapping","tType","validateTaskTypeMapping","calculateDateFromStartDate","calculateDateFromEndDate","taskType","updateUnitWithWork","updateDurationWithWork","totalResourceOneDayWork","updatedDuration","getWorkInHour","totalUnitInPercentage","individualUnit","parentWidth","percent","getTaskWidth","getTaskbarHeight","rowHeight","taskBarHeight","taskbarHeight","getTaskLeft","calculateAutoLeft","calculateAutoWidth","bottomTier","topTier","perDayWidth","timelineStartDate","getSplitTaskWidth","getSplitTaskLeft","segmentTaskStartDate","stDate","fieldName","resourceSettings","resourcesId","resourcesName","resName","join","updateTaskDataResource","setRecordDate","setRecordDuration","segmentTaskData","contextMenuModule","preTaskResources","isAdded","data_1","k","mapping","dataMapping","taskName","parentId","resourceIdCollection","isAddNewResource","ganttResources","resourceIDMapping","resourceUnitMapping","resourceGroup","ganttDataResource","updateResourceUnit","length_1","resourceName","taskResources","flatCollection","rootCollection","shift","splice","toLocaleLowerCase","tempDuration","reUpdateGanttData","updateGanttData","_isInStartDateRange","isInRange","_isInEndDateRange","updateOverlappingValues","resourceTask","currentTask","tasks","ranges","workTimelineRanges","setSortedChildTasks","updateOverlappingIndex","cStartDate","cEndDate","range","tEndDate","rangeObj_1","mergeRangeCollections","calculateRangeLeftWidth","eOverlapIndex","isSplit","finalRange","currentTopRange","cCompareRange","sortedRanges","sortBy","splitRangeCollection","rangeCollection","fromField","toField","isSingleTier","getRangeWithWeek","getRangeWithDay","splitArray","splitRangeForDayMode","fromString","end","rangeObject","nStart","nEndDate","nextAvailDuration","round","splitRangeForWeekMode","start","isInSplit","rangeObj","getParentTask","updateParentItems","reUpdateGanttDataPosition","fixedWidth","totalTaskWidth","totalProgressWidth","chartRowsModule","incrementSegments","showProgress","progressWidth","pStartDate","autoWidth","getParentProgress","childGanttRecord","progressValues","totalProgress","recordProp","isParent","deleteUpdate","previousStartDate","previousEndDate","childLength","milestoneCount","childCompletedWorks","isOnDelete","isDelete","isBlazor","getRecordByID","editedRecords","taskCount","parentProgress","timelineSingleHeaderOuterDiv","leftLabelContainer","rightLabelContainer","taskBarMainContainer","taskLabel","childProgressBarInnerDiv","baselineBar","chartRow","childProgressResizer","traceChildTaskBar","manualParentTaskBar","label","dependencyViewContainer","connectorPointLeft","content","rangeContainer","ChartScroll","previousScroll","top","ganttChartModule","scrollElement","addEventListeners","gridScrollHandler","EventHandler","add","onScroll","removeEventListeners","remove","off","scrollTop","isFromTreeGrid","updateTopPosition","contentScrollTop","virtualScrollModule","enableVirtualization","getTopPosition","dayMarkersModule","holidayContainer","weekendContainer","eventMarkersContainer","style","formatUnit","chartVerticalLineContainer","scrollArgs","notify","previousScrollTop","scrollDirection","action","scrollLeft","chartTimelineContainer","previousScrollLeft","requestType","setHeight","height","setWidth","setScrollTop","setScrollLeft","destroy","VirtualContentRenderer","renderWrapper","wrapper","createElement","className","styles","chartBodyContent","appendChild","appendChildElements","taskTable","adjustTable","getContent","virtualRender","transform","GanttChart","isExpandCollapseFromChart","isExpandAll","isGanttElement","rangeViewContainer","cls.rangeContainer","renderChartContainer","renderChartElements","renderInitialContents","renderChartContents","wireEvents","chartElement","chartPane","renderTimelineContainer","renderBodyContainers","createTimelineSeries","renderOverAllocationContainer","innerHTML","grid","filterSettings","renderRangeContainer","renderChartRows","connectorLineIds","updatedConnectorLineCollection","createConnectorLinesCollection","connectorLineModule","renderConnectorLines","showOverAllocation","updateWidthAndHeight","setOverflowStyle","overflow","offsetHeight","recordLength","renderRange","getTopValue","currentRecord","getExpandedRecords","getRangeHeight","topValue","sameIDElement","parentDiv","enableMultiTaskbar","leftDiv","cls.rangeChildContainer","rightDiv","chartBodyContainer","cls.chartScrollElement","scrollObject","toolbarHeight","toolbarModule","ganttHeight","emptydivHeight","emptyHeight","contentHeight","totalTimelineWidth","updateGridLineContainerHeight","updateLastRowBottomWidth","expandedRecords","lastExpandedRow","lastExpandedRowIndex","lastRow","getRowByIndex","table","ganttChartTableBody","querySelectorAll","removeClass","clientHeight","addClass","removeEventListener","isDestroyed","ganttChartMouseDown","which","tabIndex","ganttChartMouseClick","autoFocusTasks","scrollToTarget","ganttChartMouseUp","row","closest","target","rowIndex","updateScrollLeft","scrollWidth","offsetWidth","mouseUp","documentMouseUp","allowRowDragAndDrop","ganttDragElemet","isTaskbarEdited","editSettings","allowTaskbarEditing","showActiveElement","focusedElement","isOnTaskbarElement","cls.taskBarMainContainer","chartExpandCollapseRequest","removeFalseLine","onTaskbarClick","taskbarElement","getRecordByTarget","ganttChartLeave","ganttChartMove","connectorLineEditModule","updateConnectorLineEditElement","contextClick","allowFiltering","closeFilterOnContextClick","srcElement","mouseMoveHandler","onMouseMove","originalEvent","rowData","rowElement","columnElement","cellIndex","column","indicator","predecessor","tooltipModule","getPredecessorTooltipData","getMarkerTooltipData","dataset","doubleClickHandler","recordDoubleClick","getAttribute","getChartRows","document","getElementById","gridRow","getRows","cancel","collapseGanttRow","expandGanttRow","reRenderConnectorLines","isCancel","collapsedGanttRow","arg","getElement","expandCollapseChartRows","collapseRow","renderMultiTaskbar","updateContentHeight","setAttribute","expandedGanttRow","expandRow","refreshRecords","isChild","displayType","targetElement","t","chartRows","rows","display","expandCollapseAll","expandAll","collapseAll","focus","expandAtLevel","collapseAtLevel","isIE11Pointer","Browser","isPointer","mouseDown","touchStartEvent","touchEndEvent","mouseMove","touchMoveEvent","isAdaptive","click","body","unWireEvents","getRecordByTaskBar","getIndexByTaskBar","onTabAction","enableHeaderFocus","isInEditedState","$target","focusModule","setActiveElement","focusedRowIndex","isTab","nextElement","getNextElement","manageFocus","preventDefault","allowNextRowEdit","columnName","endEdit","editCell","fmodule","currentInfo","elementToFocus","matrix","current","nextElementSibling","previousElementSibling","matches","getElementsByClassName","validateNextElement","getNextRowElement","getChildElement","isChartRow","currentItem","expandedRecordIndex","nextRecord","nextRowIndex","elementByClass","hasChildNodes","childElement","children","isChartElement","getElementsByTagName","blur","cls.chartRow","childNodes","__assign","assign","s","n","arguments","Timeline","ganttObj","isZoomIn","topTierCollection","bottomTierCollection","initProperties","timelineEndDate","customTimelineSettings","isTimelineRoundOff","roundOffDays","processTimelineProperty","timelineWidthCalculation","refreshTimeline","processTimelineUnit","updateProjectDates","refreshTimelineByTimeSpan","updateChartByNewTimeline","refreshChartByTimeline","processZooming","zoomingProjectStartDate","zoomingProjectEndDate","currentZoomingLevel","checkCurrentZoomingLevel","currentLevel","zoomingLevels","enableItems","controlId","newTimeline","timeline","changeTimelineSettings","skipProperty","property","processZoomToFit","zoomingLevel","firstValue","secondValue","totalDays","chartWidth","sortedCollectons","roundOffDateToZoom","numberOfCells","calculateNumberOfTimelineCells","scrollHeight","emptySpace","timelineUnitSize","abs","isStartDate","tierMode","roundOffTime","numberOfDays","directProperty","innerProperty","tierUnits","extendFunction","timelineSettings","timelineViewMode","previousIsSingleTier","validateCount","validateFormat","weekStartDay","calculateZoomingLevelsPerDayWidth","collections","getPerDayWidth","zoomLevel","getCurrentZoomingLevel","currentZoomCollection","checkSameCountLevels","getZoomingLevels","sameUnitLevels","tempLevel","closestUnit_1","getClosestUnit","sortedUnitLevels","checkCollectionsWidth","closetUnit","isCont","bottomTierUnits","checkSameLevels","zoomLevels","sortedZoomLevels","updateTimelineHeaderHeight","cls.timelineSingleHeaderOuterDiv","tr","td","div","thead","loopCount","tier","createTimelineTemplate","mode","difference","tierCount","timeDifference","timelineRoundOffEndDate","validateBottomTierCount","tierFormat","cloneObj","propertyCollection","tempObj","formatDateHeader","dayFormat","dateString","formatDate","locale","customFormat","formatter","window","increment","newTime","parentTh","parentTr","scheduleDateCollection","timelineCell","getHeaterTemplateString","getIncrement","tierCollection","getTimelineRoundOffEndDate","firstDay","lastDay","dayIntervel","isWeekendHeaderCell","scheduleWeeks","isLast","thWidth","cellWidth","calculateWidthBetweenTwoDate","isWeekendCell","textClassName","weekendBackground","showTooltip","isWeekend","bottomTierCount","topTierCount","bottomTierCellWidth","topTierCellWidth","roundOffStartDate","last","updateScheduleDatesByToolBar","span","updateTimeLineOnEditing","tempArray","isChanged","filteredStartDateRecord","pdc","filteredEndDateRecord","DataUtil","aggregates","max","validStartDate","validEndDate","maxStartLeft","maxEndLeft","validStartLeft","validEndLeft","performTimeSpanAction","isFrom","timeSpanActionEvent","ProjectEndDate","eventType","Column","options","allowEditing","allowReordering","allowResizing","allowSorting","merge","GanttTreeGrid","queryCellInfo","headerCellInfo","rowDataBound","columnMenuOpen","columnMenuClick","TreeGrid","allowSelection","allowKeyboard","enableImmutableMode","treeGridColumns","validateGanttColumns","createContainer","updateScrollTop","renderReactTemplate","renderTemplates","treeGridElement","tempHeader","treeGridPane","renderTreeGrid","composeProperties","bindEvents","appendTo","showColumnMenu","columnMenuItems","childMapping","treeColumnIndex","hasChildMapping","gridLines","searchSettings","fields","getContentDiv","getHeaderDiv","getScrollbarWidth","outer","visibility","msOverflowStyle","inner","scrollbarWidth","parentNode","removeChild","ensureScrollBar","headerDiv","isMobile","test","navigator","userAgent","cssText","dataBound","collapsing","collapsed","expanding","actionBegin","actionComplete","treeActionComplete","created","actionFailure","beforeDataBound","dataStateChange","treeDataBound","prevCurrentView","callBackPromise","Deferred","collapsingArgs","createExpandCollapseArgs","resolve","expandingArgs","updateExpandStatus","collapsedArgs","expandedArgs","getTaskByUniqueID","updateKeyConfigSettings","updatedArgs","deleteObject","initiateCellEdit","currentEditRow","refreshToolbarItems","updateDataArgs","isCancelled","keyboardModule","keyConfigs","delete","insert","upArrow","downArrow","ctrlHome","ctrlEnd","enter","tab","shiftTab","ctrlShiftUpArrow","ctrlShiftDownArrow","ctrlUpArrow","ctrlDownArrow","scrollHandler","treeGridClickHandler","isOpen","contextMenu","close","customColumns","tasksMapping","headerText","editType","bindTreeGridColumnProperties","createTreeGridColumn","composeUniqueIDColumn","isDefined","disableHtmlEncode","clipMode","composeIDColumn","params","renderDayCell","renderWorkingDayCell","valueAccessor","durationValueAccessor","composeProgressColumn","composeResourceColumn","template","setProperties","showInlineNotes","colName","workValueAccessor","taskTypeValueAccessor","modeValueAccessor","text","resourceValueAccessor","getResourceIds","isPrimaryKey","idValueAccessor","visible","newGanttColumn","treeGridColumn","ganttColumn","prop","GanttColumn","resourceNames","__decorate","decorators","desc","c","r","getOwnPropertyDescriptor","Reflect","decorate","defineProperty","DayWorkingTime","Property","ChildProperty","AddDialogFieldSettings","EditDialogFieldSettings","EditSettings","EventMarker","FilterSettings","Collection","Predicate","SearchSettings","Holiday","LabelSettings","SelectionSettings","SplitterSettings","TaskFields","TimelineTierSettings","TimelineSettings","Complex","TooltipSettings","SortDescriptor","SortSettings","ResourceFields","ChartRows","milestoneHeight","milesStoneRadius","baselineTop","baselineHeight","touchLeftConnectorpoint","touchRightConnectorpoint","dropSplit","refreshedTr","refreshedData","initPublicProp","createChartTable","initiateTemplates","refreshGanttRows","cls.taskTable","attrs","cellspacing","colgroup","initChartHelperPrivateVariable","initializeChartTemplate","createTaskbarTemplate","isGanttChartRendered","getIndicatorNode","templateString","getIndicatorleft","iconClass","createDivElement","dateValidationModule","getChildTaskbarNode","rootElement","childTaskbarNode","templateData","childTaskbarTemplateFunction","getTemplateID","labelString","taskbarInnerDiv","progressDiv","cls.childProgressBarInnerDiv","getBorderRadius","taskLabelTemplateFunction","taskLabelTemplateNode","tempDiv","getTaskLabel","labelSettings","splitTaskbar","cls.traceChildTaskBar","splitTasks","generateSpiltTaskAriaLabel","getSplitTaskbarLeftResizerNode","getSplitTaskBorderRadius","cls.taskLabel","getSplitTaskbarRightResizerNode","getSplitProgressResizerNode","rResizerLeft","getSegmentIndex","splitStartDate","mergeTask","segmentIndexes","mergeArrayLength","mergeData","firstSegmentIndex","arrayLength","firstSegment","secondSegment","secondSegmentIndex","insertIndex","refreshChartAfterSegment","updatedRecordsDateByPredecessor","removePreviousConnectorLines","refreshEditedRecordConnectorLine","refreshRow","triggerQueryTaskbarInfoByIndex","selectionModule","clearSelection","splitTask","splitDates","splitDate","splitRecord","segmentDuration","splitSegmentedTaskbar","constructSegments","segmentsArray","checkClickState","segmentEndDate","endDateState","diff","getMilestoneNode","milestoneNode","milestoneTemplateFunction","getTaskBaselineNode","baselineLeft","baselineWidth","baselineColor","getMilestoneBaselineNode","milestoneMarginTop","getLeftLabelNode","leftLabelNode","generateTaskLabelAriaLabel","leftLabelTemplateNode","leftTaskLabelTemplateFunction","leftLabel","getLableText","labelDiv","taskBarMarginTop","spanElem","cls.label","getRightLabelNode","rightLabelNode","rightLabelTemplateNode","rightTaskLabelTemplateFunction","rightLabel","getManualTaskbar","innerDiv","cls.manualParentTaskBar","autoLeft","milestoneTemplate","getParentTaskbarNode","parentTaskbarNode","parentTaskbarTemplateFunction","tHeight","getExpandClass","progressBarInnerDiv","parentTaskLabelNode","getTableTrNode","getRowClassName","getExpandDisplayProp","parentTaskbarTemplate","templateCompiler","isTemplate","taskbarTemplate","templateName","updateTaskbarBlazorTemplate","isUpdate","updateBlazorTemplate","resetBlazorTemplate","cls.leftLabelContainer","taskNameWidth","taskbarContainer","manualParent","taskBarEditAction","getUnscheduledTaskClass","cls.rightLabelContainer","getRightLabelLeft","childTaskbarLeftResizer","childTaskbarRightResizer","childTaskbarProgressResizer","getLeftPointNode","pointerLeft","connectorPointWidth","mileStoneLeft","pointerTop","connectorPointMargin","cls.connectorPointLeft","getRightPointNode","pointerRight","resultString","getResourceName","getFieldValue","getExpandStatus","rowClass","length_2","getCurrentViewRecords","trs","collapsedResourceRecord","treeGridModule","oldKeys","oldRowElements","getPrimaryKeyFieldNames","oldIndex","modifiedRecIndex","modifiedRecords","tRow","getGanttChartRow","tempTemplateData","maintainSelectedRecords","triggerQueryTaskbarInfo","taskBaselineTemplateNode","parentTrNode","taskbarContainerNode","generateAriaLabel","connectorLineLeftNode","parentTaskbarTemplateNode","manualTaskbar","milestoneTemplateNode","scheduledTask","childTaskbarProgressResizeNode","childTaskbarRightResizeNode","childTaskbarLeftResizeNode","childTaskbarTemplateNode","length_3","segmentConnector","i_1","connectorLineRightNode","taskIndicatorNode","taskIndicatorTextNode","indicatorIndex","title","tooltip","setAriaRowIndex","queryTaskbarInfo","trElement","segmentLength","segmentElement","triggerTaskbarElement","taskbarType","classCollections","getClassName","milestoneColor","getComputedStyle","borderBottomColor","childTask","progressTask","taskbarBgColor","backgroundColor","taskbarBorderColor","borderColor","progressBarBgColor","cls.baselineBar","taskLabelColor","color","rightLabelColor","leftLabelColor","taskbarArgs","updateQueryTaskbarInfoArgs","taskBarElement","borderTopColor","classCollection","compile","isValidateRange","selectedItem","replaceChild","getResourceParent","dataId","setRowData","getRowObjectFromUID","getDataRows","collapseParent","cloneElement","zIndex","cloneChildElement","cloneNode","defaultValue","nameConstant","startDateConstant","endDateConstant","durationConstant","taskNameVal","startDateVal","endDateVal","durationVal","Dependency","gantt","dateValidateModule","predecessorTasks","ensurePredecessorCollectionHelper","predecessorVal","predecessorsName","preValues","predecessorItem","preValue","offsetUnits","offsetUnit","tempOffsetUnits","getOffsetDurationUnit","checkIsParent","calculatePredecessor","getPredecessorStringValue","updateUnscheduledDependency","prdList","split","predId","predData","updateRecordByID","fromId","boolValue","predecessorValue","offsetValue","predecessorText","el","isExist","toUpperCase","tempOffset","isDrawn","durationUnitTexts","currentValue","multiple","durationUnitLabels","updatePredecessors","updatePredecessorHelper","successorGanttRecord","connectorsCollection","connectorCount","connector","predecessorCollection","validatePredecessorDates","parentGanttRecord","currentTaskId_1","validateManualTasksOnLinking","validateChildGanttRecord","editedTaskBarItem","isInPredecessorValidation","childRecordProperty","currentTaskId_2","childPredecessor","getPredecessorDate","maxStartDate","validatedPredecessor","getValidatedStartDate","ganttProperty","parentRecordProperty","returnStartDate","updateDateByOffset","resultDate","ganttRecords","addPredecessorsCollection","predecessorsLength","predecessorCount","updateConnectorLineObject","connectorObj","createConnectorLineObject","connectorLineId","validatePredecessor","previousValue","validationOn","successor","currentTaskId_3","successors","isValidationEnabled","getValidPredecessor","validPredecessor","recPredecessor","ConnectorLine","cls.dependencyViewContainer","getconnectorLineGap","milestoneChild","lineColor","connectorLineBackground","lineStroke","connectorLineWidth","createConnectorLineTooltipTable","getTaskbarMidpoint","parentGanttData","childGanttData","pdfExportModule","isPdfExport","parentIndex","childIndex","currentData","parentIndexInCurrentView","childIndexInCurrentView","parentLeft","childLeft","childWidth","getBoundingClientRect","childId","milestoneParent","connectorLinesCollection","connectorLine","ariaConnector","getConnectorLineTemplate","innerChild","ariaString","getParentPosition","getHeightValue","getInnerElementWidthSSType2","getInnerElementLeftSSType2","getInnerChildWidthSSType2","getBorderStyles","cssType","setInnerChildWidthSSType2","setInnerElementWidthSSType2","setInnerElementLeftSSType2","isMilestoneParent","connectorContainer","isVirtual","getPosition","heightValue","eLine","rightArrow","leftArrow","duplicateStingOne","duplicateStingTwo","duplicateStingThree","duplicateStingFour","duplicateStingFive","topPosition","lineHeight","midPointParent","midPoint","isParentIndex","isChildIndex","lastRowIndex","tooltipTable","cellpadding","tooltipBody","getConnectorLineTooltipInnerTd","fromTaskName","fromPredecessorText","toTaskName","toPredecessorText","innerTd","fromName","toName","finish","isObjectType","isObject","pre","lineId","removeConnectorLineById","Splitter","renderSplitter","splitterPosition","calculateSplitterPosition","splitterSettings","splitterElement","splitterObject","SplitterLayout","ganttWidth","separatorSize","paneSettings","resizable","size","getSpliterPositionInPercentage","minimum","orientation","resizeStart","leftPane","pane","rightPane","splitterPreviousPositionGrid","splitterPreviousPositionChart","resizeStartArgs","resizing","resizeStop","splitterResizedArgs","splitter","isDynamic","view","position","columnIndex","getTotalColumnWidthByIndex","intValue","updateSplitterPosition","triggerCustomResizedEvent","pane1","pane2","eventArgs","event","separator","paneSize","Tooltip","createTooltip","toolTipObj","TooltipComponent","openDelay","enableHtmlSanitizer","animation","open","effect","delay","afterOpen","updateTooltipPosition","showTipPointer","beforeRender","tooltipBeforeRender","afterClose","tooltipCloseHandler","isStringTemplate","isOnEdit","argsData","getTooltipContent","tooltipSettings","taskbarTemplateNode","taskbar","baseLineTemplateNode","baseline","dependencyLineTemplateNode","predecessorTooltipData","callBackPromise_1","argData","currentTarget","tooltipMouseEvent","postion","getPointorPosition","containerPosition","getOffsetRect","topEnd","leftEnd","tooltipPositionX","tooltipPositionY","y","tooltipUpdated","innerHeight","posX","posY","documentElement","elementType","markerTooltipElement","markerLabel","toId","linkText","offsetString","autoStart","autoEnd","markerTooltipId","fromTask","toTask","linkType","getPredecessorTextValue","propName","tooltipFunction","templateID","FocusModule","activeElement","previousActiveElement","getActiveElement","isPreviousActiveElement","onKeyPress","selectionSettings","hidePopUp","selectedRowIndex","selectRow","currentSelectingRecord","searchElement","upDownKeyNavigate","expandCollapseKey","editedColumn","textValue","dialogObj","saveCell","focussedElement","addRecord","allowAdding","openAddDialog","openToolbarEditDialog","touchEdit","selectedRowIndexes","getSelectedRowCellIndexes","startDeleteAction","selectedId","selectCellIndex","scrollToTask","top_1","keyEvent","selectingRowIndex","selectedCellItem","currentCellIndex","cellIndexes","cellInfo","selectCell","expandByIndex","collapseByIndex","Gantt","previousRecords","isConnectorLineUpdate","staticSelectedRowIndex","needsID","isTreeGridRendered","getModuleName","preRender","Internationalization","isDevice","L10n","getDefaultLocale","days","hours","minutes","minute","isMileStoneEdited","enablePredecessorValidation","validationDialogElement","currentEditedArgs","dialogValidateMode","respectLink","removeLink","preserveLinkWithEditing","splitterModule","keyConfig","home","saveRequest","cancelRequest","addRow","addRowDialog","editRowDialog","focusTask","indentLevel","outdentLevel","focusSearch","resourceFieldsMapping","dateFormat","getDatePattern","skeleton","resourceNameMapping","validateDimentionValue","calculateDimensions","settingsHeight","settingsWidth","elementStyleHeight","elementStyleWidth","render","isReact","createSpinner","renderToolbar","showSpinner","hideSpinner","enableContextMenu","renderChartVerticalLines","KeyboardEvents","keyAction","keyActionHandler","eventName","windowResize","updateRowHeightInConnectorLine","updateCurrentViewData","getRecordFromFlatdata","updatedRecord","parentRecord","updateTimescaleView","displayHalfValue","displayQuarterValue","month","getHeaderContent","createGanttPopUpElement","renderComplete","getCurrentRecords","onPropertyChanged","newProp","oldProp","isRefresh","refreshColumns","module","properties","getActualProperties","sortSettings","renderChartGridLines","enableToggle","updateSearchTextBox","processDialogFields","reUpdateDimention","allowDeleting","showDeleteConfirmDialog","reUpdateEditModules","selectRowByIndex","closeGanttActions","enable","contextMenuItems","updateOverAllocationCotainer","refresh","getPersistData","keyEntity","addOnPersist","modules","resetTemplates","requiredModules","member","toolbar","allowExcelExport","highlightWeekends","allowPdfExport","sortColumn","direction","isMultiSort","sortModule","clearSorting","verticalLines","chartRowsTD","getContentHeight","headerTable","thElements","thLength","leftPos","containerDiv","divElement","ganttLocale","emptyRecord","changeScheduleMode","subTasksStartDate","subTasksEndDate","scheduleStartDate","scheduleEndDate","auto","resourceID","generalTab","customTab","writeNotes","addDialogTitle","editDialogTitle","update","search","zoomIn","zoomOut","zoomToFit","excelExport","csvExport","pdfExport","nextTimeSpan","prevTimeSpan","saveButton","taskBeforePredecessorFS","taskAfterPredecessorFS","taskBeforePredecessorSS","taskAfterPredecessorSS","taskBeforePredecessorFF","taskAfterPredecessorFF","taskBeforePredecessorSF","taskAfterPredecessorSF","okText","confirmDelete","taskLink","lag","enterValue","taskInformation","deleteTask","deleteDependency","save","above","below","toMilestone","leftTaskLabel","rightTaskLabel","confirmPredecessorDelete","unassignedTask","indent","outdent","right","blazorLocale","removeSortColumn","actionBeginTask","scrollToDate","updateChartScrollOffset","parent_1","getRootParent","filterByColumn","filterOperator","filterValue","predicate","matchCase","ignoreAccent","excelExportProperties","isMultipleExport","workbook","isBlob","excelExportModule","pdfExportProperties","pdfDoc","export","clearFiltering","removeFilteredColsByField","nonWorkingDays","isDisabled","previousTimeSpan","reorderColumns","fromFName","toFName","initiateEditAction","isStart","isTaskData","makeCloneData","isUndefined","cloneData","prevValue","clonedValue","isObjectArray","closeEdit","hide","dialogClose","setSplitterPosition","tempSplitterSettings","contructExpandCollapseArgs","ind","expandByID","collapseByID","rowPosition","addRowPosition","addRowIndex","parentTask","dropChildRecord","updateTaskId","currentId","newId","fitToProject","reorderRows","fromIndexes","toIndex","rowDragAndDropModule","updateRecordByIndex","addPredecessor","predecessorString","removePredecessor","updatePredecessor","openEditDialog","getRowByID","gridRows","isUnscheduledTask","popup","append","keyVal","box","pageYOffset","pageXOffset","clientTop","clientLeft","updateDataSource","getGridColumns","getColumns","getColumnByField","getGanttColumns","showColumn","showBy","showColumns","hideColumn","hideBy","hideColumns","cancelEdit","isToggle","selectCells","rowCellIndexes","selectRows","deleteRecord","taskDetail","isEnable","isArray","customData","convertToMilestone","taskfields","changeTaskMode","updateTaskScheduleModes","initiateUpdateAction","renderReactTemplates","clearTemplate","Event","NotifyPropertyChanges","Component","PdfHorizontalOverflowType","CellEdit","bindTreeGridProperties","cellEdit","ensureEditCell","Inject","Edit","readOnly","cell","openNotesEditor","isNOU","updatedEditFields","map","isValueChange","editedValue","editedObj","editedArgs","endEditAction","taskNameEdited","startDateEdited","endDateEdited","durationEdited","resourceEdited","progressEdited","baselineEdited","dependencyEdited","notedEdited","workEdited","taskmodeEdited","initiateSaveAction","typeEdited","updateEditedRecord","ganttProb","validateEndDateWithSegments","compareDatesFromRecord","revertCellEdit","updateResourceRelatedFields","durationString","updateDates","currentDuration","updateSegmentProgress","baseLineStartDate","baseLineEndDate","previousData","editedResourceId","editedResouceLength","previousResource","editedResources","newIndex","previousResourceLength","isResourceUpdate","cellEditArgs","workValue","EditTooltip","taskbarEdit","opensOn","mouseTrail","taskBarEditRecord","offsetLeft","showHideTaskbarEditTooltip","bool","updateTooltip","connectorSecondAction","connectorSecondElement","taskBarEditElement","taskWidth","getTooltipText","offsetY","offsetX","tooltipString","instance","editRecord","editing","templateNode","TaskbarEdit","isMouseDragged","dependencyCancel","editElement","elementOffsetLeft","elementOffsetTop","elementOffsetWidth","elementOffsetHeight","editTooltip","mouseDownHandler","mouseUpHandler","mouseLeaveHandler","mouseMoveAction","mouseClickHandler","connectorSecondRecord","highlightedSecondElement","finalPredecessor","drawPredecessor","roundOffDuration","dragMouseLeave","previousItemProperty","tapPointOnFocus","canDrag","getElementByPosition","updateTaskBarEditElement","enableSelectMultiTouch","validateConnectorPoint","taskBarEditingAction","showHideActivePredecessors","multipleSelectionEnabled","showHideTaskBarEditingElements","show","applyActiveColor","chartContent","$tr","$taskbar","$connectorElement","childRecord","isValid","predecessorIndex","renderPredecessorDeleteConfirmDialog","getTaskBarAction","updateMouseDownProperties","prevZIndex","secondElement","fadeConnectorLine","isShowProgressResizer","cls.childProgressResizer","connectorElement","mouseDownElement","getCoordinate","pageX","pageY","mouseDownX","mouseDownY","isMouseDragCheck","mouseMoveX","mouseMoveY","previousItem","isMouseClick","editingFields","updateMouseMoveProperties","performProgressResize","enableLeftResizing","enableRightResizing","enableDragging","updateConnectorLineSecondProperties","triggerDependencyEvent","drawFalseLine","setItemPosition","updateEditedItem","taskBarEditedAction","isConnectorLineEdit","mouseX","mouseY","timerCount","startScrollTimer","stopScrollTimer","scrollTimer","setInterval","clearInterval","differenceWidth","previousMouseMove","previousSegment","nextSegment","diffrenceWidth","widthValue","progressBorderRadius","enableSplitTaskLeftResize","updateEditPosition","segment_1","segment_2","segment_3","updateIsMilestone","getProgressPercent","getRoundOffStartLeft","getDateByLeft","updateSplitLeftResize","getRoundOffEndLeft","tempdate","updateSplitRightResizing","updateChildDrag","setSplitTaskDrag","segmentOffsetDuration","segmentOffset","isRoundOff","totalLeft","remainingContribution","remainingLeft","positionValue","inHour","inMinutes","remainDays","remainDaysInDecimal","milliSecondsPerPixel","isInDst","getDefaultTZOffset","janMonth","julMonth","rightResizer","segmentedTaskBarContainer","traceChildProgressBar","taskBarRightResizer","traceParentTaskBar","traceParentProgressBar","traceConnectorPointRight","manualParentTaskbar","manualParentRight","manualParentLeft","segmentedTasks","segment_4","borderBottomRightRadius","borderTopRightRadius","mouseDragged","cancelTaskbarEditActionInMouseLeave","x1","y1","x2","resMouseY","offsetTop","taskbarEditedArgs","taskbarEdited","reUpdatePreviousRecords","updateParentProgress","segment_5","eDate_1","parentwidth","progresswidth","y2","sqrt","atan2","PI","falseLine","isRemoveConnectorPointDisplay","fromItem","toItem","isValidLink","validatePredecessorRelation","predecessorArray","newPredecessorString","innerText","tooltipElement","coordinates","changedTouches","elementFromPoint","DialogEdit","updatedAddFields","addedRecord","dialogEditValidationFlag","beforeOpenArgs","types","getPredecessorType","editedRecord","inputs","booleanedit","CheckBox","dropdownedit","DropDownList","datepickeredit","DatePicker","datetimepickeredit","DateTimePicker","maskededit","MaskedTextBox","numericedit","NumericTextBox","stringedit","TextBox","dblClickHandler","editDialogFields","getDefaultDialogFields","validateDialogFields","addDialogFields","dialogFields","newDialogFields","emptyCustomColumn","fieldItem","getGeneralColumnFields","getCustomColumnFields","valueOf","isEdit","composeAddRecord","createDialog","getMinimumStartDate","minDate","getNewTaskId","gObj","selectedRowId","dialogModel","dialogMaxWidth","animationSettings","header","isModal","allowDragging","showCloseIcon","X","Y","closeOnEscape","dialogElement","generalTabElement","tabObj","select","maxHeight","buttons","buttonModel","buttonClick","createTab","pointerEvents","initiateDialogSave","resetValues","destroyDialogInnerElements","tabModel","destroyCustomField","inputElement","controlObj","getObject","getEditFields","tabElement","tabItems","dialogSettings","dialogField","tabItem","getFieldsModel","getSegmentsModel","getPredecessorModel","getResourcesModel","getNotesModel","renderTabItems","selected","tabSelectedEvent","overflowMode","Tab","Dialog","actionCompleteArgs","actionCompleteArg","selectedContent","responsiveTabContent","resourceTreeGrid_1","resources_1","getSelectedRowIndexes","enableToolbarItems","dialogContent","dialogContentHeight","toolbar_1","fieldsModel","createInputModel","common","placeholder","floatLabelType","checkboxModel","change","validateScheduleFields","numeric","datePickerObj","strictMode","firstDayOfWeek","dateTimePickerObj","ID","Value","targetId","container","path","cellValue","validateSegmentFields","validateScheduleValuesByCurrentField","updateScheduleFields","ganttField","tempValue","ganttId","taskField","picker","numericTextBox","validateDuration","validateStartDate","validateEndDate","segmentInputModel","newRowPosition","prefixIcon","tooltipText","align","gridColumns","gridColumn","write","datePickerModel","validationRules","required","inputTextModel","getGridColumnByField","updateSegmentField","inputValue","gridModel","selectedSegment","inputModel","foreignKeyField","foreignKeyValue","checkboxOnly","checkboxMode","persistSelection","toolbarSettings","createInputElement","HTMLElement","renderGeneralTab","disabled","renderPredecessorTab","renderResourceTab","renderCustomTab","renderNotesTab","renderSegmentsTab","segmentGridActionBegin","gridData","startDate_1","itemName","preData","Grid","Page","GridToolbar","ForeignKey","gridObj","itemModel","renderInputElements","isCheckIsDisabled","dependencyColumn","taskNameCollection","predecessorEditCollection","updatePredecessorDropDownData","gridActionBegin","ComboBox","idCollection","popupHeight","allowCustom","idInput","itemData","autofill","isEdit_1","preTableCollection","gridData_1","updateResourceCollection","resourceTreeGridId","resourceTreeGrid","getSelectedRecords","tempRecords","selectedItems","rowResource","rowResourceLength","resourceDataLength","rowSelected","rowDeselected","Selection","Filter","TreeGridEdit","VirtualScroll","treeGridObj","resourceColumn","RichTextEditor","RTEToolbar","Link","HtmlEditor","QuickToolbar","Count","notesColumn","enabled","checked","inputObj","preTaskIds","tempObject","preDataCollection","validSuccessorTasks","fromId_1","idIndex","typeText","updateGeneralTab","updatePredecessorTab","updateNotesTab","updateResourceTab","updateCustomTab","updateSegmentsData","newRecords","parentRecordIndex","updateSegmentTaskData","userData","segmentForm","generalForm","isCustom","tasksData","updateScheduleProperties","validateUpdateValues","fromRecord","toRecord","preElement","predecessorName","newValues","name_1","resourceElement","JSON","stringify","idArray","notesElement","rte","getHtml","customElement","ConnectorLineEdit","validationPredecessor","confirmPredecessorDialog","initPredecessorValidationDialog","getConnectorLineHoverElement","highlightConnectorLineElements","isOnLine","isOnRightArrow","isOnLeftArrow","connectorLineElement","removeHighlight","addHighlight","getEditedConnectorLineString","lineArray","editedConnectorLineString","lineIndex","lineString","idFromPredecessor","preArray","preIdArray","strArray","charAt","predecessorValidation","recordId","visitedIdArray","state_1","currentIdArray","predecessorIdArray","state_2","checkParentRelation","checkArray","countFlag","state_3","currentIdIndex","tempPredecessorString","stringValue","editingData","state_4","renderValidationDialog","validationDialog","validationDialogClose","validationDialogOkButton","isPrimary","validationDialogCancelButton","currentArgs","validateMode","applyPredecessorOption","removePredecessors","updateEditedTask","editEventArgs","calculateOffset","prevPredecessor","isNegativeOffset","parentPredecessors","preLength","parentPredecessor","openValidationDialog","contentTemplate","validationDialogTemplate","topContentText","contentdiv","parenttaskData","violationType","recordName","recordNewStartDate","recordArgs","topContent","innerTable","validateTypes","violatedParent","violateType","ganttTaskData","addRemovePredecessor","prevData","newPredecessor","removePredecessorByIndex","confirmOkDeleteButton","confirmCloseDialog","confirmDialog","isFromDeleteMethod","targetedRecords","updateParentRecords","isaddtoBottom","taskbarMoved","predecessorUpdated","isBreakLoop","deletedTaskDetails","validatedChildItems","renderDeleteConfirmDialog","updateDefaultColumnEditors","customEditorColumns","updateIDColumnEditParams","updateProgessColumnEditParams","updateResourceColumnEditor","updateTaskTypeColumnEditor","editParam","decimals","validateDecimalOnType","showSpinButton","updateEditParams","getResourceEditor","editor","editObject","MultiSelect","CheckBoxSelection","showDropDownIcon","delimiterChar","getTaskTypeEditor","ganttPropByMapping","scheduleFieldNames","isScheduleValueUpdated","ganttPropKey","validateScheduleValues","fieldNames","validateScheduleByTwoValues","isTaskbarMoved","isMoved","prevStart","prevEnd","prevDuration","prevDurationUnit","isPredecessorUpdated","isCheckPredecessor","isValidatePredecessor","updateGanttProperties","updateData","validateObject","newArgs","validateTaskEvent","editedEventArgs","blazorArgs","resetValidateArgs","updateParentChildRecord","updateChildItems","calculateDateByRoundOffDuration","newStartDate","childCount","milesStoneCount","resetEditProperties","isRefreshChart","isRefreshGrid","prevTask","originalData","copyTaskData","existing","newValue","updateScheduleDatesOnEditing","calcEndDate","isRightMove","durationDiff","currentStartDate","getUpdatableChildRecords","childLists","modifiedTaskData","eventArg","updatedData","changedRecords","crud","dataAdaptor","batchUrl","saveChanges","dmSuccess","dmFailure","saveSuccess","deleteRecords","updateSharedTask","updateResoures","isTreeGridRefresh","prevResource","currentResource","updateRecord","flatRecords","currentLength","previousLength","addNewRecord","prevLength","taskID","removeChildRecord","checkWithUnassignedTask","unassignTaskObj","beforeEditStatus","cAddedRecord","addRecordAsBottom","recordIndex1","updateTreeGridUniqueID","addRecordAsChild","deletedRow","flatParentData","deleteChildRecords","uniqueIDIndex","deleteRecordIDs","removeFromDataSource","idx","deletedRecordCount","getChildCount","droppedRecord","draggedRecord","childRecordsLength","saveFailed","confirmDeleteOkButton","closeConfirmDialog","deleteSelectedItems","deleteResourceRecords","selectedRecords","deleteRow","getCellSelectedRecords","variableType","updateTargetedRecords","taskDetailArray","rowItems","removePredecessorOnDelete","delereArgs","deletedRecordCollection","updatedRecordCollection","initiateDeleteAction","toRecordPredcessor","updatePredecessorValues","fromRecordPredcessor","predcessorArray","cId","nId","cIndex","nIndex","thisRecord","currentGanttRecord","updatePredecessorOnUpdateId","pred","removeData","dataCollection","updatedData_1","deletedRecords","query_1","deleteCrud","deleteSuccess","currentIndex","flatIndex","treeGridParentIndex","dataIndex","refreshRecordInImmutableMode","maxId","prepareNewlyAddedData","taskModel","updateNewlyAddedDataBeforeAjax","pIndex","backUpAndPushNewlyAddedRecord","getVisibleChildRecordCount","updatePredecessorOnIndentOutdent","len","parentRecordTaskData","updatedPredecessor","predecessorCollections","prdcList","temppredecessorCollection","predecessorToString","tem","currentItemIndex","updatedCollectionIndex","addRowSelectedItem","recordCollectionUpdate","dataChildCount","newlyAddedRecordBackup","constructTaskAddedEventArgs","newTaskData","addSuccess","updateRealDataSource","addDataInRealDataSource","cAddedRecord_1","blazorArgs_1","removeAddedRecord","_resetProperties","data_2","updatedData_2","addedRecords","prevID_1","query_2","updateNewRecord","idsIndex","refreshNewlyAddedRecord","flatRecordsIndex","currentViewDataIndex","getPrevRecordIndex","prevRecord","selectedRecord","dropIndex","isSelected","indentOutdentRow","thisParent","pos","dropPosition","args_1","actionArgs","actionArg","reArrangeRows","isByMethod","draggedRec","dragRecords","droppedRec","dLength","deleteDragRow","treeGridData","parentUniqueID","updateChildRecordLevel","updateChildRecord","droppedRecordIndex","dropMiddle","parentRecords","newParentIndex","refreshDataSource","queryValue","indentSuccess","indentFailure","indentOutdentSuccess","indx","proxy","rowPos","delRow","removeRecords","childRec","recordLevel","levl","currentRec","flatParent","removeChildItem","gridIndx","recordIdx","childItem","createParentItem","Reorder","TreeGridReorder","columnDragStart","columnDrag","columnDrop","Resize","TreeGridResize","TreeGridFilter","updateCustomFilters","settings","initiateFiltering","updateModel","treeColumn","ui","getCustomFilterUi","filterUI","getDurationFilter","getDateTimePickerFilter","getDatePickerFilter","dropDateInstance","timeValue","getCustomDateFormat","flValInput","filteredValue","fltrObj","operator","dropInstance","textBoxInstance","durationObj","intVal","dayVal","filterMenuElement","ganttElement","nodeName","filterAfterOpen","updateFilterMenuPosition","filterObj","filterValues","instanceObj","setPosition","li","ul","gridPos","liPos","scrollX","scrollY","getColumnHeaderByField","getFilterMenuPostion","Sort","TreeGrdSort","sortByColumn","isSelectionFromChart","multipleIndexes","openPopup","popUpClickHandler","rowSelecting","rowDeselecting","cellSelecting","cellSelected","cellDeselecting","cellDeselected","isCtrlPressed","isMultiCtrlRequest","isShiftPressed","isMultiShiftRequest","actualTarget","foreignKeyData","addRemoveClass","prevRowIndex","isInteracted","isContains","rowIndexes","cellselectingArgs","isPreventFocus","condition","selectedRow","preventFocus","selectedClass","cellDetails","cellSelectedRecords","getSelectedRows","highlightSelectedRows","fromChart","ctrlKey","shiftKey","rIndex","selectRowsByRange","addRowsToSelection","getselectedrowsIndex","startIndex","endIndex","indexes","reverse","ganttRow","removeAttribute","showPopup","setCssInGridPopUp","$popUpElemet","spanElement","Toolbar","predefinedItems","propertyChanged","headerModule","insertBefore","offsetParent","preItems_1","itemStr","localeName","searchLocalText","Search","createToolbar","getItems","NavToolbar","clicked","toolbarClickHandler","cancelItem","updateItem","getSearchBarElement","showClearButton","wireEvent","textbox","onclick","keyUpHandler","focusHandler","blurHandler","unWireEvent","keyCode","toolbarItems","searchIndex","searchItem","toolbarItems_1","getItemObject","getItem","itemObject","gID","adaptiveSearchbar","previousGanttRecord","disableItems","toolbarDefaultItems","isResouceParent","hasData","isDeleteSelected","hideItem","items_1","NonWorkingDay","nonworkingContainer","createNonworkingContainer","renderHolidays","getHolidaysElement","fromDate","toDate","viewportHeight","holidayDiv","spanTop","renderWeekends","getWeekendElements","nonWorkingIndex","isFirstCell","weekendDiv","updateHolidayLabelHeight","labels","updateContainerHeight","removeContainers","renderEventMarkers","getEventMarkersElements","removeContainer","eventMarkerElement","DayMarkers","nonworkingDayRender","eventMarkerRender","refreshMarkers","updateHeight","ContextMenu","headerContextMenuClick","headerContextMenuOpen","ganttID","TreeGridContextMenu","contextMenuClick","contextMenuOpen","resetItems","reRenderContextMenu","contextMenuItemClick","contextMenuBeforeOpen","Menu","getMenuItems","beforeOpen","onOpen","onClose","contextMenuOnClose","headerMenuItems","getKeyFromId","mergeCall","splitTaskCall","currentClickedDate","getClickedDate","mergeSegmentIndexes","pageLeft","currentTaskDifference","clickedPosition","splitTaskDuration","clientX","menuElement","contentMenuItems","updateItemStatus","hideItems","hideChildItems","revertItemStatus","editForm","subMenu","updateItemVisibility","createItemModel","cons.content","getLocale","getPredecessorsItems","isSelect","mergeItemVisiblity","firstMenuItem","menuItems_1","getDefaultItems","buildDefaultItems","iconCss","generateID","iconCSS","contentMenuItem","getIconCSS","menuClass","iconString","showItems","idPrefix","ExcelExport","TreeGridExcel","beforeExcelExport","excelQueryCellInfo","excelHeaderQueryCellInfo","excelExportComplete","ColumnMenu","TreeGridColumnMenu","getColumnMenu","columnMenuModule","RowDD","isTest","isSharedTask","canDrop","TreeGridRowDD","rowDragStart","rowDragStartHelper","rowDrag","rowDrop","addErrorElem","dragelem","ele","errorVal","spanContent","paddingLeft","removeErrorElem","errorelem","ganttDragElement","dragElement","ganttTop","getClientRects","ganttLeft","clientY","ganttDragelem","dropRecord","dropRows","dragLength","checkisSharedTask","previousParent","dropAtTop","spliceId","droppedParentItem","removeExistingResources","tempResourceInfo","updateCurrentTask","deleteSharedResourceTask","updateSharedResourceTask","preParentRecord","_getExistingTaskWithID","existingTasks","removeResourceInfo","sameIdTasks","tempDataSource","sharedTask","childTasks","tempIndex","PdfGanttTheme","theme","ganttStyle","setTheme","get","enumerable","configurable","initStyles","columnHeader","fontSize","fontColor","PdfColor","gray","lineAlignment","alignment","fontFamily","PdfFontFamily","Helvetica","footer","fontStyle","chartGridLineColor","taskColor","progressColor","parentTaskColor","parentProgressColor","taskBorderColor","parentTaskBorderColor","connectorLineColor","progressFontColor","PdfStringFormat","TemporaryDictionary","mKeys","mValues","ReferenceError","RangeError","containsKey","clear","PdfBorders","defaultBorderPenLeft","PdfPen","dashStyle","PdfDashStyle","Solid","defaultBorderPenRight","defaultBorderPenTop","defaultBorderPenBottom","leftPen","rightPen","topPen","bottomPen","set","PdfPaddings","bottom","hasLeftPad","hasRightPad","hasTopPad","hasBottomPad","leftPad","rightPad","bottomPad","topPad","PdfTreeGridStyle","cellSpacing","borderOverlapStyle","PdfBorderOverlapStyle","Overlap","allowHorizontalOverflow","horizontalOverflowType","LastPage","cellPadding","PdfTreeGridLayouter","baseFormat","columnRanges","repeatRowIndex","currentBounds","RectangleF","elements","layoutInternal","param","Error","currentPage","page","currentPageBounds","getClientSize","currentGraphics","graphics","break","PdfLayoutBreakType","FitColumnsToPage","PointF","bounds","SizeF","treegrid","clientSize","getRow","cells","getCell","borders","startLocation","isFitToWidth","measureColumnsWidth","determineColumnDrawRanges","layoutOnPage","startColumn","endColumn","cellWidths","availableWidth","getColumn","subWidths","getFormat","layoutedPages","startPage","cellStartIndex","cellEndIndex","rowsCount","repeatRow","originalHeight","rowResult","drawRow","rowCollection","isFinish","allowRowBreakAcrossPages","getNextPageFormat","enableHeader","drawHeader","checkBounds","layout","PdfLayoutType","OnePage","paginateBounds","default","getLayoutResult","NextPage","reArrangePages","location","layoutPages","pages","section","nextPage","getPages","PdfTreeGridLayoutResult","checkIfDefaultFormat","defaultFormat","characterSpacing","clipPath","firstLineIndent","horizontalScalingFactor","lineLimit","lineSpacing","measureTrailingSpaces","noClip","paragraphIndent","rightToLeft","subSuperScript","wordSpacing","wordWrap","layoutResult","RowLayoutResult","rowBreakHeight","drawRowWithBreak","location_1","leftAdjustment","reCalculateHeight","isTreeColumn","cancelSpans","columnSpan","isCellMergeContinue","draw","rowOverflowIndex","treegridHeight","measureHeight","finishedDrawingCell","newHeight","remainingString","ElementLayouter","PdfLayoutResult","PdfTreeGridLayoutFormat","PdfLayoutFormat","PdfTreeGrid","treeGridSize","PdfTreeGridColumnCollection","PdfTreeGridRowCollection","headers","PdfTreeGridHeaderCollection","beginCellDraw","endCellDraw","calculateTreeGridSize","arg1","arg2","arg3","arg4","drawHelper","layoutRectangle","widths","getDefaultWidths","rowLevel","colCount","rowCount","tempWidth","rowWidth","initialWidth","getHeader","drawGrid","newBound","setSpan","layouter","onBeginCellDraw","raiseBeginCellDraw","onEndCellDraw","raiseEndCellDraw","colSpan","rowSpan","currentRowIndex","maxSpan","isRowMergeContinue","isCellMergeStart","isRowMergeStart","maximumRowSpan","colcount","PdfLayoutElement","PdfTreeGridCell","cellHeight","measureWidth","PdfStringLayouter","font","PdfStandardFont","MAX_VALUE","actualSize","cancelSubsequentSpans","drawCellBackground","textBrush","PdfSolidBrush","isParentRow","PdfFontStyle","Bold","innerLayoutArea","isHeaderCell","adjustContentLayoutArea","drawString","stringLayoutResult","drawCellBorder","backgroundBrush","drawRectangle","restore","returnBounds","padding","PdfTextAlignment","Center","Left","Right","Inside","isAll","p1","p2","pen","lineCap","PdfLineCap","Square","drawLine","PdfTreeGridCellCollection","treegridRow","tempcell","PdfTreeGridRow","treegridRowOverflowIndex","_isParentRow","intendLevel","pdfTreeGrid","treegridCells","treegridRowBreakHeight","totalWidth","row_1","PdfTreeGridColumn","columnWidth","_headerText","_field","stringFormat","internalColumns","subFactor","ExportHelper","processGridExport","props","exportValueFormatter","ExportValueFormatter","exportProps","colIndex","processHeaderContent","processGanttContent","processTaskbar","processPredecessor","isColumnVisible","processColumnHeader","pdfColumn","totalColumnWidth","treeGridHeaderHeight","copyStyles","headerTextAlign","pdfColumnHeaderQueryCellInfo","visibleColumn","includeHiddenColumn","templateColumn","renderEmptyGantt","processRecordRow","chartHeader","topTierHeight","bottomTierHeight","showPredecessorLines","lineWidth","processRecordCell","ganttProps","textAlign","pdfQueryCellInfo","formatCellValue","unscheduledTaskBy","unscheduleStarteDate","unscheduleEndDate","isParentTask","reduceLeft","labelColor","gridLineColor","taskbarCollection","taskStyle","pdfQueryTaskbarInfo","getHorizontalAlignment","Justify","getVerticalAlignment","verticalAlign","PdfVerticalAlignment","Bottom","Middle","Top","getFontFamily","getFont","TimesRoman","Regular","bold","italic","Italic","underline","Underline","strikeout","Strikeout","mergeCells","lastColIndex","all","initializePdf","tWidth","pageSettings","enableFooter","PdfPageTemplateElement","footerBrush","brush","pageNumber","PdfPageNumberField","PdfPageCountField","compositeField","PdfCompositeField","culture","valueFormatter","ValueFormatter","internationalization","returnFormattedValue","getFormatFunction","isForeignKey","getForeignData","getNumberFormat","PdfGanttTaskbarCollection","endPage","GetNextPage","drawTaskbar","startPoint","detail","cumulativeWidth","taskGraphics","isNextPage","pageSize","drawPageTimeline","drawLeftLabel","fontBrush","progressFormat","pageIndex","drawMilestone","taskbarPen","taskBrush","progressPen","progressBrush","adjustHeight","isStartPoint","taskStartPoint","drawUnscheduledTask","isCompleted","renderWidth","progressBoundsWidth","drawRightLabel","actualLeft","isLeftCalculated","endPoint","getWidth","point","labelBounds","labelFormat","lines","remainder","labelLeft","rightLabelpoint","rightLabelSize","rightLabelBounds","rightLabelFormat","PdfWordWrapType","Character","milestonePen","milestoneBrush","translateTransform","rotateTransform","PdfTimeline","topTierPoint","bottomTierPoint","topTierIndex","bottomTierIndex","prevTopTierIndex","prevBottomTierIndex","drawTimeline","remainWidth","pHeader","isFinished","completedWidth","triggerQueryTimelinecell","secondHeader","isTopTier","timelineStyle","pdfQueryTimelineCellInfo","rectPen","rectBrush","pLeft","pTop","PdfGanttPredecessor","pdfGantt","parentPageData","childPageData","PdfPage","predecessorType","parentY","childY","pdfPageDetail","chartPageIndex","point1","point2","point3","point4","point5","point6","parentTaskpoint","childTaskpoint","ffpoint1","sspoint1","ffpoint3","ffpoint4","sspoint4","connectLines","drawArrow","rect","findPageIndex","pageData","pageRect","pdfPages","newEndPoint","newStartPoint","checkStartPoint","startPointCheck","endPointCheck","pageRectLeft","pageRectRight","pageRectBottom","pageRectTop","pageStartX","predecessorPen","PdfGantt","headerDetails","taskbars","drawChart","totalPages","perColumnPages","calculateRange","drawGantttChart","drawPageBorder","lastColumnRange","isPageFinished","pageWidth","headerWidth","startPageIndex","convertedWidth","sDays","eDays","sDays1","eDays1","startDays","endDays","startDays1","endDays1","startDays2","endDays2","startDays3","endDays3","taskbarPoint","pagePoint","cumulativeHeight","pageStartPoint","pdfPage","PdfExport","helper","pdfDocument","initGantt","ganttObject","Promise","reject","exportWithData","exportType","PdfDocument","processExport","sections","processSectionExportProperties","FitElement","fileName","pdfPageSettings","PdfPageSettings","pageOrientation","PdfPageOrientation","Landscape","Portrait","getPageSize","setPageSettings","defaultGanttTheme","TreeGridVirtualScroll","index.Gantt","index.Filter","index.Selection","index.Sort","index.Reorder","index.Resize","index.Edit","index.DayMarkers","index.Toolbar","index.ContextMenu","index.ExcelExport","index.RowDD","index.ColumnMenu","index.PdfExport","index.VirtualScroll"],"mappings":"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"}